{"version":3,"file":"static/js/main.3d0b2a36.js","mappings":"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","sources":["../node_modules/react/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/react-router/node_modules/cookie/src/index.ts","../node_modules/react-dom/client.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","services/MockDataService.js","services/InventoryIntegrationService.js","../node_modules/react/jsx-runtime.js","context/AppContext.js","services/OrderDataService.js","utils/milkConfig.js","services/StockService.js","../node_modules/react-dom/cjs/react-dom.production.min.js","services/ServiceFactory.js","services/WebSocketService.js","services/ApiService.js","services/ConfigService.js","services/TokenRefreshService.js","services/AuthService.js","../node_modules/scheduler/index.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/react-router/dist/development/chunk-K6CSEXPM.mjs","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/log-in.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/coffee.ts","../node_modules/lucide-react/src/icons/settings.ts","../node_modules/lucide-react/src/icons/monitor.ts","../node_modules/lucide-react/src/icons/log-out.ts","components/LogoutButton.js","config/brandingConfig.js","components/LandingPage.js","../node_modules/lucide-react/src/icons/check-circle.ts","../node_modules/lucide-react/src/icons/pen-square.ts","../node_modules/lucide-react/src/icons/message-circle.ts","../node_modules/lucide-react/src/icons/printer.ts","../node_modules/lucide-react/src/icons/arrow-left.ts","../node_modules/lucide-react/src/icons/chevron-down.ts","../node_modules/lucide-react/src/icons/refresh-cw.ts","../node_modules/lucide-react/src/icons/package.ts","../node_modules/lucide-react/src/icons/calendar.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/brain.ts","../node_modules/lucide-react/src/icons/scale.ts","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/x-circle.ts","../node_modules/lucide-react/src/icons/clock.ts","../node_modules/lucide-react/src/icons/plus.ts","utils/orderUtils.js","hooks/useOrders.js","services/StationsService.js","hooks/useStations.js","hooks/useStock.js","services/ScheduleService.js","utils/milkColorHelper.js","utils/qrCodeUtils.js","services/MessageService.js","services/ChatService.js","../node_modules/lucide-react/src/icons/alert-circle.ts","../node_modules/lucide-react/src/icons/send.ts","components/dialogs/MessageDialog.js","components/dialogs/WaitTimeDialog.js","../node_modules/lucide-react/src/icons/alert-triangle.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/star.ts","services/SettingsService.js","components/dialogs/WalkInOrderDialog.js","../node_modules/lucide-react/src/icons/save.ts","components/StationChat.js","components/OrderNotificationHandler.js","hooks/useSettings.js","components/VipOrdersList.js","components/BatchGroupsList.js","components/RegularOrdersList.js","components/PendingOrdersSection.js","../node_modules/lucide-react/src/icons/zap.ts","../node_modules/lucide-react/src/icons/bar-chart-3.ts","../node_modules/lucide-react/src/icons/arrow-right.ts","components/QueueIntelligence.js","../node_modules/lucide-react/src/icons/arrow-right-left.ts","components/StationLoadBalancer.js","components/DynamicStaffAllocation.js","../node_modules/lucide-react/src/icons/trending-down.ts","../node_modules/lucide-react/src/icons/truck.ts","components/MultiLevelInventory.js","../node_modules/lucide-react/src/icons/chevron-up.ts","../node_modules/lucide-react/src/icons/award.ts","components/EnhancedStationCapabilities.js","components/BaristaInterface.js","hooks/useSchedule.js","components/LiveOperationsDashboard.js","../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/download.ts","../node_modules/lucide-react/src/icons/activity.ts","../node_modules/lucide-react/src/icons/target.ts","../node_modules/lucide-react/src/icons/dollar-sign.ts","components/AnalyticsDashboard.js","../node_modules/lucide-react/src/icons/palette.ts","../node_modules/lucide-react/src/icons/eye.ts","../node_modules/lucide-react/src/icons/globe.ts","../node_modules/lucide-react/src/icons/upload.ts","../node_modules/lucide-react/src/icons/rotate-ccw.ts","components/BrandingSettings.js","../node_modules/lucide-react/src/icons/copy.ts","../node_modules/lucide-react/src/icons/plus-circle.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/file-text.ts","components/GroupOrdersTab.js","../node_modules/lucide-react/src/icons/line-chart.ts","../node_modules/lucide-react/src/icons/radio.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/message-square.ts","../node_modules/lucide-react/src/icons/bell.ts","../node_modules/lucide-react/src/icons/filter.ts","components/AllOrdersTab.js","../node_modules/lucide-react/src/icons/user-plus.ts","../node_modules/lucide-react/src/icons/eye-off.ts","../node_modules/lucide-react/src/icons/pen.ts","components/UserManagementTab.js","../node_modules/lucide-react/src/icons/wifi.ts","../node_modules/lucide-react/src/icons/wifi-off.ts","../node_modules/lucide-react/src/icons/bar-chart-2.ts","../node_modules/lucide-react/src/icons/play.ts","../node_modules/lucide-react/src/icons/pause.ts","../node_modules/lucide-react/src/icons/chevron-right.ts","components/EnhancedLiveOperationsDashboard.js","components/QueuePsychologyIntelligence.js","../node_modules/lucide-react/src/icons/sun.ts","../node_modules/lucide-react/src/icons/moon.ts","components/EventLifecycleManagement.js","../node_modules/lucide-react/src/icons/smartphone.ts","../node_modules/lucide-react/src/icons/mail.ts","../node_modules/lucide-react/src/icons/phone.ts","components/EnhancedCommunicationHub.js","components/PredictiveIntelligence.js","components/MilkColorSettings.js","components/EventSettings.js","../node_modules/lucide-react/src/icons/droplet.ts","../node_modules/lucide-react/src/icons/square.ts","../node_modules/lucide-react/src/icons/beaker.ts","../node_modules/lucide-react/src/icons/candy.ts","../node_modules/lucide-react/src/icons/pen-line.ts","../node_modules/lucide-react/src/icons/x.ts","components/InventoryManagement.js","../node_modules/lucide-react/src/icons/package-2.ts","../node_modules/lucide-react/src/icons/minus.ts","components/EventStockManagement.js","../node_modules/lucide-react/src/icons/map-pin.ts","components/StationSettings.js","../node_modules/lucide-react/src/icons/circle.ts","components/StationInventoryConfig.js","../node_modules/lucide-react/src/icons/chevron-left.ts","../node_modules/lucide-react/src/icons/pause-circle.ts","../node_modules/lucide-react/src/icons/lock.ts","../node_modules/lucide-react/src/icons/unlock.ts","../node_modules/lucide-react/src/icons/play-circle.ts","components/EnhancedScheduleManagement.js","../node_modules/lucide-react/src/icons/info.ts","components/MenuManagement.js","components/OrganiserInterface.js","components/Organiser.js","components/ApiNotificationBanner.js","components/DisplayScreen.js","../node_modules/lucide-react/src/icons/loader.ts","components/DisplaySelector.js","../node_modules/lucide-react/src/icons/terminal.ts","../node_modules/lucide-react/src/icons/crown.ts","components/SMSTestSimulator.js","components/support-tabs/DashboardTab.js","../node_modules/lucide-react/src/icons/server.ts","../node_modules/lucide-react/src/icons/database.ts","../node_modules/lucide-react/src/icons/hard-drive.ts","../node_modules/lucide-react/src/icons/cpu.ts","components/support-tabs/SystemHealthTab.js","../node_modules/lucide-react/src/icons/test-tube.ts","components/support-tabs/CommunicationsTab.js","components/ui/card.js","components/ui/button.js","components/ui/badge.js","components/ui/switch.js","components/ui/input.js","components/ui/textarea.js","../node_modules/lucide-react/src/icons/rotate-cw.ts","components/StationMenuAssignment.js","components/support-tabs/OperationsTab.js","../node_modules/lucide-react/src/icons/key.ts","../node_modules/lucide-react/src/icons/user-x.ts","../node_modules/lucide-react/src/icons/user-check.ts","components/support-tabs/UsersAccessTab.js","components/support-tabs/ConfigurationTab.js","../node_modules/lucide-react/src/icons/bug.ts","components/support-tabs/DiagnosticsTab.js","../node_modules/lucide-react/src/icons/stop-circle.ts","../node_modules/lucide-react/src/icons/power.ts","components/support-tabs/EmergencyTab.js","components/SupportInterface.js","utils/offlineDataHelper.js","components/auth/LoginPage.jsx","components/auth/AuthGuard.js","components/auth/UnauthorizedPage.js","components/ErrorBoundary.js","components/fallbacks/BasicBaristaInterface.js","App.js","index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp =\n  /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\nconst __toString = Object.prototype.toString;\n\nconst NullObject = /* @__PURE__ */ (() => {\n  const C = function () {};\n  C.prototype = Object.create(null);\n  return C;\n})() as unknown as { new (): any };\n\n/**\n * Parse options.\n */\nexport interface ParseOptions {\n  /**\n   * Specifies a function that will be used to decode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since the value of a cookie has a limited character set (and must be a simple string), this function can be used to decode\n   * a previously-encoded cookie value into a JavaScript string.\n   *\n   * The default function is the global `decodeURIComponent`, wrapped in a `try..catch`. If an error\n   * is thrown it will return the cookie's original value. If you provide your own encode/decode\n   * scheme you must ensure errors are appropriately handled.\n   *\n   * @default decode\n   */\n  decode?: (str: string) => string | undefined;\n}\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(\n  str: string,\n  options?: ParseOptions,\n): Record<string, string | undefined> {\n  const obj: Record<string, string | undefined> = new NullObject();\n  const len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  const dec = options?.decode || decode;\n  let index = 0;\n\n  do {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    const colonIdx = str.indexOf(\";\", index);\n    const endIdx = colonIdx === -1 ? len : colonIdx;\n\n    if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n\n    const keyStartIdx = startIndex(str, index, eqIdx);\n    const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    const key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (obj[key] === undefined) {\n      let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      let valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      const value = dec(str.slice(valStartIdx, valEndIdx));\n      obj[key] = value;\n    }\n\n    index = endIdx + 1;\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str: string, index: number, max: number) {\n  do {\n    const code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str: string, index: number, min: number) {\n  while (index > min) {\n    const code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize options.\n */\nexport interface SerializeOptions {\n  /**\n   * Specifies a function that will be used to encode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since value of a cookie has a limited character set (and must be a simple string), this function can be used to encode\n   * a value into a string suited for a cookie's value, and should mirror `decode` when parsing.\n   *\n   * @default encodeURIComponent\n   */\n  encode?: (str: string) => string;\n  /**\n   * Specifies the `number` (in seconds) to be the value for the [`Max-Age` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.2).\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  maxAge?: number;\n  /**\n   * Specifies the `Date` object to be the value for the [`Expires` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.1).\n   * When no expiration is set clients consider this a \"non-persistent cookie\" and delete it the current session is over.\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  expires?: Date;\n  /**\n   * Specifies the value for the [`Domain` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.3).\n   * When no domain is set clients consider the cookie to apply to the current domain only.\n   */\n  domain?: string;\n  /**\n   * Specifies the value for the [`Path` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.4).\n   * When no path is set, the path is considered the [\"default path\"](https://tools.ietf.org/html/rfc6265#section-5.1.4).\n   */\n  path?: string;\n  /**\n   * Enables the [`HttpOnly` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.6).\n   * When enabled, clients will not allow client-side JavaScript to see the cookie in `document.cookie`.\n   */\n  httpOnly?: boolean;\n  /**\n   * Enables the [`Secure` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.5).\n   * When enabled, clients will only send the cookie back if the browser has a HTTPS connection.\n   */\n  secure?: boolean;\n  /**\n   * Enables the [`Partitioned` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-cutler-httpbis-partitioned-cookies/).\n   * When enabled, clients will only send the cookie back when the current domain _and_ top-level domain matches.\n   *\n   * This is an attribute that has not yet been fully standardized, and may change in the future.\n   * This also means clients may ignore this attribute until they understand it. More information\n   * about can be found in [the proposal](https://github.com/privacycg/CHIPS).\n   */\n  partitioned?: boolean;\n  /**\n   * Specifies the value for the [`Priority` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   *\n   * - `'low'` will set the `Priority` attribute to `Low`.\n   * - `'medium'` will set the `Priority` attribute to `Medium`, the default priority when not set.\n   * - `'high'` will set the `Priority` attribute to `High`.\n   *\n   * More information about priority levels can be found in [the specification](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   */\n  priority?: \"low\" | \"medium\" | \"high\";\n  /**\n   * Specifies the value for the [`SameSite` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   *\n   * - `true` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   * - `'lax'` will set the `SameSite` attribute to `Lax` for lax same site enforcement.\n   * - `'none'` will set the `SameSite` attribute to `None` for an explicit cross-site cookie.\n   * - `'strict'` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   *\n   * More information about enforcement levels can be found in [the specification](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   */\n  sameSite?: boolean | \"lax\" | \"strict\" | \"none\";\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(\n  name: string,\n  val: string,\n  options?: SerializeOptions,\n): string {\n  const enc = options?.encode || encodeURIComponent;\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError(`argument name is invalid: ${name}`);\n  }\n\n  const value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError(`argument val is invalid: ${val}`);\n  }\n\n  let str = name + \"=\" + value;\n  if (!options) return str;\n\n  if (options.maxAge !== undefined) {\n    if (!Number.isInteger(options.maxAge)) {\n      throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n    }\n\n    str += \"; Max-Age=\" + options.maxAge;\n  }\n\n  if (options.domain) {\n    if (!domainValueRegExp.test(options.domain)) {\n      throw new TypeError(`option domain is invalid: ${options.domain}`);\n    }\n\n    str += \"; Domain=\" + options.domain;\n  }\n\n  if (options.path) {\n    if (!pathValueRegExp.test(options.path)) {\n      throw new TypeError(`option path is invalid: ${options.path}`);\n    }\n\n    str += \"; Path=\" + options.path;\n  }\n\n  if (options.expires) {\n    if (\n      !isDate(options.expires) ||\n      !Number.isFinite(options.expires.valueOf())\n    ) {\n      throw new TypeError(`option expires is invalid: ${options.expires}`);\n    }\n\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n\n  if (options.priority) {\n    const priority =\n      typeof options.priority === \"string\"\n        ? options.priority.toLowerCase()\n        : undefined;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(`option priority is invalid: ${options.priority}`);\n    }\n  }\n\n  if (options.sameSite) {\n    const sameSite =\n      typeof options.sameSite === \"string\"\n        ? options.sameSite.toLowerCase()\n        : options.sameSite;\n    switch (sameSite) {\n      case true:\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str: string): string {\n  if (str.indexOf(\"%\") === -1) return str;\n\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val: any): val is Date {\n  return __toString.call(val) === \"[object Date]\";\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// services/MockDataService.js\nimport { v4 as uuidv4 } from 'uuid';\n\n/**\n * Mock Data Service for demo/test mode\n * \n * This service simulates backend API responses with realistic dummy data\n * that follows the same structure as the real API responses.\n */\nclass MockDataService {\n  constructor() {\n    this.storage = localStorage;\n    this.storagePrefix = 'coffee_cue_demo_';\n    this.latency = 300; // Simulated network latency in ms\n    this.debugMode = true;\n    \n    // Initialize demo data if not present\n    this._initializeData();\n  }\n\n  /**\n   * Set simulated network latency\n   * @param {number} ms - Latency in milliseconds\n   */\n  setLatency(ms) {\n    this.latency = ms;\n  }\n\n  /**\n   * Enable/disable debug mode\n   * @param {boolean} enabled - Whether debug mode is enabled\n   */\n  setDebugMode(enabled) {\n    this.debugMode = enabled;\n  }\n\n  /**\n   * Resets all demo data to initial values\n   */\n  resetDemoData() {\n    this._clearStorage();\n    this._initializeData();\n    if (this.debugMode) {\n      console.log('Demo data has been reset to initial values');\n    }\n  }\n\n  /**\n   * Simulate GET request with provided sample data\n   * @param {string} endpoint - API endpoint \n   * @returns {Promise<any>} - Simulated API response\n   */\n  async get(endpoint) {\n    if (this.debugMode) {\n      console.log(`[MockDataService] GET ${endpoint}`);\n    }\n    \n    // Simulate network latency\n    await this._simulateLatency();\n\n    // Parse endpoint and get appropriate data\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n    const parts = normalizedEndpoint.split('/');\n    \n    // Handle different endpoints\n    if (parts[0] === 'inventory') {\n      return this._handleInventoryGet(parts);\n    } else if (parts[0] === 'orders') {\n      return this._handleOrdersGet(parts);\n    } else if (parts[0] === 'settings') {\n      return this._handleSettingsGet(parts);\n    } else if (parts[0] === 'chat') {\n      return this._handleChatGet(parts);\n    } else if (parts[0] === 'schedule') {\n      return this._handleScheduleGet(parts);\n    }\n    \n    // Return empty data for unknown endpoints\n    return [];\n  }\n\n  /**\n   * Simulate POST request with provided sample data\n   * @param {string} endpoint - API endpoint \n   * @param {object} data - Data to be \"posted\"\n   * @returns {Promise<any>} - Simulated API response\n   */\n  async post(endpoint, data) {\n    if (this.debugMode) {\n      console.log(`[MockDataService] POST ${endpoint}`, data);\n    }\n    \n    // Simulate network latency\n    await this._simulateLatency();\n\n    // Parse endpoint and handle data\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n    const parts = normalizedEndpoint.split('/');\n    \n    // Handle different endpoints\n    if (parts[0] === 'inventory') {\n      return this._handleInventoryPost(parts, data);\n    } else if (parts[0] === 'orders') {\n      return this._handleOrdersPost(parts, data);\n    } else if (parts[0] === 'settings') {\n      return this._handleSettingsPost(parts, data);\n    } else if (parts[0] === 'chat') {\n      return this._handleChatPost(parts, data);\n    } else if (parts[0] === 'schedule') {\n      return this._handleSchedulePost(parts, data);\n    }\n    \n    // Generic success response for unknown endpoints\n    return { success: true, id: uuidv4() };\n  }\n\n  /**\n   * Simulate PUT request\n   * @param {string} endpoint - API endpoint \n   * @param {object} data - Data to be \"put\"\n   * @returns {Promise<any>} - Simulated API response\n   */\n  async put(endpoint, data) {\n    if (this.debugMode) {\n      console.log(`[MockDataService] PUT ${endpoint}`, data);\n    }\n    \n    // Simulate network latency\n    await this._simulateLatency();\n\n    // Parse endpoint and handle data\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n    const parts = normalizedEndpoint.split('/');\n    \n    // Handle different endpoints\n    if (parts[0] === 'inventory') {\n      return this._handleInventoryPut(parts, data);\n    } else if (parts[0] === 'orders') {\n      return this._handleOrdersPut(parts, data);\n    } else if (parts[0] === 'settings') {\n      return this._handleSettingsPut(parts, data);\n    }\n    \n    // Generic success response for unknown endpoints\n    return { success: true };\n  }\n\n  /**\n   * Simulate PATCH request\n   * @param {string} endpoint - API endpoint \n   * @param {object} data - Data to be \"patched\"\n   * @returns {Promise<any>} - Simulated API response\n   */\n  async patch(endpoint, data) {\n    if (this.debugMode) {\n      console.log(`[MockDataService] PATCH ${endpoint}`, data);\n    }\n    \n    // Simulate network latency\n    await this._simulateLatency();\n\n    // Parse endpoint and handle data\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n    const parts = normalizedEndpoint.split('/');\n    \n    if (parts.length >= 3 && parts[0] === 'inventory' && parts[2] === 'quantity') {\n      // Handle inventory quantity update\n      const itemId = parseInt(parts[1]);\n      return this._updateInventoryQuantity(itemId, data.amount, data.reason);\n    }\n    \n    // Generic success response for unknown endpoints\n    return { success: true };\n  }\n\n  /**\n   * Simulate DELETE request\n   * @param {string} endpoint - API endpoint \n   * @returns {Promise<any>} - Simulated API response\n   */\n  async delete(endpoint) {\n    if (this.debugMode) {\n      console.log(`[MockDataService] DELETE ${endpoint}`);\n    }\n    \n    // Simulate network latency\n    await this._simulateLatency();\n\n    // Parse endpoint and handle data\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n    const parts = normalizedEndpoint.split('/');\n    \n    if (parts.length >= 2 && parts[0] === 'inventory') {\n      // Handle inventory item deletion\n      const itemId = parseInt(parts[1]);\n      return this._deleteInventoryItem(itemId);\n    }\n    \n    // Generic success response for unknown endpoints\n    return { success: true };\n  }\n\n  // Private methods\n  \n  /**\n   * Initialize demo data in storage\n   * @private\n   */\n  _initializeData() {\n    // Check if data already exists\n    if (this.storage.getItem(`${this.storagePrefix}initialized`)) {\n      return;\n    }\n    \n    // Initialize inventory data\n    const inventoryItems = {\n      milk: [\n        { id: 1, name: 'Full Cream', amount: 4, unit: 'L', capacity: 5, status: 'good', category: 'milk', lastUpdated: new Date().toISOString() },\n        { id: 2, name: 'Skim', amount: 1.5, unit: 'L', capacity: 5, status: 'warning', category: 'milk', lastUpdated: new Date().toISOString() },\n        { id: 3, name: 'Soy', amount: 0.5, unit: 'L', capacity: 5, status: 'danger', category: 'milk', lastUpdated: new Date().toISOString() },\n        { id: 4, name: 'Almond', amount: 2, unit: 'L', capacity: 5, status: 'good', category: 'milk', lastUpdated: new Date().toISOString() },\n        { id: 5, name: 'Oat', amount: 3, unit: 'L', capacity: 5, status: 'good', category: 'milk', lastUpdated: new Date().toISOString() }\n      ],\n      coffee: [\n        { id: 6, name: 'House Blend', amount: 1.2, unit: 'kg', capacity: 2, status: 'warning', category: 'coffee', lastUpdated: new Date().toISOString() },\n        { id: 7, name: 'Single Origin', amount: 0.8, unit: 'kg', capacity: 2, status: 'warning', category: 'coffee', lastUpdated: new Date().toISOString() }\n      ],\n      cups: [\n        { id: 8, name: 'Small', amount: 45, unit: '', capacity: 50, status: 'good', category: 'cups', lastUpdated: new Date().toISOString() },\n        { id: 9, name: 'Regular', amount: 37, unit: '', capacity: 100, status: 'good', category: 'cups', lastUpdated: new Date().toISOString() },\n        { id: 10, name: 'Large', amount: 12, unit: '', capacity: 50, status: 'warning', category: 'cups', lastUpdated: new Date().toISOString() }\n      ]\n    };\n    \n    // Initialize orders data with station IDs\n    const ordersData = {\n      pending: [\n        { id: 'order_1', orderNumber: '45284', customerName: 'Emma Davis', coffeeType: 'Large Latte', milkType: 'Soy milk', sugar: '1 sugar', priority: false, createdAt: new Date(Date.now() - 8 * 60000).toISOString(), waitTime: 8, promisedTime: 15, batchGroup: 'latte-soy', stationId: 1 },\n        { id: 'order_2', orderNumber: '45285', customerName: 'Thomas Brown', coffeeType: 'Large Latte', milkType: 'Soy milk', sugar: '0 sugar', priority: false, createdAt: new Date(Date.now() - 9 * 60000).toISOString(), waitTime: 9, promisedTime: 15, batchGroup: 'latte-soy', stationId: 1 },\n        { id: 'order_3', orderNumber: '45282', customerName: 'Sarah Williams', coffeeType: 'Regular Flat White', milkType: 'Full cream', sugar: '2 sugars', priority: false, createdAt: new Date(Date.now() - 5 * 60000).toISOString(), waitTime: 5, promisedTime: 15, stationId: 1 },\n        { id: 'order_4', orderNumber: '45289', customerName: 'Dr. Mark Wilson', coffeeType: 'Double Espresso', milkType: 'No milk', sugar: 'No sugar', priority: true, createdAt: new Date(Date.now() - 2 * 60000).toISOString(), waitTime: 2, promisedTime: 10, stationId: 1 },\n        // Orders for station 2\n        { id: 'order_5', orderNumber: '45290', customerName: 'Alex Johnson', coffeeType: 'Mocha', milkType: 'Full cream', sugar: '1 sugar', priority: false, createdAt: new Date(Date.now() - 7 * 60000).toISOString(), waitTime: 7, promisedTime: 15, stationId: 2 },\n        { id: 'order_6', orderNumber: '45291', customerName: 'Jessica Lee', coffeeType: 'Americano', milkType: 'No milk', sugar: 'No sugar', priority: false, createdAt: new Date(Date.now() - 6 * 60000).toISOString(), waitTime: 6, promisedTime: 15, stationId: 2 }\n      ],\n      inProgress: [\n        { id: 'order_in_progress_1', orderNumber: '45281', customerName: 'Michael Johnson', phoneNumber: '+61 423 555 789', coffeeType: 'Large Cappuccino', milkType: 'Oat milk', sugar: '1 sugar', extraHot: true, priority: true, createdAt: new Date(Date.now() - 3 * 60000).toISOString(), startedAt: new Date().toISOString(), waitTime: 3, promisedTime: 15, stationId: 1 },\n        // Orders for station 2\n        { id: 'order_in_progress_2', orderNumber: '45283', customerName: 'Emily Carter', phoneNumber: '+61 423 777 888', coffeeType: 'Flat White', milkType: 'Almond milk', sugar: 'No sugar', priority: false, createdAt: new Date(Date.now() - 4 * 60000).toISOString(), startedAt: new Date().toISOString(), waitTime: 4, promisedTime: 15, stationId: 2 }\n      ],\n      completed: [\n        { id: 'order_completed_1', orderNumber: '45266', customerName: 'Emma Johnson', phoneNumber: '+61 423 456 789', coffeeType: 'Large Flat White', milkType: 'Almond milk', completedAt: new Date(Date.now() - 10 * 60000).toISOString(), stationId: 1 },\n        { id: 'order_completed_2', orderNumber: '45270', customerName: 'James Cooper', phoneNumber: '+61 432 987 654', coffeeType: 'Regular Cappuccino', milkType: 'Full cream milk', completedAt: new Date(Date.now() - 5 * 60000).toISOString(), stationId: 1 },\n        // Orders for station 2\n        { id: 'order_completed_3', orderNumber: '45275', customerName: 'David Smith', phoneNumber: '+61 432 111 222', coffeeType: 'Long Black', milkType: 'No milk', completedAt: new Date(Date.now() - 8 * 60000).toISOString(), stationId: 2 },\n        { id: 'order_completed_4', orderNumber: '45276', customerName: 'Sophia Wang', phoneNumber: '+61 432 333 444', coffeeType: 'Chai Latte', milkType: 'Oat milk', completedAt: new Date(Date.now() - 6 * 60000).toISOString(), stationId: 2 }\n      ]\n    };\n    \n    // Initialize settings data\n    const settingsData = {\n      system: {\n        displayMode: 'landscape',\n        soundEnabled: true,\n        autoPrintLabels: false,\n        stationName: 'Station #3 - Main Hall',\n        baristaName: 'Alex Johnson',\n        waitTimeWarning: 10,\n        displayTimeout: 5,\n        autoSendSmsOnComplete: true,\n        remindAfterDelay: true,\n        reminderDelay: 30,\n        showNameOnDisplay: true\n      },\n      notification: {\n        orderReadyTemplate: 'Your coffee is ready for pickup at {station}.',\n        reminderTemplate: 'Your coffee has been waiting for {minutes} minutes. Please collect it soon.',\n        delayTemplate: 'We\\'re running a bit behind. Your coffee will be ready in about {minutes} more minutes.'\n      }\n    };\n    \n    // Initialize chat messages\n    const chatMessages = [\n      { id: 1, sender: 'System', content: 'Welcome to the barista interface', createdAt: new Date(Date.now() - 120 * 60000).toISOString(), isUrgent: false },\n      { id: 2, sender: 'Station Manager', content: 'Remember to check milk levels frequently today', createdAt: new Date(Date.now() - 60 * 60000).toISOString(), isUrgent: false },\n      { id: 3, sender: 'Support', content: 'New batches of specialty beans have arrived', createdAt: new Date(Date.now() - 15 * 60000).toISOString(), isUrgent: false }\n    ];\n    \n    // Initialize schedule data - each item is marked as demo data\n    const scheduleData = {\n      today: [\n        { id: 1, start: '08:00', end: '10:30', barista: 'Alex Johnson', status: 'active', isDemoData: true },\n        { id: 2, start: '10:30', end: '13:00', barista: 'Sarah Williams', status: 'upcoming', isDemoData: true },\n        { id: 3, start: '13:00', end: '15:30', barista: 'Michael Chen', status: 'upcoming', isDemoData: true },\n        { id: 4, start: '15:30', end: '18:00', barista: 'Alex Johnson', status: 'upcoming', isDemoData: true }\n      ],\n      breaks: [\n        { id: 1, start: '10:00', end: '10:15', barista: 'Alex Johnson', status: 'completed', isDemoData: true },\n        { id: 2, start: '12:30', end: '12:45', barista: 'Sarah Williams', status: 'upcoming', isDemoData: true },\n        { id: 3, start: '15:00', end: '15:15', barista: 'Michael Chen', status: 'upcoming', isDemoData: true },\n        { id: 4, start: '17:00', end: '17:15', barista: 'Alex Johnson', status: 'upcoming', isDemoData: true }\n      ],\n      rushPeriods: [\n        { id: 1, start: '10:30', end: '11:00', reason: 'Morning Tea Break', isDemoData: true },\n        { id: 2, start: '12:30', end: '13:30', reason: 'Lunch Break', isDemoData: true },\n        { id: 3, start: '15:30', end: '16:00', reason: 'Afternoon Tea Break', isDemoData: true }\n      ]\n    };\n    \n    // Save to storage\n    this.storage.setItem(`${this.storagePrefix}inventory`, JSON.stringify(inventoryItems));\n    this.storage.setItem(`${this.storagePrefix}orders`, JSON.stringify(ordersData));\n    this.storage.setItem(`${this.storagePrefix}settings`, JSON.stringify(settingsData));\n    this.storage.setItem(`${this.storagePrefix}chat`, JSON.stringify(chatMessages));\n    this.storage.setItem(`${this.storagePrefix}schedule`, JSON.stringify(scheduleData));\n    \n    // Track inventory history\n    this.storage.setItem(`${this.storagePrefix}inventory_history`, JSON.stringify([]));\n    \n    // Mark as initialized\n    this.storage.setItem(`${this.storagePrefix}initialized`, 'true');\n    \n    if (this.debugMode) {\n      console.log('Demo data initialized');\n    }\n  }\n\n  /**\n   * Clear all demo data from storage\n   * @private\n   */\n  _clearStorage() {\n    Object.keys(this.storage).forEach(key => {\n      if (key.startsWith(this.storagePrefix)) {\n        this.storage.removeItem(key);\n      }\n    });\n  }\n\n  /**\n   * Simulate network latency\n   * @private\n   * @returns {Promise<void>}\n   */\n  _simulateLatency() {\n    return new Promise(resolve => setTimeout(resolve, this.latency));\n  }\n\n  /**\n   * Calculate stock status based on amount and capacity\n   * @private\n   * @param {number} amount - Current amount\n   * @param {number} capacity - Maximum capacity\n   * @returns {string} - Status (good, warning, danger)\n   */\n  _calculateStockStatus(amount, capacity) {\n    const percentage = (amount / capacity) * 100;\n    if (percentage <= 10) return 'danger';\n    if (percentage <= 25) return 'warning';\n    return 'good';\n  }\n\n  /**\n   * Handle GET requests for inventory endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @returns {any} - Response data\n   */\n  _handleInventoryGet(parts) {\n    const inventoryData = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory`));\n    \n    // Get a specific inventory item\n    if (parts.length >= 2 && parts[1] !== 'history') {\n      const itemId = parseInt(parts[1]);\n      let foundItem = null;\n      \n      // Search all categories for the item\n      for (const category in inventoryData) {\n        const item = inventoryData[category].find(i => i.id === itemId);\n        if (item) {\n          foundItem = { ...item };\n          break;\n        }\n      }\n      \n      if (foundItem) {\n        return foundItem;\n      }\n      \n      // Item not found\n      throw new Error('Item not found');\n    }\n    \n    // Get inventory history\n    if (parts.length >= 2 && parts[1] === 'history') {\n      const history = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory_history`) || '[]');\n      return history;\n    }\n    \n    // Get all inventory items or filter by category\n    const categoryParam = new URLSearchParams(parts[1] || '').get('category');\n    \n    if (categoryParam && inventoryData[categoryParam]) {\n      return inventoryData[categoryParam];\n    }\n    \n    // Return all items flattened\n    return Object.values(inventoryData).flat();\n  }\n\n  /**\n   * Handle POST requests for inventory endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @param {object} data - Request data\n   * @returns {any} - Response data\n   */\n  _handleInventoryPost(parts, data) {\n    // Add new inventory item\n    if (parts.length === 1) {\n      const inventoryData = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory`));\n      \n      // Generate a new ID (max ID + 1)\n      const allItems = Object.values(inventoryData).flat();\n      const maxId = allItems.reduce((max, item) => Math.max(max, item.id), 0);\n      const newId = maxId + 1;\n      \n      // Create new item with defaults\n      const newItem = {\n        id: newId,\n        name: data.name,\n        category: data.category,\n        amount: data.amount || 0,\n        unit: data.unit || '',\n        capacity: data.capacity,\n        status: this._calculateStockStatus(data.amount || 0, data.capacity),\n        lastUpdated: new Date().toISOString(),\n        notes: data.notes || ''\n      };\n      \n      // Add to appropriate category\n      if (!inventoryData[data.category]) {\n        inventoryData[data.category] = [];\n      }\n      \n      inventoryData[data.category].push(newItem);\n      \n      // Save updated inventory\n      this.storage.setItem(`${this.storagePrefix}inventory`, JSON.stringify(inventoryData));\n      \n      return {\n        success: true,\n        item: newItem\n      };\n    }\n    \n    // Report low stock\n    if (parts.length === 2 && parts[1] === 'report-low-stock') {\n      return {\n        success: true,\n        alert_id: uuidv4(),\n        message: `Low stock report submitted for item ID: ${data.itemId}`\n      };\n    }\n    \n    // Request restock\n    if (parts.length === 2 && parts[1] === 'restock-request') {\n      return {\n        success: true,\n        restock_id: uuidv4(),\n        message: `Restock request submitted for ${data.items.length} items`\n      };\n    }\n    \n    return { success: true };\n  }\n\n  /**\n   * Handle PUT requests for inventory endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @param {object} data - Request data\n   * @returns {any} - Response data\n   */\n  _handleInventoryPut(parts, data) {\n    // Update inventory item\n    if (parts.length === 2) {\n      const itemId = parseInt(parts[1]);\n      const inventoryData = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory`));\n      \n      // Find and update the item\n      let updated = false;\n      \n      for (const category in inventoryData) {\n        const itemIndex = inventoryData[category].findIndex(i => i.id === itemId);\n        \n        if (itemIndex !== -1) {\n          // Update properties\n          Object.keys(data).forEach(key => {\n            if (key !== 'id' && key !== 'category') { // Don't change id or category\n              inventoryData[category][itemIndex][key] = data[key];\n            }\n          });\n          \n          // Update last updated timestamp\n          inventoryData[category][itemIndex].lastUpdated = new Date().toISOString();\n          \n          // Recalculate status\n          inventoryData[category][itemIndex].status = this._calculateStockStatus(\n            inventoryData[category][itemIndex].amount,\n            inventoryData[category][itemIndex].capacity\n          );\n          \n          updated = true;\n          break;\n        }\n      }\n      \n      if (updated) {\n        // Save updated inventory\n        this.storage.setItem(`${this.storagePrefix}inventory`, JSON.stringify(inventoryData));\n        \n        return {\n          success: true,\n          item_id: itemId\n        };\n      }\n      \n      // Item not found\n      throw new Error('Item not found');\n    }\n    \n    return { success: true };\n  }\n\n  /**\n   * Update inventory item quantity\n   * @private\n   * @param {number} itemId - Item ID\n   * @param {number} newAmount - New amount\n   * @param {string} reason - Reason for change\n   * @returns {object} - Result\n   */\n  _updateInventoryQuantity(itemId, newAmount, reason) {\n    const inventoryData = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory`));\n    const history = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory_history`) || '[]');\n    \n    // Find the item\n    let updated = false;\n    let previousAmount = 0;\n    \n    for (const category in inventoryData) {\n      const itemIndex = inventoryData[category].findIndex(i => i.id === itemId);\n      \n      if (itemIndex !== -1) {\n        // Store previous amount\n        previousAmount = inventoryData[category][itemIndex].amount;\n        \n        // Update amount\n        inventoryData[category][itemIndex].amount = newAmount;\n        \n        // Update last updated timestamp\n        inventoryData[category][itemIndex].lastUpdated = new Date().toISOString();\n        \n        // Recalculate status\n        inventoryData[category][itemIndex].status = this._calculateStockStatus(\n          newAmount,\n          inventoryData[category][itemIndex].capacity\n        );\n        \n        updated = true;\n        break;\n      }\n    }\n    \n    if (updated) {\n      // Save updated inventory\n      this.storage.setItem(`${this.storagePrefix}inventory`, JSON.stringify(inventoryData));\n      \n      // Add to history\n      const timestamp = new Date().toISOString();\n      history.push({\n        id: history.length + 1,\n        itemId: itemId,\n        previousAmount: previousAmount,\n        newAmount: newAmount,\n        changeAmount: newAmount - previousAmount,\n        reason: reason || 'manual_adjustment',\n        timestamp: timestamp,\n        createdBy: 'demo_user'\n      });\n      \n      // Save history (keep last 100 entries)\n      this.storage.setItem(\n        `${this.storagePrefix}inventory_history`, \n        JSON.stringify(history.slice(-100))\n      );\n      \n      return {\n        success: true,\n        item_id: itemId,\n        amount: newAmount,\n        updated_at: timestamp\n      };\n    }\n    \n    // Item not found\n    throw new Error('Item not found');\n  }\n\n  /**\n   * Delete inventory item\n   * @private\n   * @param {number} itemId - Item ID\n   * @returns {object} - Result\n   */\n  _deleteInventoryItem(itemId) {\n    const inventoryData = JSON.parse(this.storage.getItem(`${this.storagePrefix}inventory`));\n    \n    // Find and remove the item\n    let deleted = false;\n    \n    for (const category in inventoryData) {\n      const itemIndex = inventoryData[category].findIndex(i => i.id === itemId);\n      \n      if (itemIndex !== -1) {\n        // Remove item\n        inventoryData[category].splice(itemIndex, 1);\n        deleted = true;\n        break;\n      }\n    }\n    \n    if (deleted) {\n      // Save updated inventory\n      this.storage.setItem(`${this.storagePrefix}inventory`, JSON.stringify(inventoryData));\n      \n      return {\n        success: true,\n        item_id: itemId\n      };\n    }\n    \n    // Item not found\n    throw new Error('Item not found');\n  }\n  \n  /**\n   * Handle GET requests for orders endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @returns {any} - Response data\n   */\n  _handleOrdersGet(parts) {\n    const ordersData = JSON.parse(this.storage.getItem(`${this.storagePrefix}orders`));\n    \n    // Extract stationId from query parameters if present\n    let stationId = null;\n    if (parts.length > 1) {\n      const queryString = parts[1].split('?')[1];\n      if (queryString) {\n        const params = new URLSearchParams(queryString);\n        stationId = params.get('stationId');\n        if (stationId) {\n          console.log(`[MockDataService] Filtering orders by station ID: ${stationId}`);\n        }\n      }\n    }\n    \n    // Helper function to filter orders by station\n    const filterByStation = (orders) => {\n      if (!stationId) return orders;\n      \n      return orders.filter(order => {\n        // Check all possible station ID fields\n        return (\n          order.stationId === stationId ||\n          order.station_id === stationId ||\n          order.assignedStation === stationId ||\n          order.assigned_station === stationId ||\n          order.assigned_to_station === stationId ||\n          order.station === stationId ||\n          order.barista_station === stationId ||\n          // Also try to compare as integers\n          order.stationId === parseInt(stationId) ||\n          order.station_id === parseInt(stationId)\n        );\n      });\n    };\n    \n    // Get pending orders\n    if (parts.length >= 2 && parts[1].startsWith('pending')) {\n      return filterByStation(ordersData.pending);\n    }\n    \n    // Get in-progress orders\n    if (parts.length >= 2 && parts[1].startsWith('in-progress')) {\n      return filterByStation(ordersData.inProgress);\n    }\n    \n    // Get completed orders\n    if (parts.length >= 2 && parts[1].startsWith('completed')) {\n      return filterByStation(ordersData.completed);\n    }\n    \n    // Get all orders\n    return filterByStation([...ordersData.pending, ...ordersData.inProgress, ...ordersData.completed]);\n  }\n  \n  /**\n   * Handle POST requests for orders endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @param {object} data - Request data\n   * @returns {any} - Response data\n   */\n  _handleOrdersPost(parts, data) {\n    const ordersData = JSON.parse(this.storage.getItem(`${this.storagePrefix}orders`));\n    \n    // Start an order (move from pending to in-progress)\n    if (parts.length === 3 && parts[2] === 'start') {\n      const orderId = parts[1];\n      const orderIndex = ordersData.pending.findIndex(o => o.id === orderId || o.orderNumber === orderId);\n      \n      if (orderIndex !== -1) {\n        const order = ordersData.pending[orderIndex];\n        \n        // Add in-progress properties\n        order.startedAt = new Date().toISOString();\n        \n        // Remove from pending, add to in-progress\n        ordersData.pending.splice(orderIndex, 1);\n        ordersData.inProgress.push(order);\n        \n        // Save updated orders\n        this.storage.setItem(`${this.storagePrefix}orders`, JSON.stringify(ordersData));\n        \n        return { success: true };\n      }\n      \n      return { success: false, message: 'Order not found' };\n    }\n    \n    // Complete an order (move from in-progress to completed)\n    if (parts.length === 3 && parts[2] === 'complete') {\n      const orderId = parts[1];\n      const orderIndex = ordersData.inProgress.findIndex(o => o.id === orderId || o.orderNumber === orderId);\n      \n      if (orderIndex !== -1) {\n        const order = ordersData.inProgress[orderIndex];\n        \n        // Add completed properties\n        order.completedAt = new Date().toISOString();\n        \n        // Remove from in-progress, add to completed\n        ordersData.inProgress.splice(orderIndex, 1);\n        ordersData.completed.push(order);\n        \n        // Save updated orders\n        this.storage.setItem(`${this.storagePrefix}orders`, JSON.stringify(ordersData));\n        \n        return { success: true };\n      }\n      \n      return { success: false, message: 'Order not found' };\n    }\n    \n    // Mark order as picked up\n    if (parts.length === 3 && parts[2] === 'pickup') {\n      const orderId = parts[1];\n      const orderIndex = ordersData.completed.findIndex(o => o.id === orderId || o.orderNumber === orderId);\n      \n      if (orderIndex !== -1) {\n        // Add pickedUp properties\n        ordersData.completed[orderIndex].pickedUpAt = new Date().toISOString();\n        \n        // Save updated orders\n        this.storage.setItem(`${this.storagePrefix}orders`, JSON.stringify(ordersData));\n        \n        return { success: true };\n      }\n      \n      return { success: false, message: 'Order not found' };\n    }\n    \n    // Process a batch of orders\n    if (parts.length === 2 && parts[1] === 'batch') {\n      const orderIds = data.order_ids;\n      const action = data.action || 'start';\n      \n      if (!orderIds || !Array.isArray(orderIds)) {\n        return { success: false, message: 'No order IDs provided' };\n      }\n      \n      let processed = 0;\n      \n      if (action === 'start') {\n        // Move matching orders from pending to in-progress\n        const updatedPending = [];\n        const newInProgress = [...ordersData.inProgress];\n        \n        ordersData.pending.forEach(order => {\n          const orderId = order.id || order.orderNumber;\n          \n          if (orderIds.includes(orderId)) {\n            // Add in-progress properties\n            order.startedAt = new Date().toISOString();\n            newInProgress.push(order);\n            processed++;\n          } else {\n            updatedPending.push(order);\n          }\n        });\n        \n        // Update orders\n        ordersData.pending = updatedPending;\n        ordersData.inProgress = newInProgress;\n      } else if (action === 'complete') {\n        // Move matching orders from in-progress to completed\n        const updatedInProgress = [];\n        const newCompleted = [...ordersData.completed];\n        \n        ordersData.inProgress.forEach(order => {\n          const orderId = order.id || order.orderNumber;\n          \n          if (orderIds.includes(orderId)) {\n            // Add completed properties\n            order.completedAt = new Date().toISOString();\n            newCompleted.push(order);\n            processed++;\n          } else {\n            updatedInProgress.push(order);\n          }\n        });\n        \n        // Update orders\n        ordersData.inProgress = updatedInProgress;\n        ordersData.completed = newCompleted;\n      }\n      \n      // Save updated orders\n      this.storage.setItem(`${this.storagePrefix}orders`, JSON.stringify(ordersData));\n      \n      return {\n        success: true,\n        processed: processed,\n        total: orderIds.length\n      };\n    }\n    \n    // Add walk-in order\n    if (parts.length === 2 && parts[1] === 'walk-in') {\n      // Generate order ID and number\n      const orderNumber = `45${290 + ordersData.pending.length}`;\n      const orderId = `order_${ordersData.pending.length + 1}`;\n      \n      // Create new order\n      const newOrder = {\n        id: orderId,\n        orderNumber: orderNumber,\n        customerName: data.customerName,\n        coffeeType: data.coffeeType,\n        milkType: data.milkType,\n        sugar: data.sugar,\n        priority: data.priority || false,\n        createdAt: new Date().toISOString(),\n        waitTime: 0,\n        promisedTime: 15\n      };\n      \n      // Add to pending orders\n      ordersData.pending.push(newOrder);\n      \n      // Save updated orders\n      this.storage.setItem(`${this.storagePrefix}orders`, JSON.stringify(ordersData));\n      \n      return {\n        success: true,\n        id: orderNumber,\n        message: `Walk-in order added for ${data.customerName}`\n      };\n    }\n    \n    // Send message to customer\n    if (parts.length === 3 && parts[2] === 'message') {\n      return {\n        success: true,\n        message: 'Message sent to customer'\n      };\n    }\n    \n    return { success: true };\n  }\n\n  /**\n   * Handle GET requests for settings endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @returns {any} - Response data\n   */\n  _handleSettingsGet(parts) {\n    const settingsData = JSON.parse(this.storage.getItem(`${this.storagePrefix}settings`));\n    \n    // Get system settings\n    if (parts.length === 2 && parts[1] === 'system') {\n      return settingsData.system;\n    }\n    \n    // Get notification settings\n    if (parts.length === 2 && parts[1] === 'notification') {\n      return settingsData.notification;\n    }\n    \n    // Get all settings\n    return settingsData;\n  }\n\n  /**\n   * Handle POST requests for settings endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @param {object} data - Request data\n   * @returns {any} - Response data\n   */\n  _handleSettingsPost(parts, data) {\n    const settingsData = JSON.parse(this.storage.getItem(`${this.storagePrefix}settings`));\n    \n    // Update wait time\n    if (parts.length === 2 && parts[1] === 'wait-time') {\n      return {\n        success: true,\n        waitTime: data.waitTime\n      };\n    }\n    \n    // Update system settings\n    if (parts.length === 2 && parts[1] === 'system') {\n      settingsData.system = { ...settingsData.system, ...data };\n      this.storage.setItem(`${this.storagePrefix}settings`, JSON.stringify(settingsData));\n      \n      return {\n        success: true,\n        settings: settingsData.system\n      };\n    }\n    \n    // Update notification settings\n    if (parts.length === 2 && parts[1] === 'notification') {\n      settingsData.notification = { ...settingsData.notification, ...data };\n      this.storage.setItem(`${this.storagePrefix}settings`, JSON.stringify(settingsData));\n      \n      return {\n        success: true,\n        settings: settingsData.notification\n      };\n    }\n    \n    return { success: true };\n  }\n\n  /**\n   * Handle GET requests for chat endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @returns {any} - Response data\n   */\n  _handleChatGet(parts) {\n    // Get chat messages\n    if (parts.length === 2 && parts[1] === 'messages') {\n      const chatMessages = JSON.parse(this.storage.getItem(`${this.storagePrefix}chat`));\n      return chatMessages;\n    }\n    \n    return [];\n  }\n\n  /**\n   * Handle POST requests for chat endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @param {object} data - Request data\n   * @returns {any} - Response data\n   */\n  _handleChatPost(parts, data) {\n    // Send chat message\n    if (parts.length === 2 && parts[1] === 'messages') {\n      const chatMessages = JSON.parse(this.storage.getItem(`${this.storagePrefix}chat`));\n      \n      // Create new message\n      const newMessage = {\n        id: chatMessages.length + 1,\n        sender: data.sender || 'User',\n        content: data.content,\n        createdAt: new Date().toISOString(),\n        isUrgent: data.isUrgent || false\n      };\n      \n      // Add to messages\n      chatMessages.push(newMessage);\n      \n      // Save updated messages\n      this.storage.setItem(`${this.storagePrefix}chat`, JSON.stringify(chatMessages));\n      \n      return {\n        success: true,\n        message: newMessage\n      };\n    }\n    \n    return { success: true };\n  }\n\n  /**\n   * Handle GET requests for schedule endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @returns {any} - Response data\n   */\n  _handleScheduleGet(parts) {\n    const scheduleData = JSON.parse(this.storage.getItem(`${this.storagePrefix}schedule`));\n    \n    // Get list of hidden demo items to filter out\n    const hiddenDemoItems = JSON.parse(localStorage.getItem('coffee_cue_hidden_demo_items') || '[]');\n    \n    // Function to filter out hidden demo items\n    const filterHiddenDemoItems = (items) => {\n      return items.filter(item => {\n        // Keep all real items (not demo data)\n        if (!item.isDemoData) return true;\n        \n        // For demo data items, only keep them if they haven't been manually hidden\n        return !hiddenDemoItems.includes(item.id);\n      });\n    };\n    \n    // Get today's schedule\n    if (parts.length === 2 && parts[1] === 'today') {\n      return filterHiddenDemoItems(scheduleData.today);\n    }\n    \n    // Get breaks\n    if (parts.length === 2 && parts[1] === 'breaks') {\n      return filterHiddenDemoItems(scheduleData.breaks);\n    }\n    \n    // Get rush periods\n    if (parts.length === 2 && parts[1] === 'rush-periods') {\n      return filterHiddenDemoItems(scheduleData.rushPeriods);\n    }\n    \n    // Get all schedule data with hidden demo items filtered out\n    return {\n      today: filterHiddenDemoItems(scheduleData.today),\n      breaks: filterHiddenDemoItems(scheduleData.breaks),\n      rushPeriods: filterHiddenDemoItems(scheduleData.rushPeriods)\n    };\n  }\n\n  /**\n   * Handle POST requests for schedule endpoints\n   * @private\n   * @param {string[]} parts - URL parts\n   * @param {object} data - Request data\n   * @returns {any} - Response data\n   */\n  _handleSchedulePost(parts, data) {\n    const scheduleData = JSON.parse(this.storage.getItem(`${this.storagePrefix}schedule`));\n    \n    // Add shift\n    if (parts.length === 2 && parts[1] === 'shifts') {\n      // Generate ID\n      const newId = Math.max(0, ...scheduleData.today.map(s => s.id)) + 1;\n      \n      // Create new shift\n      const newShift = {\n        id: newId,\n        start: data.start,\n        end: data.end,\n        barista: data.barista,\n        status: 'upcoming'\n      };\n      \n      // Add to shifts\n      scheduleData.today.push(newShift);\n      \n      // Save updated schedule\n      this.storage.setItem(`${this.storagePrefix}schedule`, JSON.stringify(scheduleData));\n      \n      return {\n        success: true,\n        shift: newShift\n      };\n    }\n    \n    // Add break\n    if (parts.length === 2 && parts[1] === 'breaks') {\n      // Generate ID\n      const newId = Math.max(0, ...scheduleData.breaks.map(b => b.id)) + 1;\n      \n      // Create new break\n      const newBreak = {\n        id: newId,\n        start: data.start,\n        end: data.end,\n        barista: data.barista,\n        status: 'upcoming'\n      };\n      \n      // Add to breaks\n      scheduleData.breaks.push(newBreak);\n      \n      // Save updated schedule\n      this.storage.setItem(`${this.storagePrefix}schedule`, JSON.stringify(scheduleData));\n      \n      return {\n        success: true,\n        break: newBreak\n      };\n    }\n    \n    return { success: true };\n  }\n}\n\nexport default new MockDataService();","/**\n * Inventory Integration Service\n * Bridges between the Organizer's inventory management and the Barista's stock system\n */\nclass InventoryIntegrationService {\n  constructor() {\n    this.categoryMapping = {\n      milk: 'milk',\n      coffee: 'coffee', \n      cups: 'cups',\n      syrups: 'syrups',\n      sweeteners: 'other',\n      extras: 'other'\n    };\n    this.syncTimeoutId = null;\n  }\n\n  /**\n   * Sync inventory from organizer to barista stock system\n   * Takes the event_inventory and updates the stock system for all stations\n   */\n  syncInventoryToStations() {\n    try {\n      // Load the event inventory created by organizers\n      const eventInventory = this.getEventInventory();\n      if (!eventInventory) {\n        console.log('No event inventory found');\n        return;\n      }\n\n      // Load station configurations\n      const stationConfigs = this.getStationConfigs();\n      \n      // Get available stations\n      const stations = this.getStations();\n      \n      stations.forEach(station => {\n        this.syncInventoryToStation(station.id, eventInventory, stationConfigs);\n      });\n\n      console.log('Inventory sync to stations completed');\n    } catch (error) {\n      console.error('Error syncing inventory to stations:', error);\n    }\n  }\n\n  /**\n   * Sync inventory for a specific station\n   */\n  syncInventoryToStation(stationId, eventInventory, stationConfigs) {\n    try {\n      const stationConfig = stationConfigs[stationId] || {};\n      const stockData = {};\n\n      // Load station inventory quantities\n      const stationInventoryQuantities = this.getStationInventoryQuantities();\n\n      // Process each category\n      Object.keys(eventInventory).forEach(inventoryCategory => {\n        const stockCategory = this.categoryMapping[inventoryCategory] || inventoryCategory;\n        \n        if (!stockData[stockCategory]) {\n          stockData[stockCategory] = [];\n        }\n\n        // Process each item in the category\n        eventInventory[inventoryCategory]?.forEach(item => {\n          // Check if this item is enabled for this station\n          const isAvailableAtStation = stationConfig[inventoryCategory]?.[item.id] || false;\n          \n          if (item.enabled && isAvailableAtStation) {\n            // Convert inventory item to stock item format, including quantities\n            const stockItem = this.convertInventoryItemToStock(item, stockCategory, stationId, stationInventoryQuantities);\n            stockData[stockCategory].push(stockItem);\n          }\n        });\n      });\n\n      // Save the stock data for this station\n      this.saveStationStock(stationId, stockData);\n      \n      console.log(`Synced inventory to station ${stationId}:`, stockData);\n    } catch (error) {\n      console.error(`Error syncing inventory to station ${stationId}:`, error);\n    }\n  }\n\n  /**\n   * Convert an inventory item to stock item format\n   */\n  convertInventoryItemToStock(inventoryItem, stockCategory, stationId, stationInventoryQuantities) {\n    // Determine default values based on category\n    const defaults = this.getStockDefaults(stockCategory, inventoryItem.name);\n    \n    // Get the actual quantity set for this item at this station\n    const stationQuantity = stationInventoryQuantities[stationId]?.[inventoryItem.category]?.[inventoryItem.id]?.quantity || 0;\n    \n    // Use the station quantity if set, otherwise use defaults\n    const actualAmount = stationQuantity > 0 ? stationQuantity : defaults.amount;\n    const actualCapacity = Math.max(actualAmount, defaults.capacity); // Capacity should be at least the current amount\n    \n    return {\n      id: inventoryItem.id,\n      name: inventoryItem.name,\n      amount: actualAmount,\n      capacity: actualCapacity,\n      unit: inventoryItem.unit || defaults.unit,\n      status: actualAmount <= defaults.criticalThreshold ? 'critical' : \n              actualAmount <= defaults.lowThreshold ? 'low' : 'good',\n      lowThreshold: Math.max(1, actualCapacity * 0.25), // 25% of capacity\n      criticalThreshold: Math.max(1, actualCapacity * 0.1), // 10% of capacity\n      description: inventoryItem.description,\n      category: inventoryItem.category,\n      enabled: true\n    };\n  }\n\n  /**\n   * Get sensible defaults for different types of stock items\n   */\n  getStockDefaults(category, itemName) {\n    const nameUpper = itemName.toUpperCase();\n    \n    switch (category) {\n      case 'milk':\n        if (nameUpper.includes('REGULAR') || nameUpper.includes('WHOLE')) {\n          return { amount: 20, capacity: 20, unit: 'L', lowThreshold: 5, criticalThreshold: 2 };\n        } else {\n          return { amount: 5, capacity: 5, unit: 'L', lowThreshold: 2, criticalThreshold: 1 };\n        }\n        \n      case 'coffee':\n        if (nameUpper.includes('HOUSE') || nameUpper.includes('MAIN')) {\n          return { amount: 5, capacity: 5, unit: 'kg', lowThreshold: 1.5, criticalThreshold: 0.5 };\n        } else {\n          return { amount: 3, capacity: 3, unit: 'kg', lowThreshold: 1, criticalThreshold: 0.3 };\n        }\n        \n      case 'cups':\n        if (nameUpper.includes('SMALL')) {\n          return { amount: 200, capacity: 200, unit: 'pcs', lowThreshold: 50, criticalThreshold: 20 };\n        } else if (nameUpper.includes('LARGE')) {\n          return { amount: 100, capacity: 100, unit: 'pcs', lowThreshold: 30, criticalThreshold: 10 };\n        } else {\n          return { amount: 150, capacity: 150, unit: 'pcs', lowThreshold: 40, criticalThreshold: 15 };\n        }\n        \n      case 'syrups':\n        return { amount: 2, capacity: 2, unit: 'L', lowThreshold: 0.5, criticalThreshold: 0.2 };\n        \n      case 'other': // sweeteners, extras\n        if (nameUpper.includes('SUGAR')) {\n          return { amount: 5, capacity: 5, unit: 'kg', lowThreshold: 1, criticalThreshold: 0.5 };\n        } else if (nameUpper.includes('PACKET') || nameUpper.includes('PCS')) {\n          return { amount: 500, capacity: 500, unit: 'pcs', lowThreshold: 100, criticalThreshold: 50 };\n        } else {\n          return { amount: 1, capacity: 1, unit: 'kg', lowThreshold: 0.3, criticalThreshold: 0.1 };\n        }\n        \n      default:\n        return { amount: 1, capacity: 1, unit: 'unit', lowThreshold: 0.3, criticalThreshold: 0.1 };\n    }\n  }\n\n  /**\n   * Get event inventory from localStorage\n   */\n  getEventInventory() {\n    try {\n      const inventory = localStorage.getItem('event_inventory');\n      return inventory ? JSON.parse(inventory) : null;\n    } catch (error) {\n      console.error('Error loading event inventory:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Get station configurations from localStorage\n   */\n  getStationConfigs() {\n    try {\n      const configs = localStorage.getItem('station_inventory_configs');\n      return configs ? JSON.parse(configs) : {};\n    } catch (error) {\n      console.error('Error loading station configs:', error);\n      return {};\n    }\n  }\n\n  /**\n   * Get station inventory quantities\n   */\n  getStationInventoryQuantities() {\n    try {\n      const quantities = localStorage.getItem('station_inventory_quantities');\n      return quantities ? JSON.parse(quantities) : {};\n    } catch (error) {\n      console.error('Error loading station inventory quantities:', error);\n      return {};\n    }\n  }\n\n  /**\n   * Get available stations (mock implementation)\n   */\n  getStations() {\n    // TODO: Replace with actual station loading logic\n    // For now, return a basic default\n    return [\n      { id: 1, name: 'Station 1' },\n      { id: 2, name: 'Station 2' },\n      { id: 3, name: 'Station 3' }\n    ];\n  }\n\n  /**\n   * Save stock data for a specific station\n   */\n  saveStationStock(stationId, stockData) {\n    try {\n      // Use the same key pattern as StockService\n      const stockKey = `coffee_stock_station_${stationId}`;\n      localStorage.setItem(stockKey, JSON.stringify(stockData));\n      \n      // Also trigger a refresh event so useStock hooks pick up the changes\n      window.dispatchEvent(new CustomEvent('stock:updated', { \n        detail: { stationId, stockData } \n      }));\n      \n      console.log(`Saved stock data for station ${stationId} to key: ${stockKey}`);\n    } catch (error) {\n      console.error(`Error saving stock data for station ${stationId}:`, error);\n    }\n  }\n\n  /**\n   * Load stock data for a specific station\n   */\n  getStationStock(stationId) {\n    try {\n      // Use the same key pattern as StockService\n      const stockKey = `coffee_stock_station_${stationId}`;\n      const stockData = localStorage.getItem(stockKey);\n      return stockData ? JSON.parse(stockData) : null;\n    } catch (error) {\n      console.error(`Error loading stock data for station ${stationId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Throttled sync to prevent excessive calls\n   */\n  throttledSyncInventoryToStations() {\n    // Clear any existing timeout\n    if (this.syncTimeoutId) {\n      clearTimeout(this.syncTimeoutId);\n    }\n    \n    // Set new timeout to sync after 500ms of no new calls\n    this.syncTimeoutId = setTimeout(() => {\n      console.log('Throttled sync: Syncing inventory to stations...');\n      this.syncInventoryToStations();\n      this.syncTimeoutId = null;\n    }, 500);\n  }\n\n  /**\n   * Update the StockService to use organizer-defined inventory\n   */\n  initializeStockServiceIntegration() {\n    // Listen for inventory changes and sync them (throttled)\n    window.addEventListener('inventory:updated', () => {\n      console.log('Inventory updated, scheduling throttled sync...');\n      this.throttledSyncInventoryToStations();\n    });\n\n    // Listen for station config changes and sync them (throttled)\n    window.addEventListener('stationConfig:updated', () => {\n      console.log('Station configuration updated, scheduling throttled sync...');\n      this.throttledSyncInventoryToStations();\n    });\n\n    // Initial sync (immediate)\n    console.log('Initial inventory sync...');\n    this.syncInventoryToStations();\n  }\n\n  /**\n   * Get available inventory items for a specific station\n   */\n  getAvailableItemsForStation(stationId) {\n    const eventInventory = this.getEventInventory();\n    const stationConfigs = this.getStationConfigs();\n    const stationConfig = stationConfigs[stationId] || {};\n    \n    const availableItems = {};\n    \n    if (eventInventory) {\n      Object.keys(eventInventory).forEach(category => {\n        availableItems[category] = eventInventory[category]?.filter(item => {\n          return item.enabled && (stationConfig[category]?.[item.id] || false);\n        }) || [];\n      });\n    }\n    \n    return availableItems;\n  }\n\n  /**\n   * Update inventory when changes are made in the organizer\n   */\n  notifyInventoryUpdated() {\n    // Just dispatch the event - the event listener will handle the sync\n    // Don't call syncInventoryToStations() here to avoid infinite loop\n    setTimeout(() => {\n      window.dispatchEvent(new CustomEvent('inventory:updated'));\n    }, 100);\n  }\n\n  /**\n   * Update station configurations when changes are made\n   */\n  notifyStationConfigUpdated() {\n    // Don't auto-sync - it's overwriting the configs we just saved!\n    // Just dispatch the event for other components that might be listening\n    window.dispatchEvent(new CustomEvent('stationConfig:updated'));\n    console.log('Station config updated event dispatched (sync disabled to prevent config loss)');\n  }\n\n  /**\n   * Force sync of all station inventories (useful for manual refresh)\n   */\n  forceSyncAllStations() {\n    console.log('Force syncing all station inventories...');\n    this.syncInventoryToStations();\n  }\n\n  /**\n   * Force sync for a specific station\n   */\n  forceSyncStation(stationId) {\n    console.log(` Force syncing station ${stationId}...`);\n    \n    // Debug: Check what data we have\n    const eventInventory = this.getEventInventory();\n    const stationConfigs = this.getStationConfigs();\n    const stationQuantities = this.getStationInventoryQuantities();\n    \n    console.log(' Event Inventory:', eventInventory);\n    console.log(' Station Configs:', stationConfigs);\n    console.log(' Station Quantities:', stationQuantities);\n    console.log(` Station ${stationId} Config:`, stationConfigs[stationId]);\n    console.log(` Station ${stationId} Quantities:`, stationQuantities[stationId]);\n    \n    if (!eventInventory || Object.keys(eventInventory).length === 0) {\n      console.warn(' No event inventory found! You need to set up inventory in Organiser  Event Setup  Inventory Management');\n      return false;\n    }\n    \n    if (!stationConfigs[stationId]) {\n      console.warn(` No station configuration found for station ${stationId}! You need to configure items in Organiser  Stations  Station Inventory`);\n      return false;\n    }\n    \n    // Clear all variants of old stock data for this station to prevent conflicts\n    const oldKeys = [\n      `stock_data_${stationId}`,\n      `stock_data_station_${stationId}`,\n      `coffee_stock_station_${stationId}` // Clear current key too to force fresh sync\n    ];\n    \n    oldKeys.forEach(key => {\n      if (localStorage.getItem(key)) {\n        console.log(` Clearing old stock data (${key}) for station ${stationId}`);\n        localStorage.removeItem(key);\n      }\n    });\n    \n    this.syncInventoryToStation(stationId, eventInventory, stationConfigs);\n    return true;\n  }\n\n  /**\n   * Clear all stock data and resync from organiser\n   */\n  clearAllStockAndResync() {\n    console.log(' Clearing all stock data and resyncing...');\n    \n    // Clear all variants of station stock data keys\n    for (let i = 1; i <= 10; i++) {\n      // Old formats\n      const oldKey1 = `stock_data_${i}`;\n      const oldKey2 = `stock_data_station_${i}`;\n      // Current StockService format\n      const currentKey = `coffee_stock_station_${i}`;\n      \n      if (localStorage.getItem(oldKey1)) {\n        console.log(`Clearing old stock data (v1) for station ${i}`);\n        localStorage.removeItem(oldKey1);\n      }\n      if (localStorage.getItem(oldKey2)) {\n        console.log(`Clearing old stock data (v2) for station ${i}`);\n        localStorage.removeItem(oldKey2);\n      }\n      if (localStorage.getItem(currentKey)) {\n        console.log(`Clearing current stock data for station ${i}`);\n        localStorage.removeItem(currentKey);\n      }\n    }\n    \n    // Resync all configured stations\n    this.syncInventoryToStations();\n    \n    // Notify that data was cleared\n    window.dispatchEvent(new CustomEvent('stock:cleared'));\n    \n    console.log(' All stock data cleared and resynced');\n  }\n}\n\n// Create singleton instance\nconst inventoryIntegrationService = new InventoryIntegrationService();\n\nexport default inventoryIntegrationService;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","// src/context/AppContext.js\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\n// Create the context\nconst AppContext = createContext();\n\n// App modes\nexport const APP_MODES = {\n  PRODUCTION: 'production', // Real API mode\n  DEMO: 'demo'              // Demo mode with mock data\n};\n\nexport const AppProvider = ({ children }) => {\n  // Start in PRODUCTION mode by default\n  const [appMode, setAppMode] = useState(() => {\n    // Get saved mode from localStorage or default to PRODUCTION\n    const savedMode = localStorage.getItem('coffee_cue_app_mode');\n    return savedMode || APP_MODES.PRODUCTION;\n  });\n  \n  // Persist mode changes to localStorage\n  useEffect(() => {\n    localStorage.setItem('coffee_cue_app_mode', appMode);\n  }, [appMode]);\n  \n  // Toggle between modes\n  const toggleAppMode = () => {\n    const newMode = appMode === APP_MODES.PRODUCTION ? APP_MODES.DEMO : APP_MODES.PRODUCTION;\n    \n    // Pre-toggle: Save important data that should be preserved across mode switches\n    const customStations = localStorage.getItem('coffee_cue_stations');\n    const selectedStation = localStorage.getItem('coffee_cue_selected_station');\n    \n    // When switching to PRODUCTION mode, clear any lingering demo data from localStorage\n    if (newMode === APP_MODES.PRODUCTION) {\n      // Clear cached schedule data\n      localStorage.removeItem('coffee_cue_schedule');\n      \n      // Clear other demo data from localStorage\n      Object.keys(localStorage).forEach(key => {\n        if (key.startsWith('coffee_cue_demo_')) {\n          localStorage.removeItem(key);\n        }\n      });\n      \n      console.log('Cleared cached demo data from localStorage');\n    }\n    \n    // Set the new mode\n    setAppMode(newMode);\n    \n    // Post-toggle: Restore important data\n    if (customStations) {\n      localStorage.setItem('coffee_cue_stations', customStations);\n      console.log('Restored custom stations configuration after mode toggle');\n    }\n    \n    if (selectedStation) {\n      localStorage.setItem('coffee_cue_selected_station', selectedStation);\n      console.log('Restored selected station after mode toggle');\n    }\n  };\n  \n  // Reset demo data (only relevant in demo mode)\n  const resetDemoData = () => {\n    if (appMode === APP_MODES.DEMO) {\n      // Import MockDataService dynamically to avoid loading it in production mode\n      import('../services/MockDataService').then(module => {\n        const MockDataService = module.default;\n        MockDataService.resetDemoData();\n        \n        // Force a refresh to show the reset data\n        window.location.reload();\n      });\n    }\n  };\n  \n  return (\n    <AppContext.Provider value={{ \n      appMode, \n      setAppMode, \n      toggleAppMode,\n      resetDemoData,\n      isDemoMode: appMode === APP_MODES.DEMO,\n      isProductionMode: appMode === APP_MODES.PRODUCTION\n    }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\n// Custom hook for using the context\nexport const useAppMode = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useAppMode must be used within an AppProvider');\n  }\n  return context;\n};\n\nexport default AppContext;","// services/OrderDataService.refactored.js\nimport ApiService from './ApiService';\nimport { DEFAULT_MILK_TYPES } from '../utils/milkConfig';\n\n/**\n * Refactored OrderDataService that uses APIs with localStorage as fallback only\n */\nclass OrderDataService {\n  constructor() {\n    // Get the singleton ApiService instance\n    this.apiService = new ApiService();\n    this.debugMode = true;\n    \n    // Cache configuration\n    this.cacheTimeout = 60000; // 1 minute cache\n    this.cache = new Map();\n    \n    // WebSocket event subscriptions\n    this.setupWebSocketHandlers();\n    \n    console.log('OrderDataService (refactored) initialized');\n  }\n\n  /**\n   * Set authentication token\n   * @param {string} token - JWT token\n   */\n  setToken(token) {\n    // Pass token to ApiService\n    this.apiService.setToken(token);\n    \n    // Update WebSocket authentication\n    this.apiService.updateSocketAuth(token);\n    \n    // Clear cache when token changes\n    this.cache.clear();\n    \n    if (this.debugMode) {\n      console.log('OrderDataService: Token updated');\n    }\n  }\n\n  /**\n   * Setup WebSocket event handlers for real-time updates\n   */\n  setupWebSocketHandlers() {\n    // Subscribe to order events via window events (already dispatched by ApiService)\n    window.addEventListener('order_created', (event) => {\n      console.log('New order created:', event.detail);\n      this.invalidateCache('orders');\n      // Re-emit for components that might be listening\n      window.dispatchEvent(new CustomEvent('orderCreated', { detail: event.detail }));\n    });\n\n    window.addEventListener('order_updated', (event) => {\n      console.log('Order updated:', event.detail);\n      this.invalidateCache('orders');\n      window.dispatchEvent(new CustomEvent('orderUpdated', { detail: event.detail }));\n    });\n\n    window.addEventListener('order_completed', (event) => {\n      console.log('Order completed:', event.detail);\n      this.invalidateCache('orders');\n      window.dispatchEvent(new CustomEvent('orderCompleted', { detail: event.detail }));\n    });\n  }\n\n  /**\n   * Get orders from API with caching\n   * @param {number} stationId - Station ID to filter orders\n   * @returns {Promise<object>} Orders grouped by status\n   */\n  async getOrders(stationId = null) {\n    const cacheKey = `orders_${stationId || 'all'}`;\n    \n    // Check cache first\n    const cached = this.getFromCache(cacheKey);\n    if (cached) {\n      return cached;\n    }\n\n    try {\n      // Build query params\n      const params = new URLSearchParams();\n      if (stationId) {\n        params.append('station_id', stationId);\n      }\n\n      // Fetch from API\n      const response = await this.apiService.get(`/orders?${params.toString()}`);\n      \n      if (response.status === 'success') {\n        const orders = response.data || [];\n        \n        // Group orders by status\n        const groupedOrders = {\n          pendingOrders: orders.filter(o => o.status === 'pending'),\n          inProgressOrders: orders.filter(o => o.status === 'in_progress'),\n          completedOrders: orders.filter(o => o.status === 'completed')\n        };\n\n        // Cache the result\n        this.setCache(cacheKey, groupedOrders);\n        \n        // Update localStorage as backup (but don't rely on it)\n        this.updateLocalStorageBackup(stationId, groupedOrders);\n        \n        return groupedOrders;\n      }\n    } catch (error) {\n      console.error('Error fetching orders from API:', error);\n      \n      // Fallback to localStorage only if API fails\n      return this.getOrdersFromLocalStorage(stationId);\n    }\n\n    // Default empty structure\n    return {\n      pendingOrders: [],\n      inProgressOrders: [],\n      completedOrders: []\n    };\n  }\n\n  /**\n   * Create a new order\n   * @param {object} orderData - Order details\n   * @returns {Promise<object>} Created order\n   */\n  async createOrder(orderData) {\n    try {\n      const response = await this.apiService.post('/orders', orderData);\n      \n      if (response.status === 'success') {\n        // Invalidate cache\n        this.invalidateCache('orders');\n        \n        // Emit WebSocket event for other clients\n        this.apiService.sendMessage('order_created', response.data);\n        \n        return response.data;\n      }\n      \n      throw new Error(response.message || 'Failed to create order');\n    } catch (error) {\n      console.error('Error creating order:', error);\n      \n      // Fallback: Create locally and queue for sync\n      return this.createOrderLocally(orderData);\n    }\n  }\n\n  /**\n   * Update order status\n   * @param {string} orderId - Order ID\n   * @param {string} status - New status\n   * @param {object} additionalData - Additional data to update\n   * @returns {Promise<object>} Updated order\n   */\n  async updateOrderStatus(orderId, status, additionalData = {}) {\n    try {\n      const response = await this.apiService.put(`/orders/${orderId}/status`, {\n        status,\n        ...additionalData\n      });\n      \n      if (response.status === 'success') {\n        // Invalidate cache\n        this.invalidateCache('orders');\n        \n        // Emit WebSocket event\n        this.apiService.sendMessage('order_updated', {\n          order_id: orderId,\n          status,\n          ...additionalData\n        });\n        \n        return response.data;\n      }\n      \n      throw new Error(response.message || 'Failed to update order');\n    } catch (error) {\n      console.error('Error updating order:', error);\n      \n      // Fallback: Update locally and queue for sync\n      return this.updateOrderLocally(orderId, { status, ...additionalData });\n    }\n  }\n\n  /**\n   * Claim an order for a barista\n   * @param {string} orderId - Order ID\n   * @param {number} baristaId - Barista ID\n   * @param {number} stationId - Station ID\n   * @returns {Promise<object>} Updated order\n   */\n  async claimOrder(orderId, baristaId, stationId) {\n    return this.updateOrderStatus(orderId, 'in_progress', {\n      barista_id: baristaId,\n      station_id: stationId,\n      started_at: new Date().toISOString()\n    });\n  }\n\n  /**\n   * Complete an order\n   * @param {string} orderId - Order ID\n   * @returns {Promise<object>} Completed order\n   */\n  async completeOrder(orderId) {\n    return this.updateOrderStatus(orderId, 'completed', {\n      completed_at: new Date().toISOString()\n    });\n  }\n\n  /**\n   * Get walk-in order settings\n   * @returns {Promise<object>} Walk-in settings\n   */\n  async getWalkInSettings() {\n    try {\n      const response = await this.apiService.get('/settings/walkin');\n      \n      if (response.status === 'success') {\n        return response.data;\n      }\n    } catch (error) {\n      console.error('Error fetching walk-in settings:', error);\n    }\n\n    // Default settings\n    return {\n      milkTypes: DEFAULT_MILK_TYPES,\n      coffeeTypes: ['Flat White', 'Cappuccino', 'Latte', 'Long Black', 'Short Black'],\n      sizes: ['Small', 'Regular', 'Large']\n    };\n  }\n\n  /**\n   * Create walk-in order\n   * @param {object} orderData - Walk-in order details\n   * @returns {Promise<object>} Created order\n   */\n  async createWalkInOrder(orderData) {\n    return this.createOrder({\n      ...orderData,\n      source: 'walkin',\n      priority: true\n    });\n  }\n\n  // Cache management methods\n  \n  /**\n   * Get data from cache\n   * @param {string} key - Cache key\n   * @returns {any} Cached data or null\n   */\n  getFromCache(key) {\n    const cached = this.cache.get(key);\n    if (cached && Date.now() - cached.timestamp < this.cacheTimeout) {\n      if (this.debugMode) {\n        console.log(`Cache hit for ${key}`);\n      }\n      return cached.data;\n    }\n    return null;\n  }\n\n  /**\n   * Set data in cache\n   * @param {string} key - Cache key\n   * @param {any} data - Data to cache\n   */\n  setCache(key, data) {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Invalidate cache entries\n   * @param {string} prefix - Cache key prefix to invalidate\n   */\n  invalidateCache(prefix) {\n    for (const key of this.cache.keys()) {\n      if (key.startsWith(prefix)) {\n        this.cache.delete(key);\n      }\n    }\n  }\n\n  // Fallback methods for offline support\n\n  /**\n   * Update localStorage backup\n   * @param {number} stationId - Station ID\n   * @param {object} orders - Orders data\n   */\n  updateLocalStorageBackup(stationId, orders) {\n    try {\n      const key = `orders_backup_${stationId || 'all'}`;\n      localStorage.setItem(key, JSON.stringify({\n        data: orders,\n        timestamp: Date.now()\n      }));\n    } catch (error) {\n      console.error('Error updating localStorage backup:', error);\n    }\n  }\n\n  /**\n   * Get orders from localStorage (fallback)\n   * @param {number} stationId - Station ID\n   * @returns {object} Orders from localStorage\n   */\n  getOrdersFromLocalStorage(stationId) {\n    try {\n      const key = `orders_backup_${stationId || 'all'}`;\n      const stored = localStorage.getItem(key);\n      \n      if (stored) {\n        const { data } = JSON.parse(stored);\n        console.warn('Using localStorage fallback for orders');\n        return data;\n      }\n    } catch (error) {\n      console.error('Error reading from localStorage:', error);\n    }\n\n    return {\n      pendingOrders: [],\n      inProgressOrders: [],\n      completedOrders: []\n    };\n  }\n\n  /**\n   * Create order locally (offline fallback)\n   * @param {object} orderData - Order data\n   * @returns {object} Created order\n   */\n  createOrderLocally(orderData) {\n    const order = {\n      ...orderData,\n      id: `local_${Date.now()}`,\n      orderNumber: `L${Date.now().toString().slice(-6)}`,\n      createdAt: new Date().toISOString(),\n      status: 'pending',\n      syncPending: true\n    };\n\n    // Queue for sync\n    this.queueForSync('create', order);\n    \n    return order;\n  }\n\n  /**\n   * Update order locally (offline fallback)\n   * @param {string} orderId - Order ID\n   * @param {object} updates - Updates to apply\n   * @returns {object} Updated order\n   */\n  updateOrderLocally(orderId, updates) {\n    // Queue for sync\n    this.queueForSync('update', { orderId, updates });\n    \n    return { id: orderId, ...updates };\n  }\n\n  /**\n   * Queue operation for sync when online\n   * @param {string} operation - Operation type\n   * @param {object} data - Operation data\n   */\n  queueForSync(operation, data) {\n    try {\n      const queue = JSON.parse(localStorage.getItem('sync_queue') || '[]');\n      queue.push({\n        operation,\n        data,\n        timestamp: Date.now()\n      });\n      localStorage.setItem('sync_queue', JSON.stringify(queue));\n    } catch (error) {\n      console.error('Error queuing for sync:', error);\n    }\n  }\n\n  /**\n   * Process sync queue when connection is restored\n   */\n  async processSyncQueue() {\n    try {\n      const queue = JSON.parse(localStorage.getItem('sync_queue') || '[]');\n      \n      for (const item of queue) {\n        try {\n          if (item.operation === 'create') {\n            await this.createOrder(item.data);\n          } else if (item.operation === 'update') {\n            await this.updateOrderStatus(\n              item.data.orderId,\n              item.data.updates.status,\n              item.data.updates\n            );\n          }\n        } catch (error) {\n          console.error('Error processing sync item:', error);\n        }\n      }\n      \n      // Clear queue after processing\n      localStorage.removeItem('sync_queue');\n    } catch (error) {\n      console.error('Error processing sync queue:', error);\n    }\n  }\n\n  // Legacy method compatibility - methods expected by useOrders hook\n\n  /**\n   * Check API connection\n   * @returns {Promise<boolean>} Connection status\n   */\n  async checkConnection() {\n    try {\n      const response = await this.apiService.get('/health');\n      return response.status === 'success';\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Get pending orders\n   * @returns {Promise<Array>} Pending orders\n   */\n  async getPendingOrders() {\n    const orders = await this.getOrders();\n    return orders.pendingOrders || [];\n  }\n\n  /**\n   * Get in-progress orders\n   * @returns {Promise<Array>} In-progress orders\n   */\n  async getInProgressOrders() {\n    const orders = await this.getOrders();\n    return orders.inProgressOrders || [];\n  }\n\n  /**\n   * Get completed orders\n   * @returns {Promise<Array>} Completed orders\n   */\n  async getCompletedOrders() {\n    const orders = await this.getOrders();\n    return orders.completedOrders || [];\n  }\n\n  /**\n   * Update wait time\n   * @param {object} waitTimeData - Wait time data\n   * @returns {Promise<object>} Result\n   */\n  async updateWaitTime(waitTimeData) {\n    try {\n      const response = await this.apiService.put('/settings/wait-time', waitTimeData);\n      return { success: response.status === 'success' };\n    } catch (error) {\n      console.error('Error updating wait time:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Start an order (move to in-progress)\n   * @param {object} order - Order to start\n   * @param {number} stationId - Station ID\n   * @returns {Promise<object>} Result\n   */\n  async startOrder(order, stationId) {\n    try {\n      const result = await this.claimOrder(order.id || order.order_id, null, stationId);\n      return { success: true, data: result };\n    } catch (error) {\n      console.error('Error starting order:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Mark order as picked up\n   * @param {string} orderId - Order ID\n   * @returns {Promise<object>} Result\n   */\n  async markOrderPickedUp(orderId) {\n    try {\n      const result = await this.updateOrderStatus(orderId, 'picked_up');\n      return { success: true, data: result };\n    } catch (error) {\n      console.error('Error marking order as picked up:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Process batch of orders\n   * @param {Array<string>} orderIds - Order IDs\n   * @returns {Promise<object>} Result\n   */\n  async processBatch(orderIds) {\n    try {\n      const response = await this.apiService.post('/orders/batch/process', { order_ids: orderIds });\n      return { success: response.status === 'success', data: response.data };\n    } catch (error) {\n      console.error('Error processing batch:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Process batch selection\n   * @param {Array<string>} orderIds - Selected order IDs\n   * @returns {Promise<object>} Result\n   */\n  async processBatchSelection(orderIds) {\n    return this.processBatch(orderIds);\n  }\n\n  /**\n   * Add walk-in order\n   * @param {object} orderData - Walk-in order data\n   * @returns {Promise<object>} Result\n   */\n  async addWalkInOrder(orderData) {\n    try {\n      const result = await this.createWalkInOrder(orderData);\n      return { success: true, data: result };\n    } catch (error) {\n      console.error('Error adding walk-in order:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Send message to customer\n   * @param {string} orderId - Order ID\n   * @param {string} message - Message to send\n   * @returns {Promise<object>} Result\n   */\n  async sendMessageToCustomer(orderId, message) {\n    try {\n      const response = await this.apiService.post(`/orders/${orderId}/message`, { message });\n      return { success: response.status === 'success' };\n    } catch (error) {\n      console.error('Error sending message:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Delay an order\n   * @param {string} orderId - Order ID\n   * @param {number} minutes - Minutes to delay\n   * @returns {Promise<object>} Result\n   */\n  async delayOrder(orderId, minutes) {\n    try {\n      const response = await this.apiService.post(`/orders/${orderId}/delay`, { minutes });\n      return { success: response.status === 'success', data: response.data };\n    } catch (error) {\n      console.error('Error delaying order:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Get yesterday's orders\n   * @param {number} stationId - Station ID\n   * @returns {Promise<object>} Result\n   */\n  async getYesterdayOrders(stationId) {\n    try {\n      const params = new URLSearchParams({ \n        station_id: stationId,\n        date: 'yesterday' \n      });\n      const response = await this.apiService.get(`/orders?${params.toString()}`);\n      return { \n        success: response.status === 'success', \n        data: response.data || [] \n      };\n    } catch (error) {\n      console.error('Error getting yesterday orders:', error);\n      return { success: false, data: [] };\n    }\n  }\n\n  /**\n   * Get this week's orders\n   * @param {number} stationId - Station ID\n   * @returns {Promise<object>} Result\n   */\n  async getThisWeekOrders(stationId) {\n    try {\n      const params = new URLSearchParams({ \n        station_id: stationId,\n        date: 'week' \n      });\n      const response = await this.apiService.get(`/orders?${params.toString()}`);\n      return { \n        success: response.status === 'success', \n        data: response.data || [] \n      };\n    } catch (error) {\n      console.error('Error getting week orders:', error);\n      return { success: false, data: [] };\n    }\n  }\n\n  /**\n   * Search orders\n   * @param {string} searchTerm - Search term\n   * @param {number} stationId - Station ID\n   * @returns {Promise<object>} Result\n   */\n  async searchOrders(searchTerm, stationId) {\n    try {\n      const params = new URLSearchParams({ \n        q: searchTerm,\n        station_id: stationId \n      });\n      const response = await this.apiService.get(`/orders/search?${params.toString()}`);\n      return { \n        success: response.status === 'success', \n        data: response.data || [] \n      };\n    } catch (error) {\n      console.error('Error searching orders:', error);\n      return { success: false, data: [] };\n    }\n  }\n\n  /**\n   * Get order history\n   * @param {object} filters - Filter options\n   * @returns {Promise<object>} Result\n   */\n  async getOrderHistory(filters) {\n    try {\n      const params = new URLSearchParams(filters);\n      const response = await this.apiService.get(`/orders/history?${params.toString()}`);\n      return { \n        success: response.status === 'success', \n        data: response.data || [] \n      };\n    } catch (error) {\n      console.error('Error getting order history:', error);\n      return { success: false, data: [] };\n    }\n  }\n}\n\n// Create and export singleton instance\nconst orderDataService = new OrderDataService();\nexport default orderDataService;","// Milk type configuration constants\n// This file provides centralized configuration for milk types\n// across the application to ensure consistency\n\n/**\n * Default milk types with their properties\n */\nexport const DEFAULT_MILK_TYPES = [\n  // Standard Milks\n  {\n    id: 'full_cream',\n    name: 'Full Cream Milk',\n    category: 'standard',\n    available: true,\n    properties: {\n      dairyFree: false,\n      lactoseFree: false,\n      vegan: false,\n      lowFat: false\n    }\n  },\n  {\n    id: 'skim',\n    name: 'Skim Milk',\n    category: 'standard',\n    available: true,\n    properties: {\n      dairyFree: false,\n      lactoseFree: false,\n      vegan: false,\n      lowFat: true\n    }\n  },\n  {\n    id: 'reduced_fat',\n    name: 'Reduced Fat Milk',\n    category: 'standard',\n    available: true,\n    properties: {\n      dairyFree: false,\n      lactoseFree: false,\n      vegan: false,\n      lowFat: true\n    }\n  },\n  {\n    id: 'lactose_free',\n    name: 'Lactose-Free Milk',\n    category: 'standard',\n    available: true,\n    properties: {\n      dairyFree: false,\n      lactoseFree: true,\n      vegan: false,\n      lowFat: false\n    }\n  },\n  \n  // Alternative Milks\n  {\n    id: 'soy',\n    name: 'Soy Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: false\n    }\n  },\n  {\n    id: 'oat',\n    name: 'Oat Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: false\n    }\n  },\n  {\n    id: 'almond',\n    name: 'Almond Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: true\n    }\n  },\n  {\n    id: 'coconut',\n    name: 'Coconut Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: false\n    }\n  },\n  {\n    id: 'macadamia',\n    name: 'Macadamia Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: false\n    }\n  },\n  {\n    id: 'rice',\n    name: 'Rice Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: false\n    }\n  },\n  {\n    id: 'hemp',\n    name: 'Hemp Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: true\n    }\n  },\n  {\n    id: 'cashew',\n    name: 'Cashew Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: false\n    }\n  },\n  {\n    id: 'pea',\n    name: 'Pea Milk',\n    category: 'alternative',\n    available: true,\n    properties: {\n      dairyFree: true,\n      lactoseFree: true,\n      vegan: true,\n      lowFat: true\n    }\n  }\n];\n\n/**\n * Get milk type information by ID\n * @param {string} id - Milk type ID\n * @returns {Object|null} - Milk type object or null if not found\n */\nexport const getMilkTypeById = (id) => {\n  return DEFAULT_MILK_TYPES.find(milk => milk.id === id) || null;\n};\n\n/**\n * Get milk type information by name\n * @param {string} name - Milk type name\n * @returns {Object|null} - Milk type object or null if not found\n */\nexport const getMilkTypeByName = (name) => {\n  return DEFAULT_MILK_TYPES.find(milk => milk.name === name) || null;\n};\n\n/**\n * Get all standard milk types\n * @returns {Array} - Array of standard milk types\n */\nexport const getStandardMilks = () => {\n  return DEFAULT_MILK_TYPES.filter(milk => milk.category === 'standard');\n};\n\n/**\n * Get all alternative milk types\n * @returns {Array} - Array of alternative milk types\n */\nexport const getAlternativeMilks = () => {\n  return DEFAULT_MILK_TYPES.filter(milk => milk.category === 'alternative');\n};\n\n/**\n * Get all available milk types\n * @param {Object} settings - Application settings\n * @returns {Array} - Array of available milk types based on settings\n */\nexport const getAvailableMilks = (settings) => {\n  if (!settings || !settings.availableMilks) {\n    // Default to all milks if no settings provided\n    return DEFAULT_MILK_TYPES;\n  }\n  \n  // Filter based on the availableMilks setting\n  return DEFAULT_MILK_TYPES.filter(milk => \n    settings.availableMilks[milk.id] === true\n  );\n};\n\n/**\n * Find closest matching milk types for a requested milk that's unavailable\n * Used primarily for SMS suggestions when a customer requests an unavailable milk\n * @param {string} requestedMilk - The milk type requested (name or id)\n * @param {Object} settings - Application settings with availableMilks\n * @param {number} limit - Max number of suggestions to return\n * @returns {Array} - Array of similar available milk types\n */\nexport const getSimilarMilkSuggestions = (requestedMilk, settings, limit = 3) => {\n  // If no milk requested, return empty array\n  if (!requestedMilk) return [];\n  \n  // Get available milks\n  const availableMilks = getAvailableMilks(settings);\n  if (availableMilks.length === 0) return [];\n  \n  // Find the requested milk type\n  let requestedMilkObj = null;\n  \n  // Try to find by id first\n  requestedMilkObj = getMilkTypeById(requestedMilk);\n  \n  // If not found by id, try by name\n  if (!requestedMilkObj) {\n    // Case insensitive search\n    const normalizedName = requestedMilk.toLowerCase();\n    \n    // Try exact match first\n    requestedMilkObj = DEFAULT_MILK_TYPES.find(\n      milk => milk.name.toLowerCase() === normalizedName\n    );\n    \n    // If still not found, try partial match\n    if (!requestedMilkObj) {\n      requestedMilkObj = DEFAULT_MILK_TYPES.find(\n        milk => milk.name.toLowerCase().includes(normalizedName) ||\n               normalizedName.includes(milk.name.toLowerCase())\n      );\n    }\n  }\n  \n  // If we found the requested milk type, suggest similar available alternatives\n  if (requestedMilkObj) {\n    const isRequestedDairy = !requestedMilkObj.properties.dairyFree;\n    const isRequestedLactoseFree = requestedMilkObj.properties.lactoseFree;\n    const isRequestedLowFat = requestedMilkObj.properties.lowFat;\n    \n    // Score each available milk by similarity\n    const scoredMilks = availableMilks.map(milk => {\n      let score = 0;\n      \n      // Same category is a strong match\n      if (milk.category === requestedMilkObj.category) {\n        score += 3;\n      }\n      \n      // Same dairy/non-dairy status is important\n      if (milk.properties.dairyFree === !isRequestedDairy) {\n        score += 2;\n      }\n      \n      // Match lactose-free property\n      if (milk.properties.lactoseFree === isRequestedLactoseFree) {\n        score += 1;\n      }\n      \n      // Match low-fat property\n      if (milk.properties.lowFat === isRequestedLowFat) {\n        score += 1;\n      }\n      \n      return {\n        milk,\n        score\n      };\n    });\n    \n    // Sort by score (highest first) and return top suggestions\n    return scoredMilks\n      .sort((a, b) => b.score - a.score)\n      .slice(0, limit)\n      .map(item => item.milk);\n  }\n  \n  // If we couldn't find the requested milk, return top available milks\n  return availableMilks.slice(0, limit);\n};\n\n/**\n * Check if a milk type is available based on settings\n * @param {string} milkTypeId - Milk type ID\n * @param {Object} settings - Application settings\n * @returns {boolean} - True if milk is available\n */\nexport const isMilkAvailable = (milkTypeId, settings) => {\n  if (!settings || !settings.availableMilks) {\n    return true; // Default to available if no settings\n  }\n  \n  return settings.availableMilks[milkTypeId] === true;\n};\n\n/**\n * Format a list of milk types into a readable string for SMS messages\n * @param {Array} milkTypes - Array of milk type objects\n * @returns {string} - Formatted string of milk types\n */\nexport const formatMilkListForSMS = (milkTypes) => {\n  if (!milkTypes || milkTypes.length === 0) {\n    return \"no milk options available\";\n  }\n  \n  // Return \"no milk\" as an option if there's only one milk type\n  if (milkTypes.length === 1) {\n    return `${milkTypes[0].name} or no milk`;\n  }\n  \n  // Format the list with Oxford comma and \"or\" for the last item\n  const names = milkTypes.map(milk => milk.name);\n  \n  if (names.length === 2) {\n    return `${names[0]} or ${names[1]} (or no milk)`;\n  }\n  \n  const lastMilk = names.pop();\n  return `${names.join(', ')}, or ${lastMilk} (or no milk)`;\n};","// services/StockService.js\nimport ApiService from './ApiService';\nimport InventoryIntegrationService from './InventoryIntegrationService';\n\n/**\n * Service for inventory management\n * Extends ApiService to inherit authentication and API functionality\n * Added localStorage support for station-specific stock management\n */\nclass StockService {\n  constructor() {\n    // Get ApiService singleton instance instead of extending\n    this.apiService = new ApiService();\n    this.baseUrl = 'http://localhost:5001/api';\n    this.debugMode = true;\n    this.enableFallback = false; // Disabled by default\n    \n    // Track current station\n    this.stationId = null;\n    this.stationName = null;\n    this.initialized = false;\n    this.listeners = [];\n    \n    // Map to standardize milk type IDs\n    this.milkTypeMap = {\n      // Standard ID format mapping\n      'full_cream': 'milk_regular',\n      'skim': 'milk_skim',\n      'reduced_fat': 'milk_reduced_fat',\n      'lactose_free': 'milk_lactose_free',\n      'soy': 'milk_soy',\n      'oat': 'milk_oat',\n      'almond': 'milk_almond',\n      'coconut': 'milk_coconut',\n      'macadamia': 'milk_macadamia',\n      'rice': 'milk_rice', \n      'hemp': 'milk_hemp',\n      'cashew': 'milk_cashew',\n      'pea': 'milk_pea',\n      \n      // Reverse mapping (with prefix)\n      'milk_regular': 'full_cream',\n      'milk_skim': 'skim',\n      'milk_reduced_fat': 'reduced_fat',\n      'milk_lactose_free': 'lactose_free',\n      'milk_soy': 'soy',\n      'milk_oat': 'oat',\n      'milk_almond': 'almond',\n      'milk_coconut': 'coconut',\n      'milk_macadamia': 'macadamia',\n      'milk_rice': 'rice',\n      'milk_hemp': 'hemp',\n      'milk_cashew': 'cashew',\n      'milk_pea': 'pea'\n    };\n    \n    // Default stock templates for new stations\n    this.defaultStockItems = {\n      milk: [\n        { id: 'milk_regular', name: 'Regular Milk', amount: 20, capacity: 20, unit: 'L', status: 'good', lowThreshold: 5, criticalThreshold: 2 },\n        { id: 'milk_skim', name: 'Skim Milk', amount: 10, capacity: 10, unit: 'L', status: 'good', lowThreshold: 3, criticalThreshold: 1 },\n        { id: 'milk_almond', name: 'Almond Milk', amount: 5, capacity: 5, unit: 'L', status: 'good', lowThreshold: 2, criticalThreshold: 1 },\n        { id: 'milk_soy', name: 'Soy Milk', amount: 5, capacity: 5, unit: 'L', status: 'good', lowThreshold: 2, criticalThreshold: 1 }\n      ],\n      coffee: [\n        { id: 'coffee_house', name: 'House Blend', amount: 5, capacity: 5, unit: 'kg', status: 'good', lowThreshold: 1.5, criticalThreshold: 0.5 },\n        { id: 'coffee_dark', name: 'Dark Roast', amount: 3, capacity: 3, unit: 'kg', status: 'good', lowThreshold: 1, criticalThreshold: 0.3 },\n        { id: 'coffee_decaf', name: 'Decaf Blend', amount: 2, capacity: 2, unit: 'kg', status: 'good', lowThreshold: 0.5, criticalThreshold: 0.2 }\n      ],\n      cups: [\n        { id: 'cups_small', name: 'Small Cups', amount: 200, capacity: 200, unit: 'pcs', status: 'good', lowThreshold: 50, criticalThreshold: 20 },\n        { id: 'cups_medium', name: 'Medium Cups', amount: 200, capacity: 200, unit: 'pcs', status: 'good', lowThreshold: 50, criticalThreshold: 20 },\n        { id: 'cups_large', name: 'Large Cups', amount: 100, capacity: 100, unit: 'pcs', status: 'good', lowThreshold: 30, criticalThreshold: 10 }\n      ],\n      syrups: [\n        { id: 'syrup_vanilla', name: 'Vanilla Syrup', amount: 2, capacity: 2, unit: 'L', status: 'good', lowThreshold: 0.5, criticalThreshold: 0.2 },\n        { id: 'syrup_caramel', name: 'Caramel Syrup', amount: 2, capacity: 2, unit: 'L', status: 'good', lowThreshold: 0.5, criticalThreshold: 0.2 },\n        { id: 'syrup_hazelnut', name: 'Hazelnut Syrup', amount: 1, capacity: 1, unit: 'L', status: 'good', lowThreshold: 0.3, criticalThreshold: 0.1 }\n      ],\n      other: [\n        { id: 'sugar_white', name: 'White Sugar', amount: 5, capacity: 5, unit: 'kg', status: 'good', lowThreshold: 1, criticalThreshold: 0.5 },\n        { id: 'sugar_brown', name: 'Brown Sugar', amount: 3, capacity: 3, unit: 'kg', status: 'good', lowThreshold: 0.8, criticalThreshold: 0.3 },\n        { id: 'sweetener', name: 'Sweetener', amount: 500, capacity: 500, unit: 'pcs', status: 'good', lowThreshold: 100, criticalThreshold: 50 }\n      ]\n    };\n  }\n  \n  /**\n   * Initialize service for a specific station\n   * @param {number|string} stationId - Station ID\n   * @param {string} stationName - Station name\n   */\n  initialize(stationId, stationName) {\n    console.log(`Initializing StockService for station: ${stationId} (${stationName})`);\n    \n    // Normalize station ID to ensure consistent storage keys\n    this.stationId = typeof stationId === 'string' ? parseInt(stationId, 10) : stationId;\n    this.stationName = stationName;\n    this.initialized = true;\n    \n    // Load initial stock data for this station\n    this._loadLocalStockData();\n  }\n  \n  /**\n   * Helper method to normalize milk type IDs between different formats\n   * @param {string} milkId - The milk ID to normalize\n   * @returns {string[]} - Array of possible normalized IDs\n   * @private\n   */\n  _normalizeMilkId(milkId) {\n    const results = new Set();\n    if (!milkId) return Array.from(results);\n    \n    // Add original ID\n    results.add(milkId);\n    \n    // Add mapped ID if available\n    if (this.milkTypeMap[milkId]) {\n      results.add(this.milkTypeMap[milkId]);\n    }\n    \n    // Add version with prefix if not present\n    if (!milkId.startsWith('milk_')) {\n      results.add(`milk_${milkId}`);\n    }\n    \n    // Add version without prefix if present\n    if (milkId.startsWith('milk_')) {\n      results.add(milkId.substring(5));\n    }\n    \n    return Array.from(results);\n  }\n  \n  /**\n   * Get the localStorage key for station-specific stock data\n   * @returns {string} - The localStorage key\n   * @private\n   */\n  _getStationStockKey() {\n    return `coffee_stock_station_${this.stationId}`;\n  }\n  \n  /**\n   * Load stock data for the current station from localStorage\n   * If no data exists, initialize with default values\n   * @returns {Object} - The loaded stock data\n   * @private\n   */\n  _loadLocalStockData() {\n    if (!this.initialized) {\n      console.warn('StockService not initialized for a station, cannot load local stock data');\n      return null;\n    }\n    \n    try {\n      console.log(` Loading stock data for station ${this.stationId} (${this.stationName})`);\n      \n      // First try to get stock data from the inventory integration service\n      let stationStock = InventoryIntegrationService.getStationStock(this.stationId);\n      console.log(` Integration service stock for station ${this.stationId}:`, stationStock);\n      \n      if (!stationStock) {\n        console.log(` No integration stock found, trying manual sync for station ${this.stationId}`);\n        \n        // Try to sync from organiser inventory\n        const syncResult = InventoryIntegrationService.forceSyncStation(this.stationId);\n        \n        if (syncResult) {\n          // Try to get the synced data\n          stationStock = InventoryIntegrationService.getStationStock(this.stationId);\n          console.log(` Post-sync stock for station ${this.stationId}:`, stationStock);\n        }\n        \n        if (!stationStock) {\n          // Check local storage as fallback\n          const stockKey = this._getStationStockKey();\n          const savedStock = localStorage.getItem(stockKey);\n          console.log(` Local storage stock key: ${stockKey}, data:`, savedStock ? 'exists' : 'not found');\n          \n          if (savedStock) {\n            // If data exists, parse it\n            stationStock = JSON.parse(savedStock);\n            console.log(` Loaded existing local stock data for station ${this.stationId}`);\n          } else {\n            // Last resort: use defaults\n            stationStock = { ...this.defaultStockItems };\n            console.log(` Using default stock items for station ${this.stationId} - no organiser data found`);\n            \n            // Save the default data\n            this._saveLocalStockData(stationStock);\n          }\n        } else {\n          console.log(` Successfully loaded integrated stock data for station ${this.stationId}`);\n          // Save the integrated data to local storage for faster access\n          this._saveLocalStockData(stationStock);\n        }\n      } else {\n        console.log(` Loaded pre-existing integrated stock data for station ${this.stationId}`);\n      }\n      \n      console.log(` Final stock data for station ${this.stationId}:`, stationStock);\n      \n      // Notify listeners\n      this._notifyListeners(stationStock);\n      \n      return stationStock;\n    } catch (error) {\n      console.error(` Error loading stock data for station ${this.stationId}:`, error);\n      const fallbackStock = { ...this.defaultStockItems };\n      console.log(` Using fallback stock for station ${this.stationId}:`, fallbackStock);\n      return fallbackStock;\n    }\n  }\n  \n  /**\n   * Save stock data for the current station to localStorage\n   * @param {Object} stockData - The stock data to save\n   * @returns {boolean} - Success status\n   * @private\n   */\n  _saveLocalStockData(stockData) {\n    if (!this.initialized) {\n      console.warn('StockService not initialized for a station, cannot save local stock data');\n      return false;\n    }\n    \n    try {\n      // Save the station-specific stock data\n      const stockKey = this._getStationStockKey();\n      localStorage.setItem(stockKey, JSON.stringify(stockData));\n      \n      // Notify listeners\n      this._notifyListeners(stockData);\n      \n      console.log(`Saved stock data for station ${this.stationId}`);\n      return true;\n    } catch (error) {\n      console.error('Error saving local stock data:', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Add a listener for stock data updates\n   * @param {Function} listener - Callback function\n   * @returns {Function} - Function to remove the listener\n   */\n  addListener(listener) {\n    if (typeof listener === 'function' && !this.listeners.includes(listener)) {\n      this.listeners.push(listener);\n    }\n    \n    // Return function to remove this listener\n    return () => {\n      this.removeListener(listener);\n    };\n  }\n  \n  /**\n   * Remove a listener\n   * @param {Function} listener - Listener to remove\n   */\n  removeListener(listener) {\n    const index = this.listeners.indexOf(listener);\n    if (index !== -1) {\n      this.listeners.splice(index, 1);\n    }\n  }\n  \n  /**\n   * Notify all listeners of stock data updates\n   * @param {Object} stockData - Updated stock data\n   * @private\n   */\n  _notifyListeners(stockData) {\n    this.listeners.forEach(listener => {\n      try {\n        listener(stockData);\n      } catch (error) {\n        console.error('Error notifying stock listener:', error);\n      }\n    });\n  }\n  \n  /**\n   * Get all stock items for the current station\n   * @returns {Object} - All stock items by category\n   */\n  getLocalStock() {\n    return this._loadLocalStockData();\n  }\n  \n  /**\n   * Get stock items for a specific category from local storage\n   * @param {string} category - The stock category to retrieve\n   * @returns {Array} - Stock items for the category\n   */\n  getLocalCategoryStock(category) {\n    const allStock = this._loadLocalStockData();\n    return allStock[category] || [];\n  }\n  \n  /**\n   * Update a stock item's amount in local storage\n   * @param {string} category - The category the item belongs to\n   * @param {string} itemId - The ID of the item to update\n   * @param {number} newAmount - The new amount\n   * @returns {boolean} - Success status\n   */\n  updateLocalStockAmount(category, itemId, newAmount) {\n    try {\n      // Get current stock data\n      const stockData = this._loadLocalStockData();\n      \n      // Find the category and item\n      if (!stockData[category]) {\n        console.error(`Category ${category} not found`);\n        return false;\n      }\n      \n      // Find item index\n      const itemIndex = stockData[category].findIndex(item => item.id === itemId);\n      if (itemIndex === -1) {\n        console.error(`Item ${itemId} not found in ${category}`);\n        return false;\n      }\n      \n      // Parse and validate the new amount\n      let parsedAmount;\n      if (typeof newAmount === 'string') {\n        parsedAmount = parseFloat(newAmount);\n        if (isNaN(parsedAmount)) {\n          console.error('Invalid amount value:', newAmount);\n          return false;\n        }\n      } else {\n        parsedAmount = newAmount;\n      }\n      \n      // Update amount (ensure it's within valid range)\n      parsedAmount = Math.max(0, Math.min(parsedAmount, stockData[category][itemIndex].capacity));\n      stockData[category][itemIndex].amount = parsedAmount;\n      \n      // Update status based on thresholds\n      if (parsedAmount <= stockData[category][itemIndex].criticalThreshold) {\n        stockData[category][itemIndex].status = 'danger';\n      } else if (parsedAmount <= stockData[category][itemIndex].lowThreshold) {\n        stockData[category][itemIndex].status = 'warning';\n      } else {\n        stockData[category][itemIndex].status = 'good';\n      }\n      \n      // Save updated data\n      this._saveLocalStockData(stockData);\n      \n      return true;\n    } catch (error) {\n      console.error('Error updating local stock amount:', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Get available milk types for the current station\n   * @returns {Array} - Array of milk items that are available (amount > 0) at this station\n   */\n  getAvailableMilkTypes() {\n    if (!this.initialized) {\n      console.warn('StockService not initialized for a station, cannot get available milk types');\n      return [];\n    }\n    \n    try {\n      // Get current stock data\n      const stockData = this._loadLocalStockData();\n      \n      // Get milk items with amount > 0\n      if (!stockData.milk || !Array.isArray(stockData.milk)) {\n        console.warn(`StockService: Station ${this.stationId} has no milk inventory!`);\n        return [];\n      }\n      \n      // Log all milk items for debugging\n      console.log(`StockService: Station ${this.stationId} has ${stockData.milk.length} total milk items:`,\n        stockData.milk.map(m => `${m.name} (${m.id}): ${m.amount} ${m.unit}`));\n      \n      // Return ONLY the milk items with amount > 0\n      const availableMilkItems = stockData.milk.filter(item => \n        typeof item.amount === 'number' && item.amount > 0\n      );\n      \n      // Log zero quantity milk items for debugging\n      const zeroMilkItems = stockData.milk.filter(item => \n        typeof item.amount !== 'number' || item.amount <= 0\n      );\n      \n      if (zeroMilkItems.length > 0) {\n        console.log(`StockService: Station ${this.stationId} has ${zeroMilkItems.length} milk types with zero quantity:`, \n          zeroMilkItems.map(m => `${m.name} (${m.id}): ${m.amount} ${m.unit}`));\n      }\n      \n      // Log available milk items for debugging\n      console.log(`StockService: Station ${this.stationId} has ${availableMilkItems.length} milk types AVAILABLE:`, \n        availableMilkItems.map(m => `${m.name} (${m.id}): ${m.amount} ${m.unit}`));\n      \n      return availableMilkItems;\n    } catch (error) {\n      console.error('Error getting available milk types:', error);\n      return [];\n    }\n  }\n  \n  /**\n   * Get available coffee types for the current station\n   * @returns {Array} - Array of coffee items that are available (amount > 0) at this station\n   */\n  getAvailableCoffeeTypes() {\n    if (!this.initialized) {\n      console.warn('StockService not initialized for a station, cannot get available coffee types');\n      return [];\n    }\n    \n    try {\n      // Get current stock data\n      const stockData = this._loadLocalStockData();\n      \n      // Get coffee items with amount > 0\n      if (!stockData.coffee || !Array.isArray(stockData.coffee)) {\n        console.warn(`StockService: Station ${this.stationId} has no coffee inventory!`);\n        return [];\n      }\n      \n      // Log all coffee items for debugging\n      console.log(`StockService: Station ${this.stationId} has ${stockData.coffee.length} total coffee items:`,\n        stockData.coffee.map(c => `${c.name} (${c.id}): ${c.amount} ${c.unit}`));\n      \n      // Return ONLY the coffee items with amount > 0\n      const availableCoffeeItems = stockData.coffee.filter(item => \n        typeof item.amount === 'number' && item.amount > 0\n      );\n      \n      // Log zero quantity coffee items for debugging\n      const zeroCoffeeItems = stockData.coffee.filter(item => \n        typeof item.amount !== 'number' || item.amount <= 0\n      );\n      \n      if (zeroCoffeeItems.length > 0) {\n        console.log(`StockService: Station ${this.stationId} has ${zeroCoffeeItems.length} coffee types with zero quantity:`, \n          zeroCoffeeItems.map(c => `${c.name} (${c.id}): ${c.amount} ${c.unit}`));\n      }\n      \n      // Log available coffee items for debugging\n      console.log(`StockService: Station ${this.stationId} has ${availableCoffeeItems.length} coffee types AVAILABLE:`, \n        availableCoffeeItems.map(c => `${c.name} (${c.id}): ${c.amount} ${c.unit}`));\n      \n      return availableCoffeeItems;\n    } catch (error) {\n      console.error('Error getting available coffee types:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get available cup sizes for the current station\n   * @returns {Object} - Object with size keys (small, regular, large) and boolean values\n   */\n  getAvailableCupSizes() {\n    if (!this.initialized) {\n      console.warn('StockService not initialized for a station, cannot get available cup sizes');\n      return { small: true, regular: true, large: true };\n    }\n    \n    try {\n      // Get current stock data\n      const stockData = this._loadLocalStockData();\n      \n      // Default to all sizes unavailable\n      const result = { small: false, regular: false, large: false };\n      \n      // Get cup items with amount > 0\n      if (!stockData.cups || !Array.isArray(stockData.cups)) {\n        console.warn(`StockService: Station ${this.stationId} has no cups inventory!`);\n        // Default to regular cup size available if no cups inventory\n        return { small: false, regular: true, large: false };\n      }\n      \n      // Log all cup items for debugging\n      console.log(`StockService: Station ${this.stationId} has ${stockData.cups.length} total cup items:`,\n        stockData.cups.map(c => `${c.name} (${c.id}): ${c.amount} ${c.unit}`));\n      \n      // Get ONLY the cup items with amount > 0\n      const availableCups = stockData.cups.filter(item => \n        typeof item.amount === 'number' && item.amount > 0\n      );\n      \n      // Log zero quantity cup items for debugging\n      const zeroCups = stockData.cups.filter(item => \n        typeof item.amount !== 'number' || item.amount <= 0\n      );\n      \n      if (zeroCups.length > 0) {\n        console.log(`StockService: Station ${this.stationId} has ${zeroCups.length} cup types with zero quantity:`, \n          zeroCups.map(c => `${c.name} (${c.id}): ${c.amount} ${c.unit}`));\n      }\n      \n      // Check which cup sizes are available\n      availableCups.forEach(item => {\n        // Match by ID\n        if (item.id === 'cups_small') result.small = true;\n        if (item.id === 'cups_medium') result.regular = true;\n        if (item.id === 'cups_large') result.large = true;\n        \n        // Also match by name for robustness\n        const nameLower = item.name.toLowerCase();\n        if (nameLower.includes('small')) result.small = true;\n        if (nameLower.includes('medium') || nameLower.includes('regular')) result.regular = true;\n        if (nameLower.includes('large')) result.large = true;\n      });\n      \n      // Ensure at least one size is available\n      const anyAvailable = result.small || result.regular || result.large;\n      if (!anyAvailable) {\n        console.warn('No cup sizes available, defaulting to Regular');\n        result.regular = true; // Default to regular if nothing available\n      }\n      \n      console.log(`StockService: Station ${this.stationId} has these cup sizes available:`, \n        Object.entries(result)\n          .filter(([_, available]) => available)\n          .map(([size]) => size)\n          .join(', '));\n      \n      return result;\n    } catch (error) {\n      console.error('Error getting available cup sizes:', error);\n      // Default to regular cup size available on error\n      return { small: false, regular: true, large: false };\n    }\n  }\n  \n  /**\n   * Add a new stock item to local storage\n   * @param {string} category - The category to add the item to\n   * @param {Object} itemData - The item data\n   * @returns {boolean} - Success status\n   */\n  addLocalStockItem(category, itemData) {\n    try {\n      // Get current stock data\n      const stockData = this._loadLocalStockData();\n      \n      // Create or ensure category exists\n      if (!stockData[category]) {\n        stockData[category] = [];\n      }\n      \n      // Generate ID if not provided\n      if (!itemData.id) {\n        itemData.id = `${category}_${Date.now()}`;\n      }\n      \n      // Add default values if not provided\n      const newItem = {\n        capacity: itemData.amount || 0,\n        status: 'good',\n        lowThreshold: itemData.capacity ? itemData.capacity * 0.25 : 0,\n        criticalThreshold: itemData.capacity ? itemData.capacity * 0.1 : 0,\n        ...itemData\n      };\n      \n      // Add item to category\n      stockData[category].push(newItem);\n      \n      // Save updated data\n      this._saveLocalStockData(stockData);\n      \n      return true;\n    } catch (error) {\n      console.error('Error adding local stock item:', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Delete a stock item from local storage\n   * @param {string} category - The category containing the item\n   * @param {string} itemId - The ID of the item to delete\n   * @returns {boolean} - Success status\n   */\n  deleteLocalStockItem(category, itemId) {\n    try {\n      // Get current stock data\n      const stockData = this._loadLocalStockData();\n      \n      // Find the category and item\n      if (!stockData[category]) {\n        console.error(`Category ${category} not found`);\n        return false;\n      }\n      \n      // Remove item\n      stockData[category] = stockData[category].filter(item => item.id !== itemId);\n      \n      // Save updated data\n      this._saveLocalStockData(stockData);\n      \n      return true;\n    } catch (error) {\n      console.error('Error deleting local stock item:', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Reset stock data for the current station to defaults\n   * @returns {boolean} - Success status\n   */\n  resetStationStock() {\n    try {\n      this._saveLocalStockData({ ...this.defaultStockItems });\n      return true;\n    } catch (error) {\n      console.error('Error resetting station stock data:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Deplete stock based on completed order\n   * @param {Object} order - The completed order\n   * @returns {boolean} - Success status\n   */\n  depleteStockForOrder(order) {\n    if (!this.initialized) {\n      console.warn('StockService not initialized, cannot deplete stock');\n      return false;\n    }\n\n    try {\n      console.log(`Depleting stock for order: ${order.customerName} - ${order.coffeeType}`);\n      \n      const stockData = this._loadLocalStockData();\n      if (!stockData) {\n        console.warn('No stock data available for depletion');\n        return false;\n      }\n\n      let stockUpdated = false;\n\n      // Deplete coffee based on shots (default 1 shot = 0.01kg coffee)\n      const shots = order.shots || 1;\n      const coffeeUsage = shots * 0.01; // 10g per shot\n      \n      if (stockData.coffee && stockData.coffee.length > 0) {\n        // Use the first available coffee (house blend)\n        const coffeeItem = stockData.coffee[0];\n        if (coffeeItem.amount >= coffeeUsage) {\n          coffeeItem.amount = Math.max(0, coffeeItem.amount - coffeeUsage);\n          stockUpdated = true;\n          console.log(`Depleted ${coffeeUsage}kg coffee (${shots} shots). Remaining: ${coffeeItem.amount}kg`);\n        }\n      }\n\n      // Deplete milk if order contains milk\n      if (order.milkType && order.milkType !== 'No milk' && order.milkTypeId !== 'no_milk') {\n        const milkUsage = this._getMilkUsageForSize(order.coffeeType);\n        \n        if (stockData.milk && stockData.milk.length > 0) {\n          // Find the specific milk type or use the first available\n          let milkItem = stockData.milk.find(item => \n            item.id === order.milkTypeId || \n            item.name.toLowerCase().includes(order.milkType.toLowerCase())\n          );\n          \n          if (!milkItem) {\n            // Fallback to first milk item\n            milkItem = stockData.milk[0];\n          }\n          \n          if (milkItem && milkItem.amount >= milkUsage) {\n            milkItem.amount = Math.max(0, milkItem.amount - milkUsage);\n            stockUpdated = true;\n            console.log(`Depleted ${milkUsage}L ${milkItem.name}. Remaining: ${milkItem.amount}L`);\n          }\n        }\n      }\n\n      // Deplete cups based on size\n      const cupUsage = 1; // One cup per order\n      const cupSize = this._getCupSizeFromOrder(order.coffeeType);\n      \n      if (stockData.cups && stockData.cups.length > 0) {\n        let cupItem = stockData.cups.find(item => \n          item.name.toLowerCase().includes(cupSize.toLowerCase())\n        );\n        \n        if (!cupItem) {\n          // Fallback to first cup item\n          cupItem = stockData.cups[0];\n        }\n        \n        if (cupItem && cupItem.amount >= cupUsage) {\n          cupItem.amount = Math.max(0, cupItem.amount - cupUsage);\n          stockUpdated = true;\n          console.log(`Depleted ${cupUsage} ${cupItem.name}. Remaining: ${cupItem.amount} cups`);\n        }\n      }\n\n      // Save updated stock if any changes were made\n      if (stockUpdated) {\n        this._saveLocalStockData(stockData);\n        console.log('Stock depletion completed successfully');\n        return true;\n      } else {\n        console.log('No stock items were depleted (insufficient stock or items not found)');\n        return false;\n      }\n      \n    } catch (error) {\n      console.error('Error depleting stock for order:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Get milk usage based on coffee size\n   * @param {string} coffeeType - The coffee type (includes size)\n   * @returns {number} - Milk usage in liters\n   * @private\n   */\n  _getMilkUsageForSize(coffeeType) {\n    const type = coffeeType.toLowerCase();\n    \n    if (type.includes('large')) {\n      return 0.25; // 250ml for large\n    } else if (type.includes('small')) {\n      return 0.15; // 150ml for small\n    } else {\n      return 0.20; // 200ml for regular/medium\n    }\n  }\n\n  /**\n   * Get cup size from coffee type\n   * @param {string} coffeeType - The coffee type (includes size)\n   * @returns {string} - Cup size\n   * @private\n   */\n  _getCupSizeFromOrder(coffeeType) {\n    const type = coffeeType.toLowerCase();\n    \n    if (type.includes('large')) {\n      return 'large';\n    } else if (type.includes('small')) {\n      return 'small';\n    } else {\n      return 'medium'; // Default to medium for regular\n    }\n  }\n  \n  /**\n   * Set JWT token for authenticated requests\n   * @param {string} token - JWT token\n   */\n  setToken(token) {\n    // Call parent method\n    super.setToken(token);\n    \n    if (this.debugMode) {\n      console.log(token ? 'Token set successfully in StockService' : 'Token cleared in StockService');\n    }\n  }\n\n  /**\n   * Get all inventory items, optionally filtered by category\n   * @param {string} category - Optional category filter\n   * @param {number} stationId - Optional station ID filter\n   * @returns {Promise<Array>} - List of inventory items\n   */\n  async getInventoryItems(category = null, stationId = null) {\n    try {\n      let endpoint = '/inventory';\n      \n      // Add query parameters if provided\n      const params = [];\n      \n      if (category) {\n        params.push(`category=${encodeURIComponent(category)}`);\n      }\n      \n      if (stationId) {\n        params.push(`station_id=${encodeURIComponent(stationId)}`);\n      }\n      \n      if (params.length > 0) {\n        endpoint += '?' + params.join('&');\n      }\n      \n      if (this.debugMode) {\n        console.log(`Fetching inventory items from: ${endpoint}`);\n      }\n      \n      const response = await this.get(endpoint);\n      \n      if (response && response.success && Array.isArray(response.items)) {\n        if (this.debugMode) {\n          console.log(`Received ${response.items.length} inventory items`);\n        }\n        return response.items;\n      }\n      \n      // Log what we got if it's not the expected format\n      if (this.debugMode && response) {\n        console.warn('Unexpected API response format:', response);\n      }\n      \n      if (Array.isArray(response)) {\n        // Handle case where API returns just an array\n        return response;\n      }\n      \n      return [];\n    } catch (error) {\n      console.error('Failed to fetch inventory items:', error);\n      if (this.enableFallback) {\n        console.log('Using fallback inventory data');\n        return this._getFallbackInventory(category);\n      }\n      // Return empty array instead of throwing to prevent UI crash\n      return [];\n    }\n  }\n\n  /**\n   * Get a specific inventory item\n   * @param {number} itemId - Item ID\n   * @returns {Promise<Object>} - Item details including history\n   */\n  async getInventoryItem(itemId) {\n    try {\n      const response = await this.get(`/inventory/${itemId}`);\n      \n      if (response && response.success) {\n        return response;\n      }\n      \n      throw new Error(response?.error || 'Failed to fetch inventory item');\n    } catch (error) {\n      console.error(`Failed to fetch inventory item ${itemId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get low stock items\n   * @param {number} stationId - Optional station ID filter\n   * @returns {Promise<Array>} - List of items below threshold\n   */\n  async getLowStockItems(stationId = null) {\n    try {\n      let endpoint = '/inventory/low-stock';\n      \n      if (stationId) {\n        endpoint += `?station_id=${encodeURIComponent(stationId)}`;\n      }\n      \n      if (this.debugMode) {\n        console.log(`Fetching low stock items from: ${endpoint}`);\n      }\n      \n      const response = await this.get(endpoint);\n      \n      if (response && response.success && Array.isArray(response.items)) {\n        if (this.debugMode) {\n          console.log(`Received ${response.items.length} low stock items`);\n        }\n        return response.items;\n      }\n      \n      // Handle different response formats\n      if (this.debugMode && response) {\n        console.warn('Unexpected API response format for low stock items:', response);\n      }\n      \n      if (Array.isArray(response)) {\n        // Handle case where API returns just an array\n        return response;\n      }\n      \n      return [];\n    } catch (error) {\n      console.error('Failed to fetch low stock items:', error);\n      // Do not fall back to mock data\n      return [];\n    }\n  }\n\n  /**\n   * Get inventory categories\n   * @returns {Promise<Array>} - List of categories\n   */\n  async getCategories() {\n    try {\n      const response = await this.get('/inventory/categories');\n      \n      if (response && response.success && Array.isArray(response.categories)) {\n        return response.categories;\n      }\n      \n      // Default categories if API doesn't provide them\n      return ['milk', 'coffee', 'cups', 'syrups', 'other'];\n    } catch (error) {\n      console.error('Failed to fetch inventory categories:', error);\n      // Default categories\n      return ['milk', 'coffee', 'cups', 'syrups', 'other'];\n    }\n  }\n\n  /**\n   * Update item quantity\n   * @param {number} itemId - Item ID\n   * @param {number} newAmount - New quantity\n   * @param {string} reason - Reason for adjustment\n   * @param {string} notes - Optional notes\n   * @returns {Promise<Object>} - Updated item\n   */\n  async updateItemQuantity(itemId, newAmount, reason = 'manual_adjustment', notes = '') {\n    try {\n      // Match the backend API expectation: the backend uses 'new_amount' and 'change_reason'\n      const response = await this.post(`/inventory/${itemId}/adjust`, {\n        new_amount: newAmount,\n        change_reason: reason,\n        notes\n      });\n      \n      if (response && response.success) {\n        return response.item;\n      }\n      \n      throw new Error(response?.error || 'Failed to update item quantity');\n    } catch (error) {\n      console.error(`Failed to update quantity for item ${itemId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Add new inventory item\n   * @param {Object} itemData - Item data\n   * @returns {Promise<Object>} - Created item\n   */\n  async addInventoryItem(itemData) {\n    try {\n      const response = await this.post('/inventory', itemData);\n      \n      if (response && response.success) {\n        return response.item;\n      }\n      \n      throw new Error(response?.error || 'Failed to create inventory item');\n    } catch (error) {\n      console.error('Failed to create inventory item:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update item properties\n   * @param {number} itemId - Item ID\n   * @param {Object} properties - Properties to update\n   * @returns {Promise<Object>} - Updated item\n   */\n  async updateItemProperties(itemId, properties) {\n    try {\n      const response = await this.put(`/inventory/${itemId}`, properties);\n      \n      if (response && response.success) {\n        return response.item;\n      }\n      \n      throw new Error(response?.error || 'Failed to update item properties');\n    } catch (error) {\n      console.error(`Failed to update properties for item ${itemId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete inventory item\n   * @param {number} itemId - Item ID\n   * @returns {Promise<boolean>} - Success status\n   */\n  async deleteInventoryItem(itemId) {\n    try {\n      const response = await this.delete(`/inventory/${itemId}`);\n      \n      if (response && response.success) {\n        return true;\n      }\n      \n      throw new Error(response?.error || 'Failed to delete inventory item');\n    } catch (error) {\n      console.error(`Failed to delete item ${itemId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Report low stock item\n   * @param {number} itemId - Item ID\n   * @param {string} urgency - Urgency level\n   * @param {string} notes - Optional notes\n   * @returns {Promise<boolean>} - Success status\n   */\n  async reportLowStock(itemId, urgency = 'normal', notes = '') {\n    try {\n      const response = await this.post(`/inventory/${itemId}/report-low`, {\n        urgency,\n        notes\n      });\n      \n      if (response && response.success) {\n        return true;\n      }\n      \n      throw new Error(response?.error || 'Failed to report low stock');\n    } catch (error) {\n      console.error(`Failed to report low stock for item ${itemId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Request restock\n   * @param {Array} items - Items to restock\n   * @returns {Promise<Object>} - Response with success status\n   */\n  async requestRestock(items) {\n    try {\n      const response = await this.post('/inventory/restock-request', {\n        items\n      });\n      \n      if (response) {\n        return {\n          success: response.success || false,\n          message: response.message || '',\n          requestId: response.requestId\n        };\n      }\n      \n      throw new Error('Failed to request restock');\n    } catch (error) {\n      console.error('Failed to request restock:', error);\n      throw error;\n    }\n  }\n}\n\n// Export singleton instance\nexport default new StockService();","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","// services/ServiceFactory.js\nimport { APP_MODES } from '../context/AppContext';\n\n/**\n * Service Factory - Creates service instances based on current app mode\n * \n * This factory allows dynamic switching between real API services and mock services\n * for demo/test mode without changing the application code.\n */\nclass ServiceFactory {\n  constructor() {\n    // Always default to PRODUCTION mode to ensure real API usage\n    const savedMode = localStorage.getItem('coffee_cue_app_mode');\n    this.currentMode = savedMode || APP_MODES.PRODUCTION;\n    \n    // Always ensure we start with PRODUCTION as default\n    if (!savedMode) {\n      localStorage.setItem('coffee_cue_app_mode', APP_MODES.PRODUCTION);\n    }\n    \n    this.services = {};\n    this.mockServices = {};\n    this.realServices = {};\n    \n    // Listeners for mode changes\n    this.listeners = [];\n    \n    // Monitor localStorage for mode changes from other components\n    window.addEventListener('storage', (event) => {\n      if (event.key === 'coffee_cue_app_mode' && event.newValue !== this.currentMode) {\n        this.currentMode = event.newValue;\n        this._notifyListeners();\n      }\n    });\n  }\n\n  /**\n   * Register a service with the factory\n   * @param {string} name - Service name\n   * @param {object} realService - Real API service instance\n   * @param {object} mockService - Mock service instance for demo/test mode\n   */\n  registerService(name, realService, mockService) {\n    this.realServices[name] = realService;\n    this.mockServices[name] = mockService;\n    \n    // Update current service based on mode\n    this._updateService(name);\n    \n    return this;\n  }\n\n  /**\n   * Get a service by name\n   * @param {string} name - Service name\n   * @returns {object} - Service instance\n   */\n  getService(name) {\n    if (!this.services[name]) {\n      throw new Error(`Service ${name} not registered`);\n    }\n    \n    return this.services[name];\n  }\n\n  /**\n   * Set the current application mode\n   * @param {string} mode - New mode (from APP_MODES)\n   */\n  setMode(mode) {\n    if (mode !== APP_MODES.PRODUCTION && mode !== APP_MODES.DEMO) {\n      throw new Error(`Invalid mode: ${mode}`);\n    }\n    \n    if (mode !== this.currentMode) {\n      this.currentMode = mode;\n      localStorage.setItem('coffee_cue_app_mode', mode);\n      \n      // Update all services based on new mode\n      this._updateAllServices();\n      \n      // Notify listeners\n      this._notifyListeners();\n    }\n  }\n\n  /**\n   * Get the current application mode\n   * @returns {string} - Current mode\n   */\n  getMode() {\n    return this.currentMode;\n  }\n\n  /**\n   * Add listener for mode changes\n   * @param {function} listener - Callback function\n   */\n  addModeChangeListener(listener) {\n    this.listeners.push(listener);\n  }\n\n  /**\n   * Remove listener for mode changes\n   * @param {function} listener - Callback function to remove\n   */\n  removeModeChangeListener(listener) {\n    this.listeners = this.listeners.filter(l => l !== listener);\n  }\n\n  /**\n   * Update service based on current mode\n   * @private\n   * @param {string} name - Service name\n   */\n  _updateService(name) {\n    if (this.currentMode === APP_MODES.DEMO) {\n      this.services[name] = this.mockServices[name];\n    } else {\n      this.services[name] = this.realServices[name];\n    }\n  }\n\n  /**\n   * Update all services based on current mode\n   * @private\n   */\n  _updateAllServices() {\n    Object.keys(this.realServices).forEach(name => {\n      this._updateService(name);\n    });\n  }\n\n  /**\n   * Notify listeners of mode changes\n   * @private\n   */\n  _notifyListeners() {\n    this.listeners.forEach(listener => {\n      try {\n        listener(this.currentMode);\n      } catch (error) {\n        console.error('Error in mode change listener:', error);\n      }\n    });\n  }\n}\n\n// Create and export singleton instance\nconst serviceFactory = new ServiceFactory();\nexport default serviceFactory;","// services/WebSocketService.js\n/**\n * Dedicated WebSocket service for managing socket.io connections\n */\nclass WebSocketService {\n  constructor() {\n    this.socket = null;\n    this.isConnected = false;\n    this.eventHandlers = new Map();\n    this.wsUrl = 'http://localhost:5001';\n    this.initPromise = null;\n    this.reconnectAttempts = 0;\n    this.maxReconnectAttempts = 5;\n    \n    // Listen for token refresh events\n    window.addEventListener('tokenRefreshed', (event) => {\n      const newToken = event.detail.token;\n      if (newToken) {\n        this.authenticate(newToken);\n      }\n    });\n    \n    // Listen for token expiration\n    window.addEventListener('tokenExpired', () => {\n      this.disconnect();\n    });\n  }\n\n  /**\n   * Initialize WebSocket connection (singleton pattern)\n   */\n  async initialize() {\n    // If already connected, return success\n    if (this.isConnected && this.socket) {\n      console.log('WebSocket already connected');\n      return true;\n    }\n\n    // Return existing promise if already initializing\n    if (this.initPromise) {\n      console.log('WebSocket initialization already in progress');\n      return this.initPromise;\n    }\n\n    // Prevent multiple initialization attempts\n    console.log('Starting WebSocket initialization...');\n    this.initPromise = this._doInitialize();\n    return this.initPromise;\n  }\n\n  async _doInitialize() {\n    try {\n      // Disconnect any existing connection first\n      if (this.socket) {\n        console.log('Cleaning up existing WebSocket connection');\n        this.socket.disconnect();\n        this.socket = null;\n        this.isConnected = false;\n      }\n\n      // Try to load socket.io-client\n      let io;\n      try {\n        // First try the standard import\n        const module = await import('socket.io-client');\n        io = module.default || module.io;\n      } catch (e) {\n        console.error('Failed to load socket.io-client:', e);\n        // Try alternative import method\n        if (window.io) {\n          io = window.io;\n        } else {\n          throw new Error('socket.io-client not available');\n        }\n      }\n\n      // Get auth token from localStorage\n      const token = localStorage.getItem('token');\n      \n      // Check if token exists and is not expired\n      let validToken = null;\n      if (token) {\n        try {\n          // Decode JWT to check expiration\n          const payload = JSON.parse(atob(token.split('.')[1]));\n          const expiresAt = payload.exp * 1000; // Convert to milliseconds\n          const now = Date.now();\n          \n          if (expiresAt > now) {\n            validToken = token;\n          } else {\n            console.warn('Token expired, connecting without authentication');\n          }\n        } catch (e) {\n          console.error('Error decoding token:', e);\n        }\n      }\n\n      // Create socket connection with auth and reduced reconnection\n      this.socket = io(this.wsUrl, {\n        transports: ['polling', 'websocket'],\n        reconnection: true,\n        reconnectionDelay: 2000,\n        reconnectionDelayMax: 10000,\n        reconnectionAttempts: 3, // Reduced from 5 to prevent spam\n        timeout: 10000, // Reduced timeout\n        autoConnect: true,\n        forceNew: true, // Force new connection\n        auth: {\n          token: validToken || ''\n        },\n        extraHeaders: {\n          'Authorization': validToken ? `Bearer ${validToken}` : ''\n        }\n      });\n      \n      console.log('WebSocket connection created with config:', {\n        hasToken: !!validToken,\n        reconnectionAttempts: 3,\n        timeout: 10000\n      });\n\n      // Set up event handlers\n      this.setupEventHandlers();\n\n      // Wait for connection (but don't fail if it times out)\n      const connected = await this.waitForConnection();\n      \n      if (!connected) {\n        console.log('WebSocket connection timed out - app will continue without real-time updates');\n      }\n\n      return connected;\n    } catch (error) {\n      console.error('WebSocket initialization failed:', error);\n      this.socket = null;\n      return false;\n    }\n  }\n\n  /**\n   * Wait for socket connection with timeout\n   */\n  waitForConnection(timeout = 5000) {\n    return new Promise((resolve) => {\n      if (this.isConnected) {\n        resolve(true);\n        return;\n      }\n\n      const timer = setTimeout(() => {\n        console.warn('WebSocket connection timeout - continuing without WebSocket support');\n        this.socket.off('connect', onConnect);\n        resolve(false); // Resolve with false instead of rejecting\n      }, timeout);\n\n      const onConnect = () => {\n        clearTimeout(timer);\n        this.socket.off('connect', onConnect);\n        resolve(true);\n      };\n\n      this.socket.on('connect', onConnect);\n    });\n  }\n\n  /**\n   * Setup core event handlers\n   */\n  setupEventHandlers() {\n    if (!this.socket) return;\n\n    // Remove any existing listeners to prevent duplicates\n    this.socket.removeAllListeners();\n\n    this.socket.on('connect', () => {\n      console.log('WebSocket connected successfully');\n      this.isConnected = true;\n      this.reconnectAttempts = 0;\n      this.initPromise = null; // Reset init promise\n      this.emit('connected');\n    });\n\n    this.socket.on('disconnect', (reason) => {\n      console.log('WebSocket disconnected:', reason);\n      this.isConnected = false;\n      this.emit('disconnected', reason);\n      \n      // Only attempt reconnection for certain reasons\n      if (reason === 'io server disconnect' || reason === 'transport close') {\n        console.log('Server initiated disconnect - not attempting reconnection');\n        this.initPromise = null;\n      }\n    });\n\n    this.socket.on('connect_error', (error) => {\n      console.error('WebSocket connection error:', error.message);\n      this.reconnectAttempts++;\n      \n      if (this.reconnectAttempts >= 3) { // Use hardcoded value\n        console.error('Max reconnection attempts reached - giving up');\n        this.socket.disconnect();\n        this.initPromise = null;\n        this.emit('max_reconnect_failed');\n      }\n    });\n\n    this.socket.on('error', (error) => {\n      console.error('WebSocket error:', error);\n      this.emit('error', error);\n    });\n\n    // Add reconnect handler\n    this.socket.on('reconnect', (attemptNumber) => {\n      console.log(`WebSocket reconnected after ${attemptNumber} attempts`);\n      this.isConnected = true;\n      this.emit('reconnected');\n    });\n\n    this.socket.on('reconnect_failed', () => {\n      console.error('WebSocket reconnection failed completely');\n      this.initPromise = null;\n      this.emit('reconnect_failed');\n    });\n  }\n\n  /**\n   * Subscribe to socket events\n   */\n  on(event, handler) {\n    if (!this.eventHandlers.has(event)) {\n      this.eventHandlers.set(event, new Set());\n    }\n    this.eventHandlers.get(event).add(handler);\n\n    // Also subscribe to socket event if connected\n    if (this.socket && this.isConnected) {\n      this.socket.on(event, handler);\n    }\n  }\n\n  /**\n   * Unsubscribe from socket events\n   */\n  off(event, handler) {\n    if (this.eventHandlers.has(event)) {\n      this.eventHandlers.get(event).delete(handler);\n    }\n\n    // Also unsubscribe from socket event\n    if (this.socket) {\n      this.socket.off(event, handler);\n    }\n  }\n\n  /**\n   * Emit local event\n   */\n  emit(event, data) {\n    if (this.eventHandlers.has(event)) {\n      this.eventHandlers.get(event).forEach(handler => {\n        try {\n          handler(data);\n        } catch (error) {\n          console.error(`Error in event handler for ${event}:`, error);\n        }\n      });\n    }\n  }\n\n  /**\n   * Send message to server\n   */\n  send(event, data) {\n    if (this.socket && this.isConnected) {\n      this.socket.emit(event, data);\n      return true;\n    } else {\n      console.warn('Cannot send message - WebSocket not connected');\n      return false;\n    }\n  }\n\n  /**\n   * Join a room\n   */\n  joinRoom(room) {\n    return this.send('join_room', { room });\n  }\n\n  /**\n   * Leave a room\n   */\n  leaveRoom(room) {\n    return this.send('leave_room', { room });\n  }\n\n  /**\n   * Authenticate socket connection\n   */\n  authenticate(token) {\n    if (this.socket) {\n      // Update auth for future connections\n      this.socket.auth = { token };\n      \n      // If already connected, disconnect and reconnect with new auth\n      if (this.isConnected) {\n        this.socket.disconnect();\n        \n        // Update connection options\n        this.socket.io.opts.auth = { token };\n        this.socket.io.opts.extraHeaders = {\n          'Authorization': token ? `Bearer ${token}` : ''\n        };\n        \n        // Reconnect with new auth\n        this.socket.connect();\n      }\n    }\n  }\n\n  /**\n   * Disconnect socket\n   */\n  disconnect() {\n    console.log('Disconnecting WebSocket...');\n    \n    if (this.socket) {\n      // Remove all listeners before disconnecting\n      this.socket.removeAllListeners();\n      this.socket.disconnect();\n      this.socket = null;\n    }\n    \n    this.isConnected = false;\n    this.initPromise = null;\n    this.reconnectAttempts = 0;\n    \n    console.log('WebSocket disconnected and cleaned up');\n  }\n\n  /**\n   * Check if connected\n   */\n  get connected() {\n    return this.isConnected;\n  }\n}\n\n// Export singleton instance\nconst webSocketService = new WebSocketService();\nexport default webSocketService;","// services/ApiService.js\nimport serviceFactory from './ServiceFactory';\nimport MockDataService from './MockDataService';\nimport authService from './AuthService';\nimport webSocketService from './WebSocketService';\nimport { APP_MODES } from '../context/AppContext';\n\n// Import anti-flicker protection utility\nconst antiFlickerProtection = {\n  isActive: function() {\n    // Check if anti-flicker protection is active\n    return typeof window !== 'undefined' && window._originalFetch && window.fetch !== window._originalFetch;\n  },\n  isEndpointBlocked: function(endpoint) {\n    // Check if this endpoint is currently being blocked due to JWT errors\n    if (typeof window === 'undefined') return false;\n    \n    try {\n      const blockedEndpoints = JSON.parse(localStorage.getItem('jwt_error_endpoints') || '{}');\n      const now = Date.now();\n      const lastErrorTime = blockedEndpoints[endpoint] || 0;\n      const JWT_ERROR_DEBOUNCE_MS = 30000; // 30 seconds\n      \n      return (now - lastErrorTime) < JWT_ERROR_DEBOUNCE_MS;\n    } catch (e) {\n      console.error('Error checking blocked endpoints:', e);\n      return false;\n    }\n  }\n};\n\n/**\n * Base API Service that handles switching between real API and mock data\n * based on the application mode.\n */\n// Singleton instance storage\nlet webSocketInitialized = false;\n\nclass ApiService {\n  constructor() {\n    // Add debug logging to track instance creation\n    console.trace('ApiService constructor called');\n    \n    // Check if we already have an instance stored on the constructor\n    if (ApiService.instance) {\n      console.log('ApiService: Returning existing singleton instance');\n      console.log('ApiService instance count: REUSING EXISTING');\n      return ApiService.instance;\n    }\n    \n    console.log('ApiService: Creating new singleton instance');\n    console.log('ApiService instance count: CREATING NEW');\n    \n    this.baseUrl = 'http://localhost:5001/api';\n    // Try to load token from localStorage on initialization\n    this.token = localStorage.getItem('coffee_system_token') || localStorage.getItem('token') || null;\n    this.debugMode = true;\n    this.enableFallback = false; // Keep fallback disabled to enforce real API usage\n    this.connectionTimeout = 10000; // 10 second timeout\n    \n    // Monitor for app mode changes\n    serviceFactory.addModeChangeListener(this._handleModeChange.bind(this));\n    \n    // COMPLETELY DISABLE WebSocket to stop the connection spam\n    // Initialize WebSocket through dedicated service (only once as singleton)\n    if (!webSocketInitialized) {\n      console.log('ApiService: Initializing WebSocket for singleton instance');\n      this.initializeWebSocket();\n      webSocketInitialized = true;\n    } else {\n      console.log('ApiService: WebSocket already initialized, skipping');\n    }\n    \n    // Store this instance as the singleton\n    ApiService.instance = this;\n  }\n\n  /**\n   * Set JWT token for authenticated requests\n   * @param {string} token - JWT token\n   */\n  setToken(token) {\n    this.token = token;\n    if (this.debugMode) {\n      console.log(token ? 'Token set successfully' : 'Token cleared');\n    }\n  }\n\n  /**\n   * Check if we're running in demo mode\n   * @returns {boolean} - True if in demo mode\n   */\n  isDemoMode() {\n    return serviceFactory.getMode() === APP_MODES.DEMO;\n  }\n\n  /**\n   * Check if token is expiring soon\n   * @returns {boolean} - True if token is expiring within 5 minutes\n   */\n  isTokenExpiringSoon() {\n    if (!this.token) return false;\n    \n    try {\n      // Get token payload\n      const payload = JSON.parse(atob(this.token.split('.')[1]));\n      \n      // Check if token expires in less than 5 minutes\n      const expirationTime = payload.exp * 1000; // Convert to milliseconds\n      const fiveMinutesInMs = 5 * 60 * 1000;\n      return (expirationTime - Date.now()) < fiveMinutesInMs;\n    } catch (error) {\n      console.error('Token validation error:', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Refresh token if needed before making a request\n   * @returns {Promise<boolean>} - True if token is valid\n   */\n  async refreshTokenIfNeeded() {\n    const tokenKey = 'coffee_system_token';\n    const refreshKey = 'coffee_system_refresh_token';\n    \n    if (!this.token) {\n      // Try to get token from localStorage\n      const storedToken = localStorage.getItem(tokenKey);\n      if (storedToken) {\n        this.token = storedToken;\n      } else {\n        return false;\n      }\n    }\n    \n    // Check if token is expiring soon\n    if (this.isTokenExpiringSoon()) {\n      // Only log if we haven't recently attempted refresh\n      if (!this.lastRefreshAttempt || Date.now() - this.lastRefreshAttempt > 60000) {\n        console.log('Token is expiring soon, attempting to refresh');\n        this.lastRefreshAttempt = Date.now();\n      }\n      \n      try {\n        const refreshToken = localStorage.getItem(refreshKey);\n        if (!refreshToken) {\n          // No refresh token, just continue with existing token\n          return true;\n        }\n        \n        // Use proper URL for refresh endpoint\n        const refreshUrl = this.baseUrl ? `${this.baseUrl}/auth/refresh` : '/api/auth/refresh';\n        \n        // Call refresh token endpoint\n        const response = await fetch(refreshUrl, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ refreshToken }),\n          mode: 'cors'\n        });\n        \n        if (!response.ok) {\n          // Don't throw error, just continue\n          return true;\n        }\n        \n        const data = await response.json();\n        \n        if (data.token) {\n          // Save new token\n          this.token = data.token;\n          localStorage.setItem(tokenKey, data.token);\n          \n          // Save token expiry time if provided\n          if (data.expiresIn) {\n            localStorage.setItem('tokenExpiry', Date.now() + (data.expiresIn * 1000));\n          }\n          \n          console.log('Token refreshed successfully');\n          return true;\n        }\n        \n        return true; // Continue even without new token\n      } catch (error) {\n        // Don't log as error, just continue\n        if (!this.lastRefreshError || Date.now() - this.lastRefreshError > 300000) {\n          console.warn('Token refresh attempt failed, continuing:', error.message);\n          this.lastRefreshError = Date.now();\n        }\n        return true; // Continue with existing token\n      }\n    }\n    \n    // Token is still valid\n    return true;\n  }\n  \n  /**\n   * Make API request with appropriate service based on mode\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   */\n  async request(endpoint, options = {}) {\n    try {\n      // Refresh token if needed before making request\n      await this.refreshTokenIfNeeded();\n      \n      if (this.isDemoMode()) {\n        // Use MockDataService in demo mode\n        if (this.debugMode) {\n          console.log(`[DEMO MODE] ${options.method || 'GET'} ${endpoint}`);\n        }\n        \n        // Normalize method name to lowercase\n        const method = (options.method || 'GET').toLowerCase();\n        \n        // Extract body if present\n        const body = options.body ? JSON.parse(options.body) : undefined;\n        \n        // Mark as online in demo mode\n        localStorage.setItem('coffee_connection_status', 'online');\n        \n        // Call appropriate method on MockDataService\n        switch (method) {\n          case 'get':\n            return await MockDataService.get(endpoint);\n          case 'post':\n            return await MockDataService.post(endpoint, body);\n          case 'put':\n            return await MockDataService.put(endpoint, body);\n          case 'patch':\n            return await MockDataService.patch(endpoint, body);\n          case 'delete':\n            return await MockDataService.delete(endpoint);\n          default:\n            throw new Error(`Unsupported method: ${method}`);\n        }\n      } else {\n        // Use real API in production mode\n        return await this.fetchWithAuth(endpoint, options);\n      }\n    } catch (error) {\n      if (this.enableFallback && !this.isDemoMode()) {\n        console.warn(`API error, falling back to demo data: ${error.message}`);\n        \n        // Temporarily switch to demo mode for this request\n        const tempMethod = (options.method || 'GET').toLowerCase();\n        const tempBody = options.body ? JSON.parse(options.body) : undefined;\n        \n        switch (tempMethod) {\n          case 'get':\n            return await MockDataService.get(endpoint);\n          case 'post':\n            return await MockDataService.post(endpoint, tempBody);\n          case 'put':\n            return await MockDataService.put(endpoint, tempBody);\n          case 'patch':\n            return await MockDataService.patch(endpoint, tempBody);\n          case 'delete':\n            return await MockDataService.delete(endpoint);\n          default:\n            throw error; // Re-throw if method not supported\n        }\n      }\n      \n      throw error;\n    }\n  }\n\n  /**\n   * Make real API request with authentication\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   * @private\n   */\n  async fetchWithAuth(endpoint, options = {}) {\n    try {\n      // When using proxy in development, use relative URLs\n      let url;\n      \n      // Normalize endpoint\n      let normalizedEndpoint = endpoint;\n      if (normalizedEndpoint.startsWith('/')) {\n        normalizedEndpoint = normalizedEndpoint.substring(1);\n      }\n      \n      // In development, use relative URLs so the proxy works\n      // In production, use full URLs\n      if (process.env.NODE_ENV === 'development') {\n        // Clean up the endpoint for development proxy\n        let cleanEndpoint = normalizedEndpoint;\n        if (cleanEndpoint.startsWith('api/')) {\n          cleanEndpoint = cleanEndpoint.substring(4);\n        } else if (cleanEndpoint.includes('/api/')) {\n          const apiIndex = cleanEndpoint.indexOf('/api/');\n          cleanEndpoint = cleanEndpoint.substring(apiIndex + 5); // +5 to skip '/api/'\n        }\n        \n        // Always construct as /api/endpoint for proxy\n        url = `/api/${cleanEndpoint}`;\n      } else {\n        // In production, use full URL\n        const baseUrlNoTrailingSlash = this.baseUrl.endsWith('/') \n          ? this.baseUrl.slice(0, -1) \n          : this.baseUrl;\n        \n        // Clean up the endpoint\n        let cleanEndpoint = normalizedEndpoint;\n        if (cleanEndpoint.startsWith('api/')) {\n          cleanEndpoint = cleanEndpoint.substring(4);\n        }\n        \n        url = `${baseUrlNoTrailingSlash}/${cleanEndpoint}`;\n      }\n      \n      if (this.debugMode) {\n        console.log(`Normalized URL: ${url} (from original: ${endpoint})`);\n        console.log(`Environment: ${process.env.NODE_ENV}`);\n      }\n      \n      const headers = {\n        'Content-Type': 'application/json',\n        ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n        ...(options.headers || {})\n      };\n\n      if (this.debugMode) {\n        console.log(`Fetching from: ${url} with method: ${options.method || 'GET'}`);\n      }\n\n      // Add timeout control\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), this.connectionTimeout);\n\n      const response = await fetch(url, {\n        ...options,\n        headers,\n        signal: controller.signal,\n        // Explicitly add CORS mode but skip credentials to avoid CORS issues\n        mode: 'cors'\n        // Don't include credentials to avoid CORS issues with wildcard origin\n      });\n      \n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        // Try to get error details from response\n        let errorDetails = {};\n        try {\n          errorDetails = await response.json();\n        } catch (e) {\n          try {\n            errorDetails = { message: await response.text() };\n          } catch (e2) {\n            errorDetails = { message: `HTTP error: ${response.status} ${response.statusText}` };\n          }\n        }\n        \n        console.error(`API error: ${response.status}`, errorDetails);\n        throw new Error(errorDetails.message || `API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      if (this.debugMode) {\n        console.log(`Response from ${endpoint}:`, data);\n      }\n      \n      // Mark connection as online\n      localStorage.setItem('coffee_connection_status', 'online');\n      \n      return data;\n    } catch (error) {\n      console.error(`Error fetching from ${endpoint}:`, error);\n      \n      // Mark connection as offline if it's a network error\n      if (error.name === 'AbortError' || error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n        localStorage.setItem('coffee_connection_status', 'offline');\n      }\n      \n      throw error;\n    }\n  }\n\n  /**\n   * Handle mode changes\n   * @param {string} newMode - New app mode\n   * @private\n   */\n  _handleModeChange(newMode) {\n    if (this.debugMode) {\n      console.log(`[ApiService] App mode changed to: ${newMode}`);\n    }\n  }\n\n  // Helper methods for common HTTP methods\n\n  /**\n   * Make GET request\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Additional options\n   * @returns {Promise<any>} - API response\n   */\n  async get(endpoint, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'GET'\n    });\n  }\n\n  /**\n   * Make POST request\n   * @param {string} endpoint - API endpoint\n   * @param {object} data - Data to send\n   * @param {object} options - Additional options\n   * @returns {Promise<any>} - API response\n   */\n  async post(endpoint, data, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'POST',\n      body: JSON.stringify(data)\n    });\n  }\n\n  /**\n   * Make PUT request\n   * @param {string} endpoint - API endpoint\n   * @param {object} data - Data to send\n   * @param {object} options - Additional options\n   * @returns {Promise<any>} - API response\n   */\n  async put(endpoint, data, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'PUT',\n      body: JSON.stringify(data)\n    });\n  }\n\n  /**\n   * Make PATCH request\n   * @param {string} endpoint - API endpoint\n   * @param {object} data - Data to send\n   * @param {object} options - Additional options\n   * @returns {Promise<any>} - API response\n   */\n  async patch(endpoint, data, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'PATCH',\n      body: JSON.stringify(data)\n    });\n  }\n\n  /**\n   * Make DELETE request\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Additional options\n   * @returns {Promise<any>} - API response\n   */\n  async delete(endpoint, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'DELETE'\n    });\n  }\n\n  /**\n   * Custom fetch with authentication using direct URL approach and improved token handling\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   */\n  async directFetch(endpoint, options = {}) {\n    try {\n      // Extract the endpoint path regardless of format\n      let apiPath;\n      \n      // Check if it's a complete URL\n      if (endpoint.startsWith('http')) {\n        // Extract path from URL\n        const url = new URL(endpoint);\n        apiPath = url.pathname;\n        \n        // Further extract after /api/ if present\n        if (apiPath.includes('/api/')) {\n          apiPath = apiPath.substring(apiPath.indexOf('/api/') + 4);\n        }\n      } else {\n        // Handle relative paths\n        if (endpoint.includes('/api/')) {\n          // Extract everything after /api/\n          apiPath = endpoint.substring(endpoint.indexOf('/api/') + 4);\n        } else {\n          // Remove leading slash if present\n          apiPath = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n        }\n      }\n      \n      // Construct direct URL - this ensures we use the absolute backend URL\n      const directUrl = `${this.baseUrl}/${apiPath}`;\n      \n      if (this.debugMode) {\n        console.log(`Using direct URL strategy: ${directUrl}`);\n      }\n      \n      // Set headers with auth from centralized auth service\n      const headers = await authService.addAuthorizationHeader({\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        ...(options.headers || {})\n      });\n      \n      if (this.debugMode) {\n        const token = authService.getToken();\n        console.log(`Authorization header ${token ? 'set' : 'NOT set'} for request to ${directUrl}`);\n        if (token) {\n          console.log(`Token length: ${token.length}, Token prefix: ${token.substring(0, 10)}...`);\n        }\n        \n        console.log(`Fetching from: ${directUrl} with method: ${options.method || 'GET'}`);\n        if (options.body) {\n          console.log(`Request body: ${options.body}`);\n        }\n      }\n      \n      // Make the request - avoid CORS issues by not using credentials\n      const response = await fetch(directUrl, {\n        ...options,\n        headers,\n        mode: 'cors'\n      });\n      \n      // Handle 401/403 errors with token refresh\n      if (response.status === 401 || response.status === 403 || response.status === 422) {\n        try {\n          // Try to refresh the token\n          const refreshed = await authService.refreshToken();\n          \n          if (refreshed) {\n            // Retry the request with the new token\n            const updatedHeaders = await authService.addAuthorizationHeader({\n              'Content-Type': 'application/json',\n              'Accept': 'application/json',\n              ...(options.headers || {})\n            });\n            \n            const retryResponse = await fetch(directUrl, {\n              ...options,\n              headers: updatedHeaders,\n              mode: 'cors'\n            });\n            \n            if (!retryResponse.ok) {\n              throw new Error(`API error after token refresh: ${retryResponse.status}`);\n            }\n            \n            return await retryResponse.json();\n          } else {\n            throw new Error('Token refresh failed');\n          }\n        } catch (refreshError) {\n          console.error('Token refresh failed:', refreshError);\n          throw new Error(`Authentication error: ${response.status}`);\n        }\n      }\n      \n      if (!response.ok) {\n        // Try to get error details from response\n        let errorDetails = {};\n        try {\n          errorDetails = await response.json();\n        } catch (e) {\n          try {\n            errorDetails = { message: await response.text() };\n          } catch (e2) {\n            errorDetails = { message: `HTTP error: ${response.status} ${response.statusText}` };\n          }\n        }\n        \n        console.error(`API error: ${response.status}`, errorDetails);\n        throw new Error(errorDetails.message || `API error: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      if (this.debugMode) {\n        console.log(`Response from ${directUrl}:`, data);\n      }\n      return data;\n    } catch (error) {\n      console.error(`Error fetching from ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Initialize WebSocket connection\n   */\n  async initializeWebSocket() {\n    try {\n      console.log('ApiService: Starting WebSocket initialization...');\n      \n      // Initialize WebSocket through dedicated service\n      const connected = await webSocketService.initialize();\n      \n      if (!connected) {\n        console.log('ApiService: WebSocket connection failed, continuing without real-time updates');\n        return;\n      }\n      \n      // Set up authentication if we have a token\n      const token = authService.getToken();\n      if (token) {\n        console.log('ApiService: Authenticating WebSocket with existing token');\n        webSocketService.authenticate(token);\n      }\n\n      // Subscribe to connection events (only once)\n      webSocketService.on('connected', () => {\n        console.log('ApiService: WebSocket connected');\n        // Re-authenticate on reconnection\n        const currentToken = authService.getToken();\n        if (currentToken) {\n          webSocketService.authenticate(currentToken);\n        }\n      });\n\n      webSocketService.on('authenticated', () => {\n        console.log('ApiService: WebSocket authenticated');\n        // Join relevant rooms\n        this.joinStationRoom();\n      });\n\n      // Setup common event handlers\n      this.setupCommonEventHandlers();\n      \n    } catch (error) {\n      console.error('Failed to initialize WebSocket:', error);\n      console.log('WebSocket support will be disabled');\n    }\n  }\n\n  /**\n   * Setup common WebSocket event handlers\n   */\n  setupCommonEventHandlers() {\n    // Order events\n    webSocketService.on('order_created', (data) => {\n      window.dispatchEvent(new CustomEvent('order_created', { detail: data }));\n    });\n\n    webSocketService.on('order_updated', (data) => {\n      window.dispatchEvent(new CustomEvent('order_updated', { detail: data }));\n    });\n\n    webSocketService.on('order_completed', (data) => {\n      window.dispatchEvent(new CustomEvent('order_completed', { detail: data }));\n    });\n\n    // Station events\n    webSocketService.on('station_updated', (data) => {\n      window.dispatchEvent(new CustomEvent('station_updated', { detail: data }));\n    });\n\n    // Inventory events\n    webSocketService.on('inventory_updated', (data) => {\n      window.dispatchEvent(new CustomEvent('inventory_updated', { detail: data }));\n    });\n\n    // Message events\n    webSocketService.on('new_message', (data) => {\n      window.dispatchEvent(new CustomEvent('new_message', { detail: data }));\n    });\n  }\n\n  /**\n   * Join station-specific room\n   * @param {number} stationId - Station ID to join\n   */\n  joinStationRoom(stationId) {\n    // Leave previous station room if any\n    const currentStation = localStorage.getItem('currentStationId');\n    if (currentStation) {\n      webSocketService.send('leave_station', { station_id: currentStation });\n    }\n\n    // Join new station room\n    if (stationId) {\n      webSocketService.send('join_station', { station_id: stationId });\n      localStorage.setItem('currentStationId', stationId.toString());\n    }\n  }\n\n  /**\n   * Subscribe to WebSocket events\n   * @param {string} event - Event name\n   * @param {function} handler - Event handler\n   */\n  on(event, handler) {\n    // Subscribe through WebSocketService\n    webSocketService.on(event, handler);\n  }\n\n  /**\n   * Unsubscribe from WebSocket events\n   * @param {string} event - Event name\n   * @param {function} handler - Event handler\n   */\n  off(event, handler) {\n    // Unsubscribe through WebSocketService\n    webSocketService.off(event, handler);\n  }\n\n  /**\n   * Send WebSocket message\n   * @param {string} event - Event name\n   * @param {any} data - Event data\n   */\n  sendMessage(event, data) {\n    return webSocketService.send(event, data);\n  }\n\n  /**\n   * Update auth token for WebSocket\n   * @param {string} token - New auth token\n   */\n  updateSocketAuth(token) {\n    webSocketService.authenticate(token);\n  }\n\n  /**\n   * Disconnect WebSocket\n   */\n  disconnectSocket() {\n    webSocketService.disconnect();\n  }\n}\n\nexport default ApiService;","// services/ConfigService.js\nclass ConfigService {\n  constructor() {\n    // Try to load configuration from localStorage first (for persistence)\n    this.loadConfig();\n    \n    // Set defaults if not configured\n    // Use relative URL to leverage React's proxy setup\n    this.config = {\n      apiBaseUrl: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\n      defaultWaitTime: 15,\n      notificationTimeout: 30,\n      ...this.config\n    };\n    \n    console.log('ConfigService initialized with base URL:', this.config.apiBaseUrl);\n  }\n  \n  loadConfig() {\n    try {\n      const savedConfig = localStorage.getItem('coffee_system_config');\n      this.config = savedConfig ? JSON.parse(savedConfig) : {};\n    } catch (err) {\n      console.error('Failed to load configuration:', err);\n      this.config = {};\n    }\n  }\n  \n  saveConfig() {\n    try {\n      localStorage.setItem('coffee_system_config', JSON.stringify(this.config));\n    } catch (err) {\n      console.error('Failed to save configuration:', err);\n    }\n  }\n  \n  get(key, defaultValue = null) {\n    return this.config[key] !== undefined ? this.config[key] : defaultValue;\n  }\n  \n  set(key, value) {\n    this.config[key] = value;\n    this.saveConfig();\n    return value;\n  }\n  \n  getApiUrl(endpoint = '') {\n    // Clean the endpoint to avoid double slashes\n    const cleanEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n    return `${this.config.apiBaseUrl}/${cleanEndpoint}`;\n  }\n}\n\n// Export as singleton\nexport default new ConfigService();","// services/TokenRefreshService.js\n/**\n * Service to handle automatic token refresh\n */\nclass TokenRefreshService {\n  constructor() {\n    this.refreshTimer = null;\n    this.refreshThreshold = 5 * 60 * 1000; // Refresh 5 minutes before expiry\n  }\n\n  /**\n   * Start automatic token refresh\n   */\n  startAutoRefresh() {\n    this.stopAutoRefresh(); // Clear any existing timer\n    \n    const token = localStorage.getItem('token');\n    const expiresIn = localStorage.getItem('tokenExpiresIn');\n    \n    if (!token || !expiresIn) {\n      console.log('No token to refresh');\n      return;\n    }\n    \n    // Calculate when to refresh (5 minutes before expiry)\n    const expiresInMs = parseInt(expiresIn) * 1000;\n    const refreshIn = Math.max(expiresInMs - this.refreshThreshold, 10000); // At least 10 seconds\n    \n    console.log(`Token refresh scheduled in ${refreshIn / 1000} seconds`);\n    \n    this.refreshTimer = setTimeout(async () => {\n      await this.refreshToken();\n    }, refreshIn);\n  }\n\n  /**\n   * Stop automatic token refresh\n   */\n  stopAutoRefresh() {\n    if (this.refreshTimer) {\n      clearTimeout(this.refreshTimer);\n      this.refreshTimer = null;\n    }\n  }\n\n  /**\n   * Refresh the JWT token\n   */\n  async refreshToken() {\n    try {\n      const refreshToken = localStorage.getItem('refreshToken');\n      \n      if (!refreshToken) {\n        console.error('No refresh token available');\n        this.handleTokenExpired();\n        return false;\n      }\n      \n      const response = await fetch('http://localhost:5001/api/auth/refresh', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${refreshToken}`\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        \n        if (data.token) {\n          // Update tokens in localStorage\n          localStorage.setItem('token', data.token);\n          localStorage.setItem('tokenExpiresIn', data.expiresIn || '3600');\n          \n          console.log('Token refreshed successfully');\n          \n          // Notify other services about new token\n          window.dispatchEvent(new CustomEvent('tokenRefreshed', {\n            detail: { token: data.token }\n          }));\n          \n          // Schedule next refresh\n          this.startAutoRefresh();\n          \n          return true;\n        }\n      } else if (response.status === 401) {\n        console.error('Refresh token invalid or expired');\n        this.handleTokenExpired();\n        return false;\n      }\n      \n      console.error('Token refresh failed:', response.status);\n      return false;\n      \n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Handle token expiration\n   */\n  handleTokenExpired() {\n    console.log('Token expired - user needs to login again');\n    \n    // Clear auth data\n    localStorage.removeItem('token');\n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('tokenExpiresIn');\n    localStorage.removeItem('user');\n    \n    // Notify app about logout\n    window.dispatchEvent(new CustomEvent('tokenExpired'));\n    \n    // Redirect to login\n    if (window.location.pathname !== '/login') {\n      window.location.href = '/login';\n    }\n  }\n\n  /**\n   * Check if token is expired or about to expire\n   */\n  isTokenExpiringSoon() {\n    const token = localStorage.getItem('token');\n    if (!token) return true;\n    \n    try {\n      // Decode JWT to check expiration\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      const expiresAt = payload.exp * 1000; // Convert to milliseconds\n      const now = Date.now();\n      const timeUntilExpiry = expiresAt - now;\n      \n      // Consider it expiring if less than 5 minutes left\n      return timeUntilExpiry < this.refreshThreshold;\n    } catch (error) {\n      console.error('Error checking token expiration:', error);\n      return true;\n    }\n  }\n}\n\n// Export singleton instance\nconst tokenRefreshService = new TokenRefreshService();\nexport default tokenRefreshService;","// services/AuthService.js\nimport OrderDataService from './OrderDataService';\nimport ConfigService from './ConfigService';\nimport tokenRefreshService from './TokenRefreshService';\n\nclass AuthService {\n  constructor() {\n    this.tokenKey = 'coffee_system_token';\n    this.userKey = 'coffee_system_user';\n    this.refreshKey = 'coffee_system_refresh_token';\n    this.expiryKey = 'coffee_system_token_expiry';\n    \n    // Track authentication errors for fallback mode\n    this.authErrors = 0;\n    this.maxAuthErrors = 3;\n    this.debugMode = true;\n    \n    // Load tokens from localStorage\n    this.accessToken = localStorage.getItem(this.tokenKey);\n    this.refreshToken = localStorage.getItem(this.refreshKey);\n    this.tokenExpiry = localStorage.getItem(this.expiryKey) \n      ? new Date(localStorage.getItem(this.expiryKey)) \n      : null;\n      \n    // Check if fallback mode is enabled\n    this.useFallbackData = localStorage.getItem('use_fallback_data') === 'true';\n    if (this.useFallbackData) {\n      console.log('AuthService: Fallback mode is already enabled');\n    }\n    \n    // Start token refresh if we have a valid token\n    if (this.accessToken) {\n      tokenRefreshService.startAutoRefresh();\n    }\n  }\n\n  /**\n   * Log in user and save JWT tokens\n   * @param {string} username - Username\n   * @param {string} password - Password\n   * @returns {Promise<Object>} - Login result with user info\n   */\n  async login(username, password) {\n    try {\n      // Use ConfigService for API URL\n      const response = await fetch(ConfigService.getApiUrl('auth/login'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({ username, password }),\n        mode: 'cors'\n        // Don't include credentials to avoid CORS issues with wildcard origin\n      });\n\n      if (!response.ok) {\n        let errorData;\n        try {\n          errorData = await response.json();\n        } catch (e) {\n          errorData = { message: 'Invalid username or password' };\n        }\n        throw new Error(errorData.message || 'Login failed');\n      }\n\n      const data = await response.json();\n      \n      // Make sure we have the expected data structure\n      if (!data || !data.token) {\n        throw new Error('Invalid response format from server');\n      }\n      \n      // Save tokens and user data\n      localStorage.setItem(this.tokenKey, data.token);\n      localStorage.setItem(this.refreshKey, data.refreshToken || '');\n      \n      // Also save with standard keys for compatibility\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('refreshToken', data.refreshToken || '');\n      localStorage.setItem('tokenExpiresIn', String(data.expiresIn || 3600));\n      \n      // Save token expiry if provided\n      if (data.expiresIn) {\n        const expiry = new Date();\n        expiry.setSeconds(expiry.getSeconds() + data.expiresIn);\n        this.tokenExpiry = expiry;\n        localStorage.setItem(this.expiryKey, expiry.toISOString());\n      }\n      \n      // Start automatic token refresh\n      tokenRefreshService.startAutoRefresh();\n      \n      // Make sure user object exists before storing\n      const userData = data.user || { \n        id: 'unknown',\n        username,\n        role: 'guest'\n      };\n      \n      localStorage.setItem(this.userKey, JSON.stringify(userData));\n      \n      // Set token for API requests\n      OrderDataService.setToken(data.token);\n      \n      // Reset auth errors on successful login\n      this.authErrors = 0;\n      localStorage.removeItem('auth_error_count');\n      localStorage.removeItem('auth_error_refresh_needed');\n      localStorage.removeItem('use_fallback_data');\n      \n      // Redirect to the appropriate dashboard based on user role\n      this.redirectBasedOnRole(userData.role);\n      \n      return {\n        token: data.token,\n        refreshToken: data.refreshToken,\n        user: userData,\n        expiresIn: data.expiresIn || 3600\n      };\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Log out user\n   */\n  logout() {\n    // Stop token refresh\n    tokenRefreshService.stopAutoRefresh();\n    \n    // First get current path to potentially redirect back after login\n    const currentPath = window.location.pathname;\n    const redirectParam = currentPath && currentPath !== '/' && currentPath !== '/login' \n      ? `?redirect=${encodeURIComponent(currentPath)}` \n      : '';\n      \n    // Clear local storage tokens and user data\n    localStorage.removeItem(this.tokenKey);\n    localStorage.removeItem(this.refreshKey);\n    localStorage.removeItem(this.userKey);\n    localStorage.removeItem(this.expiryKey);\n    \n    // Clear standard token keys\n    localStorage.removeItem('token');\n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('tokenExpiresIn');\n    localStorage.removeItem('user');\n    \n    // Clear token from API service\n    OrderDataService.setToken(null);\n    \n    // Call logout endpoint to invalidate token on server\n    try {\n      // Use ConfigService for API URL\n      fetch(ConfigService.getApiUrl('auth/logout'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Authorization': `Bearer ${this.getToken()}`\n        },\n        mode: 'cors'\n        // Don't include credentials to avoid CORS issues with wildcard origin\n      }).catch(err => {\n        // Silent catch - we're logging out anyway\n        console.log('Logout request error:', err);\n      });\n    } catch (error) {\n      // Ignore errors during logout\n    }\n    \n    // Create a custom event for logout to notify other components\n    window.dispatchEvent(new Event('user_logged_out'));\n    \n    // Redirect to login page with redirect parameter if appropriate\n    window.location.href = `/login${redirectParam}`;\n  }\n\n  /**\n   * Redirect user based on their role\n   * @param {string} role - User role\n   */\n  redirectBasedOnRole(role) {\n    let redirectPath = '/';\n    \n    switch(role) {\n      case 'admin':\n        redirectPath = '/admin';\n        break;\n      case 'staff':\n      case 'event_organizer':\n        redirectPath = '/staff';\n        break;\n      case 'barista':\n        redirectPath = '/barista';\n        break;\n      case 'support':\n        redirectPath = '/support';\n        break;\n      case 'display':\n        redirectPath = '/display';\n        break;\n      default:\n        // If role doesn't match, go to the role selection page\n        redirectPath = '/';\n        break;\n    }\n    \n    // In React SPA, if we're already on the page, this won't trigger a reload\n    // So force navigation to make sure components re-render\n    if (window.location.pathname === redirectPath) {\n      window.location.reload();\n    } else {\n      window.location.href = redirectPath;\n    }\n  }\n\n  /**\n   * Get current authenticated user\n   * @returns {Object|null} - User data or null if not logged in\n   */\n  getCurrentUser() {\n    const userStr = localStorage.getItem(this.userKey);\n    if (!userStr) return null;\n    \n    try {\n      return JSON.parse(userStr);\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Get JWT token\n   * @returns {string|null} - JWT token or null if not logged in\n   */\n  getToken() {\n    return localStorage.getItem(this.tokenKey);\n  }\n\n  /**\n   * Check if user is logged in\n   * @returns {boolean} - True if logged in\n   */\n  isLoggedIn() {\n    return !!this.getToken();\n  }\n\n  /**\n   * Check if token is expired\n   * @param {number} bufferSeconds - Seconds before actual expiry to consider token as expired (default: 300s/5min)\n   * @returns {boolean} - True if token is expired\n   */\n  isTokenExpired(bufferSeconds = 300) {\n    const token = this.getToken();\n    if (!token) return true;\n    \n    try {\n      // Get token payload\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      \n      // Check expiration with buffer\n      const currentTime = Math.floor(Date.now() / 1000);\n      const expirationTime = payload.exp;\n      \n      // If expiration is within buffer, consider it expired\n      return currentTime + bufferSeconds >= expirationTime;\n    } catch (error) {\n      console.error('Token validation error:', error);\n      return true;\n    }\n  }\n  \n  /**\n   * Validate token format and structure\n   * @returns {Object} - Validation result with status and error message if any\n   */\n  validateToken() {\n    const token = this.getToken();\n    if (!token) {\n      return { isValid: false, error: 'No token found' };\n    }\n    \n    try {\n      // Check token format (should be 3 parts separated by dots)\n      const parts = token.split('.');\n      if (parts.length !== 3) {\n        return { isValid: false, error: 'Invalid token format' };\n      }\n      \n      // Try to decode header\n      try {\n        const header = JSON.parse(atob(parts[0]));\n        if (!header.alg || !header.typ) {\n          return { isValid: false, error: 'Invalid token header' };\n        }\n      } catch (e) {\n        return { isValid: false, error: 'Cannot decode token header' };\n      }\n      \n      // Try to decode payload\n      try {\n        const payload = JSON.parse(atob(parts[1]));\n        \n        // Verify required claims\n        if (!payload.sub) {\n          return { isValid: false, error: 'Token missing subject claim' };\n        }\n        \n        // Check subject format - must be a string\n        if (typeof payload.sub !== 'string') {\n          return { isValid: false, error: 'Subject must be a string' };\n        }\n        \n        // Check expiration\n        if (payload.exp && payload.exp * 1000 < Date.now()) {\n          return { isValid: false, error: 'Token has expired', expired: true };\n        }\n        \n        // Everything looks good\n        return { \n          isValid: true, \n          payload: payload,\n          expiresAt: payload.exp ? new Date(payload.exp * 1000) : null\n        };\n      } catch (e) {\n        return { isValid: false, error: 'Cannot decode token payload' };\n      }\n    } catch (error) {\n      console.error('Token validation error:', error);\n      return { isValid: false, error: error.message };\n    }\n  }\n\n  /**\n   * Refresh token\n   * @returns {Promise<boolean>} - True if refresh successful\n   */\n  async refreshToken() {\n    const refreshToken = localStorage.getItem(this.refreshKey);\n    if (!refreshToken) return false;\n    \n    try {\n      // Use ConfigService for API URL\n      const response = await fetch(ConfigService.getApiUrl('auth/refresh'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({ refreshToken }),\n        mode: 'cors'\n        // Don't include credentials to avoid CORS issues with wildcard origin\n      });\n      \n      if (!response.ok) {\n        this.incrementAuthError();\n        throw new Error('Token refresh failed');\n      }\n      \n      const data = await response.json();\n      \n      // Validate response contains token\n      if (!data || !data.token) {\n        this.incrementAuthError();\n        throw new Error('Invalid response from refresh endpoint');\n      }\n      \n      // Save new token\n      localStorage.setItem(this.tokenKey, data.token);\n      \n      // Save token expiry if provided\n      if (data.expiresIn) {\n        const expiry = new Date();\n        expiry.setSeconds(expiry.getSeconds() + data.expiresIn);\n        this.tokenExpiry = expiry;\n        localStorage.setItem(this.expiryKey, expiry.toISOString());\n      }\n      \n      // Update token for API requests\n      OrderDataService.setToken(data.token);\n      \n      // Reset auth error count on successful refresh\n      this.authErrors = 0;\n      localStorage.removeItem('auth_error_count');\n      \n      console.log('Token refreshed successfully');\n      return true;\n    } catch (error) {\n      console.error('Token refresh error:', error);\n      this.incrementAuthError();\n      return false;\n    }\n  }\n\n  /**\n   * Handle authentication - check token and refresh if needed\n   * @returns {Promise<boolean>} - True if authenticated\n   */\n  async handleAuthentication() {\n    console.log(' handleAuthentication called');\n    \n    if (!this.isLoggedIn()) {\n      console.log('Not logged in - no token found');\n      return false;\n    }\n    \n    // TEMPORARY FIX: Bypass refresh logic for now\n    const token = this.getToken();\n    const user = this.getCurrentUser();\n    \n    if (!token || !user) {\n      console.log('Missing token or user data');\n      return false;\n    }\n    \n    // Simple validation - check if token is completely expired\n    try {\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      const exp = new Date(payload.exp * 1000);\n      const now = new Date();\n      \n      // Only fail if token is completely expired (not just within refresh window)\n      if (exp <= now) {\n        console.log('Token is completely expired');\n        localStorage.removeItem(this.tokenKey);\n        return false;\n      }\n      \n      console.log(' Token is valid, user authenticated');\n      \n      // Set token for API requests\n      OrderDataService.setToken(token);\n      \n      return true;\n      \n    } catch (error) {\n      console.error('Error validating token:', error);\n      localStorage.removeItem(this.tokenKey);\n      return false;\n    }\n  }\n  \n  /**\n   * Track authentication errors\n   */\n  incrementAuthError() {\n    this.authErrors++;\n    \n    // Store error count in localStorage for persistence across page refreshes\n    const currentCount = parseInt(localStorage.getItem('auth_error_count') || '0');\n    localStorage.setItem('auth_error_count', (currentCount + 1).toString());\n    \n    console.log(`Auth error count: ${this.authErrors}/${this.maxAuthErrors}`);\n    \n    // If we've hit the threshold, enable fallback mode\n    if (this.authErrors >= this.maxAuthErrors || currentCount + 1 >= this.maxAuthErrors) {\n      console.warn(`Auth error threshold reached (${this.authErrors}/${this.maxAuthErrors}), enabling fallback mode`);\n      localStorage.setItem('use_fallback_data', 'true');\n      localStorage.setItem('auth_error_refresh_needed', 'true');\n      this.useFallbackData = true;\n      \n      // Dispatch event to notify app components\n      window.dispatchEvent(new CustomEvent('fallback-mode-enabled'));\n    }\n  }\n  \n  /**\n   * Create and use a valid dummy token for offline/demo mode\n   * Useful for fixing \"Subject must be a string\" errors\n   */\n  createValidDummyToken() {\n    // Create header part\n    const header = {\n      alg: 'HS256',\n      typ: 'JWT'\n    };\n    \n    // Create payload with proper sub field as string\n    const now = Math.floor(Date.now() / 1000);\n    const payload = {\n      sub: 'demo_user', // Must be a string\n      name: 'Demo User',\n      role: 'barista',\n      stations: [1, 2, 3],\n      iat: now,\n      exp: now + (24 * 60 * 60), // 24 hours from now\n      permissions: ['manage_orders', 'view_stations']\n    };\n    \n    // Base64 encode parts\n    const headerB64 = btoa(JSON.stringify(header)).replace(/=/g, '');\n    const payloadB64 = btoa(JSON.stringify(payload)).replace(/=/g, '');\n    \n    // Create a dummy signature\n    const signature = 'valid_signature_for_offline_demo_mode';\n    \n    // Create and store the token\n    const validToken = `${headerB64}.${payloadB64}.${signature}`;\n    localStorage.setItem(this.tokenKey, validToken);\n    \n    // Add to other storages for compatibility\n    localStorage.setItem('coffee_auth_token', validToken);\n    localStorage.setItem('jwt_token', validToken);\n    \n    // Enable fallback mode for complete offline operation\n    localStorage.setItem('use_fallback_data', 'true');\n    localStorage.setItem('auth_error_refresh_needed', 'true');\n    \n    // Reset error counts\n    localStorage.removeItem('auth_error_count');\n    this.authErrors = 0;\n    \n    console.log('Created and stored valid dummy token for offline/demo mode');\n    return validToken;\n  }\n  \n  /**\n   * Enable demo/fallback mode with valid token\n   */\n  enableDemoMode() {\n    // Create valid token\n    this.createValidDummyToken();\n    \n    // Set fallback flags\n    localStorage.setItem('use_fallback_data', 'true');\n    localStorage.setItem('auth_error_refresh_needed', 'true');\n    localStorage.setItem('fallback_data_available', 'true');\n    localStorage.setItem('demo_mode_enabled', 'true');\n    \n    console.log('Demo mode enabled with valid token and fallback data');\n    \n    // Dispatch event to notify app components\n    window.dispatchEvent(new CustomEvent('fallback-mode-enabled'));\n  }\n  \n  /**\n   * Disable demo/fallback mode\n   */\n  disableDemoMode() {\n    // Remove fallback flags\n    localStorage.removeItem('use_fallback_data');\n    localStorage.removeItem('auth_error_refresh_needed');\n    localStorage.removeItem('fallback_data_available');\n    localStorage.removeItem('demo_mode_enabled');\n    \n    // Remove dummy tokens\n    localStorage.removeItem(this.tokenKey);\n    localStorage.removeItem('coffee_auth_token');\n    localStorage.removeItem('jwt_token');\n    \n    // Reset error counts\n    localStorage.removeItem('auth_error_count');\n    this.authErrors = 0;\n    \n    console.log('Demo mode disabled, returning to normal operation');\n    \n    // Dispatch event to notify app components\n    window.dispatchEvent(new CustomEvent('fallback-mode-disabled'));\n  }\n\n  /**\n   * Add authorization header to existing headers object\n   * @param {Object} headers - The headers object to modify\n   * @returns {Object} - The modified headers object with authorization header\n   */\n  async addAuthorizationHeader(headers = {}) {\n    // Make sure we have a valid token\n    await this.handleAuthentication();\n    \n    const token = this.getToken();\n    if (token) {\n      return {\n        ...headers,\n        'Authorization': `Bearer ${token}`\n      };\n    }\n    \n    return headers;\n  }\n\n  /**\n   * Refresh access token\n   * @returns {Promise<boolean>} - True if refresh was successful\n   */\n  async refreshAccessToken() {\n    return await this.refreshToken();\n  }\n}\n\n// Export as singleton\nexport default new AuthService();","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"61a4479f\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"barista-frontend:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbarista_frontend\"] = self[\"webpackChunkbarista_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","/**\n * react-router v7.3.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href2 = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href2 = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href2 + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    let base = window2.location.origin !== \"null\" ? window2.location.origin : window2.location.href;\n    let href2 = typeof to === \"string\" ? to : createPath(to);\n    href2 = href2.replace(/ $/, \"%20\");\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href2}`\n    );\n    return new URL(href2, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n\n// lib/router/utils.ts\nfunction unstable_createContext(defaultValue) {\n  return { defaultValue };\n}\nvar _map;\nvar unstable_RouterContextProvider = class {\n  constructor(init) {\n    __privateAdd(this, _map, /* @__PURE__ */ new Map());\n    if (init) {\n      for (let [context, value] of init) {\n        this.set(context, value);\n      }\n    }\n  }\n  get(context) {\n    if (__privateGet(this, _map).has(context)) {\n      return __privateGet(this, _map).get(context);\n    }\n    if (context.defaultValue !== void 0) {\n      return context.defaultValue;\n    }\n    throw new Error(\"No value found for context\");\n  }\n  set(context, value) {\n    __privateGet(this, _map).set(context, value);\n  }\n};\n_map = new WeakMap();\nvar immutableRouteKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id,\n        children: void 0\n      };\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\") {\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return stringify(param);\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  );\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser2 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let mapRouteProperties2 = init.mapRouteProperties || defaultMapRouteProperties;\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;\n  let future = {\n    unstable_middleware: false,\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  if (initialMatches == null && !init.patchRoutesOnNavigation) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n  if (initialMatches && !init.hydrationData) {\n    let fogOfWar = checkFogOfWar(\n      initialMatches,\n      dataRoutes,\n      init.history.location.pathname\n    );\n    if (fogOfWar.active) {\n      initialMatches = null;\n    }\n  }\n  let initialized;\n  if (!initialMatches) {\n    initialized = false;\n    initialMatches = [];\n    let fogOfWar = checkFogOfWar(\n      null,\n      dataRoutes,\n      init.history.location.pathname\n    );\n    if (fogOfWar.active && fogOfWar.matches) {\n      initialMatchesIsFOW = true;\n      initialMatches = fogOfWar.matches;\n    }\n  } else if (initialMatches.some((m) => m.route.lazy)) {\n    initialized = false;\n  } else if (!initialMatches.some((m) => m.route.loader)) {\n    initialized = true;\n  } else {\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    if (errors) {\n      let idx = initialMatches.findIndex(\n        (m) => errors[m.route.id] !== void 0\n      );\n      initialized = initialMatches.slice(0, idx + 1).every((m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    } else {\n      initialized = initialMatches.every(\n        (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n      );\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser2) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition: getSavedScrollPosition(\n          location,\n          newState.matches || state.matches\n        ),\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let scopedContext = new unstable_RouterContextProvider(\n      init.unstable_getContext ? await init.unstable_getContext() : void 0\n    );\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, scopedContext, isFogOfWar, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches,\n        scopedContext,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (!result) {\n        for (let match of matches) {\n          if (results[match.route.id]) {\n            result = results[match.route.id];\n            break;\n          }\n        }\n      }\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [boundaryMatch.route.id, result]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      pendingActionResult\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      matches,\n      matchesToLoad,\n      revalidatingFetchers,\n      request,\n      scopedContext\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href2, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href2,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let scopedContext = new unstable_RouterContextProvider(\n      init.unstable_getContext ? await init.unstable_getContext() : void 0\n    );\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        match,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      match,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId\n        });\n        setFetcherError(key, routeId, error, { flushSync });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        path,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\n      \"action\",\n      fetchRequest,\n      [match],\n      requestMatches,\n      scopedContext,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      [match.route.id, actionResult]\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      matches,\n      matchesToLoad,\n      revalidatingFetchers,\n      revalidationRequest,\n      scopedContext\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, match, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        path,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\n      \"loader\",\n      fetchRequest,\n      [match],\n      matches,\n      scopedContext,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser2) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(type, request, matchesToLoad, matches, scopedContext, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        type,\n        request,\n        matchesToLoad,\n        matches,\n        fetcherKey,\n        manifest,\n        mapRouteProperties2,\n        scopedContext,\n        future.unstable_middleware\n      );\n    } catch (e) {\n      matchesToLoad.forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(\n          result\n        );\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(matches, matchesToLoad, fetchersToLoad, request, scopedContext) {\n    let loaderResultsPromise = callDataStrategy(\n      \"loader\",\n      request,\n      matchesToLoad,\n      matches,\n      scopedContext,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.controller) {\n          let results = await callDataStrategy(\n            \"loader\",\n            createClientSideRequest(init.history, f.path, f.controller.signal),\n            [f.match],\n            f.matches,\n            scopedContext,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (init.patchRoutesOnNavigation) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!init.patchRoutesOnNavigation) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await init.patchRoutesOnNavigation({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return { type: \"success\", matches: newMatches };\n      }\n      let newPartialMatches = matchRoutesImpl(\n        routesToUse,\n        pathname,\n        basename,\n        true\n      );\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every(\n        (m, i) => m.route.id === newPartialMatches[i].route.id\n      )) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties2 = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    filterMatchesToLoad,\n    skipLoaderErrorBubbling,\n    skipRevalidation,\n    dataStrategy,\n    unstable_respond: respond\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return respond ? respond(staticContext) : staticContext;\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return respond ? respond(staticContext) : staticContext;\n    }\n    if (respond && matches.some((m) => m.route.unstable_middleware)) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.query()`, any provided `requestContext` must bean instance of `unstable_RouterContextProvider`\"\n      );\n      try {\n        let renderedStaticContext;\n        let response = await runMiddlewarePipeline(\n          {\n            request,\n            matches,\n            params: matches[0].params,\n            // If we're calling middleware then it must be enabled so we can cast\n            // this to the proper type knowing it's not an `AppLoadContext`\n            context: requestContext\n          },\n          true,\n          async () => {\n            let result2 = await queryImpl(\n              request,\n              location,\n              matches,\n              requestContext,\n              dataStrategy || null,\n              skipLoaderErrorBubbling === true,\n              null,\n              filterMatchesToLoad || null,\n              skipRevalidation === true\n            );\n            if (isResponse(result2)) {\n              return result2;\n            }\n            renderedStaticContext = { location, basename, ...result2 };\n            let res = await respond(renderedStaticContext);\n            return res;\n          },\n          async (e) => {\n            if (isResponse(e.error)) {\n              return e.error;\n            }\n            if (renderedStaticContext) {\n              if (e.routeId in renderedStaticContext.loaderData) {\n                renderedStaticContext.loaderData[e.routeId] = void 0;\n              }\n              return respond(\n                getStaticContextFromError(\n                  dataRoutes,\n                  renderedStaticContext,\n                  e.error,\n                  findNearestBoundary(matches, e.routeId).route.id\n                )\n              );\n            } else {\n              let loaderIdx = matches.findIndex((m) => m.route.loader);\n              let boundary = loaderIdx >= 0 ? findNearestBoundary(matches, matches[loaderIdx].route.id) : findNearestBoundary(matches);\n              return respond({\n                matches,\n                location,\n                basename,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                  [boundary.route.id]: e.error\n                },\n                statusCode: isRouteErrorResponse(e.error) ? e.error.status : 500,\n                actionHeaders: {},\n                loaderHeaders: {}\n              });\n            }\n          }\n        );\n        invariant(isResponse(response), \"Expected a response in query()\");\n        return response;\n      } catch (e) {\n        if (isResponse(e)) {\n          return e;\n        }\n        throw e;\n      }\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null,\n      filterMatchesToLoad || null,\n      skipRevalidation === true\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy,\n    unstable_respond: respond\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    if (respond && matches.some((m) => m.route.unstable_middleware)) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must bean instance of `unstable_RouterContextProvider`\"\n      );\n      let response = await runMiddlewarePipeline(\n        {\n          request,\n          matches,\n          params: matches[0].params,\n          // If we're calling middleware then it must be enabled so we can cast\n          // this to the proper type knowing it's not an `AppLoadContext`\n          context: requestContext\n        },\n        true,\n        async () => {\n          let result2 = await queryImpl(\n            request,\n            location,\n            matches,\n            requestContext,\n            dataStrategy || null,\n            false,\n            match,\n            null,\n            false\n          );\n          if (isResponse(result2)) {\n            return respond(result2);\n          }\n          let error2 = result2.errors ? Object.values(result2.errors)[0] : void 0;\n          if (error2 !== void 0) {\n            throw error2;\n          }\n          let value = result2.actionData ? Object.values(result2.actionData)[0] : Object.values(result2.loaderData)[0];\n          return typeof value === \"string\" ? new Response(value) : Response.json(value);\n        },\n        (e) => {\n          if (isResponse(e.error)) {\n            return respond(e.error);\n          }\n          return new Response(String(e.error), {\n            status: 500,\n            statusText: \"Unexpected Server Error\"\n          });\n        }\n      );\n      return response;\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match,\n      null,\n      false\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : void 0;\n    if (error !== void 0) {\n      throw error;\n    }\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      return Object.values(result.loaderData)[0];\n    }\n    return void 0;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null,\n          filterMatchesToLoad,\n          skipRevalidation\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch,\n        filterMatchesToLoad\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    if (skipRevalidation) {\n      if (isErrorResult(result)) {\n        let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n        return {\n          statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n          actionData: null,\n          actionHeaders: {\n            ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n          },\n          matches,\n          loaderData: {},\n          errors: {\n            [boundaryMatch.route.id]: result.error\n          },\n          loaderHeaders: {}\n        };\n      } else {\n        return {\n          actionData: {\n            [actionMatch.route.id]: result.data\n          },\n          actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {},\n          matches,\n          loaderData: {},\n          errors: null,\n          statusCode: result.statusCode || 200,\n          loaderHeaders: {}\n        };\n      }\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let handlerContext2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        filterMatchesToLoad,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...handlerContext2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let handlerContext = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null,\n      filterMatchesToLoad\n    );\n    return {\n      ...handlerContext,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;\n    let matchesToLoad = requestMatches.filter(\n      (m) => (m.route.loader || m.route.lazy) && (!filterMatchesToLoad || filterMatchesToLoad(m))\n    );\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      \"loader\",\n      request,\n      matchesToLoad,\n      matches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let handlerContext = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    let executedLoaders = new Set(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        handlerContext.loaderData[match.route.id] = null;\n      }\n    });\n    return {\n      ...handlerContext,\n      matches\n    };\n  }\n  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      type,\n      request,\n      matchesToLoad,\n      matches,\n      null,\n      manifest,\n      mapRouteProperties2,\n      requestContext,\n      false\n      // middleware not done via dataStrategy in the static handler\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isResponse(result.result) && isRouteRequest) {\n          throw result;\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, handlerContext, error, boundaryId) {\n  let errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;\n  return {\n    ...handlerContext,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [errorBoundaryId]: error\n    }\n  };\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary = false) {\n  let index = matches.findIndex((m) => m.route.id === boundaryId);\n  if (index >= 0) {\n    return matches.slice(0, includeBoundary ? index + 1 : index);\n  }\n  return matches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let boundaryMatches = matches;\n  if (initialHydration && state.errors) {\n    boundaryMatches = getLoaderMatchesUntilBoundary(\n      matches,\n      Object.keys(state.errors)[0],\n      true\n    );\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    boundaryMatches = getLoaderMatchesUntilBoundary(\n      matches,\n      pendingActionResult[0]\n    );\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let { route } = match;\n    if (route.lazy) {\n      return true;\n    }\n    if (route.loader == null) {\n      return false;\n    }\n    if (initialHydration) {\n      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);\n    }\n    if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      return true;\n    }\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation ? false : (\n        // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n        isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n        currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n      )\n    });\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0) {\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params,\n        ...submission,\n        actionResult,\n        actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      });\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && loaderData[route.id] !== void 0;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = children.filter(\n    (newRoute) => !childrenToPatch.some(\n      (existingRoute) => isSameRoute(newRoute, existingRoute)\n    )\n  );\n  let newRoutes = convertRoutesToDataRoutes(\n    uniqueChildren,\n    mapRouteProperties2,\n    [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n    manifest\n  );\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nasync function loadLazyRouteModule(route, mapRouteProperties2, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  Object.assign(routeToUpdate, routeUpdates);\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided `mapRouteProperties`\n    // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n    // since the logic will differ between frameworks.\n    ...mapRouteProperties2(routeToUpdate),\n    lazy: void 0\n  });\n}\nasync function defaultDataStrategy(args) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);\n  let keyedResults = {};\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  results.forEach((result, i) => {\n    keyedResults[matchesToLoad[i].route.id] = result;\n  });\n  return keyedResults;\n}\nasync function defaultDataStrategyWithMiddleware(args) {\n  if (!args.matches.some((m) => m.route.unstable_middleware)) {\n    return defaultDataStrategy(args);\n  }\n  return runMiddlewarePipeline(\n    args,\n    false,\n    () => defaultDataStrategy(args),\n    (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n  );\n}\nasync function runMiddlewarePipeline(args, propagateResult, handler, errorHandler) {\n  let { matches, request, params, context } = args;\n  let middlewareState = {\n    handlerResult: void 0,\n    propagateResult\n  };\n  try {\n    let tuples = matches.flatMap(\n      (m) => m.route.unstable_middleware ? m.route.unstable_middleware.map((fn) => [m.route.id, fn]) : []\n    );\n    let result = await callRouteMiddleware(\n      { request, params, context },\n      tuples,\n      middlewareState,\n      handler\n    );\n    return middlewareState.propagateResult ? result : middlewareState.handlerResult;\n  } catch (e) {\n    if (!(e instanceof MiddlewareError)) {\n      throw e;\n    }\n    let result = await errorHandler(e);\n    if (propagateResult || !middlewareState.handlerResult) {\n      return result;\n    }\n    return Object.assign(middlewareState.handlerResult, result);\n  }\n}\nvar MiddlewareError = class {\n  constructor(routeId, error) {\n    this.routeId = routeId;\n    this.error = error;\n  }\n};\nasync function callRouteMiddleware(args, middlewares, middlewareState, handler, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    if (request.signal.reason) {\n      throw request.signal.reason;\n    }\n    throw new Error(\n      `Request aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n    );\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    middlewareState.handlerResult = await handler();\n    return middlewareState.handlerResult;\n  }\n  let [routeId, middleware] = tuple;\n  let nextCalled = false;\n  let nextResult = void 0;\n  let next = async () => {\n    if (nextCalled) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    nextCalled = true;\n    let result = await callRouteMiddleware(\n      args,\n      middlewares,\n      middlewareState,\n      handler,\n      idx + 1\n    );\n    if (middlewareState.propagateResult) {\n      nextResult = result;\n      return nextResult;\n    }\n  };\n  try {\n    let result = await middleware(\n      {\n        request: args.request,\n        params: args.params,\n        context: args.context\n      },\n      next\n    );\n    if (nextCalled) {\n      if (result === void 0) {\n        return nextResult;\n      } else {\n        return result;\n      }\n    } else {\n      return next();\n    }\n  } catch (e) {\n    if (e instanceof MiddlewareError) {\n      throw e;\n    }\n    throw new MiddlewareError(routeId, e);\n  }\n}\nasync function callDataStrategyImpl(dataStrategyImpl, type, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties2, scopedContext, enableMiddleware) {\n  let loadRouteDefinitionsPromises = matches.map(\n    (m) => m.route.lazy ? loadLazyRouteModule(m.route, mapRouteProperties2, manifest) : void 0\n  );\n  if (enableMiddleware) {\n    await Promise.all(loadRouteDefinitionsPromises);\n  }\n  let dsMatches = matches.map((match, i) => {\n    let loadRoutePromise = loadRouteDefinitionsPromises[i];\n    let shouldLoad = matchesToLoad.some((m) => m.route.id === match.route.id);\n    let resolve = async (handlerOverride) => {\n      if (handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        shouldLoad = true;\n      }\n      return shouldLoad ? callLoaderOrAction(\n        type,\n        request,\n        match,\n        loadRoutePromise,\n        handlerOverride,\n        scopedContext\n      ) : Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    };\n    return {\n      ...match,\n      shouldLoad,\n      resolve\n    };\n  });\n  let results = await dataStrategyImpl({\n    matches: dsMatches,\n    request,\n    params: matches[0].params,\n    fetcherKey,\n    context: scopedContext\n  });\n  try {\n    await Promise.all(loadRouteDefinitionsPromises);\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, scopedContext) {\n  let result;\n  let onReject;\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          params: match.params,\n          context: scopedContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    if (loadRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          loadRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await loadRoutePromise;\n        handler = match.route[type];\n        if (handler) {\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data2 = null;\n        } else {\n          data2 = await result.json();\n        }\n      } else {\n        data2 = await result.text();\n      }\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(\n          result.init?.status || 500,\n          void 0,\n          result.data\n        ),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    loaderData[pendingActionResult[0]] = void 0;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.forEach((rf) => {\n    let { key, match, controller } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (controller && controller.signal.aborted) {\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\nvar ENABLE_DEV_WARNINGS = true;\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator2.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator2.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator2.replace : navigator2.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator2,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet);\n  }\n  return outlet;\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator: navigator2, static: isStatic } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = !isStatic && dataRouterState && dataRouterState.matches && dataRouterState.matches.length > 0 ? dataRouterState.matches : matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    return this.state.error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: this.state.error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n  }\n};\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : void 0;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\n            \"route-fallback\",\n            false,\n            \"No `HydrateFallback` element provided to render during initial hydration\"\n          );\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /* @__PURE__ */ React2.createElement(\n        RenderedRoute,\n        {\n          match,\n          routeContext: {\n            outlet,\n            matches: matches2,\n            isDataRoute: dataRouterState != null\n          },\n          children\n        }\n      );\n    };\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n      RenderErrorBoundary,\n      {\n        location: dataRouterState.location,\n        revalidation: dataRouterState.revalidation,\n        component: errorElement,\n        error,\n        children: getChildren(),\n        routeContext: { outlet: null, matches: matches2, isDataRoute: true }\n      }\n    ) : getChildren();\n  }, null);\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  return React2.useMemo(\n    () => ({\n      async revalidate() {\n        await dataRouterContext.router.revalidate();\n      },\n      state: state.revalidation\n    }),\n    [dataRouterContext.router, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nvar ENABLE_DEV_WARNINGS2 = true;\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl\n}) {\n  let [state, setStateImpl] = React3.useState(router.state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, flushSync, viewTransitionOpts }) => {\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else {\n          React3.startTransition(() => setStateImpl(newState));\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd && renderDfd.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd && renderDfd.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [router.window, reactDomFlushSyncImpl, transition, renderDfd]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        React3.startTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [pendingState, renderDfd, router.window]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator2 = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator: navigator2,\n      static: false,\n      basename\n    }),\n    [router, navigator2, basename]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: navigator2\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), null);\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      React3.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(_props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator: navigator2,\n  static: staticProp = false\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator: navigator2,\n      static: staticProp,\n      future: {}\n    }),\n    [basename, navigator2, staticProp]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  return /* @__PURE__ */ React3.createElement(AwaitErrorBoundary, { resolve, errorElement }, /* @__PURE__ */ React3.createElement(ResolveAwait, null, children));\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/components.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\nfunction createHtml(html) {\n  return { __html: html };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\nimport { decode } from \"turbo-stream\";\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getSingleFetchDataStrategy(manifest, routeModules, ssr, basename, getRouter) {\n  return async (args) => {\n    let { request, matches, fetcherKey } = args;\n    if (request.method !== \"GET\") {\n      return runMiddlewarePipeline(\n        args,\n        false,\n        () => singleFetchActionStrategy(request, matches, basename),\n        (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n      );\n    }\n    if (!ssr) {\n      let foundRevalidatingServerLoader = matches.some(\n        (m) => m.shouldLoad && manifest.routes[m.route.id]?.hasLoader && !manifest.routes[m.route.id]?.hasClientLoader\n      );\n      if (!foundRevalidatingServerLoader) {\n        return runMiddlewarePipeline(\n          args,\n          false,\n          () => nonSsrStrategy(manifest, request, matches, basename),\n          (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n        );\n      }\n    }\n    if (fetcherKey) {\n      return runMiddlewarePipeline(\n        args,\n        false,\n        () => singleFetchLoaderFetcherStrategy(request, matches, basename),\n        (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n      );\n    }\n    return runMiddlewarePipeline(\n      args,\n      false,\n      () => singleFetchLoaderNavigationStrategy(\n        manifest,\n        routeModules,\n        ssr,\n        getRouter(),\n        request,\n        matches,\n        basename\n      ),\n      (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n    );\n  };\n}\nasync function singleFetchActionStrategy(request, matches, basename) {\n  let actionMatch = matches.find((m) => m.shouldLoad);\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let url = singleFetchUrl(request.url, basename);\n      let init = await createRequestInit(request);\n      let { data: data2, status } = await fetchAndDecode(url, init);\n      actionStatus = status;\n      return unwrapSingleFetchResult(\n        data2,\n        actionMatch.route.id\n      );\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function nonSsrStrategy(manifest, request, matches, basename) {\n  let matchesToLoad = matches.filter((m) => m.shouldLoad);\n  let url = stripIndexParam(singleFetchUrl(request.url, basename));\n  let init = await createRequestInit(request);\n  let results = {};\n  await Promise.all(\n    matchesToLoad.map(\n      (m) => m.resolve(async (handler) => {\n        try {\n          let result = manifest.routes[m.route.id]?.hasClientLoader ? await fetchSingleLoader(handler, url, init, m.route.id) : await handler();\n          results[m.route.id] = { type: \"data\", result };\n        } catch (e) {\n          results[m.route.id] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  return results;\n}\nfunction isOptedOut(manifestRoute, routeModule, match, router) {\n  return match.route.id in router.state.loaderData && manifestRoute && manifestRoute.hasLoader && routeModule && routeModule.shouldRevalidate;\n}\nasync function singleFetchLoaderNavigationStrategy(manifest, routeModules, ssr, router, request, matches, basename) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = matches.map(() => createDeferred2());\n  let routesLoadedPromise = Promise.all(routeDfds.map((d) => d.promise));\n  let singleFetchDfd = createDeferred2();\n  let url = stripIndexParam(singleFetchUrl(request.url, basename));\n  let init = await createRequestInit(request);\n  let results = {};\n  let resolvePromise = Promise.all(\n    matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let manifestRoute = manifest.routes[m.route.id];\n        if (!m.shouldLoad) {\n          if (!router.state.initialized) {\n            return;\n          }\n          if (isOptedOut(manifestRoute, routeModules[m.route.id], m, router)) {\n            foundOptOutRoute = true;\n            return;\n          }\n        }\n        if (manifestRoute && manifestRoute.hasClientLoader) {\n          if (manifestRoute.hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await fetchSingleLoader(\n              handler,\n              url,\n              init,\n              m.route.id\n            );\n            results[m.route.id] = { type: \"data\", result };\n          } catch (e) {\n            results[m.route.id] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (manifestRoute && manifestRoute.hasLoader) {\n          routesParams.add(m.route.id);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResults(data2, m.route.id);\n          });\n          results[m.route.id] = {\n            type: \"data\",\n            result\n          };\n        } catch (e) {\n          results[m.route.id] = {\n            type: \"error\",\n            result: e\n          };\n        }\n      })\n    )\n  );\n  await routesLoadedPromise;\n  if ((!router.state.initialized || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({});\n  } else {\n    try {\n      if (ssr && foundOptOutRoute && routesParams.size > 0) {\n        url.searchParams.set(\n          \"_routes\",\n          matches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n        );\n      }\n      let data2 = await fetchAndDecode(url, init);\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  return results;\n}\nasync function singleFetchLoaderFetcherStrategy(request, matches, basename) {\n  let fetcherMatch = matches.find((m) => m.shouldLoad);\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let result = await fetcherMatch.resolve(async (handler) => {\n    let url = stripIndexParam(singleFetchUrl(request.url, basename));\n    let init = await createRequestInit(request);\n    return fetchSingleLoader(handler, url, init, fetcherMatch.route.id);\n  });\n  return { [fetcherMatch.route.id]: result };\n}\nfunction fetchSingleLoader(handler, url, init, routeId) {\n  return handler(async () => {\n    let singleLoaderUrl = new URL(url);\n    singleLoaderUrl.searchParams.set(\"_routes\", routeId);\n    let { data: data2 } = await fetchAndDecode(singleLoaderUrl, init);\n    return unwrapSingleFetchResults(data2, routeId);\n  });\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl, basename) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (url.pathname === \"/\") {\n    url.pathname = \"_root.data\";\n  } else if (basename && stripBasename(url.pathname, basename) === \"/\") {\n    url.pathname = `${basename.replace(/\\/$/, \"\")}/_root.data`;\n  } else {\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.data`;\n  }\n  return url;\n}\nasync function fetchAndDecode(url, init) {\n  let res = await fetch(url, init);\n  if (res.status === 404 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(404, \"Not Found\", true);\n  }\n  const NO_BODY_STATUS_CODES2 = /* @__PURE__ */ new Set([100, 101, 204, 205]);\n  if (NO_BODY_STATUS_CODES2.has(res.status)) {\n    if (!init.method || init.method === \"GET\") {\n      return { status: res.status, data: {} };\n    } else {\n      return { status: res.status, data: { data: void 0 } };\n    }\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    return { status: res.status, data: decoded.value };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global2) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global2 && typeof global2[name] === \"function\") {\n            Constructor = global2[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResults(results, routeId) {\n  let redirect2 = results[SingleFetchRedirectSymbol];\n  if (redirect2) {\n    return unwrapSingleFetchResult(redirect2, routeId);\n  }\n  return results[routeId] !== void 0 ? unwrapSingleFetchResult(results[routeId], routeId) : null;\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"error\" in result) {\n    throw result.error;\n  } else if (\"redirect\" in result) {\n    let headers = {};\n    if (result.revalidate) {\n      headers[\"X-Remix-Revalidate\"] = \"yes\";\n    }\n    if (result.reload) {\n      headers[\"X-Remix-Reload-Document\"] = \"yes\";\n    }\n    if (result.replace) {\n      headers[\"X-Remix-Replace\"] = \"yes\";\n    }\n    throw redirect(result.redirect, { status: result.status, headers });\n  } else if (\"data\" in result) {\n    return result.data;\n  } else {\n    throw new Error(`No response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React5 from \"react\";\nvar RemixErrorBoundary = class extends React5.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React5.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), heyDeveloper);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React5.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React5.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React5.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React5.createElement(\"head\", null, /* @__PURE__ */ React5.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React5.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React5.createElement(\"title\", null, title)), /* @__PURE__ */ React5.createElement(\"body\", null, /* @__PURE__ */ React5.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React5.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/ssr/fallback.tsx\nimport * as React6 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React6.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, /* @__PURE__ */ React6.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://remix.run/route/hydrate-fallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ));\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React7.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need middleware/action/shouldRevalidate on these routes since\n      // they're for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        unstable_middleware: routeModule.unstable_clientMiddleware,\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params, context }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              context,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route,\n        routeModule,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params, context }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            context,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      } else if (route.clientLoaderModule) {\n        dataRoute.loader = async (args, singleFetch) => {\n          invariant2(route.clientLoaderModule);\n          let { clientLoader } = await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          );\n          return clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        };\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      } else if (route.clientActionModule) {\n        dataRoute.action = async (args, singleFetch) => {\n          invariant2(route.clientActionModule);\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          );\n          return clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        };\n      }\n      dataRoute.lazy = async () => {\n        if (route.clientLoaderModule || route.clientActionModule) {\n          await new Promise((resolve) => setTimeout(resolve, 0));\n        }\n        let modPromise = loadRouteModuleWithBlockingLinks(\n          route,\n          routeModulesCache\n        );\n        prefetchRouteModuleChunks(route);\n        let mod = await modPromise;\n        let lazyRoute = { ...mod };\n        if (mod.clientLoader) {\n          let clientLoader = mod.clientLoader;\n          lazyRoute.loader = (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        }\n        if (mod.clientAction) {\n          let clientAction = mod.clientAction;\n          lazyRoute.action = (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        }\n        return {\n          ...lazyRoute.loader ? { loader: lazyRoute.loader } : {},\n          ...lazyRoute.action ? { action: lazyRoute.action } : {},\n          unstable_middleware: mod.unstable_clientMiddleware,\n          hasErrorBoundary: lazyRoute.hasErrorBoundary,\n          shouldRevalidate: getShouldRevalidateFunction(\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          ),\n          handle: lazyRoute.handle,\n          // No need to wrap these in layout since the root route is never\n          // loaded via route.lazy()\n          Component: lazyRoute.Component,\n          ErrorBoundary: lazyRoute.ErrorBoundary\n        };\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({ ...opts, defaultShouldRevalidate: false });\n    } else {\n      return () => false;\n    }\n  }\n  if (ssr && route.shouldRevalidate) {\n    let fn = route.shouldRevalidate;\n    return (opts) => fn({ ...opts, defaultShouldRevalidate: true });\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    unstable_clientMiddleware: routeModule.unstable_clientMiddleware,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(route, routeModule, isSpaMode) {\n  return isSpaMode && route.id !== \"root\" || routeModule.clientLoader != null && (routeModule.clientLoader.hydrate === true || route.hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(ssr) {\n  return ssr === true;\n}\nfunction getPartialManifest(manifest, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal, fetcherKey }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      fetcherKey ? window.location.href : path,\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, isSpaMode) {\n  React8.useEffect(() => {\n    if (!isFogOfWarEnabled(ssr) || navigator.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          null,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router]);\n}\nvar MANIFEST_VERSION_STORAGE_KEY = \"react-router-manifest-version\";\nasync function fetchAndApplyManifestPatches(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, patchRoutes, signal) {\n  let manifestPath = `${basename != null ? basename : \"/\"}/__manifest`.replace(\n    /\\/+/g,\n    \"/\"\n  );\n  let url = new URL(manifestPath, window.location.origin);\n  paths.sort().forEach((path) => url.searchParams.append(\"p\", path));\n  url.searchParams.set(\"version\", manifest.version);\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status === 204 && res.headers.has(\"X-Remix-Reload-Document\")) {\n      if (!errorReloadPath) {\n        console.warn(\n          \"Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.\"\n        );\n        return;\n      }\n      if (sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version) {\n        console.error(\n          \"Unable to discover routes due to manifest version mismatch.\"\n        );\n        return;\n      }\n      sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);\n      window.location.href = errorReloadPath;\n      throw new Error(\"Detected manifest version mismatch, reloading...\");\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React9.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React9.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React9.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React9.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React9.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React9.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React9.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React9.useRef(null);\n  React9.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React9.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nfunction Links() {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React9.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, typeof criticalCss === \"string\" ? /* @__PURE__ */ React9.createElement(\"style\", { dangerouslySetInnerHTML: { __html: criticalCss } }) : null, typeof criticalCss === \"object\" ? /* @__PURE__ */ React9.createElement(\"link\", { rel: \"stylesheet\", href: criticalCss.href }) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React9.createElement(PrefetchPageLinks, { key, ...link }) : /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  ));\n}\nfunction PrefetchPageLinks({\n  page,\n  ...dataLinkProps\n}) {\n  let { router } = useDataRouterContext2();\n  let matches = React9.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React9.createElement(PrefetchPageLinksImpl, { page, matches, ...dataLinkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React9.useState([]);\n  React9.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { manifest, routeModules } = useFrameworkContext();\n  let { basename } = useDataRouterContext2();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React9.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(page, basename);\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    basename,\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React9.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, dataHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"prefetch\", as: \"fetch\", href: href2, ...linkProps })), moduleHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"modulepreload\", href: href2, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React9.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React9.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React9.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React9.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: json }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React9.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction Scripts(props) {\n  let { manifest, serverHandoffString, isSpaMode, ssr, renderMeta } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let enableFogOfWar = isFogOfWarEnabled(ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React9.useEffect(() => {\n    isHydrated = true;\n  }, []);\n  let initialScripts = React9.useMemo(() => {\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React9.createElement(React9.Fragment, null, /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(contextScript),\n        type: void 0\n      }\n    ), /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(routeModulesScript),\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated ? [] : manifest.entry.imports.concat(\n    getModuleLinkHrefs(matches, manifest, {\n      includeHydrateFallback: true\n    })\n  );\n  return isHydrated ? null : /* @__PURE__ */ React9.createElement(React9.Fragment, null, !enableFogOfWar ? /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: props.crossOrigin\n    }\n  ) : null, /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: props.crossOrigin\n    }\n  ), dedupe(preloads).map((path) => /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: props.crossOrigin\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/lib.tsx\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser) {\n    window.__reactRouterVersion = \"7.3.0\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HashRouter({ basename, children, window: window2 }) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    ...rest\n  }, forwardedRef) {\n    let { basename } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && isAbsolute) {\n      absoluteHref = to;\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n    let href2 = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: absoluteHref || href2,\n          onClick: isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href2 })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator: navigator2, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    ...props\n  }, forwardedRef) => {\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition\n      });\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${JSON.stringify(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        )}, ${JSON.stringify(ssrKey)})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition\n        });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await router.fetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await router.navigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [router, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  React10.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => router.deleteFetcher(fetcherKey);\n  }, [router, fetcherKey]);\n  let load = React10.useCallback(\n    async (href2, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await router.fetch(fetcherKey, routeId, href2, opts);\n    },\n    [fetcherKey, routeId, router]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, opts = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative: opts.relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = htmlEscape(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        unstable_middleware: false,\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href2 = typeof to === \"string\" ? to : createPath(to);\n  href2 = href2.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href2) ? new URL(href2) : new URL(href2, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar ESCAPE_LOOKUP2 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX2 = /[&><\\u2028\\u2029]/g;\nfunction htmlEscape(str) {\n  return str.replace(ESCAPE_REGEX2, (match) => ESCAPE_LOOKUP2[match]);\n}\n\n// lib/dom/ssr/server.tsx\nimport * as React12 from \"react\";\nfunction ServerRouter({\n  context,\n  url,\n  nonce\n}) {\n  if (typeof url === \"string\") {\n    url = new URL(url);\n  }\n  let { manifest, routeModules, criticalCss, serverHandoffString } = context;\n  let routes = createServerRoutes(\n    manifest.routes,\n    routeModules,\n    context.future,\n    context.isSpaMode\n  );\n  context.staticHandlerContext.loaderData = {\n    ...context.staticHandlerContext.loaderData\n  };\n  for (let match of context.staticHandlerContext.matches) {\n    let routeId = match.route.id;\n    let route = routeModules[routeId];\n    let manifestRoute = context.manifest.routes[routeId];\n    if (route && manifestRoute && shouldHydrateRouteLoader(manifestRoute, route, context.isSpaMode) && (route.HydrateFallback || !manifestRoute.hasLoader)) {\n      delete context.staticHandlerContext.loaderData[routeId];\n    }\n  }\n  let router = createStaticRouter(routes, context.staticHandlerContext);\n  return /* @__PURE__ */ React12.createElement(React12.Fragment, null, /* @__PURE__ */ React12.createElement(\n    FrameworkContext.Provider,\n    {\n      value: {\n        manifest,\n        routeModules,\n        criticalCss,\n        serverHandoffString,\n        future: context.future,\n        ssr: context.ssr,\n        isSpaMode: context.isSpaMode,\n        serializeError: context.serializeError,\n        renderMeta: context.renderMeta\n      }\n    },\n    /* @__PURE__ */ React12.createElement(RemixErrorBoundary, { location: router.state.location }, /* @__PURE__ */ React12.createElement(\n      StaticRouterProvider,\n      {\n        router,\n        context: context.staticHandlerContext,\n        hydrate: false\n      }\n    ))\n  ), context.serverHandoffStream ? /* @__PURE__ */ React12.createElement(React12.Suspense, null, /* @__PURE__ */ React12.createElement(\n    StreamTransfer,\n    {\n      context,\n      identifier: 0,\n      reader: context.serverHandoffStream.getReader(),\n      textDecoder: new TextDecoder(),\n      nonce\n    }\n  )) : null);\n}\n\n// lib/dom/ssr/routes-test-stub.tsx\nimport * as React13 from \"react\";\nfunction createRoutesStub(routes, unstable_getContext) {\n  return function RoutesTestStub({\n    initialEntries,\n    initialIndex,\n    hydrationData,\n    future\n  }) {\n    let routerRef = React13.useRef();\n    let remixContextRef = React13.useRef();\n    if (routerRef.current == null) {\n      remixContextRef.current = {\n        future: {\n          unstable_middleware: future?.unstable_middleware === true\n        },\n        manifest: {\n          routes: {},\n          entry: { imports: [], module: \"\" },\n          url: \"\",\n          version: \"\"\n        },\n        routeModules: {},\n        ssr: false,\n        isSpaMode: false\n      };\n      let patched = processRoutes(\n        // @ts-expect-error `StubRouteObject` is stricter about `loader`/`action`\n        // types compared to `AgnosticRouteObject`\n        convertRoutesToDataRoutes(routes, (r) => r),\n        remixContextRef.current.manifest,\n        remixContextRef.current.routeModules\n      );\n      routerRef.current = createMemoryRouter(patched, {\n        unstable_getContext,\n        initialEntries,\n        initialIndex,\n        hydrationData\n      });\n    }\n    return /* @__PURE__ */ React13.createElement(FrameworkContext.Provider, { value: remixContextRef.current }, /* @__PURE__ */ React13.createElement(RouterProvider, { router: routerRef.current }));\n  };\n}\nfunction processRoutes(routes, manifest, routeModules, parentId) {\n  return routes.map((route) => {\n    if (!route.id) {\n      throw new Error(\n        \"Expected a route.id in @remix-run/testing processRoutes() function\"\n      );\n    }\n    let newRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      Component: route.Component,\n      HydrateFallback: route.HydrateFallback,\n      ErrorBoundary: route.ErrorBoundary,\n      action: route.action,\n      loader: route.loader,\n      handle: route.handle,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    let entryRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      parentId,\n      hasAction: route.action != null,\n      hasLoader: route.loader != null,\n      // When testing routes, you should just be stubbing loader/action, not\n      // trying to re-implement the full loader/clientLoader/SSR/hydration flow.\n      // That is better tested via E2E tests.\n      hasClientAction: false,\n      hasClientLoader: false,\n      hasErrorBoundary: route.ErrorBoundary != null,\n      // any need for these?\n      module: \"build/stub-path-to-module.js\",\n      clientActionModule: void 0,\n      clientLoaderModule: void 0,\n      hydrateFallbackModule: void 0\n    };\n    manifest.routes[newRoute.id] = entryRoute;\n    routeModules[route.id] = {\n      default: route.Component || Outlet,\n      ErrorBoundary: route.ErrorBoundary || void 0,\n      handle: route.handle,\n      links: route.links,\n      meta: route.meta,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    if (route.children) {\n      newRoute.children = processRoutes(\n        route.children,\n        manifest,\n        routeModules,\n        newRoute.id\n      );\n    }\n    return newRoute;\n  });\n}\n\n// lib/server-runtime/cookies.ts\nimport { parse, serialize } from \"cookie\";\n\n// lib/server-runtime/crypto.ts\nvar encoder = new TextEncoder();\nvar sign = async (value, secret) => {\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"sign\"]);\n  let signature = await crypto.subtle.sign(\"HMAC\", key, data2);\n  let hash = btoa(String.fromCharCode(...new Uint8Array(signature))).replace(\n    /=+$/,\n    \"\"\n  );\n  return value + \".\" + hash;\n};\nvar unsign = async (cookie, secret) => {\n  let index = cookie.lastIndexOf(\".\");\n  let value = cookie.slice(0, index);\n  let hash = cookie.slice(index + 1);\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"verify\"]);\n  let signature = byteStringToUint8Array(atob(hash));\n  let valid = await crypto.subtle.verify(\"HMAC\", key, signature, data2);\n  return valid ? value : false;\n};\nvar createKey2 = async (secret, usages) => crypto.subtle.importKey(\n  \"raw\",\n  encoder.encode(secret),\n  { name: \"HMAC\", hash: \"SHA-256\" },\n  false,\n  usages\n);\nfunction byteStringToUint8Array(byteString) {\n  let array = new Uint8Array(byteString.length);\n  for (let i = 0; i < byteString.length; i++) {\n    array[i] = byteString.charCodeAt(i);\n  }\n  return array;\n}\n\n// lib/server-runtime/cookies.ts\nvar createCookie = (name, cookieOptions = {}) => {\n  let { secrets = [], ...options } = {\n    path: \"/\",\n    sameSite: \"lax\",\n    ...cookieOptions\n  };\n  warnOnceAboutExpiresCookie(name, options.expires);\n  return {\n    get name() {\n      return name;\n    },\n    get isSigned() {\n      return secrets.length > 0;\n    },\n    get expires() {\n      return typeof options.maxAge !== \"undefined\" ? new Date(Date.now() + options.maxAge * 1e3) : options.expires;\n    },\n    async parse(cookieHeader, parseOptions) {\n      if (!cookieHeader) return null;\n      let cookies = parse(cookieHeader, { ...options, ...parseOptions });\n      if (name in cookies) {\n        let value = cookies[name];\n        if (typeof value === \"string\" && value !== \"\") {\n          let decoded = await decodeCookieValue(value, secrets);\n          return decoded;\n        } else {\n          return \"\";\n        }\n      } else {\n        return null;\n      }\n    },\n    async serialize(value, serializeOptions) {\n      return serialize(\n        name,\n        value === \"\" ? \"\" : await encodeCookieValue(value, secrets),\n        {\n          ...options,\n          ...serializeOptions\n        }\n      );\n    }\n  };\n};\nvar isCookie = (object) => {\n  return object != null && typeof object.name === \"string\" && typeof object.isSigned === \"boolean\" && typeof object.parse === \"function\" && typeof object.serialize === \"function\";\n};\nasync function encodeCookieValue(value, secrets) {\n  let encoded = encodeData(value);\n  if (secrets.length > 0) {\n    encoded = await sign(encoded, secrets[0]);\n  }\n  return encoded;\n}\nasync function decodeCookieValue(value, secrets) {\n  if (secrets.length > 0) {\n    for (let secret of secrets) {\n      let unsignedValue = await unsign(value, secret);\n      if (unsignedValue !== false) {\n        return decodeData(unsignedValue);\n      }\n    }\n    return null;\n  }\n  return decodeData(value);\n}\nfunction encodeData(value) {\n  return btoa(myUnescape(encodeURIComponent(JSON.stringify(value))));\n}\nfunction decodeData(value) {\n  try {\n    return JSON.parse(decodeURIComponent(myEscape(atob(value))));\n  } catch (error) {\n    return {};\n  }\n}\nfunction myEscape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, code;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (/[\\w*+\\-./@]/.exec(chr)) {\n      result += chr;\n    } else {\n      code = chr.charCodeAt(0);\n      if (code < 256) {\n        result += \"%\" + hex(code, 2);\n      } else {\n        result += \"%u\" + hex(code, 4).toUpperCase();\n      }\n    }\n  }\n  return result;\n}\nfunction hex(code, length) {\n  let result = code.toString(16);\n  while (result.length < length) result = \"0\" + result;\n  return result;\n}\nfunction myUnescape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, part;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (chr === \"%\") {\n      if (str.charAt(index) === \"u\") {\n        part = str.slice(index + 1, index + 5);\n        if (/^[\\da-f]{4}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 5;\n          continue;\n        }\n      } else {\n        part = str.slice(index, index + 2);\n        if (/^[\\da-f]{2}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 2;\n          continue;\n        }\n      }\n    }\n    result += chr;\n  }\n  return result;\n}\nfunction warnOnceAboutExpiresCookie(name, expires) {\n  warnOnce(\n    !expires,\n    `The \"${name}\" cookie has an \"expires\" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \\`commitSession(session, { expires })\\` if using a session storage object, or \\`cookie.serialize(\"value\", { expires })\\` if you're using the cookie directly.`\n  );\n}\n\n// lib/server-runtime/entry.ts\nfunction createEntryRouteModules(manifest) {\n  return Object.keys(manifest).reduce((memo2, routeId) => {\n    let route = manifest[routeId];\n    if (route) {\n      memo2[routeId] = route.module;\n    }\n    return memo2;\n  }, {});\n}\n\n// lib/server-runtime/mode.ts\nvar ServerMode = /* @__PURE__ */ ((ServerMode2) => {\n  ServerMode2[\"Development\"] = \"development\";\n  ServerMode2[\"Production\"] = \"production\";\n  ServerMode2[\"Test\"] = \"test\";\n  return ServerMode2;\n})(ServerMode || {});\nfunction isServerMode(value) {\n  return value === \"development\" /* Development */ || value === \"production\" /* Production */ || value === \"test\" /* Test */;\n}\n\n// lib/server-runtime/errors.ts\nfunction sanitizeError(error, serverMode) {\n  if (error instanceof Error && serverMode !== \"development\" /* Development */) {\n    let sanitized = new Error(\"Unexpected Server Error\");\n    sanitized.stack = void 0;\n    return sanitized;\n  }\n  return error;\n}\nfunction sanitizeErrors(errors, serverMode) {\n  return Object.entries(errors).reduce((acc, [routeId, error]) => {\n    return Object.assign(acc, { [routeId]: sanitizeError(error, serverMode) });\n  }, {});\n}\nfunction serializeError(error, serverMode) {\n  let sanitized = sanitizeError(error, serverMode);\n  return {\n    message: sanitized.message,\n    stack: sanitized.stack\n  };\n}\nfunction serializeErrors2(errors, serverMode) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      let sanitized = sanitizeError(val, serverMode);\n      serialized[key] = {\n        message: sanitized.message,\n        stack: sanitized.stack,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.  This will only apply\n        // in dev mode since all production errors are sanitized to normal\n        // Error instances\n        ...sanitized.name !== \"Error\" ? {\n          __subType: sanitized.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n// lib/server-runtime/routeMatching.ts\nfunction matchServerRoutes(routes, pathname, basename) {\n  let matches = matchRoutes(\n    routes,\n    pathname,\n    basename\n  );\n  if (!matches) return null;\n  return matches.map((match) => ({\n    params: match.params,\n    pathname: match.pathname,\n    route: match.route\n  }));\n}\n\n// lib/server-runtime/data.ts\nasync function callRouteHandler(handler, args) {\n  let result = await handler({\n    request: stripRoutesParam(stripIndexParam2(args.request)),\n    params: args.params,\n    context: args.context\n  });\n  if (isDataWithResponseInit(result) && result.init && result.init.status && isRedirectStatusCode(result.init.status)) {\n    throw new Response(null, result.init);\n  }\n  return result;\n}\nfunction stripIndexParam2(request) {\n  let url = new URL(request.url);\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\nfunction stripRoutesParam(request) {\n  let url = new URL(request.url);\n  url.searchParams.delete(\"_routes\");\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\n\n// lib/server-runtime/invariant.ts\nfunction invariant3(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    console.error(\n      \"The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose\"\n    );\n    throw new Error(message);\n  }\n}\n\n// lib/server-runtime/routes.ts\nfunction groupRoutesByParentId2(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction createRoutes(manifest, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => ({\n    ...route,\n    children: createRoutes(manifest, route.id, routesByParentId)\n  }));\n}\nfunction createStaticHandlerDataRoutes(manifest, future, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let commonRoute = {\n      // Always include root due to default boundaries\n      hasErrorBoundary: route.id === \"root\" || route.module.ErrorBoundary != null,\n      id: route.id,\n      path: route.path,\n      unstable_middleware: route.module.unstable_middleware,\n      // Need to use RR's version in the param typed here to permit the optional\n      // context even though we know it'll always be provided in remix\n      loader: route.module.loader ? async (args) => {\n        if (args.request.headers.has(\"X-React-Router-Prerender-Data\")) {\n          const preRenderedData = args.request.headers.get(\n            \"X-React-Router-Prerender-Data\"\n          );\n          let encoded = preRenderedData ? decodeURI(preRenderedData) : preRenderedData;\n          invariant3(encoded, \"Missing prerendered data for route\");\n          let uint8array = new TextEncoder().encode(encoded);\n          let stream = new ReadableStream({\n            start(controller) {\n              controller.enqueue(uint8array);\n              controller.close();\n            }\n          });\n          let decoded = await decodeViaTurboStream(stream, global);\n          let data2 = decoded.value;\n          invariant3(\n            data2 && route.id in data2,\n            \"Unable to decode prerendered data\"\n          );\n          let result = data2[route.id];\n          invariant3(\"data\" in result, \"Unable to process prerendered data\");\n          return result.data;\n        }\n        let val = await callRouteHandler(route.module.loader, args);\n        return val;\n      } : void 0,\n      action: route.module.action ? (args) => callRouteHandler(route.module.action, args) : void 0,\n      handle: route.module.handle\n    };\n    return route.index ? {\n      index: true,\n      ...commonRoute\n    } : {\n      caseSensitive: route.caseSensitive,\n      children: createStaticHandlerDataRoutes(\n        manifest,\n        future,\n        route.id,\n        routesByParentId\n      ),\n      ...commonRoute\n    };\n  });\n}\n\n// lib/server-runtime/markup.ts\nvar ESCAPE_LOOKUP3 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX3 = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml2(html) {\n  return html.replace(ESCAPE_REGEX3, (match) => ESCAPE_LOOKUP3[match]);\n}\n\n// lib/server-runtime/serverHandoff.ts\nfunction createServerHandoffString(serverHandoff) {\n  return escapeHtml2(JSON.stringify(serverHandoff));\n}\n\n// lib/server-runtime/dev.ts\nvar globalDevServerHooksKey = \"__reactRouterDevServerHooks\";\nfunction setDevServerHooks(devServerHooks) {\n  globalThis[globalDevServerHooksKey] = devServerHooks;\n}\nfunction getDevServerHooks() {\n  return globalThis[globalDevServerHooksKey];\n}\n\n// lib/server-runtime/single-fetch.ts\nimport { encode } from \"turbo-stream\";\n\n// lib/server-runtime/headers.ts\nimport { splitCookiesString } from \"set-cookie-parser\";\nfunction getDocumentHeaders(build, context) {\n  let boundaryIdx = context.errors ? context.matches.findIndex((m) => context.errors[m.route.id]) : -1;\n  let matches = boundaryIdx >= 0 ? context.matches.slice(0, boundaryIdx + 1) : context.matches;\n  let errorHeaders;\n  if (boundaryIdx >= 0) {\n    let { actionHeaders, actionData, loaderHeaders, loaderData } = context;\n    context.matches.slice(boundaryIdx).some((match) => {\n      let id = match.route.id;\n      if (actionHeaders[id] && (!actionData || !actionData.hasOwnProperty(id))) {\n        errorHeaders = actionHeaders[id];\n      } else if (loaderHeaders[id] && !loaderData.hasOwnProperty(id)) {\n        errorHeaders = loaderHeaders[id];\n      }\n      return errorHeaders != null;\n    });\n  }\n  return matches.reduce((parentHeaders, match, idx) => {\n    let { id } = match.route;\n    let route = build.routes[id];\n    invariant3(route, `Route with id \"${id}\" not found in build`);\n    let routeModule = route.module;\n    let loaderHeaders = context.loaderHeaders[id] || new Headers();\n    let actionHeaders = context.actionHeaders[id] || new Headers();\n    let includeErrorHeaders = errorHeaders != null && idx === matches.length - 1;\n    let includeErrorCookies = includeErrorHeaders && errorHeaders !== loaderHeaders && errorHeaders !== actionHeaders;\n    if (routeModule.headers == null) {\n      let headers2 = new Headers(parentHeaders);\n      if (includeErrorCookies) {\n        prependCookies(errorHeaders, headers2);\n      }\n      prependCookies(actionHeaders, headers2);\n      prependCookies(loaderHeaders, headers2);\n      return headers2;\n    }\n    let headers = new Headers(\n      routeModule.headers ? typeof routeModule.headers === \"function\" ? routeModule.headers({\n        loaderHeaders,\n        parentHeaders,\n        actionHeaders,\n        errorHeaders: includeErrorHeaders ? errorHeaders : void 0\n      }) : routeModule.headers : void 0\n    );\n    if (includeErrorCookies) {\n      prependCookies(errorHeaders, headers);\n    }\n    prependCookies(actionHeaders, headers);\n    prependCookies(loaderHeaders, headers);\n    prependCookies(parentHeaders, headers);\n    return headers;\n  }, new Headers());\n}\nfunction prependCookies(parentHeaders, childHeaders) {\n  let parentSetCookieString = parentHeaders.get(\"Set-Cookie\");\n  if (parentSetCookieString) {\n    let cookies = splitCookiesString(parentSetCookieString);\n    let childCookies = new Set(childHeaders.getSetCookie());\n    cookies.forEach((cookie) => {\n      if (!childCookies.has(cookie)) {\n        childHeaders.append(\"Set-Cookie\", cookie);\n      }\n    });\n  }\n}\n\n// lib/server-runtime/single-fetch.ts\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205, 304]);\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nasync function singleFetchAction(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let respond2 = function(context) {\n      let headers = getDocumentHeaders(build, context);\n      if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n        return generateSingleFetchResponse(request, build, serverMode, {\n          result: getSingleFetchRedirect(\n            context.statusCode,\n            headers,\n            build.basename\n          ),\n          headers,\n          status: SINGLE_FETCH_REDIRECT_STATUS\n        });\n      }\n      if (context.errors) {\n        Object.values(context.errors).forEach((err) => {\n          if (!isRouteErrorResponse(err) || err.error) {\n            handleError(err);\n          }\n        });\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let singleFetchResult;\n      if (context.errors) {\n        singleFetchResult = { error: Object.values(context.errors)[0] };\n      } else {\n        singleFetchResult = {\n          data: Object.values(context.actionData || {})[0]\n        };\n      }\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: singleFetchResult,\n        headers,\n        status: context.statusCode\n      });\n    };\n    var respond = respond2;\n    let handlerRequest = new Request(handlerUrl, {\n      method: request.method,\n      body: request.body,\n      headers: request.headers,\n      signal: request.signal,\n      ...request.body ? { duplex: \"half\" } : void 0\n    });\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      skipLoaderErrorBubbling: true,\n      skipRevalidation: true,\n      unstable_respond: respond2\n    });\n    if (!isResponse(result)) {\n      result = respond2(result);\n    }\n    if (isRedirectResponse(result)) {\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: getSingleFetchRedirect(\n          result.status,\n          result.headers,\n          build.basename\n        ),\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      });\n    }\n    return result;\n  } catch (error) {\n    handleError(error);\n    return generateSingleFetchResponse(request, build, serverMode, {\n      result: { error },\n      headers: new Headers(),\n      status: 500\n    });\n  }\n}\nasync function singleFetchLoaders(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let respond2 = function(context) {\n      let headers = getDocumentHeaders(build, context);\n      if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n        return generateSingleFetchResponse(request, build, serverMode, {\n          result: {\n            [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n              context.statusCode,\n              headers,\n              build.basename\n            )\n          },\n          headers,\n          status: SINGLE_FETCH_REDIRECT_STATUS\n        });\n      }\n      if (context.errors) {\n        Object.values(context.errors).forEach((err) => {\n          if (!isRouteErrorResponse(err) || err.error) {\n            handleError(err);\n          }\n        });\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let results = {};\n      let loadedMatches = new Set(\n        context.matches.filter(\n          (m) => loadRouteIds ? loadRouteIds.has(m.route.id) : m.route.loader != null\n        ).map((m) => m.route.id)\n      );\n      if (context.errors) {\n        for (let [id, error] of Object.entries(context.errors)) {\n          results[id] = { error };\n        }\n      }\n      for (let [id, data2] of Object.entries(context.loaderData)) {\n        if (!(id in results) && loadedMatches.has(id)) {\n          results[id] = { data: data2 };\n        }\n      }\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: results,\n        headers,\n        status: context.statusCode\n      });\n    };\n    var respond = respond2;\n    let handlerRequest = new Request(handlerUrl, {\n      headers: request.headers,\n      signal: request.signal\n    });\n    let routesParam = new URL(request.url).searchParams.get(\"_routes\");\n    let loadRouteIds = routesParam ? new Set(routesParam.split(\",\")) : null;\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      filterMatchesToLoad: (m) => !loadRouteIds || loadRouteIds.has(m.route.id),\n      skipLoaderErrorBubbling: true,\n      unstable_respond: respond2\n    });\n    if (!isResponse(result)) {\n      result = respond2(result);\n    }\n    if (isRedirectResponse(result)) {\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: {\n          [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n            result.status,\n            result.headers,\n            build.basename\n          )\n        },\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      });\n    }\n    return result;\n  } catch (error) {\n    handleError(error);\n    return generateSingleFetchResponse(request, build, serverMode, {\n      result: { root: { error } },\n      headers: new Headers(),\n      status: 500\n    });\n  }\n}\nfunction generateSingleFetchResponse(request, build, serverMode, {\n  result,\n  headers,\n  status\n}) {\n  let resultHeaders = new Headers(headers);\n  resultHeaders.set(\"X-Remix-Response\", \"yes\");\n  if (NO_BODY_STATUS_CODES.has(status)) {\n    return new Response(null, { status, headers: resultHeaders });\n  }\n  resultHeaders.set(\"Content-Type\", \"text/x-script\");\n  return new Response(\n    encodeViaTurboStream(\n      result,\n      request.signal,\n      build.entry.module.streamTimeout,\n      serverMode\n    ),\n    {\n      status: status || 200,\n      headers: resultHeaders\n    }\n  );\n}\nfunction getSingleFetchRedirect(status, headers, basename) {\n  let redirect2 = headers.get(\"Location\");\n  if (basename) {\n    redirect2 = stripBasename(redirect2, basename) || redirect2;\n  }\n  return {\n    redirect: redirect2,\n    status,\n    revalidate: (\n      // Technically X-Remix-Revalidate isn't needed here - that was an implementation\n      // detail of ?_data requests as our way to tell the front end to revalidate when\n      // we didn't have a response body to include that information in.\n      // With single fetch, we tell the front end via this revalidate boolean field.\n      // However, we're respecting it for now because it may be something folks have\n      // used in their own responses\n      // TODO(v3): Consider removing or making this official public API\n      headers.has(\"X-Remix-Revalidate\") || headers.has(\"Set-Cookie\")\n    ),\n    reload: headers.has(\"X-Remix-Reload-Document\"),\n    replace: headers.has(\"X-Remix-Replace\")\n  };\n}\nfunction encodeViaTurboStream(data2, requestSignal, streamTimeout, serverMode) {\n  let controller = new AbortController();\n  let timeoutId = setTimeout(\n    () => controller.abort(new Error(\"Server Timeout\")),\n    typeof streamTimeout === \"number\" ? streamTimeout : 4950\n  );\n  requestSignal.addEventListener(\"abort\", () => clearTimeout(timeoutId));\n  return encode(data2, {\n    signal: controller.signal,\n    plugins: [\n      (value) => {\n        if (value instanceof Error) {\n          let { name, message, stack } = serverMode === \"production\" /* Production */ ? sanitizeError(value, serverMode) : value;\n          return [\"SanitizedError\", name, message, stack];\n        }\n        if (value instanceof ErrorResponseImpl) {\n          let { data: data3, status, statusText } = value;\n          return [\"ErrorResponse\", data3, status, statusText];\n        }\n        if (value && typeof value === \"object\" && SingleFetchRedirectSymbol in value) {\n          return [\"SingleFetchRedirect\", value[SingleFetchRedirectSymbol]];\n        }\n      }\n    ],\n    postPlugins: [\n      (value) => {\n        if (!value) return;\n        if (typeof value !== \"object\") return;\n        return [\n          \"SingleFetchClassInstance\",\n          Object.fromEntries(Object.entries(value))\n        ];\n      },\n      () => [\"SingleFetchFallback\"]\n    ]\n  });\n}\n\n// lib/server-runtime/server.ts\nfunction derive(build, mode) {\n  let routes = createRoutes(build.routes);\n  let dataRoutes = createStaticHandlerDataRoutes(build.routes, build.future);\n  let serverMode = isServerMode(mode) ? mode : \"production\" /* Production */;\n  let staticHandler = createStaticHandler(dataRoutes, {\n    basename: build.basename\n  });\n  let errorHandler = build.entry.module.handleError || ((error, { request }) => {\n    if (serverMode !== \"test\" /* Test */ && !request.signal.aborted) {\n      console.error(\n        // @ts-expect-error This is \"private\" from users but intended for internal use\n        isRouteErrorResponse(error) && error.error ? error.error : error\n      );\n    }\n  });\n  return {\n    routes,\n    dataRoutes,\n    serverMode,\n    staticHandler,\n    errorHandler\n  };\n}\nvar createRequestHandler = (build, mode) => {\n  let _build;\n  let routes;\n  let serverMode;\n  let staticHandler;\n  let errorHandler;\n  return async function requestHandler(request, initialContext) {\n    _build = typeof build === \"function\" ? await build() : build;\n    let loadContext = _build.future.unstable_middleware ? new unstable_RouterContextProvider(\n      initialContext\n    ) : initialContext || {};\n    if (typeof build === \"function\") {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    } else if (!routes || !serverMode || !staticHandler || !errorHandler) {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    }\n    let url = new URL(request.url);\n    let normalizedBasename = _build.basename || \"/\";\n    let normalizedPath = url.pathname;\n    if (stripBasename(normalizedPath, normalizedBasename) === \"/_root.data\") {\n      normalizedPath = normalizedBasename;\n    } else if (normalizedPath.endsWith(\".data\")) {\n      normalizedPath = normalizedPath.replace(/\\.data$/, \"\");\n    }\n    if (stripBasename(normalizedPath, normalizedBasename) !== \"/\" && normalizedPath.endsWith(\"/\")) {\n      normalizedPath = normalizedPath.slice(0, -1);\n    }\n    let params = {};\n    let handleError = (error) => {\n      if (mode === \"development\" /* Development */) {\n        getDevServerHooks()?.processRequestError?.(error);\n      }\n      errorHandler(error, {\n        context: loadContext,\n        params,\n        request\n      });\n    };\n    if (!_build.ssr) {\n      if (_build.prerender.length === 0) {\n        request.headers.set(\"X-React-Router-SPA-Mode\", \"yes\");\n      } else if (!_build.prerender.includes(normalizedPath) && !_build.prerender.includes(normalizedPath + \"/\")) {\n        if (url.pathname.endsWith(\".data\")) {\n          errorHandler(\n            new ErrorResponseImpl(\n              404,\n              \"Not Found\",\n              `Refusing to SSR the path \\`${normalizedPath}\\` because \\`ssr:false\\` is set and the path is not included in the \\`prerender\\` config, so in production the path will be a 404.`\n            ),\n            {\n              context: loadContext,\n              params,\n              request\n            }\n          );\n          return new Response(\"Not Found\", {\n            status: 404,\n            statusText: \"Not Found\"\n          });\n        } else {\n          request.headers.set(\"X-React-Router-SPA-Mode\", \"yes\");\n        }\n      }\n    }\n    let manifestUrl = `${normalizedBasename}/__manifest`.replace(/\\/+/g, \"/\");\n    if (url.pathname === manifestUrl) {\n      try {\n        let res = await handleManifestRequest(_build, routes, url);\n        return res;\n      } catch (e) {\n        handleError(e);\n        return new Response(\"Unknown Server Error\", { status: 500 });\n      }\n    }\n    let matches = matchServerRoutes(routes, url.pathname, _build.basename);\n    if (matches && matches.length > 0) {\n      Object.assign(params, matches[0].params);\n    }\n    let response;\n    if (url.pathname.endsWith(\".data\")) {\n      let handlerUrl = new URL(request.url);\n      handlerUrl.pathname = normalizedPath;\n      let singleFetchMatches = matchServerRoutes(\n        routes,\n        handlerUrl.pathname,\n        _build.basename\n      );\n      response = await handleSingleFetchRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        handlerUrl,\n        loadContext,\n        handleError\n      );\n      if (_build.entry.module.handleDataRequest) {\n        response = await _build.entry.module.handleDataRequest(response, {\n          context: loadContext,\n          params: singleFetchMatches ? singleFetchMatches[0].params : {},\n          request\n        });\n        if (isRedirectResponse(response)) {\n          let result = getSingleFetchRedirect(\n            response.status,\n            response.headers,\n            _build.basename\n          );\n          if (request.method === \"GET\") {\n            result = {\n              [SingleFetchRedirectSymbol]: result\n            };\n          }\n          let headers = new Headers(response.headers);\n          headers.set(\"Content-Type\", \"text/x-script\");\n          return new Response(\n            encodeViaTurboStream(\n              result,\n              request.signal,\n              _build.entry.module.streamTimeout,\n              serverMode\n            ),\n            {\n              status: SINGLE_FETCH_REDIRECT_STATUS,\n              headers\n            }\n          );\n        }\n      }\n    } else if (!request.headers.has(\"X-React-Router-SPA-Mode\") && matches && matches[matches.length - 1].route.module.default == null && matches[matches.length - 1].route.module.ErrorBoundary == null) {\n      response = await handleResourceRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        matches.slice(-1)[0].route.id,\n        request,\n        loadContext,\n        handleError\n      );\n    } else {\n      let { pathname } = url;\n      let criticalCss = void 0;\n      if (_build.getCriticalCss) {\n        criticalCss = await _build.getCriticalCss({ pathname });\n      } else if (mode === \"development\" /* Development */ && getDevServerHooks()?.getCriticalCss) {\n        criticalCss = await getDevServerHooks()?.getCriticalCss?.(pathname);\n      }\n      response = await handleDocumentRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        loadContext,\n        handleError,\n        criticalCss\n      );\n    }\n    if (request.method === \"HEAD\") {\n      return new Response(null, {\n        headers: response.headers,\n        status: response.status,\n        statusText: response.statusText\n      });\n    }\n    return response;\n  };\n};\nasync function handleManifestRequest(build, routes, url) {\n  if (build.assets.version !== url.searchParams.get(\"version\")) {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"X-Remix-Reload-Document\": \"true\"\n      }\n    });\n  }\n  let patches = {};\n  if (url.searchParams.has(\"p\")) {\n    for (let path of url.searchParams.getAll(\"p\")) {\n      let matches = matchServerRoutes(routes, path, build.basename);\n      if (matches) {\n        for (let match of matches) {\n          let routeId = match.route.id;\n          let route = build.assets.routes[routeId];\n          if (route) {\n            patches[routeId] = route;\n          }\n        }\n      }\n    }\n    return Response.json(patches, {\n      headers: {\n        \"Cache-Control\": \"public, max-age=31536000, immutable\"\n      }\n    });\n  }\n  return new Response(\"Invalid Request\", { status: 400 });\n}\nasync function handleSingleFetchRequest(serverMode, build, staticHandler, request, handlerUrl, loadContext, handleError) {\n  let response = request.method !== \"GET\" ? await singleFetchAction(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  ) : await singleFetchLoaders(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  );\n  return response;\n}\nasync function handleDocumentRequest(serverMode, build, staticHandler, request, loadContext, handleError, criticalCss) {\n  let isSpaMode = request.headers.has(\"X-React-Router-SPA-Mode\");\n  try {\n    let response = await staticHandler.query(request, {\n      requestContext: loadContext,\n      unstable_respond: build.future.unstable_middleware ? (ctx) => renderHtml(ctx, isSpaMode) : void 0\n    });\n    return isResponse(response) ? response : renderHtml(response, isSpaMode);\n  } catch (error) {\n    handleError(error);\n    return new Response(null, { status: 500 });\n  }\n  async function renderHtml(context, isSpaMode2) {\n    if (isResponse(context)) {\n      return context;\n    }\n    let headers = getDocumentHeaders(build, context);\n    if (NO_BODY_STATUS_CODES.has(context.statusCode)) {\n      return new Response(null, { status: context.statusCode, headers });\n    }\n    if (context.errors) {\n      Object.values(context.errors).forEach((err) => {\n        if (!isRouteErrorResponse(err) || err.error) {\n          handleError(err);\n        }\n      });\n      context.errors = sanitizeErrors(context.errors, serverMode);\n    }\n    let state = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors2(context.errors, serverMode)\n    };\n    let entryContext = {\n      manifest: build.assets,\n      routeModules: createEntryRouteModules(build.routes),\n      staticHandlerContext: context,\n      criticalCss,\n      serverHandoffString: createServerHandoffString({\n        basename: build.basename,\n        criticalCss,\n        future: build.future,\n        ssr: build.ssr,\n        isSpaMode: isSpaMode2\n      }),\n      serverHandoffStream: encodeViaTurboStream(\n        state,\n        request.signal,\n        build.entry.module.streamTimeout,\n        serverMode\n      ),\n      renderMeta: {},\n      future: build.future,\n      ssr: build.ssr,\n      isSpaMode: isSpaMode2,\n      serializeError: (err) => serializeError(err, serverMode)\n    };\n    let handleDocumentRequestFunction = build.entry.module.default;\n    try {\n      return await handleDocumentRequestFunction(\n        request,\n        context.statusCode,\n        headers,\n        entryContext,\n        loadContext\n      );\n    } catch (error) {\n      handleError(error);\n      let errorForSecondRender = error;\n      if (isResponse(error)) {\n        try {\n          let data2 = await unwrapResponse(error);\n          errorForSecondRender = new ErrorResponseImpl(\n            error.status,\n            error.statusText,\n            data2\n          );\n        } catch (e) {\n        }\n      }\n      context = getStaticContextFromError(\n        staticHandler.dataRoutes,\n        context,\n        errorForSecondRender\n      );\n      if (context.errors) {\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let state2 = {\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: serializeErrors2(context.errors, serverMode)\n      };\n      entryContext = {\n        ...entryContext,\n        staticHandlerContext: context,\n        serverHandoffString: createServerHandoffString({\n          basename: build.basename,\n          future: build.future,\n          ssr: build.ssr,\n          isSpaMode: isSpaMode2\n        }),\n        serverHandoffStream: encodeViaTurboStream(\n          state2,\n          request.signal,\n          build.entry.module.streamTimeout,\n          serverMode\n        ),\n        renderMeta: {}\n      };\n      try {\n        return await handleDocumentRequestFunction(\n          request,\n          context.statusCode,\n          headers,\n          entryContext,\n          loadContext\n        );\n      } catch (error2) {\n        handleError(error2);\n        return returnLastResortErrorResponse(error2, serverMode);\n      }\n    }\n  }\n}\nasync function handleResourceRequest(serverMode, build, staticHandler, routeId, request, loadContext, handleError) {\n  try {\n    let response = await staticHandler.queryRoute(request, {\n      routeId,\n      requestContext: loadContext,\n      unstable_respond: build.future.unstable_middleware ? (ctx) => ctx : void 0\n    });\n    if (isResponse(response)) {\n      return response;\n    }\n    if (typeof response === \"string\") {\n      return new Response(response);\n    }\n    return Response.json(response);\n  } catch (error) {\n    if (isResponse(error)) {\n      error.headers.set(\"X-Remix-Catch\", \"yes\");\n      return error;\n    }\n    if (isRouteErrorResponse(error)) {\n      if (error) {\n        handleError(error);\n      }\n      return errorResponseToJson(error, serverMode);\n    }\n    if (error instanceof Error && error.message === \"Expected a response from queryRoute\") {\n      let newError = new Error(\n        \"Expected a Response to be returned from resource route handler\"\n      );\n      handleError(newError);\n      return returnLastResortErrorResponse(newError, serverMode);\n    }\n    handleError(error);\n    return returnLastResortErrorResponse(error, serverMode);\n  }\n}\nfunction errorResponseToJson(errorResponse, serverMode) {\n  return Response.json(\n    serializeError(\n      // @ts-expect-error This is \"private\" from users but intended for internal use\n      errorResponse.error || new Error(\"Unexpected Server Error\"),\n      serverMode\n    ),\n    {\n      status: errorResponse.status,\n      statusText: errorResponse.statusText,\n      headers: {\n        \"X-Remix-Error\": \"yes\"\n      }\n    }\n  );\n}\nfunction returnLastResortErrorResponse(error, serverMode) {\n  let message = \"Unexpected Server Error\";\n  if (serverMode !== \"production\" /* Production */) {\n    message += `\n\n${String(error)}`;\n  }\n  return new Response(message, {\n    status: 500,\n    headers: {\n      \"Content-Type\": \"text/plain\"\n    }\n  });\n}\nfunction unwrapResponse(response) {\n  let contentType = response.headers.get(\"Content-Type\");\n  return contentType && /\\bapplication\\/json\\b/.test(contentType) ? response.body == null ? null : response.json() : response.text();\n}\n\n// lib/server-runtime/sessions.ts\nfunction flash(name) {\n  return `__flash_${name}__`;\n}\nvar createSession = (initialData = {}, id = \"\") => {\n  let map = new Map(Object.entries(initialData));\n  return {\n    get id() {\n      return id;\n    },\n    get data() {\n      return Object.fromEntries(map);\n    },\n    has(name) {\n      return map.has(name) || map.has(flash(name));\n    },\n    get(name) {\n      if (map.has(name)) return map.get(name);\n      let flashName = flash(name);\n      if (map.has(flashName)) {\n        let value = map.get(flashName);\n        map.delete(flashName);\n        return value;\n      }\n      return void 0;\n    },\n    set(name, value) {\n      map.set(name, value);\n    },\n    flash(name, value) {\n      map.set(flash(name), value);\n    },\n    unset(name) {\n      map.delete(name);\n    }\n  };\n};\nvar isSession = (object) => {\n  return object != null && typeof object.id === \"string\" && typeof object.data !== \"undefined\" && typeof object.has === \"function\" && typeof object.get === \"function\" && typeof object.set === \"function\" && typeof object.flash === \"function\" && typeof object.unset === \"function\";\n};\nfunction createSessionStorage({\n  cookie: cookieArg,\n  createData,\n  readData,\n  updateData,\n  deleteData\n}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      let id = cookieHeader && await cookie.parse(cookieHeader, options);\n      let data2 = id && await readData(id);\n      return createSession(data2 || {}, id || \"\");\n    },\n    async commitSession(session, options) {\n      let { id, data: data2 } = session;\n      let expires = options?.maxAge != null ? new Date(Date.now() + options.maxAge * 1e3) : options?.expires != null ? options.expires : cookie.expires;\n      if (id) {\n        await updateData(id, data2, expires);\n      } else {\n        id = await createData(data2, expires);\n      }\n      return cookie.serialize(id, options);\n    },\n    async destroySession(session, options) {\n      await deleteData(session.id);\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\nfunction warnOnceAboutSigningSessionCookie(cookie) {\n  warnOnce(\n    cookie.isSigned,\n    `The \"${cookie.name}\" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`\n  );\n}\n\n// lib/server-runtime/sessions/cookieStorage.ts\nfunction createCookieSessionStorage({ cookie: cookieArg } = {}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      return createSession(\n        cookieHeader && await cookie.parse(cookieHeader, options) || {}\n      );\n    },\n    async commitSession(session, options) {\n      let serializedCookie = await cookie.serialize(session.data, options);\n      if (serializedCookie.length > 4096) {\n        throw new Error(\n          \"Cookie length will exceed browser maximum. Length: \" + serializedCookie.length\n        );\n      }\n      return serializedCookie;\n    },\n    async destroySession(_session, options) {\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\n\n// lib/server-runtime/sessions/memoryStorage.ts\nfunction createMemorySessionStorage({ cookie } = {}) {\n  let map = /* @__PURE__ */ new Map();\n  return createSessionStorage({\n    cookie,\n    async createData(data2, expires) {\n      let id = Math.random().toString(36).substring(2, 10);\n      map.set(id, { data: data2, expires });\n      return id;\n    },\n    async readData(id) {\n      if (map.has(id)) {\n        let { data: data2, expires } = map.get(id);\n        if (!expires || expires > /* @__PURE__ */ new Date()) {\n          return data2;\n        }\n        if (expires) map.delete(id);\n      }\n      return null;\n    },\n    async updateData(id, data2, expires) {\n      map.set(id, { data: data2, expires });\n    },\n    async deleteData(id) {\n      map.delete(id);\n    }\n  });\n}\n\n// lib/href.ts\nfunction href(path, ...args) {\n  let params = args[0];\n  return path.split(\"/\").map((segment) => {\n    const match = segment.match(/^:([\\w-]+)(\\?)?/);\n    if (!match) return segment;\n    const param = match[1];\n    const value = params ? params[param] : void 0;\n    const isRequired = match[2] === void 0;\n    if (isRequired && value === void 0) {\n      throw Error(\n        `Path '${path}' requires param '${param}' but it was not provided`\n      );\n    }\n    return value;\n  }).filter((segment) => segment !== void 0).join(\"/\");\n}\n\n// lib/dom/ssr/errors.ts\nfunction deserializeErrors2(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = val.stack;\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = val.stack;\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\nexport {\n  Action,\n  createBrowserHistory,\n  invariant,\n  createPath,\n  parsePath,\n  unstable_createContext,\n  unstable_RouterContextProvider,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  DataRouterContext,\n  DataRouterStateContext,\n  ViewTransitionContext,\n  FetchersContext,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  mapRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  createSearchParams,\n  SingleFetchRedirectSymbol,\n  getSingleFetchDataStrategy,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  FrameworkContext,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2 as createStaticHandler,\n  createStaticRouter,\n  ServerRouter,\n  createRoutesStub,\n  createCookie,\n  isCookie,\n  ServerMode,\n  setDevServerHooks,\n  createRequestHandler,\n  createSession,\n  isSession,\n  createSessionStorage,\n  createCookieSessionStorage,\n  createMemorySessionStorage,\n  href,\n  deserializeErrors2 as deserializeErrors\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { forwardRef, createElement, ReactSVG, SVGProps, ForwardRefExoticComponent, RefAttributes } from 'react';\nimport defaultAttributes from './defaultAttributes';\n\nexport type IconNode = [elementName: keyof ReactSVG, attrs: Record<string, string>][]\n\nexport type SVGAttributes = Partial<SVGProps<SVGSVGElement>>\ntype ComponentAttributes = RefAttributes<SVGSVGElement> & SVGAttributes\n\nexport interface LucideProps extends ComponentAttributes {\n  size?: string | number\n  absoluteStrokeWidth?: boolean\n}\n\nexport type LucideIcon = ForwardRefExoticComponent<LucideProps>;\n/**\n * Converts string to KebabCase\n * Copied from scripts/helper. If anyone knows how to properly import it here\n * then please fix it.\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) => string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\nconst createLucideIcon = (iconName: string, iconNode: IconNode): LucideIcon => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(\n    ({ color = 'currentColor', size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) =>\n      createElement(\n        'svg',\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: `lucide lucide-${toKebabCase(iconName)}`,\n          ...rest,\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...(\n            (Array.isArray(children) ? children : [children]) || []\n          )\n        ],\n      ),\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LogIn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g0YTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMmgtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMCAxNyAxNSAxMiAxMCA3IiAvPgogIDxsaW5lIHgxPSIxNSIgeDI9IjMiIHkxPSIxMiIgeTI9IjEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/log-in\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogIn = createLucideIcon('LogIn', [\n  ['path', { d: 'M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4', key: 'u53s6r' }],\n  ['polyline', { points: '10 17 15 12 10 7', key: '1ail0h' }],\n  ['line', { x1: '15', x2: '3', y1: '12', y2: '12', key: 'v6grx8' }],\n]);\n\nexport default LogIn;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('User', [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n]);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Coffee\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTcgOGgxYTQgNCAwIDEgMSAwIDhoLTEiIC8+CiAgPHBhdGggZD0iTTMgOGgxNHY5YTQgNCAwIDAgMS00IDRIN2E0IDQgMCAwIDEtNC00WiIgLz4KICA8bGluZSB4MT0iNiIgeDI9IjYiIHkxPSIyIiB5Mj0iNCIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjIiIHkyPSI0IiAvPgogIDxsaW5lIHgxPSIxNCIgeDI9IjE0IiB5MT0iMiIgeTI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/coffee\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Coffee = createLucideIcon('Coffee', [\n  ['path', { d: 'M17 8h1a4 4 0 1 1 0 8h-1', key: 'jx4kbh' }],\n  ['path', { d: 'M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z', key: '1bxrl0' }],\n  ['line', { x1: '6', x2: '6', y1: '2', y2: '4', key: '1cr9l3' }],\n  ['line', { x1: '10', x2: '10', y1: '2', y2: '4', key: '170wym' }],\n  ['line', { x1: '14', x2: '14', y1: '2', y2: '4', key: '1c5f70' }],\n]);\n\nexport default Coffee;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('Settings', [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Settings;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Monitor\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjMiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iMTYiIHkxPSIyMSIgeTI9IjIxIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTciIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/monitor\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Monitor = createLucideIcon('Monitor', [\n  [\n    'rect',\n    { width: '20', height: '14', x: '2', y: '3', rx: '2', key: '48i651' },\n  ],\n  ['line', { x1: '8', x2: '16', y1: '21', y2: '21', key: '1svkeh' }],\n  ['line', { x1: '12', x2: '12', y1: '17', y2: '21', key: 'vw1qmm' }],\n]);\n\nexport default Monitor;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjEgMTIgMTYgNyIgLz4KICA8bGluZSB4MT0iMjEiIHgyPSI5IiB5MT0iMTIiIHkyPSIxMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('LogOut', [\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n  ['polyline', { points: '16 17 21 12 16 7', key: '1gabdz' }],\n  ['line', { x1: '21', x2: '9', y1: '12', y2: '12', key: '1uyos4' }],\n]);\n\nexport default LogOut;\n","// components/LogoutButton.js\nimport React from 'react';\nimport { LogOut } from 'lucide-react'; \nimport AuthService from '../services/AuthService';\n\n/**\n * LogoutButton component that can be used in any interface\n * \n * @param {Object} props - Component props\n * @param {string} props.className - Additional CSS classes for styling\n * @param {boolean} props.showIcon - Whether to show the logout icon\n * @param {boolean} props.showText - Whether to show the logout text\n */\nconst LogoutButton = ({ \n  className = '',\n  showIcon = true,\n  showText = true,\n  confirmLogout = true\n}) => {\n  const handleLogout = () => {\n    // Ask for confirmation if confirmLogout is true\n    if (confirmLogout) {\n      const confirmed = window.confirm('Are you sure you want to log out?');\n      if (!confirmed) return;\n    }\n    \n    AuthService.logout();\n  };\n  \n  return (\n    <button\n      onClick={handleLogout}\n      className={`flex items-center px-3 py-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded ${className}`}\n      title=\"Log out\"\n    >\n      {showIcon && <LogOut size={18} className=\"mr-1\" />}\n      {showText && <span>Sign Out</span>}\n    </button>\n  );\n};\n\nexport default LogoutButton;","/**\n * Centralized Branding Configuration\n * Allows white-labeling and customization of the application\n */\n\n// Check localStorage for custom branding, otherwise use defaults\nconst getStoredBranding = () => {\n  try {\n    const stored = localStorage.getItem('coffee_system_branding');\n    return stored ? JSON.parse(stored) : null;\n  } catch (error) {\n    console.error('Error loading branding config:', error);\n    return null;\n  }\n};\n\n// Default branding configuration\nconst defaultBranding = {\n  // Company/Product Names\n  companyName: 'Coffee Cue',\n  systemName: 'Coffee Cue System',\n  shortName: 'Coffee Cue',\n  tagline: 'Skip the Queue, Get Your Cue',\n  \n  // UI Text\n  landingTitle: 'Coffee Cue Ordering System',\n  landingSubtitle: 'Select your role to continue',\n  adminPanelTitle: 'Coffee Cue Admin',\n  baristaPanelTitle: 'Coffee Cue Barista',\n  footerText: ' 2025 Expresso Coffee System | ANZCA ASM 2025 Cairns',\n  \n  // Colors (can be extended)\n  primaryColor: '#D97706', // Amber-600\n  primaryColorHover: '#B45309', // Amber-700\n  accentColor: '#92400E', // Amber-800\n  \n  // Logo/Images (URLs or paths)\n  logo: '/logo.png',\n  favicon: '/favicon.ico',\n  \n  // Feature flags for white-labeling\n  showPoweredBy: true,\n  poweredByText: 'Powered by Coffee Cue',\n  \n  // Contact/Support\n  supportEmail: 'support@coffeecue.com',\n  supportPhone: '+1-800-COFFEE',\n  \n  // Custom CSS (optional)\n  customCSS: ''\n};\n\n// Merge stored branding with defaults\nconst storedBranding = getStoredBranding();\nconst brandingConfig = storedBranding ? { ...defaultBranding, ...storedBranding } : defaultBranding;\n\n// Function to update branding configuration\nexport const updateBranding = (newBranding) => {\n  const updated = { ...brandingConfig, ...newBranding };\n  localStorage.setItem('coffee_system_branding', JSON.stringify(updated));\n  // Reload to apply changes\n  window.location.reload();\n};\n\n// Function to reset to default branding\nexport const resetBranding = () => {\n  localStorage.removeItem('coffee_system_branding');\n  window.location.reload();\n};\n\n// Function to get specific branding value\nexport const getBrandingValue = (key) => {\n  return brandingConfig[key] || defaultBranding[key];\n};\n\n// Export the configuration\nexport default brandingConfig;","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Coffee, Settings, Monitor, LogIn, User } from 'lucide-react';\nimport AuthService from '../services/AuthService';\nimport LogoutButton from './LogoutButton';\nimport brandingConfig from '../config/brandingConfig';\n\nconst LandingPage = () => {\n  const navigate = useNavigate();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  // Check authentication status on component mount\n  useEffect(() => {\n    const checkAuth = async () => {\n      const isAuth = await AuthService.handleAuthentication();\n      setIsAuthenticated(isAuth);\n    };\n    checkAuth();\n  }, []);\n\n  // Functions to handle navigation\n  const goToLogin = () => navigate('/login');\n  const goToOrganiser = () => isAuthenticated ? navigate('/organiser') : navigate('/login', { state: { from: '/organiser' } });\n  const goToBarista = () => isAuthenticated ? navigate('/barista') : navigate('/login', { state: { from: '/barista' } });\n  const goToDisplayScreen = () => navigate('/displays');\n  const goToSupportInterface = () => isAuthenticated ? navigate('/support') : navigate('/login', { state: { from: '/support' } });\n  \n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-6xl w-full p-6\">\n        <div className=\"text-center mb-10\">\n          <h1 className=\"text-4xl font-bold text-amber-800 mb-2\">{brandingConfig.landingTitle}</h1>\n          <p className=\"text-xl text-gray-600\">{brandingConfig.landingSubtitle}</p>\n        </div>\n        \n        {!isAuthenticated ? (\n          <div className=\"bg-white rounded-lg shadow-md p-8 border border-amber-200 hover:shadow-lg transition-shadow flex items-center justify-between mb-8\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 flex items-center justify-center bg-amber-100 rounded-full mr-4\">\n                <LogIn size={24} className=\"text-amber-800\" />\n              </div>\n              <div>\n                <h2 className=\"text-xl font-bold text-gray-800\">Authentication Required</h2>\n                <p className=\"text-gray-600\">Please log in to access the system</p>\n              </div>\n            </div>\n            <button \n              className=\"px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors\"\n              onClick={goToLogin}\n            >\n              Log In\n            </button>\n          </div>\n        ) : (\n          <div className=\"bg-white rounded-lg shadow-md p-8 border border-green-200 hover:shadow-lg transition-shadow flex items-center justify-between mb-8\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 flex items-center justify-center bg-green-100 rounded-full mr-4\">\n                <User size={24} className=\"text-green-700\" />\n              </div>\n              <div>\n                <h2 className=\"text-xl font-bold text-gray-800\">Currently Logged In</h2>\n                <p className=\"text-gray-600\">\n                  {AuthService.getCurrentUser()?.username || 'Authenticated User'}\n                  {AuthService.getCurrentUser()?.role && ` (${AuthService.getCurrentUser().role})`}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex space-x-3\">\n              <LogoutButton showIcon={true} showText={true} />\n            </div>\n          </div>\n        )}\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Client/Event Organizer Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-8 border border-gray-200 hover:shadow-lg transition-shadow flex flex-col items-center text-center\">\n            <div className=\"w-16 h-16 flex items-center justify-center bg-amber-100 rounded-full mb-4\">\n              <Coffee size={32} className=\"text-amber-800\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Client/Event Organizer</h2>\n            <p className=\"text-gray-600\">Analytics Dashboard & System Configuration</p>\n            <button \n              className=\"mt-6 px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors\"\n              onClick={goToOrganiser}\n            >\n              Sign In\n            </button>\n          </div>\n          \n          {/* Barista Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-8 border border-gray-200 hover:shadow-lg transition-shadow flex flex-col items-center text-center\">\n            <div className=\"w-16 h-16 flex items-center justify-center bg-amber-100 rounded-full mb-4\">\n              <Coffee size={32} className=\"text-amber-800\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Barista</h2>\n            <p className=\"text-gray-600\">Order Management & Coffee Production</p>\n            <button \n              className=\"mt-6 px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors\"\n              onClick={goToBarista}\n            >\n              Sign In\n            </button>\n          </div>\n          \n          {/* Support Staff Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-8 border border-gray-200 hover:shadow-lg transition-shadow flex flex-col items-center text-center\">\n            <div className=\"w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mb-4\">\n              <Settings size={32} className=\"text-gray-700\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Support Staff</h2>\n            <p className=\"text-gray-600\">Technical Monitoring & Troubleshooting</p>\n            <button \n              className=\"mt-6 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors\"\n              onClick={goToSupportInterface}\n            >\n              Sign In\n            </button>\n          </div>\n          \n          {/* Display Screen Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-8 border border-gray-200 hover:shadow-lg transition-shadow flex flex-col items-center text-center\">\n            <div className=\"w-16 h-16 flex items-center justify-center bg-blue-100 rounded-full mb-4\">\n              <Monitor size={32} className=\"text-blue-600\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Display Screen</h2>\n            <p className=\"text-gray-600\">Order Status Display</p>\n            <button \n              className=\"mt-6 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n              onClick={goToDisplayScreen}\n            >\n              Access\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"text-center mt-10 text-gray-500 text-sm\">\n          <p>{brandingConfig.footerText}</p>\n          \n          {/* Direct login link */}\n          <div className=\"mt-4\">\n            <a \n              href=\"/login\" \n              className=\"text-amber-600 hover:text-amber-800 hover:underline\"\n            >\n              Go to Login Page\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTEuMDhWMTJhMTAgMTAgMCAxIDEtNS45My05LjE0IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjIyIDQgMTIgMTQuMDEgOSAxMS4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/check-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCircle = createLucideIcon('CheckCircle', [\n  ['path', { d: 'M22 11.08V12a10 10 0 1 1-5.93-9.14', key: 'g774vq' }],\n  ['polyline', { points: '22 4 12 14.01 9 11.01', key: '6xbx8j' }],\n]);\n\nexport default CheckCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  [\n    'path',\n    {\n      d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7',\n      key: '1qinfi',\n    },\n  ],\n  [\n    'path',\n    { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' },\n  ],\n]);\n\nexport default PenSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyAyMSAxLjktNS43YTguNSA4LjUgMCAxIDEgMy44IDMuOHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('MessageCircle', [\n  ['path', { d: 'm3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z', key: 'v2veuj' }],\n]);\n\nexport default MessageCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Printer\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSI2IDkgNiAyIDE4IDIgMTggOSIgLz4KICA8cGF0aCBkPSJNNiAxOEg0YTIgMiAwIDAgMS0yLTJ2LTVhMiAyIDAgMCAxIDItMmgxNmEyIDIgMCAwIDEgMiAydjVhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iOCIgeD0iNiIgeT0iMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/printer\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Printer = createLucideIcon('Printer', [\n  ['polyline', { points: '6 9 6 2 18 2 18 9', key: '1306q4' }],\n  [\n    'path',\n    {\n      d: 'M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2',\n      key: '143wyd',\n    },\n  ],\n  ['rect', { width: '12', height: '8', x: '6', y: '14', key: '5ipwut' }],\n]);\n\nexport default Printer;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('ChevronDown', [\n  ['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }],\n]);\n\nexport default ChevronDown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  [\n    'path',\n    { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' },\n  ],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  [\n    'path',\n    { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' },\n  ],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Package\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYuNSA5LjQgNy41NSA0LjI0IiAvPgogIDxwYXRoIGQ9Ik0yMSAxNlY4YTIgMiAwIDAgMC0xLTEuNzNsLTctNGEyIDIgMCAwIDAtMiAwbC03IDRBMiAyIDAgMCAwIDMgOHY4YTIgMiAwIDAgMCAxIDEuNzNsNyA0YTIgMiAwIDAgMCAyIDBsNy00QTIgMiAwIDAgMCAyMSAxNnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMy4yOSA3IDEyIDEyIDIwLjcxIDciIC8+CiAgPGxpbmUgeDE9IjEyIiB4Mj0iMTIiIHkxPSIyMiIgeTI9IjEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/package\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Package = createLucideIcon('Package', [\n  ['path', { d: 'M16.5 9.4 7.55 4.24', key: '10qotr' }],\n  [\n    'path',\n    {\n      d: 'M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z',\n      key: 'yt0hxn',\n    },\n  ],\n  ['polyline', { points: '3.29 7 12 12 20.71 7', key: 'ousv84' }],\n  ['line', { x1: '12', x2: '12', y1: '22', y2: '12', key: 'a4e8g8' }],\n]);\n\nexport default Package;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiByeT0iMiIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNiIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iOCIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSIzIiB4Mj0iMjEiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('Calendar', [\n  [\n    'rect',\n    {\n      width: '18',\n      height: '18',\n      x: '3',\n      y: '4',\n      rx: '2',\n      ry: '2',\n      key: 'eu3xkr',\n    },\n  ],\n  ['line', { x1: '16', x2: '16', y1: '2', y2: '6', key: 'm3sa8f' }],\n  ['line', { x1: '8', x2: '8', y1: '2', y2: '6', key: '18kwsl' }],\n  ['line', { x1: '3', x2: '21', y1: '10', y2: '10', key: 'xt86sb' }],\n]);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMCA2IDkgMTcgNCAxMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [\n  ['polyline', { points: '20 6 9 17 4 12', key: '10jjfj' }],\n]);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Brain\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS41IDJBMi41IDIuNSAwIDAgMSAxMiA0LjV2MTVhMi41IDIuNSAwIDAgMS00Ljk2LjQ0IDIuNSAyLjUgMCAwIDEtMi45Ni0zLjA4IDMgMyAwIDAgMS0uMzQtNS41OCAyLjUgMi41IDAgMCAxIDEuMzItNC4yNCAyLjUgMi41IDAgMCAxIDEuOTgtM0EyLjUgMi41IDAgMCAxIDkuNSAyWiIgLz4KICA8cGF0aCBkPSJNMTQuNSAyQTIuNSAyLjUgMCAwIDAgMTIgNC41djE1YTIuNSAyLjUgMCAwIDAgNC45Ni40NCAyLjUgMi41IDAgMCAwIDIuOTYtMy4wOCAzIDMgMCAwIDAgLjM0LTUuNTggMi41IDIuNSAwIDAgMC0xLjMyLTQuMjQgMi41IDIuNSAwIDAgMC0xLjk4LTNBMi41IDIuNSAwIDAgMCAxNC41IDJaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/brain\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Brain = createLucideIcon('Brain', [\n  [\n    'path',\n    {\n      d: 'M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z',\n      key: '1mhkh5',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z',\n      key: '1d6s00',\n    },\n  ],\n]);\n\nexport default Brain;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Scale\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTYgMy04IDMgOGMtLjg3LjY1LTEuOTIgMS0zIDFzLTIuMTMtLjM1LTMtMVoiIC8+CiAgPHBhdGggZD0ibTIgMTYgMy04IDMgOGMtLjg3LjY1LTEuOTIgMS0zIDFzLTIuMTMtLjM1LTMtMVoiIC8+CiAgPHBhdGggZD0iTTcgMjFoMTAiIC8+CiAgPHBhdGggZD0iTTEyIDN2MTgiIC8+CiAgPHBhdGggZD0iTTMgN2gyYzIgMCA1LTEgNy0yIDIgMSA1IDIgNyAyaDIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/scale\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Scale = createLucideIcon('Scale', [\n  [\n    'path',\n    { d: 'm16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z', key: '7g6ntu' },\n  ],\n  [\n    'path',\n    { d: 'm2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z', key: 'ijws7r' },\n  ],\n  ['path', { d: 'M7 21h10', key: '1b0cd5' }],\n  ['path', { d: 'M12 3v18', key: '108xh3' }],\n  ['path', { d: 'M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2', key: '3gwbw2' }],\n]);\n\nexport default Scale;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name XCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst XCircle = createLucideIcon('XCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default XCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","// utils/orderUtils.js\n// Common utility functions for working with orders\n\nimport { DEFAULT_MILK_TYPES, getMilkTypeById, getMilkTypeByName } from './milkConfig';\n\n/**\n * Calculate time ratio color for wait time indicators\n * @param {number} waitTime - Current wait time in minutes\n * @param {number} promisedTime - Promised delivery time in minutes\n * @returns {string} CSS class for appropriate background color\n */\nexport const getTimeRatioColor = (waitTime, promisedTime) => {\n  const ratio = waitTime / promisedTime;\n  if (ratio <= 0.5) return 'bg-green-500';\n  if (ratio <= 0.8) return 'bg-yellow-500';\n  return 'bg-red-500';\n};\n\n/**\n * Calculate station wait time based on queue count, preparation stats and station capabilities\n * @param {number} queueCount - Number of orders in the queue\n * @param {number} [baseWaitTime=2] - Base preparation time for a single coffee in minutes\n * @param {Object} [stationStats=null] - Station statistics for dynamic calculation\n * @param {Object} [stationCapabilities=null] - Station capabilities configuration\n * @returns {number} Estimated wait time in minutes\n */\nexport const calculateWaitTime = (queueCount, baseWaitTime = 2, stationStats = null, stationCapabilities = null) => {\n  // If we have station stats with average preparation time, use that\n  if (stationStats && stationStats.avgPrepTime && stationStats.avgPrepTime > 0) {\n    let waitTime = Math.max(2, Math.ceil(queueCount * stationStats.avgPrepTime));\n    \n    // Adjust wait time based on high_volume capability\n    if (stationCapabilities && stationCapabilities.high_volume === true) {\n      waitTime = Math.max(1, Math.floor(waitTime * 0.7)); // 30% faster for high volume stations\n    }\n    \n    return waitTime;\n  }\n  \n  // Otherwise use simple calculation with station capability adjustment\n  let waitTime = baseWaitTime + Math.max(0, queueCount - 1);\n  \n  if (stationCapabilities && stationCapabilities.high_volume === true) {\n    waitTime = Math.max(1, Math.floor(waitTime * 0.7)); // 30% faster for high volume stations\n  }\n  \n  return waitTime;\n};\n\n/**\n * Get all active stations that can accept new orders\n * @param {Array} stations - Array of station objects\n * @returns {Array} Array of station objects that can accept orders\n */\nexport const getAvailableStations = (stations) => {\n  if (!stations || !Array.isArray(stations)) {\n    console.warn('No stations provided to getAvailableStations');\n    return [];\n  }\n  \n  // Filter out closed stations\n  return stations.filter(station => {\n    // Check if station is active or in a mode that can accept orders\n    const status = station.status || 'active';\n    const sessionMode = station.session_mode || 'active';\n    \n    return status === 'active' && (\n      sessionMode === 'active' || \n      sessionMode === 'paused' || \n      sessionMode === 'pre-orders-only'\n    );\n  });\n};\n\n/**\n * Find optimal station for an order based on capabilities and current load\n * @param {Object} order - Order details including milk type, priority flag, etc.\n * @param {Array} stations - Array of available stations\n * @returns {Object|null} Best station for this order or null if none available\n */\nexport const findOptimalStationForOrder = (order, stations) => {\n  if (!order || !stations || !Array.isArray(stations) || stations.length === 0) {\n    return null;\n  }\n  \n  // Get available stations (active/paused/pre-orders-only)\n  const availableStations = getAvailableStations(stations);\n  \n  if (availableStations.length === 0) {\n    console.warn('No available stations found for order assignment');\n    return null;\n  }\n  \n  // Check if this is an alternative milk order\n  const hasAlternativeMilk = order.alternativeMilk || \n                            (order.milkTypeId && getMilkTypeById(order.milkTypeId)?.category === 'alternative') ||\n                            (order.milkType && ['soy milk', 'almond milk', 'oat milk'].includes(order.milkType.toLowerCase()));\n  \n  // For VIP/priority orders, try to find a station with VIP capabilities\n  if (order.priority || order.vip) {\n    const vipStations = availableStations.filter(station => \n      station.capabilities && station.capabilities.vip_service === true\n    );\n    \n    if (vipStations.length > 0) {\n      // Sort by queue length (ascending)\n      return vipStations.sort((a, b) => \n        (a.currentLoad || 0) - (b.currentLoad || 0)\n      )[0];\n    }\n  }\n  \n  // For alternative milk orders, find stations that can handle them\n  if (hasAlternativeMilk) {\n    const altMilkStations = availableStations.filter(station => \n      !station.capabilities || station.capabilities.alt_milk_available !== false // default to true if not specified\n    );\n    \n    if (altMilkStations.length > 0) {\n      // Sort by queue length (ascending)\n      return altMilkStations.sort((a, b) => \n        (a.currentLoad || 0) - (b.currentLoad || 0)\n      )[0];\n    }\n  }\n  \n  // Weighted selection based on load and capacity\n  // Calculate station weights based on current load\n  const stationWeights = availableStations.map(station => {\n    const currentLoad = station.currentLoad || 0;\n    const capacity = station.capacity || 10; // Default capacity\n    \n    // Calculate load ratio (0 = empty, 1 = full)\n    const loadRatio = Math.min(1, currentLoad / capacity);\n    \n    // Higher weight for less loaded stations\n    const loadWeight = 1 - loadRatio;\n    \n    // Higher weight for high volume stations\n    const volumeMultiplier = (station.capabilities && station.capabilities.high_volume) ? 1.5 : 1;\n    \n    return {\n      station,\n      weight: loadWeight * volumeMultiplier\n    };\n  });\n  \n  // Sort by weight (descending)\n  stationWeights.sort((a, b) => b.weight - a.weight);\n  \n  // Return station with highest weight\n  return stationWeights[0].station;\n};\n\n/**\n * Get milk color from settings\n * @param {string} milkType - The milk type name or ID\n * @param {Object} settings - App settings with milk colors\n * @returns {string|null} CSS color or null if not found\n */\nexport const getMilkColor = (milkType, settings) => {\n  if (!milkType || !settings || !settings.milkColors) return null;\n  \n  // First, try to find milk type in milkConfig\n  let milkTypeObj = null;\n  \n  // Check if it's an ID\n  milkTypeObj = getMilkTypeById(milkType);\n  \n  // If not found by ID, try by name\n  if (!milkTypeObj) {\n    milkTypeObj = getMilkTypeByName(milkType);\n  }\n  \n  // If we found the milk type in our config, use its name for lookup\n  if (milkTypeObj && settings.milkColors[milkTypeObj.name]) {\n    return settings.milkColors[milkTypeObj.name];\n  }\n  \n  // Direct match by string\n  if (settings.milkColors[milkType]) {\n    return settings.milkColors[milkType];\n  }\n  \n  // Try to find a close match by checking if the milk type is contained in any of the keys\n  const milkTypeKeys = Object.keys(settings.milkColors);\n  for (const key of milkTypeKeys) {\n    if (milkType.toLowerCase().includes(key.toLowerCase()) || \n        key.toLowerCase().includes(milkType.toLowerCase())) {\n      return settings.milkColors[key];\n    }\n  }\n  \n  // If still not found, try to determine milk type from our config\n  if (!milkTypeObj) {\n    // Find milk type by partial name match\n    milkTypeObj = DEFAULT_MILK_TYPES.find(milk => \n      milk.name.toLowerCase().includes(milkType.toLowerCase()) ||\n      milkType.toLowerCase().includes(milk.name.toLowerCase())\n    );\n  }\n  \n  // If found, check if it's an alternative milk\n  if (milkTypeObj && milkTypeObj.category === 'alternative') {\n    return '#E6E6FA'; // Default light purple for alternative milk\n  }\n  \n  return null;\n};\n\n/**\n * Determine order background color based on properties\n * @param {Object} order - The order object\n * @param {Object} settings - App settings with milk colors\n * @returns {string} CSS class for order background\n */\nexport const getOrderBackgroundColor = (order, settings) => {\n  if (order.priority) return 'bg-red-50';\n  if (order.batchGroup) return 'bg-yellow-50';\n  \n  // Check for milk-based color coding\n  if (order.milkTypeId || order.milkType || order.milk_type || order.milk) {\n    // Try to get milk type by ID first, then by name\n    let milkTypeName = '';\n    let milkTypeObj = null;\n    \n    if (order.milkTypeId) {\n      // If we have a milk type ID, get the object from config\n      milkTypeObj = getMilkTypeById(order.milkTypeId);\n      if (milkTypeObj) {\n        milkTypeName = milkTypeObj.name;\n      }\n    }\n    \n    // If we couldn't find by ID, use the name\n    if (!milkTypeObj) {\n      milkTypeName = order.milkType || order.milk_type || order.milk || '';\n      milkTypeObj = getMilkTypeByName(milkTypeName);\n    }\n    \n    // Handle special case for Lactose-Free Milk\n    if ((milkTypeObj && milkTypeObj.properties.lactoseFree) || \n        (milkTypeName && milkTypeName.toLowerCase().includes('lactose'))) {\n      return 'bg-white border-2 border-blue-200';\n    }\n    \n    // For known milk types, create a standardized class name\n    if (milkTypeObj) {\n      // Use ID for more reliable class name\n      // We specifically don't replace underscores with hyphens here\n      // because our CSS classes are defined both ways\n      const className = `order-milk-${milkTypeObj.id}`;\n      console.log('Using milk class: ', className, 'for milk: ', milkTypeObj);\n      return className;\n    }\n    \n    // Try to get the color from settings as fallback\n    const milkColor = getMilkColor(order.milkTypeId || milkTypeName, settings);\n    if (milkColor) {\n      // Use the sanitized milk type name for the CSS class\n      const cssClassName = milkTypeName.toLowerCase().replace(/\\s+/g, '-');\n      return `order-milk-${cssClassName}`;\n    }\n    \n    // Default handling for unknown alternative milk\n    if (order.alternativeMilk) {\n      return 'bg-blue-50 border-l-4 border-blue-300';\n    }\n  }\n  \n  if (order.allergyWarning) return 'bg-purple-50';\n  return 'bg-white';\n};\n\n/**\n * Format time since date\n * @param {Date|string} dateString - Date to format\n * @returns {string} Formatted time string\n */\nexport const formatTimeSince = (dateString) => {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMinutes = Math.floor((now - date) / (1000 * 60));\n  \n  if (diffMinutes < 1) return 'Just now';\n  if (diffMinutes === 1) return '1 minute ago';\n  return `${diffMinutes}m ago`;\n};\n\n/**\n * Format a batch name for display\n * @param {string} batchName - Raw batch name (e.g. \"soy-latte\")\n * @returns {string} Formatted name (e.g. \"Soy Latte\")\n */\nexport const formatBatchName = (batchName) => {\n  return batchName\n    .split('-')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n};\n\n/**\n * Calculate minutes difference between two dates\n * @param {Date|string} date1 - First date\n * @param {Date|string} date2 - Second date (defaults to now)\n * @returns {number} Minutes difference\n */\nexport const calculateMinutesDiff = (date1, date2 = new Date()) => {\n  return Math.floor((new Date(date2) - new Date(date1)) / 60000);\n};\n\n/**\n * Get estimated preparation time for a coffee type\n * @param {string} coffeeType - Type of coffee\n * @returns {number} Estimated preparation time in minutes\n */\nexport const getEstimatedPrepTime = (coffeeType) => {\n  const prepTimes = {\n    'Espresso': 1,\n    'Macchiato': 1.5,\n    'Americano': 1.5,\n    'Flat White': 2,\n    'Cappuccino': 2.5,\n    'Latte': 2.5,\n    'Mocha': 3,\n    'Cold Brew': 1,\n    'Pour Over': 3.5\n  };\n  \n  // Try to match the coffee type\n  const matchedType = Object.keys(prepTimes).find(type => \n    coffeeType.toLowerCase().includes(type.toLowerCase())\n  );\n  \n  return matchedType ? prepTimes[matchedType] : 2; // Default to 2 minutes\n};\n\n// This function has been replaced by the more complete version above\n","// hooks/useOrders.js\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport OrderDataService from '../services/OrderDataService';\nimport StockService from '../services/StockService';\nimport { calculateWaitTime } from '../utils/orderUtils';\n\nexport default function useOrders(stationId = null) {\n  // State for different order types\n  const [pendingOrders, setPendingOrders] = useState([]);\n  const [inProgressOrders, setInProgressOrders] = useState([]);\n  const [completedOrders, setCompletedOrders] = useState([]);\n  const [previousOrders, setPreviousOrders] = useState([]);\n  const [historyOrders, setHistoryOrders] = useState([]);\n  const [yesterdayOrders, setYesterdayOrders] = useState([]);\n  const [thisWeekOrders, setThisWeekOrders] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentStationId, setCurrentStationId] = useState(stationId);\n\n  // Sync station ID when prop changes\n  useEffect(() => {\n    if (stationId !== currentStationId) {\n      console.log(`[useOrders] Station ID prop changed from ${currentStationId} to ${stationId}, syncing...`);\n      \n      // Save current orders to cache before switching\n      if (currentStationId) {\n        const ordersCache = {\n          pendingOrders,\n          inProgressOrders,\n          completedOrders,\n          previousOrders,\n          timestamp: Date.now()\n        };\n        \n        try {\n          const cacheKey = `orders_cache_station_${currentStationId}`;\n          const serializedCache = JSON.stringify(ordersCache);\n          localStorage.setItem(cacheKey, serializedCache);\n          sessionStorage.setItem(cacheKey, serializedCache);\n          console.log(`Saved orders for station ${currentStationId} before switching`);\n        } catch (e) {\n          console.error('Error saving orders before station switch:', e);\n        }\n      }\n      \n      // Clear current orders to prevent them from showing in the new station\n      setPendingOrders([]);\n      setInProgressOrders([]);\n      setCompletedOrders([]);\n      setPreviousOrders([]);\n      \n      // Update the station ID\n      setCurrentStationId(stationId);\n      \n      // Load cached orders for the new station immediately\n      try {\n        const newStationCacheKey = `orders_cache_station_${stationId}`;\n        const cachedData = localStorage.getItem(newStationCacheKey) || sessionStorage.getItem(newStationCacheKey);\n        \n        if (cachedData) {\n          const parsedCache = JSON.parse(cachedData);\n          console.log(`Loading cached orders for station ${stationId}:`, {\n            pending: parsedCache.pendingOrders?.length || 0,\n            inProgress: parsedCache.inProgressOrders?.length || 0,\n            completed: parsedCache.completedOrders?.length || 0\n          });\n          \n          // Restore the cached orders for this station\n          setTimeout(() => {\n            if (parsedCache.pendingOrders) setPendingOrders(parsedCache.pendingOrders);\n            if (parsedCache.inProgressOrders) setInProgressOrders(parsedCache.inProgressOrders);\n            if (parsedCache.completedOrders) setCompletedOrders(parsedCache.completedOrders);\n            if (parsedCache.previousOrders) setPreviousOrders(parsedCache.previousOrders);\n          }, 0);\n        } else {\n          console.log(`No cached orders found for station ${stationId}`);\n        }\n      } catch (e) {\n        console.error('Error loading cached orders for new station:', e);\n      }\n      \n      // The fetchOrdersData will be triggered by the effect that depends on currentStationId\n    }\n  }, [stationId, currentStationId, pendingOrders, inProgressOrders, completedOrders, previousOrders]);\n\n  // UI state\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [online, setOnline] = useState(true);\n  const [queueCount, setQueueCount] = useState(0);\n  const [lastUpdated, setLastUpdated] = useState(Date.now());\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  \n  // Auto-refresh settings\n  const [autoRefreshEnabled, setAutoRefreshEnabled] = useState(\n    localStorage.getItem('coffee_auto_refresh_enabled') === 'true'\n  );\n  const [autoRefreshInterval, setAutoRefreshInterval] = useState(() => {\n    // Get saved interval from localStorage or use default\n    const savedInterval = parseInt(localStorage.getItem('coffee_auto_refresh_interval'));\n    \n    // Enforce minimum interval of 30 seconds to prevent UI flickering\n    if (!savedInterval || isNaN(savedInterval) || savedInterval < 30) {\n      // Use 60 seconds as default if no valid value exists - much longer to prevent flickering\n      const defaultInterval = 60;\n      localStorage.setItem('coffee_auto_refresh_interval', defaultInterval.toString());\n      return defaultInterval;\n    }\n    \n    return savedInterval;\n  }); // Increased minimum to 30 seconds and default to 60 seconds to prevent flickering\n  \n  // Station performance stats\n  const [stationStats, setStationStats] = useState({\n    avgPrepTime: 0, // Average time from start to completion in minutes\n    prepTimes: [], // Array of individual prep times for calculating average\n    totalCompleted: 0, // Total completed orders for this station\n    lastCalculated: null // When stats were last calculated\n  });\n\n  // Declare updateWaitTime early for use in fetchOrdersData\n  const updateWaitTime = useCallback(async (waitTime) => {\n    if (!waitTime || isNaN(parseInt(waitTime))) {\n      setError('Cannot update wait time: Invalid wait time');\n      return false;\n    }\n    \n    try {\n      // Add station ID to the wait time update\n      const waitTimeData = {\n        waitTime: parseInt(waitTime),\n        stationId: currentStationId\n      };\n      \n      console.log(`Updating wait time to ${waitTime} min for station ${currentStationId}`);\n      \n      // Try to update on server\n      const result = await OrderDataService.updateWaitTime(waitTimeData);\n      \n      if (!result || !result.success) {\n        // Even if the server call fails, we'll update the UI anyway for a responsive experience\n        console.log('Server call failed but updating UI for consistency');\n      }\n      \n      // Store the wait time in localStorage for this station\n      localStorage.setItem(`station_${currentStationId}_wait_time`, waitTime);\n      \n      // Return success so the UI can update\n      return true;\n    } catch (err) {\n      console.error('Update wait time error:', err);\n      \n      // Even on error, store the wait time locally for this station\n      localStorage.setItem(`station_${currentStationId}_wait_time`, waitTime);\n      \n      // Don't show the error so the UI can still update\n      return true;\n    }\n  }, [currentStationId]);\n\n  // Fetch initial data and set up polling\n  const fetchOrdersData = useCallback(async (showLoading = true) => {\n    // Check if we're in fallback or auth error mode first\n    const useFallbackData = localStorage.getItem('use_fallback_data') === 'true';\n    const authErrorRefreshNeeded = localStorage.getItem('auth_error_refresh_needed') === 'true';\n    \n    // If we're in auth error mode and using fallback data, we need to prioritize loading the fallback data\n    if (authErrorRefreshNeeded || useFallbackData) {\n      console.log('In fallback/auth error mode - loading fallback data directly');\n      \n      // Load fallback data immediately\n      try {\n        // Get fallback data from localStorage\n        const fallbackPendingOrders = JSON.parse(localStorage.getItem('fallback_pending_orders') || '[]');\n        const fallbackInProgressOrders = JSON.parse(localStorage.getItem('fallback_in_progress_orders') || '[]');\n        const fallbackCompletedOrders = JSON.parse(localStorage.getItem('fallback_completed_orders') || '[]');\n        \n        console.log('Loaded fallback data:', {\n          pending: fallbackPendingOrders.length,\n          inProgress: fallbackInProgressOrders.length,\n          completed: fallbackCompletedOrders.length\n        });\n        \n        // Set fallback data directly to avoid loading spinner\n        setTimeout(() => {\n          // Update all state directly with fallback data\n          setPendingOrders(fallbackPendingOrders);\n          setInProgressOrders(fallbackInProgressOrders);\n          setCompletedOrders(fallbackCompletedOrders);\n          setPreviousOrders([]);\n          \n          // Make sure loading is set to false\n          setLoading(false);\n          setIsRefreshing(false);\n          setError(null);\n          \n          // Set online status to false\n          setOnline(false);\n        }, 0);\n        \n        return;\n      } catch (fallbackError) {\n        console.error('Error loading fallback data:', fallbackError);\n      }\n    }\n    \n    // Regular flow for when we're not in fallback mode\n    if (showLoading) {\n      setLoading(true);\n    }\n    \n    setIsRefreshing(true);\n    \n    try {\n      // Check connection status with debouncing to prevent flickering\n      // Only update online status if it's been more than 5 seconds since the last check\n      // or if we're explicitly doing a full refresh (showLoading = true)\n      const connectionCheckKey = 'last_connection_check_time';\n      const now = Date.now();\n      const lastConnectionCheck = parseInt(sessionStorage.getItem(connectionCheckKey) || '0');\n      const timeSinceLastCheck = now - lastConnectionCheck;\n      \n      // Minimum time between online status updates (5 seconds)\n      const CONNECTION_CHECK_DEBOUNCE_MS = 5000;\n      \n      // Check connection if enough time has passed or we're doing a full refresh\n      if (showLoading || timeSinceLastCheck > CONNECTION_CHECK_DEBOUNCE_MS || !online) {\n        const isConnected = await OrderDataService.checkConnection();\n        \n        // Only update UI state if connection status has changed or doing full refresh\n        if (isConnected !== online || showLoading) {\n          console.log(`Connection status changed: ${online} -> ${isConnected}`);\n          // Don't directly set state here - instead, use a ref to track the online status\n          // and only update at the end of this function to avoid render loops\n          const newOnlineStatus = isConnected;\n          window._tempOnlineStatus = newOnlineStatus; // Store in a temporary global for later update\n        }\n        \n        // Update last check timestamp\n        sessionStorage.setItem(connectionCheckKey, now.toString());\n      } else {\n        console.log(`Skipping connection check (last check was ${timeSinceLastCheck}ms ago)`);\n      }\n      \n      // Try to load cached orders first as a fallback\n      const cachedOrdersKey = `orders_cache_station_${currentStationId}`;\n      let cachedOrders = null;\n      try {\n        const cachedOrdersStr = localStorage.getItem(cachedOrdersKey);\n        if (cachedOrdersStr) {\n          cachedOrders = JSON.parse(cachedOrdersStr);\n          console.log(`Loaded cached orders for station ${currentStationId}`);\n        }\n      } catch (e) {\n        console.error('Error loading cached orders:', e);\n      }\n      \n      // Fetch orders\n      const [pending, inProgress, completed] = await Promise.all([\n        OrderDataService.getPendingOrders(),\n        OrderDataService.getInProgressOrders(),\n        OrderDataService.getCompletedOrders()\n      ]);\n      \n      // Filter orders by station if a station ID is set\n      const filterByStation = (orders) => {\n        if (!currentStationId) return orders || [];\n        \n        console.log(`Filtering orders for station ${currentStationId}`);\n        \n        // When station ID is set, strictly filter to show only orders for this station\n        return (orders || []).filter(order => {\n          // Normalize station IDs for comparison (they might be strings or numbers)\n          const normalizedCurrentStationId = String(currentStationId).toLowerCase();\n          \n          // Extract all possible station ID fields and normalize them\n          const orderStationIds = [\n            order.stationId, \n            order.station_id,\n            order.assigned_station,\n            order.assignedStation,\n            order.assigned_to_station,\n            order.station,\n            order.barista_station\n          ]\n          .filter(id => id !== undefined && id !== null)\n          .map(id => String(id).toLowerCase());\n          \n          // Check if any of the station IDs match the current station\n          const hasStationMatch = orderStationIds.some(id => id === normalizedCurrentStationId);\n          \n          // Display debug info for station assignment\n          console.log(`Order ${order.id} station fields:`, orderStationIds, \n                      `matches current station ${normalizedCurrentStationId}:`, hasStationMatch);\n          \n          // STRICT FILTERING: Only show orders that are explicitly assigned to this station\n          if (hasStationMatch) {\n            return true;\n          }\n          \n          // Check if this order was created locally at this station (walk-in orders)\n          const orderCreatedAtThisStation = \n            localStorage.getItem(`order_created_at_station_${order.id}`) === String(currentStationId);\n          \n          if (orderCreatedAtThisStation) {\n            console.log(`Order ${order.id} was created at station ${currentStationId} - showing here`);\n            return true;\n          }\n          \n          // EXCEPTION: Only show unassigned orders on station 1 and only if they are SMS orders\n          // This prevents walk-in orders from appearing on multiple stations\n          if (normalizedCurrentStationId === '1' && orderStationIds.length === 0 && !orderCreatedAtThisStation) {\n            // Check if this looks like an SMS order (has phone number and is NOT a walk-in)\n            if (order.phoneNumber && order.phoneNumber !== 'Walk-in' && order.phoneNumber !== 'Group-Order' && !order.isWalkIn) {\n              console.log(`Order ${order.id} is an unassigned SMS order - showing only at station 1`);\n              return true;\n            }\n          }\n          \n          return false;\n        });\n      };\n      \n      // Update state with filtered data\n      const filteredPending = filterByStation(pending);\n      const filteredInProgress = filterByStation(inProgress);\n      const filteredCompleted = filterByStation(completed);\n      \n      // Check for new orders that weren't in the previous state\n      // Only do this for non-initial loads where we have previous data\n      if (pendingOrders.length > 0) {\n        const currentPendingIds = new Set(pendingOrders.map(o => o.id));\n        const newOrders = filteredPending.filter(o => !currentPendingIds.has(o.id));\n        \n        if (newOrders.length > 0) {\n          console.log(`${newOrders.length} new pending orders detected, triggering sound notification`);\n          // Trigger sound notification for new orders\n          window.dispatchEvent(new CustomEvent('app:newOrder'));\n        }\n      }\n      \n      // Add any local orders from localStorage to pending orders\n      let localPendingOrders = [...filteredPending];\n      try {\n        const localOrdersKey = `local_orders_station_${currentStationId}`;\n        const localOrders = JSON.parse(localStorage.getItem(localOrdersKey) || '[]');\n        \n        if (localOrders.length > 0) {\n          console.log(`Found ${localOrders.length} local orders for station ${currentStationId}`);\n          \n          // Make sure we aren't duplicating any orders that came from the server\n          const existingIds = new Set(filteredPending.map(o => o.id));\n          const uniqueLocalOrders = localOrders.filter(o => !existingIds.has(o.id));\n          \n          // Add our local orders to the result\n          if (uniqueLocalOrders.length > 0) {\n            console.log(`Adding ${uniqueLocalOrders.length} unique local orders to pending orders`);\n            localPendingOrders = [...filteredPending, ...uniqueLocalOrders];\n          }\n        }\n      } catch (e) {\n        console.error('Error retrieving local orders:', e);\n      }\n      \n      // Batch these updates using temporary variables to avoid render loops\n      window._tempPendingOrders = localPendingOrders;\n      window._tempInProgressOrders = filteredInProgress;\n      \n      // Add to temp vars array that will be processed in the finally block\n      \n      // Split completed orders into \"ready for pickup\" and \"previous\"\n      const readyOrders = [];\n      const pickedUpOrders = [];\n      \n      filteredCompleted.forEach(order => {\n        if (order.pickedUpAt) {\n          pickedUpOrders.push(order);\n        } else {\n          readyOrders.push(order);\n        }\n      });\n      \n      // Batch these updates using temporary variables to avoid render loops\n      window._tempCompletedOrders = readyOrders;\n      window._tempPreviousOrders = pickedUpOrders;\n      \n      // Add to temp vars array that will be processed in the finally block\n      \n      // Cache orders for persistence between tab changes and page refreshes\n      try {\n        const cachedOrdersKey = `orders_cache_station_${currentStationId}`;\n        const ordersCache = {\n          pendingOrders: localPendingOrders,\n          inProgressOrders: filteredInProgress,\n          completedOrders: readyOrders,\n          previousOrders: pickedUpOrders,\n          timestamp: Date.now()\n        };\n        \n        // Serialize once for efficiency\n        const serializedCache = JSON.stringify(ordersCache);\n        \n        // Save to both localStorage and sessionStorage for redundancy\n        localStorage.setItem(cachedOrdersKey, serializedCache);\n        sessionStorage.setItem(cachedOrdersKey, serializedCache);\n        \n        // Also maintain a backup copy\n        localStorage.setItem(`${cachedOrdersKey}_backup_time`, Date.now().toString());\n        localStorage.setItem(`${cachedOrdersKey}_backup`, serializedCache);\n        \n        console.log(`Cached orders for station ${currentStationId} across all storage locations`);\n        \n        // Extended debugging for order counts\n        console.log(`Order counts in cache - Pending: ${localPendingOrders.length}, ` +\n                    `In Progress: ${filteredInProgress.length}, ` +\n                    `Ready for Pickup: ${readyOrders.length}, ` +\n                    `Completed: ${pickedUpOrders.length}`);\n      } catch (e) {\n        console.error('Error caching orders:', e);\n      }\n      \n      // Update queue count and trigger wait time calculation if it changed\n      const newQueueCount = filteredPending?.length || 0;\n      const queueCountChanged = queueCount !== newQueueCount;\n      // Store in temp variables to batch updates\n      window._tempQueueCount = newQueueCount;\n      \n      // Only trigger waitTime calculation if queue count changed\n      if (queueCountChanged) {\n        // Don't directly set state inside a useEffect callback\n        // Instead, schedule the wait time calculation for after this function completes\n        setTimeout(() => {\n          // Use the imported utility function\n          // Calculate wait time based on queue count and station stats\n          const baseWaitTime = 2; // Base 2 minutes for the first coffee\n          const dynamicWaitTime = calculateWaitTime(newQueueCount, baseWaitTime, stationStats);\n          \n          // Only update if it's different to avoid unnecessary API calls\n          updateWaitTime(dynamicWaitTime);\n          \n          console.log(`Auto-updated wait time to ${dynamicWaitTime}min due to queue change (${newQueueCount} orders)`);\n        }, 250);\n      }\n      \n      // Store the last updated time to apply at the end\n      const newLastUpdated = Date.now();\n      window._tempLastUpdated = newLastUpdated;\n      \n      // Clear any previous errors on successful fetch\n      window._tempError = null;\n    } catch (err) {\n      window._tempError = `Error fetching orders: ${err.message}`;\n      console.error('Error fetching orders:', err);\n    } finally {\n      // Instead of using window variables, use local variables for batching\n      const batchedUpdates = {\n        onlineStatus: window._tempOnlineStatus,\n        queueCount: window._tempQueueCount,\n        lastUpdated: window._tempLastUpdated,\n        pendingOrders: window._tempPendingOrders,\n        inProgressOrders: window._tempInProgressOrders,\n        completedOrders: window._tempCompletedOrders,\n        previousOrders: window._tempPreviousOrders,\n        error: window._tempError\n      };\n\n      // Clean up window vars immediately after capturing them\n      const cleanupTempVars = () => {\n        const tempVars = [\n          '_tempOnlineStatus',\n          '_tempQueueCount', \n          '_tempLastUpdated',\n          '_tempPendingOrders',\n          '_tempInProgressOrders',\n          '_tempCompletedOrders',\n          '_tempPreviousOrders',\n          '_tempError'\n        ];\n        \n        tempVars.forEach(varName => {\n          if (window[varName] !== undefined) {\n            delete window[varName];\n          }\n        });\n      };\n      \n      // Clean up immediately\n      cleanupTempVars();\n\n      // Create a single state update batch\n      const updateStates = () => {\n        // Update online status if it has changed\n        if (batchedUpdates.onlineStatus !== undefined) {\n          setOnline(batchedUpdates.onlineStatus);\n        }\n        \n        // Update queue count\n        if (batchedUpdates.queueCount !== undefined) {\n          setQueueCount(batchedUpdates.queueCount);\n        }\n        \n        // Update lastUpdated timestamp\n        if (batchedUpdates.lastUpdated !== undefined) {\n          setLastUpdated(batchedUpdates.lastUpdated);\n        }\n        \n        // Update order lists - CRITICAL: Check for undefined before updating\n        if (batchedUpdates.pendingOrders !== undefined && Array.isArray(batchedUpdates.pendingOrders)) {\n          setPendingOrders(batchedUpdates.pendingOrders);\n        }\n        \n        if (batchedUpdates.inProgressOrders !== undefined && Array.isArray(batchedUpdates.inProgressOrders)) {\n          setInProgressOrders(batchedUpdates.inProgressOrders);\n        }\n        \n        if (batchedUpdates.completedOrders !== undefined && Array.isArray(batchedUpdates.completedOrders)) {\n          setCompletedOrders(batchedUpdates.completedOrders);\n        }\n        \n        if (batchedUpdates.previousOrders !== undefined && Array.isArray(batchedUpdates.previousOrders)) {\n          setPreviousOrders(batchedUpdates.previousOrders);\n        }\n        \n        // Update error state\n        if (batchedUpdates.error !== undefined) {\n          setError(batchedUpdates.error);\n        } else {\n          setError(null);\n        }\n        \n        // Finally, update loading and refreshing states\n        setLoading(false);\n        setIsRefreshing(false);\n        \n        // If we're using fallback data (authentication error or offline), make sure loading is disabled\n        if (localStorage.getItem('use_fallback_data') === 'true' || \n            localStorage.getItem('auth_error_refresh_needed') === 'true') {\n          console.log('Using fallback data, ensuring loading state is disabled');\n          setLoading(false);\n          setError(null);\n        }\n      };\n\n      // Use requestAnimationFrame for better timing\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(updateStates);\n      } else {\n        setTimeout(updateStates, 0);\n      }\n    }\n  }, [currentStationId, pendingOrders, stationStats, queueCount, updateWaitTime]);\n\n  // Function to update current station ID\n  const updateStationId = useCallback((newStationId) => {\n    console.log(`[useOrders] Updating station ID to ${newStationId}`);\n    // Update state with new station ID\n    setCurrentStationId(newStationId);\n    \n    // Store current station ID in localStorage for persistence\n    try {\n      localStorage.setItem('last_used_station_id', newStationId.toString());\n    } catch (e) {\n      console.error('Error saving station ID to localStorage:', e);\n    }\n    \n    // Load station-specific stats when station changes\n    try {\n      const avgPrepTime = parseFloat(localStorage.getItem(`station_${newStationId}_avg_prep_time`)) || 0;\n      const totalCompleted = parseInt(localStorage.getItem(`station_${newStationId}_total_completed`)) || 0;\n      \n      if (avgPrepTime > 0) {\n        setStationStats(prevStats => ({\n          ...prevStats,\n          avgPrepTime,\n          totalCompleted,\n          lastCalculated: new Date()\n        }));\n        \n        console.log(`Loaded saved stats for station ${newStationId}: avgPrepTime=${avgPrepTime.toFixed(2)}m, completed=${totalCompleted}`);\n      }\n    } catch (e) {\n      console.error(`Error loading stats for station ${newStationId}:`, e);\n    }\n    \n    // FIXED: Don't call fetchOrdersData here to prevent infinite loops\n    // The data will be fetched automatically by other mechanisms\n    console.log(`Station updated to ${newStationId} - data will refresh automatically`);\n  }, []); // FIXED: Removed fetchOrdersData dependency\n\n  // Set up auto-refresh based on settings\n  // Ref to track first load to avoid infinite updates\n  const initialLoadRef = useRef(false);\n  \n  useEffect(() => {\n    // Only run backup loading on first render\n    if (!initialLoadRef.current) {\n      initialLoadRef.current = true;\n      \n      // Create a batch of cached data to apply at once\n      const loadCachedData = async () => {\n        try {\n          console.log('Checking for order backups before initial fetch');\n          \n          // First check if we're in fallback or auth error mode\n          const useFallbackData = localStorage.getItem('use_fallback_data') === 'true';\n          const authErrorRefreshNeeded = localStorage.getItem('auth_error_refresh_needed') === 'true';\n          \n          // If we're in auth error mode, prioritize loading fallback data\n          if (authErrorRefreshNeeded || useFallbackData) {\n            console.log('In fallback/auth error mode on initial load - loading fallback data directly');\n            \n            // Get fallback data from localStorage\n            const fallbackPendingOrders = JSON.parse(localStorage.getItem('fallback_pending_orders') || '[]');\n            const fallbackInProgressOrders = JSON.parse(localStorage.getItem('fallback_in_progress_orders') || '[]');\n            const fallbackCompletedOrders = JSON.parse(localStorage.getItem('fallback_completed_orders') || '[]');\n            \n            // Create cached data object\n            const cachedData = {\n              pendingOrders: fallbackPendingOrders,\n              inProgressOrders: fallbackInProgressOrders,\n              completedOrders: fallbackCompletedOrders,\n              previousOrders: []\n            };\n            \n            console.log('Loaded fallback data for initial render:', {\n              pending: fallbackPendingOrders.length,\n              inProgress: fallbackInProgressOrders.length,\n              completed: fallbackCompletedOrders.length\n            });\n            \n            // Apply cached data immediately\n            if (cachedData.pendingOrders) setPendingOrders(cachedData.pendingOrders);\n            if (cachedData.inProgressOrders) setInProgressOrders(cachedData.inProgressOrders);\n            if (cachedData.completedOrders) setCompletedOrders(cachedData.completedOrders);\n            if (cachedData.previousOrders) setPreviousOrders(cachedData.previousOrders);\n            \n            // Force online status to false\n            setOnline(false);\n            setLoading(false);\n            \n            return;\n          }\n          \n          // Regular backup loading logic for non-fallback mode\n          const stationId = currentStationId;\n          const ordersKey = `orders_cache_station_${stationId}`;\n          const backupKey = `${ordersKey}_backup`;\n          \n          let cachedData = null;\n          \n          // First prioritize the specific backup created for organiser navigation\n          const backupData = localStorage.getItem(backupKey);\n          \n          if (backupData) {\n            console.log('Found order backup for quick restore - preparing data');\n            try {\n              cachedData = JSON.parse(backupData);\n              \n              // Clear the backup since we've used it\n              localStorage.removeItem(backupKey);\n            } catch (parseError) {\n              console.error('Error parsing backup data:', parseError);\n            }\n          } else {\n            // If no backup, try sessionStorage for faster loading\n            const sessionData = sessionStorage.getItem(ordersKey);\n            \n            if (sessionData) {\n              try {\n                cachedData = JSON.parse(sessionData);\n                console.log('Using session-cached orders while fetching fresh data');\n              } catch (parseError) {\n                console.error('Error parsing session data:', parseError);\n              }\n            }\n          }\n          \n          // Apply cached data in a single batched update if we have any\n          if (cachedData) {\n            // Apply the updates in the next tick to avoid render loops\n            setTimeout(() => {\n              // Update all state in a single batch\n              if (cachedData.pendingOrders) setPendingOrders(cachedData.pendingOrders);\n              if (cachedData.inProgressOrders) setInProgressOrders(cachedData.inProgressOrders);\n              if (cachedData.completedOrders) setCompletedOrders(cachedData.completedOrders);\n              if (cachedData.previousOrders) setPreviousOrders(cachedData.previousOrders);\n              \n              console.log('Successfully applied cached order data');\n            }, 0);\n          }\n        } catch (e) {\n          console.error('Error loading orders from storage:', e);\n        }\n      };\n      \n      // Execute load function\n      loadCachedData();\n    }\n    \n    // Initial data fetch (this runs both on first render and dependency changes)\n    fetchOrdersData();\n    \n    // Set up polling based on auto-refresh settings with debouncing\n    let interval;\n    if (autoRefreshEnabled) {\n      console.log(`Auto-refresh enabled with interval ${autoRefreshInterval} seconds`);\n      \n      // Make sure we're not refreshing too quickly to prevent UI flickering\n      const safeInterval = Math.max(30, autoRefreshInterval);\n      if (safeInterval !== autoRefreshInterval) {\n        console.warn(`Adjusting auto-refresh interval from ${autoRefreshInterval}s to ${safeInterval}s to prevent flickering`);\n        // Update in localStorage for persistence\n        localStorage.setItem('coffee_auto_refresh_interval', safeInterval.toString());\n        setAutoRefreshInterval(safeInterval);\n      }\n      \n      interval = setInterval(() => {\n        // TEMPORARY FIX: Disable auto-refresh to prevent UI flickering\n        console.log('Auto-refresh temporarily disabled to fix UI issues');\n        \n        /* DISABLED AUTO-REFRESH CODE:\n        // Check if we've refreshed recently from another source\n        const lastRefreshTime = parseInt(sessionStorage.getItem('last_manual_refresh_time') || '0');\n        const timeSinceLastRefresh = Date.now() - lastRefreshTime;\n        \n        // Only do automatic refresh if it's been at least 15 seconds since last manual refresh\n        if (timeSinceLastRefresh > 15000) {\n          console.log('Auto-refreshing order data...');\n          fetchOrdersData(false);\n        } else {\n          console.log(`Skipping auto-refresh (last manual refresh was ${timeSinceLastRefresh}ms ago)`);\n        }\n        */\n      }, safeInterval * 1000);\n    }\n    \n    // Add listener for tab visibility and tab switching events\n    const handleRefreshEvent = () => {\n      console.log('Received app:refreshOrders event - refreshing orders');\n      fetchOrdersData(false);\n    };\n    \n    // Listen for the custom refresh event\n    window.addEventListener('app:refreshOrders', handleRefreshEvent);\n    \n    // Also listen for visibility change\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'visible') {\n        console.log('Tab became visible - refreshing orders');\n        fetchOrdersData(false);\n      }\n    };\n    \n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    \n    // Cleanup on unmount\n    return () => {\n      if (interval) clearInterval(interval);\n      window.removeEventListener('app:refreshOrders', handleRefreshEvent);\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    };\n  }, [autoRefreshEnabled, autoRefreshInterval, currentStationId]); // FIXED: Removed fetchOrdersData to prevent infinite loops\n\n  // Track wait time update interval in a ref to prevent memory leaks\n  const waitTimeIntervalRef = useRef(null);\n  \n  // Update order wait times periodically - with optimized state updates\n  useEffect(() => {\n    // Define update function that batches state updates to prevent render loops\n    const updateWaitTimes = () => {\n      // Use functional state updates to avoid dependency on state values\n      setPendingOrders(prevOrders => {\n        if (!prevOrders || prevOrders.length === 0) return prevOrders;\n        \n        return prevOrders.map(order => {\n          try {\n            // Safely parse date strings to avoid errors\n            let createdAt = order.createdAt;\n            if (typeof createdAt === 'string') {\n              createdAt = new Date(createdAt);\n            } else if (!(createdAt instanceof Date)) {\n              createdAt = new Date(); // Fallback\n            }\n            \n            // Calculate wait time in minutes\n            const waitTime = Math.floor((new Date() - createdAt) / 60000);\n            \n            // Only update if wait time changed\n            if (order.waitTime !== waitTime) {\n              return { ...order, waitTime };\n            }\n            return order;\n          } catch (e) {\n            console.error('Error calculating wait time:', e);\n            return order; // Keep original if error\n          }\n        });\n      });\n      \n      setInProgressOrders(prevOrders => {\n        if (!prevOrders || prevOrders.length === 0) return prevOrders;\n        \n        return prevOrders.map(order => {\n          try {\n            // Safely parse date strings to avoid errors\n            let createdAt = order.createdAt;\n            if (typeof createdAt === 'string') {\n              createdAt = new Date(createdAt);\n            } else if (!(createdAt instanceof Date)) {\n              createdAt = new Date(); // Fallback\n            }\n            \n            // Calculate wait time in minutes\n            const waitTime = Math.floor((new Date() - createdAt) / 60000);\n            \n            // Only update if wait time changed\n            if (order.waitTime !== waitTime) {\n              return { ...order, waitTime };\n            }\n            return order;\n          } catch (e) {\n            console.error('Error calculating wait time:', e);\n            return order; // Keep original if error\n          }\n        });\n      });\n    };\n    \n    // Clear any existing interval\n    if (waitTimeIntervalRef.current) {\n      clearInterval(waitTimeIntervalRef.current);\n    }\n    \n    // Set up new interval\n    waitTimeIntervalRef.current = setInterval(updateWaitTimes, 60000); // Update every minute\n    \n    // Run once immediately\n    updateWaitTimes();\n    \n    // Cleanup on unmount\n    return () => {\n      if (waitTimeIntervalRef.current) {\n        clearInterval(waitTimeIntervalRef.current);\n        waitTimeIntervalRef.current = null;\n      }\n    };\n  }, []); // Empty dependency array - interval handles updates\n\n  // Function to manually refresh data with debouncing to prevent rapid sequential refreshes\n  const refreshData = useCallback(() => {\n    // Ensure we preserve the current station when refreshing\n    console.log(`[useOrders] Manual refresh requested for station ${currentStationId}`);\n    \n    // Check if a refresh was performed very recently (debouncing)\n    const lastRefreshTime = parseInt(sessionStorage.getItem('last_manual_refresh_time') || '0');\n    const timeSinceLastRefresh = Date.now() - lastRefreshTime;\n    \n    // Only allow manual refresh if it's been at least 5 seconds since the last one\n    if (timeSinceLastRefresh < 5000) {\n      console.log(`Debouncing refresh request (last refresh was ${timeSinceLastRefresh}ms ago)`);\n      return; // Skip this refresh request to prevent flickering\n    }\n    \n    // Record this refresh time to prevent rapid sequential refreshes\n    sessionStorage.setItem('last_manual_refresh_time', Date.now().toString());\n    \n    setIsRefreshing(true);\n    \n    // Make sure we're using the current station ID when refreshing\n    if (currentStationId) {\n      // Sync localStorage to match current station ID\n      try {\n        const savedStationId = localStorage.getItem('coffee_cue_selected_station');\n        if (savedStationId && parseInt(savedStationId, 10) !== currentStationId) {\n          // Only log this as debug info since it's part of normal sync process\n          console.log(`[useOrders] Syncing localStorage station ID from ${savedStationId} to ${currentStationId}`);\n          localStorage.setItem('coffee_cue_selected_station', currentStationId.toString());\n        }\n      } catch (e) {\n        console.error('Error syncing station ID to localStorage:', e);\n      }\n    }\n    \n    // Fetch data for the current station\n    fetchOrdersData(false);\n  }, [fetchOrdersData, currentStationId]);\n  \n  // Toggle auto-refresh\n  const toggleAutoRefresh = useCallback(() => {\n    const newValue = !autoRefreshEnabled;\n    setAutoRefreshEnabled(newValue);\n    localStorage.setItem('coffee_auto_refresh_enabled', newValue);\n    \n    // When enabling auto-refresh, make sure we have a safe interval\n    if (newValue === true && autoRefreshInterval < 30) {\n      console.log('Auto-refresh enabled with too short interval, increasing to 60s for stability');\n      setAutoRefreshInterval(60);\n      localStorage.setItem('coffee_auto_refresh_interval', '60');\n    }\n  }, [autoRefreshEnabled, autoRefreshInterval]);\n\n  // Update auto-refresh interval with minimum threshold to prevent flickering\n  const updateAutoRefreshInterval = useCallback((seconds) => {\n    if (seconds && !isNaN(seconds) && seconds >= 30) { // Increased minimum to 30 seconds to prevent flickering\n      // Store the previous value for logging\n      const prevInterval = autoRefreshInterval;\n      setAutoRefreshInterval(seconds);\n      localStorage.setItem('coffee_auto_refresh_interval', seconds);\n      localStorage.setItem('coffee_auto_refresh_enabled', 'true'); // Always enable refresh when interval is set\n      console.log(`Auto-refresh interval updated from ${prevInterval}s to ${seconds}s`);\n      return true;\n    }\n    // Log a warning if value is too low\n    if (seconds && !isNaN(seconds) && seconds < 30) {\n      console.warn(`Auto-refresh interval of ${seconds}s is too low and might cause UI flickering. Minimum allowed is 30s.`);\n    }\n    return false;\n  }, [autoRefreshInterval]);\n\n  // History data fetch functions\n  const fetchYesterdayOrders = useCallback(async () => {\n    try {\n      setLoading(true);\n      const result = await OrderDataService.getYesterdayOrders(currentStationId);\n      setYesterdayOrders(result.orders || []);\n      setError(null);\n      return result.orders || [];\n    } catch (err) {\n      console.error('Error fetching yesterday\\'s orders:', err);\n      setError(`Failed to fetch yesterday's orders: ${err.message}`);\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  }, [currentStationId]);\n  \n  const fetchThisWeekOrders = useCallback(async () => {\n    try {\n      setLoading(true);\n      const result = await OrderDataService.getThisWeekOrders(currentStationId);\n      setThisWeekOrders(result.orders || []);\n      setError(null);\n      return result.orders || [];\n    } catch (err) {\n      console.error('Error fetching this week\\'s orders:', err);\n      setError(`Failed to fetch this week's orders: ${err.message}`);\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  }, [currentStationId]);\n  \n  const searchOrders = useCallback(async (searchTerm) => {\n    if (!searchTerm || searchTerm.trim().length < 2) {\n      setError('Search term must be at least 2 characters');\n      return [];\n    }\n    \n    try {\n      setLoading(true);\n      const result = await OrderDataService.searchOrders(searchTerm, currentStationId);\n      setSearchResults(result.orders || []);\n      setError(null);\n      return result.orders || [];\n    } catch (err) {\n      console.error('Error searching orders:', err);\n      setError(`Failed to search orders: ${err.message}`);\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  }, [currentStationId]);\n  \n  const getOrderHistory = useCallback(async (options = {}) => {\n    try {\n      setLoading(true);\n      const result = await OrderDataService.getOrderHistory({\n        ...options,\n        stationId: currentStationId\n      });\n      setHistoryOrders(result.orders || []);\n      setError(null);\n      return result;\n    } catch (err) {\n      console.error('Error fetching order history:', err);\n      setError(`Failed to fetch order history: ${err.message}`);\n      return { orders: [], total: 0 };\n    } finally {\n      setLoading(false);\n    }\n  }, [currentStationId]);\n  \n  // Order actions with improved error handling and ID management\n  const startOrder = useCallback(async (order) => {\n    if (!order || !order.id) {\n      setError('Invalid order: missing ID');\n      return false;\n    }\n\n    try {\n      // Check if this is a local order from our localStorage system\n      const isLocalOrder = order.isLocalOrder || order.id.toString().startsWith('local_order_');\n      \n      if (isLocalOrder) {\n        console.log('Starting local order without API call:', order.id);\n        \n        // Remove from local storage pending collection\n        try {\n          const localOrdersKey = `local_orders_station_${currentStationId}`;\n          const localOrders = JSON.parse(localStorage.getItem(localOrdersKey) || '[]');\n          const updatedLocalOrders = localOrders.filter(o => o.id !== order.id);\n          localStorage.setItem(localOrdersKey, JSON.stringify(updatedLocalOrders));\n          console.log(`Removed order ${order.id} from local orders collection`);\n        } catch (e) {\n          console.error('Error removing local order from storage:', e);\n        }\n        \n        // Update UI state without API call\n        setPendingOrders(prev => prev.filter(o => o.id !== order.id));\n        \n        const updatedOrder = { \n          ...order, \n          startedAt: new Date(),\n          status: 'in-progress',\n          stationId: currentStationId,\n          station_id: currentStationId,\n          assignedStation: currentStationId\n        };\n        \n        setInProgressOrders(prev => [...prev, updatedOrder]);\n        setQueueCount(prev => Math.max(0, prev - 1));\n        \n        // Update order in main cache storage for persistence\n        try {\n          const ordersKey = `orders_cache_station_${currentStationId}`;\n          let ordersCache = {};\n          try {\n            const cacheData = localStorage.getItem(ordersKey);\n            if (cacheData) {\n              ordersCache = JSON.parse(cacheData);\n            }\n          } catch (e) {\n            console.error('Error parsing orders cache:', e);\n          }\n          \n          // Ensure arrays exist\n          if (!ordersCache.pendingOrders) ordersCache.pendingOrders = [];\n          if (!ordersCache.inProgressOrders) ordersCache.inProgressOrders = [];\n          \n          // Remove from pending\n          ordersCache.pendingOrders = ordersCache.pendingOrders.filter(o => o.id !== order.id);\n          \n          // Add to in-progress \n          ordersCache.inProgressOrders.push(updatedOrder);\n          ordersCache.timestamp = Date.now();\n          \n          // Save back to all storage locations\n          const serializedCache = JSON.stringify(ordersCache);\n          localStorage.setItem(ordersKey, serializedCache);\n          sessionStorage.setItem(ordersKey, serializedCache);\n          \n          // Also update backup\n          localStorage.setItem(`${ordersKey}_backup`, serializedCache);\n          localStorage.setItem(`${ordersKey}_backup_time`, Date.now().toString());\n          \n          console.log(`Successfully moved order ${order.id} to in-progress in all storage locations`);\n        } catch (e) {\n          console.error('Error updating orders cache:', e);\n        }\n        \n        return true;\n      }\n      \n      // For regular orders, proceed with API call\n      const result = await OrderDataService.startOrder(order, currentStationId);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to start order: ${errorMessage}`);\n      }\n      \n      // Optimistically update UI state\n      setPendingOrders(prev => prev.filter(o => o.id !== order.id));\n      \n      const updatedOrder = { \n        ...order, \n        startedAt: new Date(),\n        status: 'in-progress',\n        stationId: currentStationId,\n        station_id: currentStationId,\n        assignedStation: currentStationId\n      };\n      \n      setInProgressOrders(prev => [...prev, updatedOrder]);\n      setQueueCount(prev => Math.max(0, prev - 1));\n      \n      // Update order in main cache storage for persistence\n      try {\n        const ordersKey = `orders_cache_station_${currentStationId}`;\n        let ordersCache = {};\n        try {\n          const cacheData = localStorage.getItem(ordersKey);\n          if (cacheData) {\n            ordersCache = JSON.parse(cacheData);\n          }\n        } catch (e) {\n          console.error('Error parsing orders cache:', e);\n        }\n        \n        // Ensure arrays exist\n        if (!ordersCache.pendingOrders) ordersCache.pendingOrders = [];\n        if (!ordersCache.inProgressOrders) ordersCache.inProgressOrders = [];\n        \n        // Remove from pending\n        ordersCache.pendingOrders = ordersCache.pendingOrders.filter(o => o.id !== order.id);\n        \n        // Add to in-progress \n        ordersCache.inProgressOrders.push(updatedOrder);\n        ordersCache.timestamp = Date.now();\n        \n        // Save back to all storage locations\n        const serializedCache = JSON.stringify(ordersCache);\n        localStorage.setItem(ordersKey, serializedCache);\n        sessionStorage.setItem(ordersKey, serializedCache);\n        \n        // Also update backup\n        localStorage.setItem(`${ordersKey}_backup`, serializedCache);\n        localStorage.setItem(`${ordersKey}_backup_time`, Date.now().toString());\n        \n        console.log(`Successfully moved server order ${order.id} to in-progress in all storage locations`);\n      } catch (e) {\n        console.error('Error updating orders cache for server order:', e);\n      }\n      \n      // Refresh data to ensure consistency\n      setTimeout(refreshData, 500);\n      \n      return true;\n    } catch (err) {\n      setError(`Failed to start order: ${err.message}`);\n      console.error('Start order error:', err);\n      return false;\n    }\n  }, [refreshData, currentStationId]);\n\n  const completeOrder = useCallback(async (orderId) => {\n    if (!orderId) {\n      setError('Cannot complete order: Missing order ID');\n      return false;\n    }\n    \n    try {\n      // Check if this is a local order from our localStorage system\n      const orderToComplete = inProgressOrders.find(o => o.id === orderId);\n      \n      if (!orderToComplete) {\n        throw new Error(`Order with ID ${orderId} not found in progress orders`);\n      }\n      \n      const isLocalOrder = orderToComplete.isLocalOrder || \n                          orderId.toString().startsWith('local_order_');\n      \n      // Calculate prep time for this order (time from start to completion)\n      let prepTimeMinutes = 0;\n      if (orderToComplete.startedAt) {\n        const startTime = new Date(orderToComplete.startedAt);\n        const completionTime = new Date();\n        prepTimeMinutes = (completionTime - startTime) / (1000 * 60);\n        \n        // Update station stats with this prep time\n        if (prepTimeMinutes > 0 && prepTimeMinutes < 60) { // Sanity check - ignore outliers over an hour\n          setStationStats(prevStats => {\n            // Add this prep time to the array\n            const newPrepTimes = [...prevStats.prepTimes, prepTimeMinutes];\n            \n            // Calculate new average (limit to last 20 orders for recency)\n            const recentPrepTimes = newPrepTimes.slice(-20);\n            const newAvgPrepTime = recentPrepTimes.reduce((sum, time) => sum + time, 0) / recentPrepTimes.length;\n            \n            // Save stats to localStorage for persistence\n            try {\n              localStorage.setItem(`station_${currentStationId}_avg_prep_time`, newAvgPrepTime.toFixed(2));\n              localStorage.setItem(`station_${currentStationId}_total_completed`, prevStats.totalCompleted + 1);\n            } catch (e) {\n              console.error('Error saving station stats to localStorage:', e);\n            }\n            \n            return {\n              prepTimes: newPrepTimes,\n              avgPrepTime: newAvgPrepTime,\n              totalCompleted: prevStats.totalCompleted + 1,\n              lastCalculated: new Date()\n            };\n          });\n        }\n      }\n      \n      // Update stock levels based on the order\n      try {\n        // Initialize stock service for this station if not already initialized\n        if (StockService.stationId !== currentStationId) {\n          StockService.initialize(currentStationId, `Station ${currentStationId}`);\n        }\n        \n        console.log(`Depleting stock for order ${orderId}:`, orderToComplete);\n        \n        // Determine which items to deplete and by how much\n        \n        // 1. Deplete milk based on milk type and cup size\n        let milkAmount = 0;\n        const coffeeSize = orderToComplete.coffeeType?.toLowerCase() || '';\n        if (coffeeSize.includes('small')) {\n          milkAmount = 0.15; // 150ml for small\n        } else if (coffeeSize.includes('medium')) {\n          milkAmount = 0.25; // 250ml for medium\n        } else if (coffeeSize.includes('large')) {\n          milkAmount = 0.35; // 350ml for large\n        } else {\n          milkAmount = 0.25; // Default to medium\n        }\n        \n        // Determine milk ID based on milk type\n        let milkId = 'milk_regular';\n        const milkType = orderToComplete.milkType?.toLowerCase() || '';\n        \n        if (milkType.includes('skim')) {\n          milkId = 'milk_skim';\n        } else if (milkType.includes('almond')) {\n          milkId = 'milk_almond';\n        } else if (milkType.includes('soy')) {\n          milkId = 'milk_soy';\n        }\n        \n        // Get current milk level\n        const milkItems = StockService.getLocalCategoryStock('milk');\n        const milkItem = milkItems.find(item => item.id === milkId);\n        \n        if (milkItem) {\n          const newAmount = Math.max(0, milkItem.amount - milkAmount);\n          console.log(`Depleting ${milkId} from ${milkItem.amount}L to ${newAmount}L`);\n          StockService.updateLocalStockAmount('milk', milkId, newAmount);\n        }\n        \n        // 2. Deplete coffee beans based on cup size\n        let coffeeAmount = 0;\n        if (coffeeSize.includes('small')) {\n          coffeeAmount = 0.008; // 8g for small\n        } else if (coffeeSize.includes('medium')) {\n          coffeeAmount = 0.015; // 15g for medium\n        } else if (coffeeSize.includes('large')) {\n          coffeeAmount = 0.022; // 22g for large\n        } else {\n          coffeeAmount = 0.015; // Default to medium\n        }\n        \n        // Default to house blend\n        const coffeeId = 'coffee_house';\n        const coffeeItems = StockService.getLocalCategoryStock('coffee');\n        const coffeeItem = coffeeItems.find(item => item.id === coffeeId);\n        \n        if (coffeeItem) {\n          const newAmount = Math.max(0, coffeeItem.amount - coffeeAmount);\n          console.log(`Depleting ${coffeeId} from ${coffeeItem.amount}kg to ${newAmount}kg`);\n          StockService.updateLocalStockAmount('coffee', coffeeId, newAmount);\n        }\n        \n        // 3. Deplete a cup based on size\n        let cupId = 'cups_medium';\n        if (coffeeSize.includes('small')) {\n          cupId = 'cups_small';\n        } else if (coffeeSize.includes('large')) {\n          cupId = 'cups_large';\n        }\n        \n        const cupsItems = StockService.getLocalCategoryStock('cups');\n        const cupItem = cupsItems.find(item => item.id === cupId);\n        \n        if (cupItem) {\n          const newAmount = Math.max(0, cupItem.amount - 1); // Deplete 1 cup\n          console.log(`Depleting ${cupId} from ${cupItem.amount} to ${newAmount} cups`);\n          StockService.updateLocalStockAmount('cups', cupId, newAmount);\n        }\n        \n        // 4. Deplete sugar if the order includes sugar\n        const sugarText = orderToComplete.sugar?.toLowerCase() || '';\n        let sugarAmount = 0;\n        \n        if (sugarText.includes('1 sugar')) {\n          sugarAmount = 0.005; // 5g per sugar\n        } else if (sugarText.includes('2 sugar')) {\n          sugarAmount = 0.01; // 10g for 2 sugars\n        } else if (sugarText.includes('3 sugar')) {\n          sugarAmount = 0.015; // 15g for 3 sugars\n        }\n        \n        if (sugarAmount > 0) {\n          const sugarItems = StockService.getLocalCategoryStock('other');\n          const sugarItem = sugarItems.find(item => item.id === 'sugar_white');\n          \n          if (sugarItem) {\n            const newAmount = Math.max(0, sugarItem.amount - sugarAmount);\n            console.log(`Depleting sugar from ${sugarItem.amount}kg to ${newAmount}kg`);\n            StockService.updateLocalStockAmount('other', 'sugar_white', newAmount);\n          }\n        }\n        \n      } catch (stockError) {\n        console.error('Error updating stock levels:', stockError);\n        // Continue with order completion even if stock update fails\n      }\n      \n      \n      if (isLocalOrder) {\n        console.log('Completing local order without API call:', orderId);\n        \n        // Update UI state without API call\n        setInProgressOrders(prev => prev.filter(o => o.id !== orderId));\n        \n        const completedOrder = {\n          ...orderToComplete,\n          completedAt: new Date(),\n          status: 'completed',\n          prepTime: prepTimeMinutes // Store the prep time with the order\n        };\n        \n        // Deplete stock based on the completed order\n        try {\n          const StockService = (await import('../services/StockService')).default;\n          if (StockService.depleteStockForOrder) {\n            StockService.depleteStockForOrder(completedOrder);\n          }\n        } catch (stockError) {\n          console.error('Error depleting stock for completed local order:', stockError);\n          // Don't fail the order completion if stock depletion fails\n        }\n        \n        setCompletedOrders(prev => [completedOrder, ...prev]);\n        \n        // Make sure order is persisted in cache\n        try {\n          const ordersKey = `orders_cache_station_${currentStationId}`;\n          let ordersCache = {};\n          try {\n            const cacheData = localStorage.getItem(ordersKey);\n            if (cacheData) {\n              ordersCache = JSON.parse(cacheData);\n            }\n          } catch (e) {\n            console.error('Error parsing orders cache:', e);\n          }\n          \n          // Update inProgress and completed lists\n          ordersCache.inProgressOrders = ordersCache.inProgressOrders?.filter(o => o.id !== orderId) || [];\n          \n          if (!ordersCache.completedOrders) {\n            ordersCache.completedOrders = [];\n          }\n          \n          // Add to completed\n          ordersCache.completedOrders.unshift(completedOrder);\n          ordersCache.timestamp = Date.now();\n          \n          // Save back to all storage\n          const serializedCache = JSON.stringify(ordersCache);\n          localStorage.setItem(ordersKey, serializedCache);\n          sessionStorage.setItem(ordersKey, serializedCache);\n          \n          // Also update backup\n          localStorage.setItem(`${ordersKey}_backup`, serializedCache);\n          localStorage.setItem(`${ordersKey}_backup_time`, Date.now().toString());\n        } catch (e) {\n          console.error('Error updating orders cache:', e);\n        }\n        \n        // Play sound notification\n        try {\n          window.dispatchEvent(new CustomEvent('app:orderCompleted'));\n        } catch (soundError) {\n          console.error('Error triggering sound notification:', soundError);\n        }\n        \n        return true;\n      }\n      \n      // For regular orders, proceed with API call\n      const result = await OrderDataService.completeOrder(orderId);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to complete order: ${errorMessage}`);\n      }\n      \n      // Optimistically update UI state\n      setInProgressOrders(prev => prev.filter(o => o.id !== orderId));\n      \n      const completedOrder = {\n        ...orderToComplete,\n        completedAt: new Date(),\n        status: 'completed',\n        prepTime: prepTimeMinutes // Store the prep time with the order\n      };\n      \n      // Deplete stock based on the completed order\n      try {\n        const StockService = (await import('../services/StockService')).default;\n        if (StockService.depleteStockForOrder) {\n          StockService.depleteStockForOrder(completedOrder);\n        }\n      } catch (stockError) {\n        console.error('Error depleting stock for completed order:', stockError);\n        // Don't fail the order completion if stock depletion fails\n      }\n      \n      setCompletedOrders(prev => [completedOrder, ...prev]);\n      \n      // Make sure order is persisted in cache\n      try {\n        const ordersKey = `orders_cache_station_${currentStationId}`;\n        let ordersCache = {};\n        try {\n          const cacheData = localStorage.getItem(ordersKey);\n          if (cacheData) {\n            ordersCache = JSON.parse(cacheData);\n          }\n        } catch (e) {\n          console.error('Error parsing orders cache:', e);\n        }\n        \n        // Update inProgress and completed lists\n        ordersCache.inProgressOrders = ordersCache.inProgressOrders?.filter(o => o.id !== orderId) || [];\n        \n        if (!ordersCache.completedOrders) {\n          ordersCache.completedOrders = [];\n        }\n        \n        // Add to completed\n        ordersCache.completedOrders.unshift(completedOrder);\n        ordersCache.timestamp = Date.now();\n        \n        // Save back to all storage\n        const serializedCache = JSON.stringify(ordersCache);\n        localStorage.setItem(ordersKey, serializedCache);\n        sessionStorage.setItem(ordersKey, serializedCache);\n        \n        // Also update backup\n        localStorage.setItem(`${ordersKey}_backup`, serializedCache);\n        localStorage.setItem(`${ordersKey}_backup_time`, Date.now().toString());\n      } catch (e) {\n        console.error('Error updating orders cache:', e);\n      }\n      \n      // Trigger sound notification for completed order\n      try {\n        window.dispatchEvent(new CustomEvent('app:orderCompleted'));\n      } catch (soundError) {\n        console.error('Error triggering sound notification:', soundError);\n      }\n      window.dispatchEvent(new CustomEvent('app:orderCompleted'));\n      \n      // Refresh data to ensure consistency\n      setTimeout(refreshData, 500);\n      \n      return true;\n    } catch (err) {\n      setError(`Failed to complete order: ${err.message}`);\n      console.error('Complete order error:', err);\n      return false;\n    }\n  }, [inProgressOrders, refreshData, currentStationId]);\n\n  const markOrderPickedUp = useCallback(async (orderId) => {\n    if (!orderId) {\n      setError('Cannot mark order as picked up: Missing order ID');\n      return false;\n    }\n    \n    try {\n      // Check if this is a local order from our localStorage system\n      const orderToPickUp = completedOrders.find(o => o.id === orderId);\n      \n      if (!orderToPickUp) {\n        throw new Error(`Order with ID ${orderId} not found in completed orders`);\n      }\n      \n      const isLocalOrder = orderToPickUp.isLocalOrder || \n                          orderId.toString().startsWith('local_order_');\n      \n      if (isLocalOrder) {\n        console.log('Marking local order as picked up without API call:', orderId);\n        \n        // Update UI state without API call\n        setCompletedOrders(prev => prev.filter(o => o.id !== orderId));\n        \n        const pickedUpOrder = {\n          ...orderToPickUp,\n          pickedUpAt: new Date()\n        };\n        \n        setPreviousOrders(prev => [pickedUpOrder, ...prev]);\n        \n        return true;\n      }\n      \n      // For regular orders, proceed with API call\n      const result = await OrderDataService.markOrderPickedUp(orderId);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to mark order as picked up: ${errorMessage}`);\n      }\n      \n      // Optimistically update UI state\n      setCompletedOrders(prev => prev.filter(o => o.id !== orderId));\n      \n      const pickedUpOrder = {\n        ...orderToPickUp,\n        pickedUpAt: new Date()\n      };\n      \n      setPreviousOrders(prev => [pickedUpOrder, ...prev]);\n      \n      // Refresh data to ensure consistency\n      setTimeout(refreshData, 500);\n      \n      return true;\n    } catch (err) {\n      setError(`Failed to mark order as picked up: ${err.message}`);\n      console.error('Mark picked up error:', err);\n      return false;\n    }\n  }, [completedOrders, refreshData]);\n\n  const processBatch = useCallback(async (batchGroup) => {\n    if (!batchGroup) {\n      setError('Cannot process batch: Invalid batch group');\n      return false;\n    }\n    \n    try {\n      // Get all orders in this batch\n      const batchOrders = pendingOrders.filter(order => order.batchGroup === batchGroup);\n      if (batchOrders.length === 0) {\n        setError('No orders found in this batch group');\n        return false;\n      }\n      \n      // Extract order IDs\n      const orderIds = batchOrders.map(order => order.id);\n      \n      // Call API to process the batch\n      const result = await OrderDataService.processBatch(orderIds);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to process batch: ${errorMessage}`);\n      }\n      \n      // Optimistically update UI state\n      setPendingOrders(prev => prev.filter(order => order.batchGroup !== batchGroup));\n      \n      // Add orders to in-progress\n      const updatedBatchOrders = batchOrders.map(order => ({\n        ...order,\n        startedAt: new Date(),\n        status: 'in-progress'\n      }));\n      \n      setInProgressOrders(prev => [...prev, ...updatedBatchOrders]);\n      setQueueCount(prev => Math.max(0, prev - batchOrders.length));\n      \n      // Refresh data to ensure consistency\n      setTimeout(refreshData, 500);\n      \n      return batchOrders.length;\n    } catch (err) {\n      setError(`Failed to process batch: ${err.message}`);\n      console.error('Process batch error:', err);\n      return false;\n    }\n  }, [pendingOrders, refreshData]);\n\n  const processBatchSelection = useCallback(async (selectedOrderIds) => {\n    if (!selectedOrderIds || selectedOrderIds.size === 0) {\n      setError('Cannot process batch: No orders selected');\n      return false;\n    }\n    \n    try {\n      // Extract order objects\n      const ordersToProcess = pendingOrders.filter(order => \n        selectedOrderIds.has(order.id)\n      );\n      \n      // Process orders\n      const result = await OrderDataService.processBatchSelection(selectedOrderIds);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to process batch selection: ${errorMessage}`);\n      }\n      \n      // Optimistically update UI state\n      setPendingOrders(prev => \n        prev.filter(order => !selectedOrderIds.has(order.id))\n      );\n      \n      // Add to in-progress\n      const updatedOrders = ordersToProcess.map(order => ({\n        ...order,\n        startedAt: new Date(),\n        status: 'in-progress'\n      }));\n      \n      setInProgressOrders(prev => [...prev, ...updatedOrders]);\n      setQueueCount(prev => Math.max(0, prev - selectedOrderIds.size));\n      \n      // Refresh data to ensure consistency\n      setTimeout(refreshData, 500);\n      \n      return selectedOrderIds.size;\n    } catch (err) {\n      setError(`Failed to process batch selection: ${err.message}`);\n      console.error('Process batch selection error:', err);\n      return false;\n    }\n  }, [pendingOrders, refreshData]);\n\n  const addWalkInOrder = useCallback(async (orderDetails) => {\n    if (!orderDetails) {\n      setError('Cannot add walk-in order: Invalid order details');\n      return false;\n    }\n    \n    try {\n      // Add station ID to the order details\n      const orderWithStation = {\n        ...orderDetails,\n        station_id: currentStationId,\n        assigned_to_station: currentStationId\n      };\n      \n      console.log(`Adding walk-in order at station ${currentStationId}:`, orderWithStation);\n      \n      // Create a persistent client-side order instead of a temporary one\n      const timestamp = Date.now();\n      const persistentId = `local_order_${timestamp}`;\n      \n      // Convert snake_case fields to camelCase for UI consistency\n      const clientOrder = {\n        id: persistentId,\n        orderNumber: `WI${timestamp.toString().slice(-6)}`, // Walk-In order number\n        createdAt: new Date(),\n        waitTime: 0,\n        promisedTime: orderDetails.promisedTime || 15,\n        status: 'pending',\n        // Map snake_case to camelCase\n        customerName: orderWithStation.customer_name || orderWithStation.customerName,\n        phoneNumber: orderWithStation.phone_number || orderWithStation.phoneNumber || 'Walk-in',\n        coffeeType: orderWithStation.coffee_type || orderWithStation.coffeeType,\n        milkType: orderWithStation.milk_type || orderWithStation.milkType,\n        milkTypeId: orderWithStation.milk_type_id || orderWithStation.milkTypeId,\n        sugar: orderWithStation.sugar || 'No sugar',\n        extraHot: orderWithStation.extra_hot || orderWithStation.extraHot || false,\n        priority: orderWithStation.priority || false,\n        notes: orderWithStation.notes || '',\n        shots: orderWithStation.shots || 1,\n        isWalkIn: orderWithStation.is_walk_in || orderWithStation.isWalkIn || true,\n        collectionStation: orderWithStation.collection_station || orderWithStation.collectionStation,\n        alternativeMilk: orderWithStation.alternative_milk || orderWithStation.alternativeMilk || \n                        ['Soy Milk', 'Almond Milk', 'Oat Milk', 'Coconut Milk', 'Macadamia Milk', 'Rice Milk'].includes(orderWithStation.milk_type || orderWithStation.milkType),\n        dairyFree: orderWithStation.dairy_free || orderWithStation.dairyFree || false,\n        // Station fields\n        stationId: currentStationId,\n        station_id: currentStationId,\n        assignedStation: currentStationId,\n        assigned_to_station: currentStationId,\n        // Mark as local order for persistence\n        isLocalOrder: true\n      };\n      \n      // Save to localStorage so it persists across refreshes\n      try {\n        // 1. Save to local orders collection\n        const localOrdersKey = `local_orders_station_${currentStationId}`;\n        let existingOrders = [];\n        try {\n          existingOrders = JSON.parse(localStorage.getItem(localOrdersKey) || '[]');\n        } catch (e) {\n          console.error('Error parsing existing local orders:', e);\n        }\n        existingOrders.push(clientOrder);\n        localStorage.setItem(localOrdersKey, JSON.stringify(existingOrders));\n        console.log(`Saved local order to localStorage with key ${localOrdersKey}`);\n        \n        // 2. Add directly to the main orders cache too\n        const ordersKey = `orders_cache_station_${currentStationId}`;\n        let ordersCache = {};\n        try {\n          const cacheData = localStorage.getItem(ordersKey);\n          if (cacheData) {\n            ordersCache = JSON.parse(cacheData);\n          }\n        } catch (e) {\n          console.error('Error parsing orders cache:', e);\n        }\n        \n        // Make sure pendingOrders exists\n        if (!ordersCache.pendingOrders) {\n          ordersCache.pendingOrders = [];\n        }\n        \n        // Add the new order\n        ordersCache.pendingOrders.push(clientOrder);\n        ordersCache.timestamp = Date.now();\n        \n        // Save back to storage in all places\n        const serializedCache = JSON.stringify(ordersCache);\n        localStorage.setItem(ordersKey, serializedCache);\n        sessionStorage.setItem(ordersKey, serializedCache);\n        \n        // 3. Create a backup\n        localStorage.setItem(`${ordersKey}_backup`, serializedCache);\n        localStorage.setItem(`${ordersKey}_backup_time`, Date.now().toString());\n        \n        console.log('Order saved to multiple storage locations for persistence');\n      } catch (e) {\n        console.error('Failed to save local order to storage:', e);\n      }\n      \n      // Mark this order as created at this station for filtering purposes\n      localStorage.setItem(`order_created_at_station_${persistentId}`, String(currentStationId));\n      \n      // Update UI with the local order\n      setPendingOrders(prev => [...prev, clientOrder]);\n      setQueueCount(prev => prev + 1);\n      \n      // Trigger sound notification for new order\n      try {\n        window.dispatchEvent(new CustomEvent('app:newOrder'));\n      } catch (soundError) {\n        console.error('Error triggering sound notification:', soundError);\n      }\n      \n      // Try server save but keep local order regardless\n      try {\n        const result = await OrderDataService.addWalkInOrder(orderWithStation);\n        \n        if (result.success && result.id) {\n          console.log('Server save successful, linking local order to server ID');\n          // Store the order creation information in localStorage for filtering\n          localStorage.setItem(`order_created_at_station_${result.id}`, String(currentStationId));\n        } else {\n          console.log('Server call failed but keeping client-side order for UI consistency');\n        }\n      } catch (serverErr) {\n        console.error('Server save attempt failed but continuing with local order:', serverErr);\n      }\n      \n      // Manually trigger orders refresh after a short delay\n      setTimeout(() => {\n        window.dispatchEvent(new CustomEvent('app:refreshOrders'));\n      }, 500);\n      \n      return clientOrder;\n    } catch (err) {\n      setError(`Failed to add walk-in order: ${err.message}`);\n      console.error('Add walk-in order error:', err);\n      return false;\n    }\n  }, [currentStationId]);\n\n  const sendMessage = useCallback(async (orderId, message) => {\n    if (!orderId || !message) {\n      setError('Cannot send message: Missing order ID or message');\n      return false;\n    }\n    \n    try {\n      const result = await OrderDataService.sendMessageToCustomer(orderId, message);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to send message: ${errorMessage}`);\n      }\n      \n      return true;\n    } catch (err) {\n      setError(`Failed to send message: ${err.message}`);\n      console.error('Send message error:', err);\n      return false;\n    }\n  }, [currentStationId]);\n\n  // Calculate dynamic wait time based on queue and stats\n  const calculateDynamicWaitTime = useCallback(() => {\n    // Use the imported utility function\n    \n    // Calculate wait time based on queue count and station stats\n    const baseWaitTime = 2; // Base 2 minutes for the first coffee\n    const dynamicWaitTime = calculateWaitTime(queueCount, baseWaitTime, stationStats);\n    \n    console.log(`Calculated dynamic wait time: ${dynamicWaitTime}min based on queue=${queueCount}, avgPrepTime=${stationStats.avgPrepTime.toFixed(2)}`);\n    \n    // Update the wait time\n    updateWaitTime(dynamicWaitTime);\n    \n    return dynamicWaitTime;\n  }, [queueCount, stationStats, updateWaitTime]);\n\n  // Add delayOrder functionality\n  const delayOrder = useCallback(async (order, minutes = 5) => {\n    if (!order || !order.id) {\n      setError('Cannot delay order: Missing order ID');\n      return false;\n    }\n    \n    try {\n      // Call API to delay the order\n      // First check if OrderDataService has a delayOrder method\n      if (typeof OrderDataService.delayOrder !== 'function') {\n        // Fallback to optimistic UI update if no API endpoint exists\n        console.log(`Delaying order #${order.id} by ${minutes} minutes (simulated)`);\n        // In a real implementation, the delay would be communicated to the server\n        // and this would not be needed\n        return true;\n      }\n      \n      const result = await OrderDataService.delayOrder(order.id, minutes);\n      \n      if (!result || !result.success) {\n        const errorMessage = result?.message || 'Unknown error';\n        throw new Error(`Failed to delay order: ${errorMessage}`);\n      }\n      \n      // Refresh data to ensure consistency\n      setTimeout(refreshData, 500);\n      \n      return true;\n    } catch (err) {\n      setError(`Failed to delay order: ${err.message}`);\n      console.error('Delay order error:', err);\n      return false;\n    }\n  }, [refreshData]);\n\n  // Get batch groups from pending orders\n  const getBatchGroups = useCallback(() => {\n    return pendingOrders.reduce((groups, order) => {\n      if (order.batchGroup) {\n        if (!groups[order.batchGroup]) {\n          groups[order.batchGroup] = [];\n        }\n        groups[order.batchGroup].push(order);\n      }\n      return groups;\n    }, {});\n  }, [pendingOrders]);\n\n  return {\n    // Data\n    pendingOrders,\n    inProgressOrders,\n    completedOrders,\n    previousOrders,\n    historyOrders,\n    yesterdayOrders,\n    thisWeekOrders,\n    searchResults,\n    queueCount,\n    online,\n    loading,\n    error,\n    lastUpdated,\n    isRefreshing,\n    currentStationId,\n    \n    // Auto-refresh settings\n    autoRefreshEnabled,\n    autoRefreshInterval,\n    toggleAutoRefresh,\n    updateAutoRefreshInterval,\n    \n    // Order actions\n    startOrder,\n    completeOrder,\n    markOrderPickedUp,\n    processBatch,\n    processBatchSelection,\n    addWalkInOrder,\n    sendMessage,\n    updateWaitTime,\n    calculateDynamicWaitTime,\n    delayOrder,\n    clearError: () => setError(null),\n    refreshData,\n    updateStationId,\n    \n    // Station performance stats\n    stationStats,\n    \n    // History actions\n    fetchYesterdayOrders,\n    fetchThisWeekOrders,\n    searchOrders,\n    getOrderHistory,\n    \n    // Derived data\n    batchGroups: getBatchGroups(),\n    vipOrders: pendingOrders.filter(order => order.priority),\n    regularOrders: pendingOrders.filter(order => !order.priority)\n  };\n}","// services/StationsService.js\nimport ApiService from './ApiService';\n\n/**\n * Service for station management\n * Extends ApiService to inherit authentication and API functionality\n */\nclass StationsService {\n  // Static properties for request throttling and coalescing\n  static lastFetchTime = 0;\n  static pendingRequest = null;\n  static MIN_FETCH_INTERVAL = 5000; // ms\n  static fetchInProgress = false;\n\n  constructor() {\n    // Get ApiService singleton instance instead of extending\n    this.apiService = new ApiService();\n    // IMPORTANT: Direct absolute URL to backend - bypassing proxy issues\n    this.baseUrl = 'http://localhost:5001/api';\n    this.debugMode = true;\n    this.enableFallback = false; // Disabled by default\n    \n    // Initialize token from localStorage if available\n    this.token = localStorage.getItem('coffee_system_token') || null;\n    \n    console.log('StationsService initialized with direct backend URL:', this.baseUrl);\n    \n    if (this.token) {\n      console.log('Token found in localStorage during StationsService initialization');\n    } else {\n      console.warn('No token found in localStorage during StationsService initialization');\n    }\n  }\n  \n  /**\n   * Custom fetch with authentication using direct URL approach\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   */\n  async directFetch(endpoint, options = {}) {\n    console.log(`DirectFetch called for endpoint: ${endpoint} with method: ${options.method || 'GET'}`);\n    \n    try {\n      // Extract the endpoint path regardless of format\n      let apiPath;\n      \n      // Check if it's a complete URL\n      if (endpoint.startsWith('http')) {\n        // Extract path from URL\n        const url = new URL(endpoint);\n        apiPath = url.pathname;\n        \n        // Further extract after /api/ if present\n        if (apiPath.includes('/api/')) {\n          apiPath = apiPath.substring(apiPath.indexOf('/api/') + 4);\n        }\n      } else {\n        // Handle relative paths\n        if (endpoint.includes('/api/')) {\n          // Extract everything after /api/\n          apiPath = endpoint.substring(endpoint.indexOf('/api/') + 4);\n        } else {\n          // Remove leading slash if present\n          apiPath = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n        }\n      }\n      \n      // Clean up any double slashes in the path\n      apiPath = apiPath.replace(/\\/+/g, '/');\n      // Remove leading slash if present to avoid double slash in URL\n      apiPath = apiPath.replace(/^\\//, '');\n      \n      // Construct direct URL - this ensures we use the absolute backend URL\n      const directUrl = `${this.baseUrl}/${apiPath}`;\n      console.log(`Using direct URL strategy: ${directUrl}`);\n      \n      // Check if token exists in localStorage but not in memory\n      if (!this.token) {\n        const storedToken = localStorage.getItem('coffee_system_token') || \n                           localStorage.getItem('coffee_auth_token') || \n                           localStorage.getItem('jwt_token') || null;\n        if (storedToken) {\n          console.log('Found token in localStorage but not in memory, using it for request');\n          this.token = storedToken;\n        }\n      }\n      \n      // Set headers\n      const headers = {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n        ...(options.headers || {})\n      };\n      \n      console.log(`Authorization header ${this.token ? 'set' : 'NOT set'} for request to ${directUrl}`);\n      if (this.token) {\n        console.log(`Token length: ${this.token.length}, Token prefix: ${this.token.substring(0, 10)}...`);\n      }\n      \n      console.log(`Fetching from: ${directUrl} with method: ${options.method || 'GET'}`);\n      if (options.body) {\n        console.log(`Request body: ${options.body}`);\n      }\n      \n      // Create request options with signal for timeout if provided\n      const requestOptions = {\n        ...options,\n        headers,\n        mode: 'cors',\n        // Don't include credentials to avoid CORS issues with wildcard origin\n      };\n      \n      console.log(`Making fetch request with options:`, JSON.stringify(requestOptions, null, 2));\n      \n      // Make the request with proper CORS handling\n      const response = await fetch(directUrl, requestOptions);\n      \n      console.log(`Received response with status: ${response.status} ${response.statusText}`);\n      \n      if (!response.ok) {\n        // Try to get error details from response\n        let errorDetails = {};\n        try {\n          errorDetails = await response.json();\n          console.log(`Response error details:`, errorDetails);\n        } catch (e) {\n          console.warn(`Could not parse error response as JSON:`, e);\n          try {\n            const textResponse = await response.text();\n            console.log(`Error response text:`, textResponse);\n            errorDetails = { message: textResponse };\n          } catch (e2) {\n            console.warn(`Could not read error response text:`, e2);\n            errorDetails = { message: `HTTP error: ${response.status} ${response.statusText}` };\n          }\n        }\n        \n        console.error(`API error: ${response.status}`, errorDetails);\n        throw new Error(errorDetails.message || `API error: ${response.status}`);\n      }\n      \n      // Try to parse response as JSON\n      try {\n        const data = await response.json();\n        console.log(`Response from ${directUrl}:`, data);\n        return data;\n      } catch (parseError) {\n        console.error(`Error parsing JSON response:`, parseError);\n        throw new Error(`Invalid JSON response from server: ${parseError.message}`);\n      }\n    } catch (error) {\n      console.error(`Error in directFetch for ${endpoint}:`, error);\n      \n      // Add more specific error info\n      if (error.name === 'TypeError' && error.message.includes('Failed to fetch')) {\n        console.error(`Network error detected. Server might be down or CORS is blocking the request.`);\n        \n        // Try to check if server is reachable at all\n        try {\n          console.log('Sending test request to check server status...');\n          const pingResponse = await fetch('/api/auth-test', {\n            method: 'GET',\n            mode: 'cors',\n            cache: 'no-cache',\n          });\n          console.log(`Server ping response status: ${pingResponse.status}`);\n        } catch (pingError) {\n          console.error('Server ping test failed:', pingError);\n          throw new Error(`Cannot connect to server. Please ensure backend is running at http://localhost:5001`);\n        }\n      }\n      \n      throw error;\n    }\n  }\n\n  /**\n   * Get all stations with throttling and request coalescing\n   * @returns {Promise<Array>} - List of stations\n   */\n  async getStations() {\n    try {\n      // TRACE API CALLS - Add stack trace to see where the call is coming from\n      const stackTrace = new Error().stack;\n      console.log('STATIONS API CALL STACK:', stackTrace);\n      \n      // Check if we're within throttle period and already have a pending request\n      const now = Date.now();\n      if (now - StationsService.lastFetchTime < StationsService.MIN_FETCH_INTERVAL && StationsService.pendingRequest) {\n        console.log(`Reusing existing stations request (throttled, last fetch was ${(now - StationsService.lastFetchTime)/1000}s ago)`);\n        // Return existing pending request to ensure all requesters get the same result\n        return StationsService.pendingRequest;\n      }\n      \n      // If we already have a request in progress but no shared promise, create one now\n      if (StationsService.fetchInProgress && !StationsService.pendingRequest) {\n        console.log('A fetch is already in progress, creating new shared promise');\n        StationsService.pendingRequest = new Promise((resolve) => {\n          // Poll until the existing fetch completes and returns cached data\n          const checkInterval = setInterval(() => {\n            if (!StationsService.fetchInProgress) {\n              clearInterval(checkInterval);\n              // Get saved stations from localStorage\n              try {\n                const savedStations = localStorage.getItem('coffee_cue_stations');\n                if (savedStations) {\n                  const parsedStations = JSON.parse(savedStations);\n                  resolve(parsedStations);\n                } else {\n                  // If no cached data, return default stations with generic names\n                  resolve([\n                    { id: 1, name: 'Coffee Station 1', status: 'active' },\n                    { id: 2, name: 'Coffee Station 2', status: 'active' },\n                    { id: 3, name: 'Coffee Station 3', status: 'active' }\n                  ]);\n                }\n              } catch (error) {\n                // Return default stations on error\n                resolve([\n                  { id: 1, name: 'Coffee Station 1', status: 'active' },\n                  { id: 2, name: 'Coffee Station 2', status: 'active' },\n                  { id: 3, name: 'Coffee Station 3', status: 'active' }\n                ]);\n              }\n            }\n          }, 100);\n        });\n        return StationsService.pendingRequest;\n      }\n      \n      // Update timestamp and create new request\n      StationsService.lastFetchTime = now;\n      StationsService.fetchInProgress = true;\n      \n      // Create a new pending request promise\n      StationsService.pendingRequest = this._fetchStationsData().finally(() => {\n        // Mark fetch as complete\n        StationsService.fetchInProgress = false;\n        \n        // Clear pending request after a delay\n        setTimeout(() => {\n          StationsService.pendingRequest = null;\n        }, 100);\n      });\n      \n      return StationsService.pendingRequest;\n    } catch (error) {\n      // Clear flags on error\n      StationsService.fetchInProgress = false;\n      StationsService.pendingRequest = null;\n      throw error;\n    }\n  }\n  \n  /**\n   * Private method to actually fetch the data\n   * This is only called by getStations when throttling allows\n   */\n  async _fetchStationsData() {\n    let response;\n    \n    try {\n      // Use direct URL approach first\n      const directUrl = `${this.baseUrl}/stations`;\n      console.log(`Using direct URL for stations: ${directUrl}`);\n      \n      try {\n        // Try direct URL approach\n        response = await this.directFetch('stations', {\n          method: 'GET'\n        });\n        \n        console.log(' Got response from direct URL:', response);\n      } catch (directError) {\n        console.error('Direct URL approach failed:', directError);\n        \n        // Fall back to the inherited method\n        try {\n          console.log('Falling back to inherited method');\n          response = await this.get('/stations');\n        } catch (fallbackError) {\n          console.error('Fallback method failed:', fallbackError);\n          throw fallbackError;\n        }\n      }\n\n      if (!response) {\n        throw new Error('No response received from server');\n      }\n\n      // Transform the station data to match frontend format\n      let stations = [];\n      \n      if (response.stations && Array.isArray(response.stations)) {\n        stations = response.stations.map(station => {\n          const stationId = station.station_id;\n          \n          // ALWAYS check localStorage first for a custom name\n          let stationName;\n          try {\n            const customName = localStorage.getItem(`coffee_station_name_${stationId}`);\n            if (customName) {\n              console.log(`Found custom name in localStorage for station ${stationId}: ${customName}`);\n              stationName = customName;\n            } else {\n              // If no custom name, use notes field or default\n              stationName = station.notes || `Coffee Station ${stationId}`;\n            }\n          } catch (e) {\n            console.error(`Error getting custom name for station ${stationId}:`, e);\n            stationName = station.notes || `Coffee Station ${stationId}`;\n          }\n          \n          // For debugging\n          console.log(`Mapping station ${stationId}: notes=${station.notes}, name=${stationName}`);\n          \n          return {\n            id: stationId,\n            name: stationName,\n            location: station.equipment_notes || null,\n            status: station.status || 'active',\n            barista: station.barista_name,\n            currentLoad: station.current_load || 0,\n            lastUpdated: station.last_updated\n          };\n        });\n      } else if (Array.isArray(response)) {\n        stations = response;\n      } else if (response.data && Array.isArray(response.data)) {\n        stations = response.data;\n      } else {\n        console.warn('Unexpected response format:', response);\n        return [];\n      }\n      \n      // Save the successful API response to localStorage for future fallback\n      if (stations.length > 0) {\n        try {\n          localStorage.setItem('coffee_cue_stations', JSON.stringify(stations));\n          console.log('Cached stations to localStorage for fallback usage');\n        } catch (cacheError) {\n          console.error('Error caching stations to localStorage:', cacheError);\n        }\n      }\n      \n      return stations;\n    } catch (error) {\n      console.error('Failed to fetch stations:', error);\n      // Default stations in case of failure\n      // Try to get the saved stations from localStorage before using the hard-coded defaults\n      const savedStations = localStorage.getItem('coffee_cue_stations');\n      if (savedStations) {\n        try {\n          const parsedStations = JSON.parse(savedStations);\n          if (Array.isArray(parsedStations) && parsedStations.length > 0) {\n            console.log('Using cached stations from localStorage:', parsedStations);\n            return parsedStations;\n          }\n        } catch (parseError) {\n          console.error('Error parsing saved stations:', parseError);\n        }\n      }\n      \n      // Only use default stations if nothing was found in localStorage\n      // Always generate a consistent set of default stations\n      const defaultStations = [\n        { id: 1, name: 'Coffee Station 1', status: 'active' },\n        { id: 2, name: 'Coffee Station 2', status: 'active' },\n        { id: 3, name: 'Coffee Station 3', status: 'active' }\n      ];\n      \n      // Save default names to localStorage for consistency\n      try {\n        defaultStations.forEach(station => {\n          localStorage.setItem(`coffee_station_name_${station.id}`, station.name);\n        });\n      } catch (e) {\n        console.error('Error saving default station names to localStorage:', e);\n      }\n      \n      return defaultStations;\n    }\n  }\n\n  /**\n   * Get a specific station\n   * @param {number} stationId - Station ID\n   * @returns {Promise<Object>} - Station details\n   */\n  async getStation(stationId) {\n    try {\n      // Use direct URL approach\n      const response = await this.directFetch(`stations/${stationId}`, {\n        method: 'GET'\n      });\n      \n      if (response) {\n        return response;\n      }\n      \n      throw new Error('Failed to fetch station details');\n    } catch (error) {\n      console.error(`Failed to fetch station ${stationId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update station status\n   * @param {number} stationId - Station ID\n   * @param {string} status - New status (active, inactive, maintenance)\n   * @returns {Promise<Object>} - Updated station\n   */\n  async updateStationStatus(stationId, status) {\n    try {\n      // Use direct URL approach\n      const response = await this.directFetch(`stations/${stationId}/status`, {\n        method: 'PATCH',\n        body: JSON.stringify({ status })\n      });\n      \n      if (response && response.success) {\n        return response.station;\n      }\n      \n      throw new Error(response?.error || 'Failed to update station status');\n    } catch (error) {\n      console.error(`Failed to update station ${stationId} status:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Create a new station\n   * @param {Object} stationData - Station data\n   * @returns {Promise<Object>} - Created station\n   */\n  async createStation(stationData) {\n    try {\n      // Generate a unique numeric ID for the station\n      const stationId = parseInt(Date.now().toString().slice(-6)); // Generate a numeric ID\n      \n      // Create a proper name - either use provided name or a default\n      const stationName = stationData.name || `Coffee Station ${stationId}`;\n      \n      // Convert frontend fields to match backend API requirements\n      const apiData = {\n        station_id: stationId,\n        status: stationData.status || 'active',\n        barista_name: stationData.barista || null,\n        equipment_status: 'operational',\n        current_load: 0,\n        notes: stationName // Always store the name in notes\n      };\n      \n      // Add location to equipment notes if available\n      if (stationData.location) {\n        apiData.equipment_notes = stationData.location;\n      }\n      \n      console.log('Formatted station data for API:', apiData);\n      \n      // IMPORTANT: Save the custom name to localStorage for persistence\n      try {\n        localStorage.setItem(`coffee_station_name_${stationId}`, stationName);\n        console.log(`Saved custom station name to localStorage: ${stationName}`);\n      } catch (e) {\n        console.error(`Error saving custom station name for new station ${stationId}:`, e);\n      }\n      \n      // Use direct URL approach\n      const response = await this.directFetch('stations', {\n        method: 'POST',\n        body: JSON.stringify(apiData)\n      });\n      \n      if (response && response.success) {\n        // Transform the response to match frontend format\n        const station = response.station;\n        \n        // Always use our local stationName for consistency\n        return {\n          id: stationId,\n          name: stationName,\n          location: stationData.location || null,\n          status: station.status || 'active',\n          barista: station.barista_name,\n          currentLoad: station.current_load || 0,\n          lastUpdated: station.last_updated\n        };\n      }\n      \n      throw new Error(response?.error || 'Failed to create station');\n    } catch (error) {\n      console.error('Failed to create station:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update station details\n   * @param {number} stationId - Station ID\n   * @param {Object} stationData - Station data to update\n   * @returns {Promise<Object>} - Updated station\n   */\n  async updateStation(stationId, updates) {\n    console.log(`Starting station update for ID: ${stationId} with data:`, updates);\n    try {\n      // Check and refresh token if needed before making request\n      const tokenKey = 'coffee_system_token';\n      const refreshKey = 'coffee_system_refresh_token';\n      \n      // Try to get token from localStorage if not available\n      if (!this.token) {\n        this.token = localStorage.getItem(tokenKey);\n        console.log('Retrieved token from localStorage:', this.token ? 'Token found' : 'No token found');\n      }\n      \n      // Clean and validate stationId\n      if (!stationId) {\n        throw new Error('Station ID is required');\n      }\n      \n      // Fix URL formatting to avoid double slashes\n      const cleanStationId = stationId.toString().replace(/^\\/?/, '');\n      const apiPath = `stations/${cleanStationId}`;\n      console.log(`Using API path: ${apiPath}`);\n      \n      // Map frontend field names to backend field names\n      const apiUpdates = {...updates};\n      \n      // Important: Map 'name' to 'notes' for the backend\n      if (updates.name) {\n        apiUpdates.notes = updates.name;\n      }\n      \n      // Map 'location' to 'equipment_notes' for the backend\n      if (updates.location) {\n        apiUpdates.equipment_notes = updates.location;\n      }\n      \n      console.log('Mapped updates for API:', apiUpdates);\n      \n      // Also update the cached version in localStorage for immediate reflection\n      try {\n        const savedStations = localStorage.getItem('coffee_cue_stations');\n        if (savedStations) {\n          const stations = JSON.parse(savedStations);\n          const updatedStations = stations.map(station => \n            station.id === parseInt(stationId) \n              ? { ...station, ...updates }\n              : station\n          );\n          localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n          console.log('Updated cached stations in localStorage');\n        }\n      } catch (cacheError) {\n        console.error('Error updating cached stations:', cacheError);\n      }\n      \n      // Add timeout for better error handling\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n      \n      try {\n        // Use PATCH instead of PUT for partial updates\n        const response = await this.directFetch(apiPath, {\n          method: 'PATCH',\n          body: JSON.stringify(apiUpdates),\n          signal: controller.signal\n        });\n        \n        clearTimeout(timeoutId);\n        \n        // Basic response validation\n        if (!response) {\n          throw new Error('Empty response received from server');\n        }\n        \n        if (response.success === false) {\n          throw new Error(response.error || 'Server returned an error');\n        }\n        \n        // Ensure station data exists in the response\n        if (!response.station) {\n          console.warn('No station data in response, using input data:', updates);\n          // If no station data is returned, use the data we sent\n          return updates;\n        }\n        \n        // Transform the response to frontend format\n        const transformedStation = {\n          id: response.station.station_id,\n          name: response.station.notes || `Station ${response.station.station_id}`,\n          location: response.station.equipment_notes || null,\n          status: response.station.status || 'active',\n          barista: response.station.barista_name,\n          currentLoad: response.station.current_load || 0,\n          lastUpdated: response.station.last_updated\n        };\n        \n        console.log('Station updated successfully:', transformedStation);\n        return transformedStation;\n      } catch (fetchError) {\n        clearTimeout(timeoutId);\n        \n        // Check if it's an abort error (timeout)\n        if (fetchError.name === 'AbortError') {\n          throw new Error('Request timed out. Please try again.');\n        }\n        \n        // Handle specific error cases\n        if (fetchError.message.includes('Failed to fetch')) {\n          console.error('Network error during station update:', fetchError);\n          throw new Error('Network error. Please check your connection and try again.');\n        }\n        \n        throw fetchError;\n      }\n    } catch (error) {\n      console.error(`API update failed for station ${stationId} (type: ${typeof stationId}):`, error);\n      \n      // Fallback: Update localStorage directly to provide user feedback\n      console.log('Falling back to localStorage update for station');\n      try {\n        const savedStations = localStorage.getItem('coffee_cue_stations');\n        if (savedStations) {\n          const stations = JSON.parse(savedStations);\n          const updatedStations = stations.map(station => \n            station.id === parseInt(stationId)\n              ? { \n                  ...station, \n                  ...updates,\n                  lastUpdated: new Date().toISOString()\n                }\n              : station\n          );\n          localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n          \n          console.log(' Station updated in localStorage successfully');\n          return {\n            id: parseInt(stationId),\n            ...updates,\n            lastUpdated: new Date().toISOString(),\n            _localOnly: true // Flag to indicate this was only saved locally\n          };\n        }\n      } catch (localStorageError) {\n        console.error('Failed to update localStorage:', localStorageError);\n        throw new Error(`Station update failed: ${error.message} (localStorage also failed)`);\n      }\n      \n      // If we get here, localStorage update failed\n      throw new Error(`Station update failed: ${error.message}`);\n    }\n  }\n  \n  /**\n   * Update station capabilities\n   * @param {number} stationId - Station ID\n   * @param {Object} capabilities - Station capabilities ({ alt_milk_available, high_volume, vip_service })\n   * @returns {Promise<Object>} - Updated station\n   */\n  async updateStationCapabilities(stationId, capabilities) {\n    try {\n      // Validate inputs\n      if (!stationId) {\n        throw new Error('Station ID is required');\n      }\n      \n      console.log(`Updating capabilities for station ${stationId}:`, capabilities);\n      \n      // Use direct URL approach\n      const response = await this.directFetch(`stations/${stationId}/capabilities`, {\n        method: 'POST',\n        body: JSON.stringify({ capabilities })\n      });\n      \n      if (response && response.success) {\n        // Update local station cache to reflect changes immediately\n        try {\n          const savedStations = localStorage.getItem('coffee_cue_stations');\n          if (savedStations) {\n            const stations = JSON.parse(savedStations);\n            const updatedStations = stations.map(station => \n              station.id === parseInt(stationId)\n                ? { \n                    ...station, \n                    capabilities: capabilities\n                  }\n                : station\n            );\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n          }\n        } catch (cacheError) {\n          console.error('Error updating station capabilities in local cache:', cacheError);\n        }\n        \n        return response.station || {\n          success: true,\n          id: stationId,\n          capabilities: capabilities\n        };\n      }\n      \n      // If API doesn't exist yet but we're in development, simulate success\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('Station capabilities API not implemented yet, simulating success');\n        \n        // Update local cache\n        try {\n          const savedStations = localStorage.getItem('coffee_cue_stations');\n          if (savedStations) {\n            const stations = JSON.parse(savedStations);\n            const updatedStations = stations.map(station => \n              station.id === parseInt(stationId)\n                ? { \n                    ...station, \n                    capabilities: capabilities\n                  }\n                : station\n            );\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n          }\n        } catch (cacheError) {\n          console.error('Error updating station capabilities in local cache:', cacheError);\n        }\n        \n        return {\n          success: true,\n          id: stationId,\n          capabilities: capabilities\n        };\n      }\n      \n      throw new Error(response?.error || 'Failed to update station capabilities');\n    } catch (error) {\n      console.error(`Failed to update capabilities for station ${stationId}:`, error);\n      \n      // Fallback: Save capabilities locally if backend fails\n      if (error.message.includes('501') || error.message.includes('NOT IMPLEMENTED')) {\n        console.log('API endpoint not available, saving capabilities locally as fallback');\n        \n        try {\n          const savedStations = localStorage.getItem('coffee_cue_stations');\n          if (savedStations) {\n            const stations = JSON.parse(savedStations);\n            const updatedStations = stations.map(station => \n              station.id === parseInt(stationId)\n                ? { ...station, capabilities }\n                : station\n            );\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n            \n            return {\n              success: true,\n              id: stationId,\n              capabilities: capabilities,\n              fallback: true\n            };\n          }\n        } catch (fallbackError) {\n          console.error('Fallback also failed:', fallbackError);\n        }\n      }\n      \n      throw error;\n    }\n  }\n  \n  /**\n   * Update station session status\n   * @param {number} stationId - Station ID\n   * @param {Object} sessionData - Session data (mode, delay_minutes, start_time)\n   * @returns {Promise<Object>} - Updated station\n   */\n  async updateStationSession(stationId, sessionData) {\n    try {\n      // Validate inputs\n      if (!stationId) {\n        throw new Error('Station ID is required');\n      }\n      \n      if (!sessionData || !sessionData.mode) {\n        throw new Error('Session mode is required');\n      }\n      \n      // Ensure delay_minutes is a number\n      if (sessionData.delay_minutes) {\n        sessionData.delay_minutes = parseInt(sessionData.delay_minutes, 10);\n        if (isNaN(sessionData.delay_minutes)) {\n          sessionData.delay_minutes = 0;\n        }\n      }\n      \n      console.log(`Updating session for station ${stationId}:`, sessionData);\n      \n      // Use direct URL approach\n      const response = await this.directFetch(`stations/${stationId}/session`, {\n        method: 'POST',\n        body: JSON.stringify(sessionData)\n      });\n      \n      if (response && response.success) {\n        // Update local station cache to reflect changes immediately\n        try {\n          const savedStations = localStorage.getItem('coffee_cue_stations');\n          if (savedStations) {\n            const stations = JSON.parse(savedStations);\n            const updatedStations = stations.map(station => \n              station.id === parseInt(stationId)\n                ? { \n                    ...station, \n                    session_mode: sessionData.mode,\n                    session_delay_minutes: sessionData.delay_minutes \n                  }\n                : station\n            );\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n          }\n        } catch (cacheError) {\n          console.error('Error updating station session in local cache:', cacheError);\n        }\n        \n        // If there's no response.station, simulate a successful response\n        if (!response.station) {\n          return {\n            success: true,\n            id: stationId,\n            session_mode: sessionData.mode,\n            session_delay_minutes: sessionData.delay_minutes\n          };\n        }\n        \n        return response.station;\n      }\n      \n      // If API doesn't exist yet but we're in development, simulate success\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('Station session API not implemented yet, simulating success');\n        \n        // Update local cache\n        try {\n          const savedStations = localStorage.getItem('coffee_cue_stations');\n          if (savedStations) {\n            const stations = JSON.parse(savedStations);\n            const updatedStations = stations.map(station => \n              station.id === parseInt(stationId)\n                ? { \n                    ...station, \n                    session_mode: sessionData.mode,\n                    session_delay_minutes: sessionData.delay_minutes \n                  }\n                : station\n            );\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n          }\n        } catch (cacheError) {\n          console.error('Error updating station session in local cache:', cacheError);\n        }\n        \n        return {\n          success: true,\n          id: stationId,\n          session_mode: sessionData.mode,\n          session_delay_minutes: sessionData.delay_minutes\n        };\n      }\n      \n      throw new Error(response?.error || 'Failed to update station session');\n    } catch (error) {\n      console.error(`Failed to update session for station ${stationId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete a station\n   * @param {number} stationId - Station ID\n   * @returns {Promise<boolean>} - Success status\n   */\n  async deleteStation(stationId) {\n    try {\n      // Use direct URL approach with proper error handling\n      try {\n        const response = await this.directFetch(`stations/${stationId}`, {\n          method: 'DELETE'\n        });\n        \n        if (response && response.success) {\n          return true;\n        }\n      } catch (apiError) {\n        console.warn(`DELETE API not implemented or CORS issue for station ${stationId}:`, apiError);\n        console.log('Using client-side deletion fallback since API endpoint may not be implemented');\n        \n        // Return true to indicate success to the UI, even though the backend operation failed\n        // This allows the UI to remove the item from the list, even if the backend API isn't ready\n        return true;\n      }\n      \n      // If we reach here, we got a response but it wasn't successful\n      console.warn(`Unsuccessful response when deleting station ${stationId}`);\n      return true; // Return true anyway to allow UI to update\n    } catch (error) {\n      console.error(`Failed to delete station ${stationId}:`, error);\n      // Return true anyway to allow UI to continue working when backend isn't available\n      return true;\n    }\n  }\n\n  /**\n   * Get station statistics\n   * @param {number} stationId - Station ID\n   * @returns {Promise<Object>} - Station statistics\n   */\n  async getStationStats(stationId) {\n    try {\n      // Use direct URL approach\n      const response = await this.directFetch(`stations/${stationId}/stats`, {\n        method: 'GET'\n      });\n      \n      if (response) {\n        return response;\n      }\n      \n      throw new Error('Failed to fetch station statistics');\n    } catch (error) {\n      console.error(`Failed to fetch statistics for station ${stationId}:`, error);\n      throw error;\n    }\n  }\n}\n\n// Export singleton instance\nexport default new StationsService();","// src/hooks/useStations.js\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useAppMode } from '../context/AppContext';\nimport StationsService from '../services/StationsService';\n\nexport default function useStations() {\n  // State management\n  const [stations, setStations] = useState([]);\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState(Date.now());\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const { isDemoMode } = useAppMode();\n  \n  // Add refs to prevent excessive fetching and manage component lifecycle\n  const isMounted = useRef(true);\n  const lastFetchTime = useRef(0);\n  const throttleTime = 5000; // ms\n  const initialRender = useRef(true);\n\n  // Load stations from backend or localStorage for demo mode\n  const loadStations = useCallback(async (forceRefresh = false) => {\n    // Skip if component is unmounted\n    if (!isMounted.current) return;\n    \n    // Implement throttling - don't fetch more than once per 5 seconds unless forced\n    const now = Date.now();\n    if (!forceRefresh && now - lastFetchTime.current < throttleTime) {\n      console.log(`[useStations] Throttling loadStations - last call was ${(now - lastFetchTime.current)/1000}s ago`);\n      return;\n    }\n    \n    // Update the last fetch time\n    lastFetchTime.current = now;\n    \n    if (forceRefresh) {\n      setIsRefreshing(true);\n    } else {\n      setLoading(true);\n    }\n    \n    try {\n      console.log('[useStations] Fetching stations data...');\n      // For demo mode, use localStorage\n      if (isDemoMode) {\n        const savedStations = localStorage.getItem('coffee_cue_stations');\n        if (savedStations && isMounted.current) {\n          let parsedStations = JSON.parse(savedStations);\n          \n          // Apply any custom station names from localStorage\n          parsedStations = parsedStations.map(station => {\n            try {\n              const customName = localStorage.getItem(`coffee_station_name_${station.id}`);\n              if (customName) {\n                console.log(`[useStations] Applying custom name for station ${station.id}: ${customName}`);\n                return { ...station, name: customName };\n              }\n            } catch (e) {\n              console.error(`[useStations] Error getting custom name for station ${station.id}:`, e);\n            }\n            return station;\n          });\n          \n          setStations(parsedStations);\n        }\n        \n        const savedSelectedStation = localStorage.getItem('coffee_cue_selected_station');\n        if (savedSelectedStation && isMounted.current) {\n          setSelectedStation(parseInt(savedSelectedStation, 10));\n        }\n      } else {\n        // Use real backend API via StationsService\n        const fetchedStations = await StationsService.getStations();\n        \n        if (isMounted.current && fetchedStations) {\n          // Apply any custom station names from localStorage - CRITICAL\n          const enhancedStations = fetchedStations.map(station => {\n            try {\n              const customName = localStorage.getItem(`coffee_station_name_${station.id}`);\n              if (customName) {\n                console.log(`[useStations] Overriding station ${station.id} name from \"${station.name}\" to \"${customName}\"`);\n                return { ...station, name: customName };\n              }\n            } catch (e) {\n              console.error(`[useStations] Error getting custom name for station ${station.id}:`, e);\n            }\n            return station;\n          });\n          \n          setStations(enhancedStations);\n          \n          // If we've saved the current station ID, make sure we restore it\n          // Try to get the last used station from localStorage first\n          const lastUsedStationId = localStorage.getItem('last_used_station_id');\n          if (lastUsedStationId && enhancedStations.some(s => s.id === parseInt(lastUsedStationId, 10))) {\n            console.log(`[useStations] Restoring saved station ID: ${lastUsedStationId}`);\n            setSelectedStation(parseInt(lastUsedStationId, 10));\n            localStorage.setItem('coffee_cue_selected_station', lastUsedStationId.toString());\n            return;\n          }\n          \n          // If we have stations but no selection, try to restore previous station\n          if (enhancedStations.length > 0 && !selectedStation) {\n            // Try to get the last used station from localStorage first\n            let stationToSelect = null;\n            try {\n              // Check for last used station first\n              const lastUsedId = localStorage.getItem('last_used_station_id');\n              if (lastUsedId) {\n                const parsedId = parseInt(lastUsedId, 10);\n                if (!isNaN(parsedId) && enhancedStations.some(s => s.id === parsedId)) {\n                  stationToSelect = parsedId;\n                  console.log(`[useStations] Restoring last used station: ${stationToSelect}`);\n                }\n              }\n              \n              // If no last used station, check saved selection\n              if (!stationToSelect) {\n                const savedSelectedId = localStorage.getItem('coffee_cue_selected_station');\n                if (savedSelectedId) {\n                  const parsedId = parseInt(savedSelectedId, 10);\n                  if (!isNaN(parsedId) && enhancedStations.some(s => s.id === parsedId)) {\n                    stationToSelect = parsedId;\n                    console.log(`[useStations] Restoring saved station selection: ${stationToSelect}`);\n                  }\n                }\n              }\n            } catch (e) {\n              console.error('[useStations] Error restoring station selection:', e);\n            }\n            \n            // If no saved station was found or valid, use the first active one\n            if (!stationToSelect) {\n              const activeStation = enhancedStations.find(s => s.status === 'active');\n              stationToSelect = activeStation ? activeStation.id : enhancedStations[0].id;\n              console.log(`[useStations] Using ${activeStation ? 'first active' : 'first'} station: ${stationToSelect}`);\n            }\n            \n            // Set the selected station\n            setSelectedStation(stationToSelect);\n            \n            // Store selected station in localStorage\n            localStorage.setItem('coffee_cue_selected_station', stationToSelect.toString());\n            localStorage.setItem('last_used_station_id', stationToSelect.toString());\n          }\n        }\n      }\n      \n      if (isMounted.current) {\n        setError(null);\n        setLastUpdated(Date.now());\n      }\n    } catch (err) {\n      console.error('[useStations] Error loading stations:', err);\n      if (isMounted.current) {\n        setError(`Failed to load stations: ${err.message}`);\n      }\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n        setIsRefreshing(false);\n      }\n    }\n  }, [isDemoMode]);\n\n  // Update station status\n  const updateStationStatus = useCallback(async (stationId, status) => {\n    if (!isMounted.current) return false;\n    \n    try {\n      if (isDemoMode) {\n        // For demo mode, update locally and save to localStorage\n        const updatedStations = stations.map(station => \n          station.id === stationId ? { ...station, status } : station\n        );\n        \n        localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n        setStations(updatedStations);\n      } else {\n        // For production mode, use the API\n        const updatedStation = await StationsService.updateStationStatus(stationId, status);\n        \n        if (updatedStation && isMounted.current) {\n          // Update stations list\n          setStations(prev => prev.map(station => \n            station.id === stationId ? { ...station, status } : station\n          ));\n        }\n      }\n      \n      if (isMounted.current) {\n        setLastUpdated(Date.now());\n      }\n      return true;\n    } catch (err) {\n      console.error('[useStations] Error updating station status:', err);\n      if (isMounted.current) {\n        setError(`Failed to update station status: ${err.message}`);\n      }\n      return false;\n    }\n  }, [isDemoMode, stations]);\n\n  // Update station details (like barista assignment, name, etc)\n  const updateStation = useCallback(async (stationId, stationData) => {\n    if (!isMounted.current) return false;\n    \n    console.log('[useStations] Updating station with ID:', stationId, 'Data:', stationData);\n    \n    try {\n      if (isDemoMode) {\n        // For demo mode, update locally and save to localStorage\n        const updatedStations = stations.map(station => \n          station.id === stationId ? { ...station, ...stationData } : station\n        );\n        \n        localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n        setStations(updatedStations);\n      } else {\n        // For production mode, use the API\n        const updatedStation = await StationsService.updateStation(stationId, stationData);\n        \n        if (updatedStation && isMounted.current) {\n          // Update stations list - ensure we properly merge the updated station\n          setStations(prev => {\n            const newStations = prev.map(station => \n              station.id === stationId \n                ? { \n                    ...station, \n                    ...updatedStation, \n                    // Ensure name is properly set from the returned data\n                    name: updatedStation.name || station.name \n                  } \n                : station\n            );\n            \n            // Also update localStorage for immediate access across components\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(newStations));\n            \n            return newStations;\n          });\n        }\n      }\n      \n      if (isMounted.current) {\n        setLastUpdated(Date.now());\n      }\n      return true;\n    } catch (err) {\n      console.error('[useStations] Error updating station:', err);\n      if (isMounted.current) {\n        setError(`Failed to update station: ${err.message}`);\n      }\n      return false;\n    }\n  }, [isDemoMode, stations]);\n\n  // Create a new station\n  const createStation = useCallback(async (stationData) => {\n    if (!isMounted.current) return null;\n    \n    try {\n      if (isDemoMode) {\n        // For demo mode, create locally with generated ID\n        const newId = Math.max(0, ...stations.map(s => s.id)) + 1;\n        const newStation = {\n          id: newId,\n          ...stationData,\n          currentLoad: 0\n        };\n        \n        // Update stations only if component is still mounted\n        if (isMounted.current) {\n          setStations(prev => {\n            const updatedStations = [...prev, newStation];\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n            return updatedStations;\n          });\n        }\n        \n        return newStation;\n      } else {\n        // For production mode, use the API\n        const newStation = await StationsService.createStation(stationData);\n        \n        if (newStation && isMounted.current) {\n          // Update stations list\n          setStations(prev => [...prev, newStation]);\n        }\n        \n        return newStation;\n      }\n    } catch (err) {\n      console.error('[useStations] Error creating station:', err);\n      if (isMounted.current) {\n        setError(`Failed to create station: ${err.message}`);\n      }\n      return null;\n    }\n  }, [isDemoMode, stations]);\n\n  // Delete a station\n  const deleteStation = useCallback(async (stationId) => {\n    if (!isMounted.current) return false;\n    \n    try {\n      // Don't allow deleting the selected station\n      if (stationId === selectedStation) {\n        throw new Error('Cannot delete the currently selected station');\n      }\n      \n      if (isDemoMode) {\n        // For demo mode, update locally and save to localStorage\n        if (isMounted.current) {\n          setStations(prev => {\n            const updatedStations = prev.filter(s => s.id !== stationId);\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n            return updatedStations;\n          });\n        }\n      } else {\n        // For production mode, use the API\n        const success = await StationsService.deleteStation(stationId);\n        \n        if (success && isMounted.current) {\n          // Update stations list\n          setStations(prev => prev.filter(s => s.id !== stationId));\n        }\n      }\n      \n      return true;\n    } catch (err) {\n      console.error('[useStations] Error deleting station:', err);\n      if (isMounted.current) {\n        setError(`Failed to delete station: ${err.message}`);\n      }\n      return false;\n    }\n  }, [isDemoMode, selectedStation]);\n\n  // Get station statistics\n  const getStationStats = useCallback(async (stationId) => {\n    if (!isMounted.current) return null;\n    \n    try {\n      if (isDemoMode) {\n        // For demo mode, return mock stats\n        return {\n          ordersToday: Math.floor(Math.random() * 50) + 10,\n          avgWaitTime: Math.floor(Math.random() * 10) + 2,\n          peakHour: '12:00 - 13:00',\n          status: 'active'\n        };\n      } else {\n        // For production mode, use the API\n        return await StationsService.getStationStats(stationId);\n      }\n    } catch (err) {\n      console.error('[useStations] Error getting station stats:', err);\n      return null;\n    }\n  }, [isDemoMode]);\n  \n  // Update station capabilities\n  const updateStationCapabilities = useCallback(async (stationId, capabilities) => {\n    if (!isMounted.current) return false;\n    \n    try {\n      console.log('[useStations] Updating station capabilities:', stationId, capabilities);\n      \n      if (isDemoMode) {\n        // For demo mode, update locally and save to localStorage\n        const updatedStations = stations.map(station => \n          station.id === stationId \n            ? { \n                ...station, \n                capabilities: capabilities\n              } \n            : station\n        );\n        \n        localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n        setStations(updatedStations);\n        return true;\n      } else {\n        // For production mode, use the API\n        const result = await StationsService.updateStationCapabilities(stationId, capabilities);\n        \n        if (result && isMounted.current) {\n          // Update our local state\n          setStations(prevStations => \n            prevStations.map(station => \n              station.id === stationId \n                ? {\n                    ...station,\n                    capabilities: capabilities\n                  }\n                : station\n            )\n          );\n          \n          return true;\n        }\n        return false;\n      }\n    } catch (err) {\n      console.error('[useStations] Error updating station capabilities:', err);\n      if (isMounted.current) {\n        setError(`Failed to update station capabilities: ${err.message}`);\n      }\n      return false;\n    }\n  }, [isDemoMode, stations]);\n  \n  // Update station session (mode, delay, etc.)\n  const updateStationSession = useCallback(async (stationId, sessionData) => {\n    if (!isMounted.current) return false;\n    \n    try {\n      console.log('[useStations] Updating station session:', stationId, sessionData);\n      \n      if (isDemoMode) {\n        // For demo mode, update locally and save to localStorage\n        const updatedStations = stations.map(station => \n          station.id === stationId \n            ? { \n                ...station, \n                session_mode: sessionData.mode, \n                session_delay_minutes: sessionData.delay_minutes \n              } \n            : station\n        );\n        \n        localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n        setStations(updatedStations);\n        return true;\n      } else {\n        // For production mode, use the API\n        const updatedSession = await StationsService.updateStationSession(stationId, sessionData);\n        \n        if (updatedSession && isMounted.current) {\n          // Update our local state\n          setStations(prevStations => \n            prevStations.map(station => \n              station.id === stationId \n                ? {\n                    ...station,\n                    session_mode: sessionData.mode,\n                    session_delay_minutes: sessionData.delay_minutes\n                  }\n                : station\n            )\n          );\n          \n          return true;\n        }\n        return false;\n      }\n    } catch (err) {\n      console.error('[useStations] Error updating station session:', err);\n      if (isMounted.current) {\n        setError(`Failed to update station session: ${err.message}`);\n      }\n      return false;\n    }\n  }, [isDemoMode, stations]);\n\n  // Change selected station\n  const changeSelectedStation = useCallback((stationId) => {\n    if (!isMounted.current) return;\n    \n    console.log(`[useStations] Changing selected station to ${stationId}`);\n    \n    // Update the selected station state\n    setSelectedStation(stationId);\n    \n    // Store in localStorage for persistence across app reloads\n    localStorage.setItem('coffee_cue_selected_station', stationId.toString());\n    \n    // Also store as last used station\n    localStorage.setItem('last_used_station_id', stationId.toString());\n    \n    // Trigger a refresh for the new station\n    // Use setTimeout to ensure state is updated first\n    setTimeout(() => {\n      console.log(`[useStations] Refreshing data for new station ${stationId}`);\n      loadStations(true);\n    }, 100);\n  }, [loadStations]);\n\n  // Get current station\n  const getCurrentStation = useCallback(() => {\n    return stations.find(station => station.id === selectedStation) || (stations.length > 0 ? stations[0] : null);\n  }, [stations, selectedStation]);\n\n  // Manual refresh\n  const refreshData = useCallback(() => {\n    if (!isMounted.current) return;\n    \n    console.log(`[useStations] Manual refresh requested for station ${selectedStation}`);\n    \n    // Prevent the refresh from switching back to station 1\n    if (selectedStation) {\n      // Double-check localStorage for station consistency\n      try {\n        const savedStationId = localStorage.getItem('coffee_cue_selected_station');\n        if (savedStationId && parseInt(savedStationId, 10) !== selectedStation) {\n          console.warn(`Station ID mismatch during refresh: current=${selectedStation}, saved=${savedStationId}. Using current.`);\n          localStorage.setItem('coffee_cue_selected_station', selectedStation.toString());\n        }\n      } catch (e) {\n        console.error('Error checking station ID consistency during refresh:', e);\n      }\n    }\n    \n    setIsRefreshing(true);\n    loadStations(true);\n  }, [loadStations, selectedStation]);\n\n  // Load stations on mount and when mode changes\n  useEffect(() => {\n    // Set isMounted to true - component is mounted\n    isMounted.current = true;\n    \n    console.log('[useStations] Initial setup or mode changed, isDemoMode:', isDemoMode);\n    \n    // Skip the initial load to avoid double initialization\n    if (initialRender.current) {\n      initialRender.current = false;\n      // Do initial load\n      loadStations();\n    }\n    \n    // Set up polling interval (every 30 seconds is reasonable)\n    let pollInterval = null;\n    \n    // Only set up polling in production mode\n    if (!isDemoMode) {\n      pollInterval = setInterval(() => {\n        if (isMounted.current) {\n          console.log('[useStations] Scheduled refresh (30s interval)');\n          loadStations();\n        }\n      }, 30000);\n    }\n    \n    // When changing to production mode, ensure we have our custom stations in localStorage\n    if (!isDemoMode) {\n      const savedStations = localStorage.getItem('coffee_cue_stations');\n      if (!savedStations || savedStations === '[]') {\n        console.log('[useStations] No stations saved in localStorage, saving current stations');\n        // Use a callback to reference current stations state, not the initial state\n        setStations(currentStations => {\n          if (currentStations.length > 0) {\n            localStorage.setItem('coffee_cue_stations', JSON.stringify(currentStations));\n          }\n          return currentStations; // Return same state, no update needed\n        });\n      }\n    }\n    \n    // Cleanup function\n    return () => {\n      console.log('[useStations] Component unmounting - cleaning up');\n      isMounted.current = false;\n      if (pollInterval) {\n        clearInterval(pollInterval);\n      }\n    };\n  }, [isDemoMode]); // Removed loadStations from dependencies to avoid circular reference\n  \n  // Trigger an initial load when dependencies change\n  useEffect(() => {\n    // Only trigger a load if not the initial render (that's handled by the other effect)\n    if (!initialRender.current) {\n      loadStations();\n    }\n  }, [isDemoMode, loadStations]);\n\n  return {\n    // Data\n    stations,\n    selectedStation,\n    \n    // UI state\n    loading,\n    error,\n    lastUpdated,\n    isRefreshing,\n    \n    // Actions\n    updateStationStatus,\n    updateStation,\n    createStation,\n    deleteStation,\n    getStationStats,\n    changeSelectedStation,\n    getCurrentStation,\n    refreshData,\n    updateStationSession,\n    updateStationCapabilities,\n    \n    // Error handling\n    clearError: () => setError(null)\n  };\n}","// hooks/useStock.js\nimport { useState, useEffect, useCallback } from 'react';\nimport StockService from '../services/StockService';\n\n/**\n * Custom hook for stock management\n * @param {number|string} stationId - The station ID to manage stock for\n * @param {string} stationName - The station name\n * @returns {Object} - Stock management methods and data\n */\nconst useStock = (stationId, stationName) => {\n  const [stockItems, setStockItems] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [initialized, setInitialized] = useState(false);\n\n  // Initialize service when stationId or stationName changes\n  useEffect(() => {\n    if (stationId && stationName) {\n      console.log(`useStock: Initializing for station ${stationId} (${stationName})`);\n      StockService.initialize(stationId, stationName);\n      setInitialized(true);\n      \n      // Load initial stock data\n      loadStockData();\n      \n      // Add listener for stock updates\n      const removeListener = StockService.addListener((updatedStock) => {\n        setStockItems(updatedStock);\n        setLoading(false);\n      });\n      \n      // Cleanup on unmount\n      return () => {\n        removeListener();\n      };\n    }\n  }, [stationId, stationName]);\n\n  // Load stock data\n  const loadStockData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const stockData = StockService.getLocalStock();\n      setStockItems(stockData || {});\n      setError(null);\n    } catch (err) {\n      console.error('Error loading stock data:', err);\n      setError('Failed to load stock data');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Get stock for a specific category\n  const getCategoryStock = useCallback((category) => {\n    return stockItems[category] || [];\n  }, [stockItems]);\n\n  // Update a stock item's amount\n  const updateStockItem = useCallback((category, itemId, newAmount) => {\n    try {\n      if (!initialized) {\n        console.warn('Stock service not initialized, cannot update stock item');\n        return false;\n      }\n      \n      const success = StockService.updateLocalStockAmount(category, itemId, newAmount);\n      \n      if (success) {\n        // The stock service will notify listeners, which will update our state\n        return true;\n      }\n      \n      return false;\n    } catch (err) {\n      console.error('Error updating stock item:', err);\n      setError('Failed to update stock item');\n      return false;\n    }\n  }, [initialized]);\n\n  // Add a new stock item\n  const addStockItem = useCallback((category, itemData) => {\n    try {\n      if (!initialized) {\n        console.warn('Stock service not initialized, cannot add stock item');\n        return false;\n      }\n      \n      const success = StockService.addLocalStockItem(category, itemData);\n      \n      if (success) {\n        // The stock service will notify listeners, which will update our state\n        return true;\n      }\n      \n      return false;\n    } catch (err) {\n      console.error('Error adding stock item:', err);\n      setError('Failed to add stock item');\n      return false;\n    }\n  }, [initialized]);\n\n  // Delete a stock item\n  const deleteStockItem = useCallback((category, itemId) => {\n    try {\n      if (!initialized) {\n        console.warn('Stock service not initialized, cannot delete stock item');\n        return false;\n      }\n      \n      const success = StockService.deleteLocalStockItem(category, itemId);\n      \n      if (success) {\n        // The stock service will notify listeners, which will update our state\n        return true;\n      }\n      \n      return false;\n    } catch (err) {\n      console.error('Error deleting stock item:', err);\n      setError('Failed to delete stock item');\n      return false;\n    }\n  }, [initialized]);\n\n  // Reset stock to defaults\n  const resetStock = useCallback(() => {\n    try {\n      if (!initialized) {\n        console.warn('Stock service not initialized, cannot reset stock');\n        return false;\n      }\n      \n      const success = StockService.resetStationStock();\n      \n      if (success) {\n        // The stock service will notify listeners, which will update our state\n        return true;\n      }\n      \n      return false;\n    } catch (err) {\n      console.error('Error resetting stock:', err);\n      setError('Failed to reset stock');\n      return false;\n    }\n  }, [initialized]);\n\n  // Stock categories\n  const stockCategories = ['milk', 'coffee', 'cups', 'syrups', 'other'];\n  \n  // Count low and critical items\n  const getLowStockCount = useCallback(() => {\n    let lowCount = 0;\n    let criticalCount = 0;\n    \n    Object.values(stockItems).forEach(category => {\n      category.forEach(item => {\n        if (item.status === 'danger') {\n          criticalCount++;\n        } else if (item.status === 'warning') {\n          lowCount++;\n        }\n      });\n    });\n    \n    return { lowCount, criticalCount };\n  }, [stockItems]);\n\n  return {\n    stockItems,\n    stockCategories,\n    loading,\n    error,\n    initialized,\n    loadStockData,\n    getCategoryStock,\n    updateStockItem,\n    addStockItem,\n    deleteStockItem,\n    resetStock,\n    getLowStockCount\n  };\n};\n\nexport default useStock;","// services/ScheduleService.js\nimport ApiService from './ApiService';\n\n/**\n * Service for staff scheduling\n * Uses ApiService instance for authentication and API functionality\n */\nclass ScheduleService {\n  constructor() {\n    // Get ApiService singleton instance instead of extending\n    this.apiService = new ApiService();\n    // TEMPORARY FIX: Use direct backend URL to bypass proxy redirect loop\n    this.baseUrl = 'http://localhost:5001/api';\n    this.debugMode = true;\n    this.enableFallback = true; // Enable fallback for this service since backend API may not be ready\n    \n    // Initialize token from localStorage if available\n    this.token = localStorage.getItem('coffee_system_token') || null;\n    \n    console.log('ScheduleService initialized with direct backend URL:', this.baseUrl);\n    \n    if (this.token) {\n      console.log('Token found in localStorage during ScheduleService initialization');\n    } else {\n      console.warn('No token found in localStorage during ScheduleService initialization');\n    }\n    \n    // IMMEDIATELY REMOVE ALL HARDCODED DATA FROM LOCALSTORAGE\n    this._purgeHardcodedData();\n    \n    // Listen for schedule updates from Organiser\n    window.addEventListener('schedule:updated', (event) => {\n      console.log('Schedule updated from Organiser:', event.detail);\n      // Trigger a refresh in any components using schedule data\n      window.dispatchEvent(new CustomEvent('schedule:refresh'));\n    });\n  }\n  \n  /**\n   * Custom fetch with authentication using direct URL approach\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   */\n  async directFetch(endpoint, options = {}) {\n    try {\n      // Extract the endpoint path regardless of format\n      let apiPath;\n      \n      // Check if it's a complete URL\n      if (endpoint.startsWith('http')) {\n        // Extract path from URL\n        const url = new URL(endpoint);\n        apiPath = url.pathname;\n        \n        // Further extract after /api/ if present\n        if (apiPath.includes('/api/')) {\n          apiPath = apiPath.substring(apiPath.indexOf('/api/') + 4);\n        }\n      } else {\n        // Handle relative paths\n        if (endpoint.includes('/api/')) {\n          // Extract everything after /api/\n          apiPath = endpoint.substring(endpoint.indexOf('/api/') + 4);\n        } else {\n          // Remove leading slash if present\n          apiPath = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n        }\n      }\n      \n      // Construct direct URL - this ensures we use the absolute backend URL\n      const directUrl = `${this.baseUrl}/${apiPath}`;\n      console.log(`Using direct URL strategy: ${directUrl}`);\n      \n      // Check if token exists in localStorage but not in memory\n      if (!this.token) {\n        const storedToken = localStorage.getItem('coffee_system_token') || \n                           localStorage.getItem('coffee_auth_token') || \n                           localStorage.getItem('jwt_token') || null;\n        if (storedToken) {\n          console.log('Found token in localStorage but not in memory, using it for request');\n          this.token = storedToken;\n        }\n      }\n      \n      // Set headers\n      const headers = {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n        ...(options.headers || {})\n      };\n      \n      if (this.debugMode) {\n        console.log(`Authorization header ${this.token ? 'set' : 'NOT set'} for request to ${directUrl}`);\n        if (this.token) {\n          console.log(`Token length: ${this.token.length}, Token prefix: ${this.token.substring(0, 10)}...`);\n        }\n        \n        console.log(`Fetching from: ${directUrl} with method: ${options.method || 'GET'}`);\n        if (options.body) {\n          console.log(`Request body: ${options.body}`);\n        }\n      }\n      \n      // Make the request - avoid CORS issues by not using credentials\n      const response = await fetch(directUrl, {\n        ...options,\n        headers,\n        mode: 'cors'\n      });\n      \n      if (!response.ok) {\n        // Try to get error details from response\n        let errorDetails = {};\n        try {\n          errorDetails = await response.json();\n        } catch (e) {\n          try {\n            errorDetails = { message: await response.text() };\n          } catch (e2) {\n            errorDetails = { message: `HTTP error: ${response.status} ${response.statusText}` };\n          }\n        }\n        \n        console.error(`API error: ${response.status}`, errorDetails);\n        throw new Error(errorDetails.message || `API error: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      if (this.debugMode) {\n        console.log(`Response from ${directUrl}:`, data);\n      }\n      return data;\n    } catch (error) {\n      console.error(`Error fetching from ${endpoint}:`, error);\n      throw error;\n    }\n  }\n  \n  /**\n   * Purge all hardcoded data from localStorage\n   * Ensure we only remove old format data and properly initialize the new format\n   * @private\n   */\n  _purgeHardcodedData() {\n    console.log('Initializing schedule data in localStorage');\n    \n    // Only remove old format data, don't remove any existing valid schedule data\n    // This ensures we don't lose newly created shifts on app refresh\n    const oldFormatKey = 'coffee_cue_schedule';\n    if (localStorage.getItem(oldFormatKey)) {\n      console.log('Removing old format schedule data');\n      localStorage.removeItem(oldFormatKey);\n    }\n    \n    // Initialize or validate the new format data\n    const scheduleKey = 'coffee_cue_local_schedule';\n    const existingData = localStorage.getItem(scheduleKey);\n    \n    if (!existingData) {\n      // Initialize with empty array only if no data exists\n      localStorage.setItem(scheduleKey, JSON.stringify([]));\n      console.log('Initialized empty local schedule data');\n    } else {\n      try {\n        // Validate it's proper JSON array, but keep existing data if valid\n        const parsed = JSON.parse(existingData);\n        if (!Array.isArray(parsed)) {\n          console.log('Local schedule data not in array format, resetting');\n          localStorage.setItem(scheduleKey, JSON.stringify([]));\n        } else {\n          console.log(`Found existing schedule data with ${parsed.length} item(s)`);\n          \n          // Don't remove any existing data, but validate all items have required fields\n          const validatedData = parsed.map(item => {\n            // Make sure staff fields are present\n            return {\n              ...item,\n              staff_name: item.staff_name || '',\n              staff_contact: item.staff_contact || '',\n              staff_training_level: item.staff_training_level || 'beginner',\n              notes: item.notes || ''\n            };\n          });\n          \n          // Save the validated data back\n          localStorage.setItem(scheduleKey, JSON.stringify(validatedData));\n          console.log('Validated and updated existing schedule data');\n        }\n      } catch (error) {\n        console.error('Invalid JSON in local schedule, resetting:', error);\n        localStorage.setItem(scheduleKey, JSON.stringify([]));\n      }\n    }\n    \n    console.log('Schedule data initialization complete');\n  }\n\n  /**\n   * Get current day's schedule\n   * @param {number} stationId - Optional station ID filter\n   * @returns {Promise<Object>} - Schedule data for today\n   */\n  async getTodaySchedule(stationId = null) {\n    try {\n      // First, try to load from localStorage (synced from Organiser)\n      const savedSchedules = localStorage.getItem('event_schedules');\n      if (savedSchedules) {\n        const allSchedules = JSON.parse(savedSchedules);\n        const today = new Date().toISOString().split('T')[0];\n        \n        // Filter for today's schedules\n        let todaySchedules = allSchedules.filter(schedule => schedule.date === today);\n        \n        // If stationId provided, filter by station\n        if (stationId) {\n          todaySchedules = todaySchedules.filter(schedule => \n            schedule.station_id === stationId || schedule.station_id === String(stationId)\n          );\n        }\n        \n        console.log(` Found ${todaySchedules.length} schedules from localStorage for ${stationId ? `station ${stationId}` : 'all stations'}`);\n        \n        return {\n          success: true,\n          schedules: todaySchedules,\n          source: 'localStorage'\n        };\n      }\n      \n      // If no local data, try API (keeping existing code as fallback)\n      let endpoint = 'schedule/today';\n      if (stationId) {\n        endpoint = `schedule/today?station=${stationId}`;\n      }\n      \n      console.log(`Attempting to fetch today's schedule from API using endpoint: ${endpoint}`);\n      \n      try {\n        const response = await this.directFetch(endpoint, {\n          method: 'GET'\n        });\n        \n        console.log(' Got schedule response from direct URL:', response);\n        \n        // Today's date in YYYY-MM-DD format\n        const today = new Date().toISOString().split('T')[0];\n        \n        // If we have a response, ensure any schedules have the new fields we need\n        if (response && response.schedules && Array.isArray(response.schedules)) {\n          response.schedules = response.schedules.map(schedule => {\n            return {\n              ...schedule,\n              shift_date: schedule.shift_date || today,\n              staff_name: schedule.staff_name || '',\n              staff_contact: schedule.staff_contact || '',\n              staff_training_level: schedule.staff_training_level || 'beginner'\n            };\n          });\n        }\n        \n        return response;\n      } catch (error) {\n        console.error('API call failed for today\\'s schedule, using fallback from localStorage:', error);\n        \n        // Try to get schedule from localStorage\n        try {\n          const scheduleKey = 'coffee_cue_local_schedule';\n          const existingData = localStorage.getItem(scheduleKey);\n          \n          if (existingData) {\n            const localSchedule = JSON.parse(existingData);\n            if (Array.isArray(localSchedule) && localSchedule.length > 0) {\n              console.log('Retrieved schedule from localStorage:', localSchedule);\n              \n              // Today's date in YYYY-MM-DD format\n              const today = new Date().toISOString().split('T')[0];\n              \n              // Filter shifts for today if date is available, otherwise include all\n              // Adding more detailed logging to debug filtering\n              console.log(`Filtering schedules for today (${today})`);\n              console.log('Total schedules in localStorage before filtering:', localSchedule.length);\n              \n              const todaySchedules = localSchedule.filter(schedule => {\n                // Make sure we're comparing string to string\n                let shiftDate = schedule.shift_date;\n                \n                // Handle all variations of the date format and convert to string\n                if (shiftDate instanceof Date) {\n                  shiftDate = shiftDate.toISOString().split('T')[0];\n                } else if (typeof shiftDate === 'number') {\n                  shiftDate = new Date(shiftDate).toISOString().split('T')[0];\n                }\n                \n                // Include shifts without dates or with today's date\n                const matchesDate = !shiftDate || shiftDate === today;\n                \n                if (!matchesDate) {\n                  console.log(`Skipping shift with date ${shiftDate} (ID: ${schedule.id})`);\n                } else {\n                  console.log(`Including shift with date ${shiftDate} (ID: ${schedule.id})`);\n                }\n                return matchesDate;\n              });\n              \n              console.log(`Found ${todaySchedules.length} shifts for today after filtering`);\n              \n              // Filter by station if specified\n              const filteredSchedules = stationId \n                ? todaySchedules.filter(schedule => \n                    schedule.station_id === stationId || \n                    schedule.station_id === parseInt(stationId, 10)\n                  ) \n                : todaySchedules;\n              \n              // Make sure schedules have all required fields\n              const processedSchedules = filteredSchedules.map(schedule => ({\n                ...schedule,\n                shift_date: schedule.shift_date || today,\n                staff_name: schedule.staff_name || '',\n                staff_contact: schedule.staff_contact || '',\n                staff_training_level: schedule.staff_training_level || 'beginner'\n              }));\n              \n              return {\n                success: true,\n                day_name: new Date().toLocaleDateString('en-US', { weekday: 'long' }),\n                day_of_week: new Date().getDay(),\n                current_time: new Date().toLocaleTimeString(),\n                schedules: processedSchedules,\n                stations: [] // This would ideally be populated from StationsService\n              };\n            }\n          }\n          \n          console.log('No local schedule data found or empty schedule');\n        } catch (localStorageError) {\n          console.error('Error accessing localStorage schedule:', localStorageError);\n        }\n        \n        // Return empty data structure if nothing found in localStorage\n        return {\n          success: true, // So UI doesn't show error\n          day_name: new Date().toLocaleDateString('en-US', { weekday: 'long' }),\n          day_of_week: new Date().getDay(),\n          current_time: new Date().toLocaleTimeString(),\n          schedules: [],\n          stations: []\n        };\n      }\n    } catch (error) {\n      console.error('Failed to fetch today\\'s schedule:', error);\n      return {\n        success: true, // So UI doesn't show error\n        day_name: new Date().toLocaleDateString('en-US', { weekday: 'long' }),\n        day_of_week: new Date().getDay(),\n        current_time: new Date().toLocaleTimeString(),\n        schedules: [],\n        stations: []\n      };\n    }\n  }\n\n  /**\n   * Get schedule for a specific date\n   * @param {string} date - Date in YYYY-MM-DD format\n   * @param {number} stationId - Optional station ID filter\n   * @returns {Promise<Object>} - Schedule data for specified date\n   */\n  async getScheduleByDate(date, stationId = null) {\n    try {\n      // Try to use the real API using direct URL approach\n      let endpoint = `schedule/date/${date}`;\n      if (stationId) {\n        endpoint = `schedule/date/${date}?station=${stationId}`;\n      }\n      \n      console.log(`Attempting to fetch schedule for date ${date} from API using endpoint: ${endpoint}`);\n      \n      try {\n        const response = await this.directFetch(endpoint, {\n          method: 'GET'\n        });\n        \n        console.log(` Got schedule response for date ${date} from direct URL:`, response);\n        \n        // If we have a response, ensure any schedules have the new fields we need\n        if (response && response.schedules && Array.isArray(response.schedules)) {\n          response.schedules = response.schedules.map(schedule => {\n            return {\n              ...schedule,\n              shift_date: schedule.shift_date || date,\n              staff_name: schedule.staff_name || '',\n              staff_contact: schedule.staff_contact || '',\n              staff_training_level: schedule.staff_training_level || 'beginner'\n            };\n          });\n        }\n        \n        return response;\n      } catch (error) {\n        console.error(`API call failed for schedule by date ${date}, using fallback from localStorage:`, error);\n        \n        // Try to get schedule from localStorage\n        try {\n          const scheduleKey = 'coffee_cue_local_schedule';\n          const existingData = localStorage.getItem(scheduleKey);\n          \n          if (existingData) {\n            const localSchedule = JSON.parse(existingData);\n            if (Array.isArray(localSchedule) && localSchedule.length > 0) {\n              console.log('Retrieved schedule from localStorage:', localSchedule);\n              \n              // Filter shifts for the specified date\n              console.log(`Filtering schedules for date (${date})`);\n              console.log('Total schedules in localStorage before filtering:', localSchedule.length);\n              \n              const dateSchedules = localSchedule.filter(schedule => {\n                // Make sure we're comparing string to string\n                let shiftDate = schedule.shift_date;\n                \n                // Handle all variations of the date format and convert to string\n                if (shiftDate instanceof Date) {\n                  shiftDate = shiftDate.toISOString().split('T')[0];\n                } else if (typeof shiftDate === 'number') {\n                  shiftDate = new Date(shiftDate).toISOString().split('T')[0];\n                }\n                \n                // Strict equality check to ensure we only get shifts for this exact date\n                const matchesDate = shiftDate === date;\n                \n                if (!matchesDate) {\n                  console.log(`Skipping shift with date ${shiftDate} (ID: ${schedule.id})`);\n                } else {\n                  console.log(`Including shift with date ${shiftDate} (ID: ${schedule.id})`);\n                }\n                return matchesDate;\n              });\n              \n              console.log(`Found ${dateSchedules.length} shifts for date ${date} after filtering`);\n              \n              // Filter by station if specified\n              const filteredSchedules = stationId \n                ? dateSchedules.filter(schedule => \n                    schedule.station_id === stationId || \n                    schedule.station_id === parseInt(stationId, 10)\n                  ) \n                : dateSchedules;\n              \n              // Make sure schedules have all required fields\n              const processedSchedules = filteredSchedules.map(schedule => ({\n                ...schedule,\n                shift_date: schedule.shift_date || date,\n                staff_name: schedule.staff_name || '',\n                staff_contact: schedule.staff_contact || '',\n                staff_training_level: schedule.staff_training_level || 'beginner'\n              }));\n              \n              // Get the day name from the date\n              const dayDate = new Date(date);\n              const dayName = dayDate.toLocaleDateString('en-US', { weekday: 'long' });\n              const dayOfWeek = dayDate.getDay();\n              \n              return {\n                success: true,\n                day_name: dayName,\n                day_of_week: dayOfWeek,\n                current_time: new Date().toLocaleTimeString(),\n                schedules: processedSchedules,\n                stations: [] // This would ideally be populated from StationsService\n              };\n            }\n          }\n          \n          console.log(`No local schedule data found for date ${date}`);\n        } catch (localStorageError) {\n          console.error(`Error accessing localStorage schedule for date ${date}:`, localStorageError);\n        }\n        \n        // Return empty data structure if nothing found in localStorage\n        const dayDate = new Date(date);\n        const dayName = dayDate.toLocaleDateString('en-US', { weekday: 'long' });\n        const dayOfWeek = dayDate.getDay();\n        \n        return {\n          success: true, // So UI doesn't show error\n          day_name: dayName,\n          day_of_week: dayOfWeek,\n          current_time: new Date().toLocaleTimeString(),\n          schedules: [],\n          stations: []\n        };\n      }\n    } catch (error) {\n      console.error(`Failed to fetch schedule for date ${date}:`, error);\n      // Return empty data structure with proper day information\n      const dayDate = new Date(date);\n      const dayName = dayDate.toLocaleDateString('en-US', { weekday: 'long' });\n      const dayOfWeek = dayDate.getDay();\n      \n      return {\n        success: true, // So UI doesn't show error\n        day_name: dayName,\n        day_of_week: dayOfWeek,\n        current_time: new Date().toLocaleTimeString(),\n        schedules: [],\n        stations: []\n      };\n    }\n  }\n\n  /**\n   * Get schedule for a specific barista\n   * @param {number} baristaId - Barista ID\n   * @returns {Promise<Object>} - Barista schedule\n   */\n  async getBaristaSchedule(baristaId) {\n    try {\n      // Try to use the real API using direct URL approach\n      const endpoint = `schedule/barista/${baristaId}`;\n      \n      console.log(`Attempting to fetch schedule for barista ${baristaId} from API using endpoint: ${endpoint}`);\n      \n      try {\n        const response = await this.directFetch(endpoint, {\n          method: 'GET'\n        });\n        \n        console.log(` Got barista schedule response from direct URL:`, response);\n        return response;\n      } catch (error) {\n        console.error(`API call failed for barista schedule ${baristaId}, using fallback:`, error);\n        \n        // Return empty data structure since API may not be ready\n        return {\n          shifts: [],\n          breaks: []\n        };\n      }\n    } catch (error) {\n      console.error(`Failed to fetch schedule for barista ${baristaId}:`, error);\n      return {\n        shifts: [],\n        breaks: []\n      };\n    }\n  }\n\n  /**\n   * Add a new shift to the schedule\n   * @param {Object} shiftData - Shift data\n   * @returns {Promise<Object>} - Created shift\n   */\n  async addShift(shiftData) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to add shift to API:`, shiftData);\n      \n      try {\n        const response = await this.directFetch('schedule/shifts', {\n          method: 'POST',\n          body: JSON.stringify(shiftData)\n        });\n        \n        console.log(` Successfully added shift to API:`, response);\n        \n        // Check if the response is valid\n        if (response && typeof response === 'object') {\n          // Ensure the returned shift has all required fields\n          const enhancedResponse = {\n            ...response,\n            // Make sure the ID exists\n            id: response.id || Date.now(),\n            // Make sure all other required fields exist\n            shift_date: response.shift_date || shiftData.shift_date,\n            staff_name: response.staff_name || shiftData.staff_name,\n            staff_contact: response.staff_contact || shiftData.staff_contact,\n            staff_training_level: response.staff_training_level || shiftData.staff_training_level,\n            status: response.status || 'upcoming',\n            // Ensure station_id exists\n            station_id: response.station_id || shiftData.station_id || 1\n          };\n          \n          console.log('Enhanced API response with all required fields:', enhancedResponse);\n          return enhancedResponse;\n        } else {\n          // If the response is not valid, create a valid one\n          console.warn('API returned invalid response, creating fallback response');\n          const fallbackResponse = {\n            ...shiftData,\n            id: Date.now(),\n            status: 'upcoming',\n            shift_date: shiftData.shift_date || new Date().toISOString().split('T')[0],\n            staff_name: shiftData.staff_name || '',\n            staff_contact: shiftData.staff_contact || '',\n            staff_training_level: shiftData.staff_training_level || 'beginner'\n          };\n          return fallbackResponse;\n        }\n      } catch (error) {\n        console.error('API call failed for adding shift, using fallback:', error);\n        \n        // Since API doesn't exist, store in localStorage\n        try {\n          const scheduleKey = 'coffee_cue_local_schedule';\n          let localSchedule = [];\n          \n          // Get existing schedule if available\n          const existingData = localStorage.getItem(scheduleKey);\n          if (existingData) {\n            try {\n              localSchedule = JSON.parse(existingData);\n              // Ensure it's an array\n              if (!Array.isArray(localSchedule)) {\n                console.log('Local schedule data is not an array, resetting');\n                localSchedule = [];\n              } else {\n                console.log(`Found ${localSchedule.length} existing shifts in localStorage`);\n              }\n            } catch (parseError) {\n              console.error('Error parsing local schedule data:', parseError);\n              localSchedule = [];\n            }\n          } else {\n            console.log('No existing schedule data found, initializing new array');\n          }\n          \n          // Add new shift with generated ID and ensure it has all required fields\n          const newShift = {\n            ...shiftData,\n            id: Date.now(),\n            status: 'upcoming',\n            // Make sure these fields are always defined\n            shift_date: shiftData.shift_date || new Date().toISOString().split('T')[0],\n            staff_name: shiftData.staff_name || '',\n            staff_contact: shiftData.staff_contact || '',\n            staff_training_level: shiftData.staff_training_level || 'beginner'\n          };\n          \n          localSchedule.push(newShift);\n          \n          // Save back to localStorage\n          localStorage.setItem(scheduleKey, JSON.stringify(localSchedule));\n          console.log('Saved shift to localStorage:', newShift);\n          console.log(`Total shifts in localStorage: ${localSchedule.length}`);\n          \n          return newShift;\n        } catch (storageError) {\n          console.error('Error saving to localStorage:', storageError);\n          // Return a basic response anyway so UI doesn't break\n          return {\n            ...shiftData,\n            id: Date.now(),\n            status: 'upcoming',\n            shift_date: shiftData.shift_date || new Date().toISOString().split('T')[0],\n            staff_name: shiftData.staff_name || '',\n            staff_contact: shiftData.staff_contact || '',\n            staff_training_level: shiftData.staff_training_level || 'beginner'\n          };\n        }\n      }\n    } catch (error) {\n      console.error('Failed to add shift:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update an existing shift\n   * @param {number} shiftId - Shift ID\n   * @param {Object} shiftData - Updated shift data\n   * @returns {Promise<Object>} - Updated shift\n   */\n  async updateShift(shiftId, shiftData) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to update shift ${shiftId} in API:`, shiftData);\n      \n      try {\n        const response = await this.directFetch(`schedule/shifts/${shiftId}`, {\n          method: 'PUT',\n          body: JSON.stringify(shiftData)\n        });\n        \n        console.log(` Successfully updated shift in API:`, response);\n        \n        // Ensure the response has all required fields\n        const enhancedResponse = {\n          ...response,\n          shift_date: response.shift_date || shiftData.shift_date,\n          staff_name: response.staff_name || shiftData.staff_name,\n          staff_contact: response.staff_contact || shiftData.staff_contact,\n          staff_training_level: response.staff_training_level || shiftData.staff_training_level\n        };\n        \n        return enhancedResponse;\n      } catch (error) {\n        console.error(`API call failed for updating shift ${shiftId}, using fallback:`, error);\n        \n        // Since API doesn't exist, update in localStorage\n        try {\n          const scheduleKey = 'coffee_cue_local_schedule';\n          const existingData = localStorage.getItem(scheduleKey);\n          \n          if (existingData) {\n            let localSchedule = JSON.parse(existingData);\n            \n            if (Array.isArray(localSchedule)) {\n              // Find the index of the shift to update\n              const shiftIndex = localSchedule.findIndex(shift => \n                shift.id === shiftId || shift.id === parseInt(shiftId, 10)\n              );\n              \n              if (shiftIndex !== -1) {\n                // Update the shift in the array\n                const updatedShift = {\n                  ...localSchedule[shiftIndex],\n                  ...shiftData,\n                  id: shiftId, // Ensure ID remains the same\n                  // Ensure critical fields are defined\n                  shift_date: shiftData.shift_date || localSchedule[shiftIndex].shift_date,\n                  staff_name: shiftData.staff_name || localSchedule[shiftIndex].staff_name,\n                  staff_contact: shiftData.staff_contact || localSchedule[shiftIndex].staff_contact,\n                  staff_training_level: shiftData.staff_training_level || localSchedule[shiftIndex].staff_training_level\n                };\n                \n                localSchedule[shiftIndex] = updatedShift;\n                \n                // Save back to localStorage\n                localStorage.setItem(scheduleKey, JSON.stringify(localSchedule));\n                console.log(`Updated shift ${shiftId} in localStorage:`, updatedShift);\n                \n                return updatedShift;\n              } else {\n                console.warn(`Shift with ID ${shiftId} not found in localStorage`);\n              }\n            }\n          }\n        } catch (storageError) {\n          console.error('Error updating shift in localStorage:', storageError);\n        }\n        \n        // Return the updated shift data anyway for UI consistency\n        return {\n          ...shiftData,\n          id: shiftId,\n          shift_date: shiftData.shift_date || new Date().toISOString().split('T')[0],\n          staff_name: shiftData.staff_name || '',\n          staff_contact: shiftData.staff_contact || '',\n          staff_training_level: shiftData.staff_training_level || 'beginner'\n        };\n      }\n    } catch (error) {\n      console.error(`Failed to update shift ${shiftId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Remove a shift from the schedule\n   * @param {number} shiftId - Shift ID\n   * @returns {Promise<boolean>} - Success status\n   */\n  async removeShift(shiftId) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to remove shift ${shiftId} from API`);\n      \n      try {\n        const response = await this.directFetch(`schedule/shifts/${shiftId}`, {\n          method: 'DELETE'\n        });\n        \n        console.log(` Successfully removed shift from API:`, response);\n        return true;\n      } catch (error) {\n        console.warn(`DELETE API not implemented or CORS issue for shift ${shiftId}:`, error);\n        console.log('Using client-side deletion fallback since API endpoint may not be implemented');\n        \n        // Since API may not exist or is not fully implemented, remove from localStorage\n        try {\n          const scheduleKey = 'coffee_cue_local_schedule';\n          const existingData = localStorage.getItem(scheduleKey);\n          \n          if (existingData) {\n            let localSchedule = JSON.parse(existingData);\n            if (Array.isArray(localSchedule)) {\n              // Filter out the shift with the specified ID\n              const filteredSchedule = localSchedule.filter(shift => {\n                return shift.id !== shiftId && shift.id !== parseInt(shiftId, 10);\n              });\n              \n              // Save the updated schedule back to localStorage\n              localStorage.setItem(scheduleKey, JSON.stringify(filteredSchedule));\n              console.log(`Removed shift ${shiftId} from localStorage`);\n            }\n          }\n        } catch (localStorageError) {\n          console.error('Error removing shift from localStorage:', localStorageError);\n        }\n        \n        return true;\n      }\n    } catch (error) {\n      console.error(`Failed to remove shift ${shiftId}:`, error);\n      \n      // Try to remove from localStorage anyway\n      try {\n        const scheduleKey = 'coffee_cue_local_schedule';\n        const existingData = localStorage.getItem(scheduleKey);\n        \n        if (existingData) {\n          let localSchedule = JSON.parse(existingData);\n          if (Array.isArray(localSchedule)) {\n            // Filter out the shift with the specified ID\n            const filteredSchedule = localSchedule.filter(shift => {\n              return shift.id !== shiftId && shift.id !== parseInt(shiftId, 10);\n            });\n            \n            // Save the updated schedule back to localStorage\n            localStorage.setItem(scheduleKey, JSON.stringify(filteredSchedule));\n            console.log(`Removed shift ${shiftId} from localStorage`);\n          }\n        }\n      } catch (localStorageError) {\n        console.error('Error removing shift from localStorage:', localStorageError);\n      }\n      \n      // Return true anyway to allow UI to continue working when backend isn't fully implemented\n      return true;\n    }\n  }\n\n  /**\n   * Add a break to the schedule\n   * @param {Object} breakData - Break data\n   * @returns {Promise<Object>} - Created break\n   */\n  async addBreak(breakData) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to add break to API:`, breakData);\n      \n      try {\n        const response = await this.directFetch('schedule/breaks', {\n          method: 'POST',\n          body: JSON.stringify(breakData)\n        });\n        \n        console.log(` Successfully added break to API:`, response);\n        return response;\n      } catch (error) {\n        console.error('API call failed for adding break, using fallback:', error);\n        \n        // Since API may not exist, generate a local ID and return\n        return {\n          ...breakData,\n          id: Date.now(),\n          status: 'upcoming'\n        };\n      }\n    } catch (error) {\n      console.error('Failed to add break:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update a break\n   * @param {number} breakId - Break ID\n   * @param {Object} breakData - Updated break data\n   * @returns {Promise<Object>} - Updated break\n   */\n  async updateBreak(breakId, breakData) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to update break ${breakId} in API:`, breakData);\n      \n      try {\n        const response = await this.directFetch(`schedule/breaks/${breakId}`, {\n          method: 'PUT',\n          body: JSON.stringify(breakData)\n        });\n        \n        console.log(` Successfully updated break in API:`, response);\n        return response;\n      } catch (error) {\n        console.error(`API call failed for updating break ${breakId}, using fallback:`, error);\n        \n        // Since API may not exist, return the updated break data\n        return {\n          ...breakData,\n          id: breakId\n        };\n      }\n    } catch (error) {\n      console.error(`Failed to update break ${breakId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Remove a break from the schedule\n   * @param {number} breakId - Break ID\n   * @returns {Promise<boolean>} - Success status\n   */\n  async removeBreak(breakId) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to remove break ${breakId} from API`);\n      \n      try {\n        const response = await this.directFetch(`schedule/breaks/${breakId}`, {\n          method: 'DELETE'\n        });\n        \n        console.log(` Successfully removed break from API:`, response);\n        return true;\n      } catch (error) {\n        console.error(`API call failed for removing break ${breakId}, using fallback:`, error);\n        \n        // Since API may not exist, simply return success\n        return true;\n      }\n    } catch (error) {\n      console.error(`Failed to remove break ${breakId}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Add a rush period to the schedule\n   * @param {Object} rushData - Rush period data\n   * @returns {Promise<Object>} - Created rush period\n   */\n  async addRushPeriod(rushData) {\n    try {\n      // Try to use the real API using direct URL approach\n      console.log(`Attempting to add rush period to API:`, rushData);\n      \n      try {\n        const response = await this.directFetch('schedule/rush-periods', {\n          method: 'POST',\n          body: JSON.stringify(rushData)\n        });\n        \n        console.log(` Successfully added rush period to API:`, response);\n        return response;\n      } catch (error) {\n        console.error('API call failed for adding rush period, using fallback:', error);\n        \n        // Since API may not exist, generate a local ID and return\n        return {\n          ...rushData,\n          id: Date.now()\n        };\n      }\n    } catch (error) {\n      console.error('Failed to add rush period:', error);\n      throw error;\n    }\n  }\n}\n\n// Export singleton instance\nexport default new ScheduleService();","/**\n * Helper functions for milk color management\n */\n\nimport InventoryIntegrationService from '../services/InventoryIntegrationService';\n\n/**\n * Get the color for a specific milk type\n * @param {string} milkName - The name of the milk type\n * @param {string} milkId - The ID of the milk type (optional)\n * @returns {string} - The hex color code for the milk type\n */\nexport const getMilkColor = (milkName, milkId) => {\n  try {\n    console.log('Getting milk color for:', { milkName, milkId });\n    \n    // Get inventory data\n    const inventoryData = InventoryIntegrationService.getEventInventory();\n    console.log('Inventory data:', inventoryData);\n    \n    if (!inventoryData || !inventoryData.milk) {\n      console.log('No inventory data found, using default');\n      return getDefaultMilkColor(milkName);\n    }\n    \n    // Find the milk item by name or ID\n    const milkItem = inventoryData.milk.find(milk => \n      milk.name === milkName || milk.id === milkId\n    );\n    console.log('Found milk item:', milkItem);\n    \n    if (milkItem && milkItem.color) {\n      console.log('Using inventory color:', milkItem.color);\n      return milkItem.color;\n    }\n    \n    // Check settings as fallback\n    const settings = JSON.parse(localStorage.getItem('coffee_system_settings') || '{}');\n    if (settings.milkColors && settings.milkColors[milkName]) {\n      console.log('Using settings color:', settings.milkColors[milkName]);\n      return settings.milkColors[milkName];\n    }\n    \n    const defaultColor = getDefaultMilkColor(milkName);\n    console.log('Using default color:', defaultColor);\n    return defaultColor;\n  } catch (error) {\n    console.error('Error getting milk color:', error);\n    return getDefaultMilkColor(milkName);\n  }\n};\n\n/**\n * Get default color for a milk type\n * @param {string} milkName - The name of the milk type\n * @returns {string} - Default hex color\n */\nconst getDefaultMilkColor = (milkName) => {\n  const defaults = {\n    // Standard Milks\n    \"Whole Milk\": \"#FFFFFF\",\n    \"Full Cream Milk\": \"#FFFFFF\",\n    \"Skim Milk\": \"#ADD8E6\",\n    \"Low-fat Milk\": \"#D3D3D3\",\n    \"Reduced Fat Milk\": \"#D3D3D3\",\n    \"Lactose-Free Milk\": \"#FAFAFA\",\n    \n    // Alternative Milks\n    \"Soy Milk\": \"#FFEC8B\",\n    \"Oat Milk\": \"#FF7F7F\",\n    \"Almond Milk\": \"#87CEEB\",\n    \"Coconut Milk\": \"#90EE90\",\n    \"Macadamia Milk\": \"#DEB887\",\n    \"Rice Milk\": \"#E6E6FA\",\n    \"Hemp Milk\": \"#D8F8D8\",\n    \"Cashew Milk\": \"#F5DEB3\",\n    \"Pea Milk\": \"#CCFFCC\"\n  };\n  \n  return defaults[milkName] || generateColorFromName(milkName);\n};\n\n/**\n * Generate a color based on milk name\n * @param {string} milkName - The name of the milk type\n * @returns {string} - Generated hex color\n */\nconst generateColorFromName = (milkName) => {\n  const hash = milkName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n  const hue = hash % 360;\n  return `hsl(${hue}, 70%, 80%)`;\n};\n\n/**\n * Get CSS style object for milk color border\n * @param {string} milkName - The name of the milk type\n * @param {string} milkId - The ID of the milk type (optional)\n * @returns {Object} - CSS style object\n */\nexport const getMilkColorStyle = (milkName, milkId) => {\n  const color = getMilkColor(milkName, milkId);\n  return {\n    borderLeftColor: color,\n    borderLeftWidth: '8px',\n    borderLeftStyle: 'solid'\n  };\n};\n\n/**\n * Get CSS style object for milk color indicator dot\n * @param {string} milkName - The name of the milk type\n * @param {string} milkId - The ID of the milk type (optional)\n * @returns {Object} - CSS style object\n */\nexport const getMilkDotStyle = (milkName, milkId) => {\n  const color = getMilkColor(milkName, milkId);\n  const isLactoseFree = milkName && milkName.toLowerCase().includes('lactose-free');\n  \n  return {\n    backgroundColor: color,\n    width: '12px',\n    height: '12px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    border: isLactoseFree ? '2px dashed #666' : '2px solid #666'\n  };\n};","/**\n * QR Code utility functions for Expresso\n * Used for generating order tracking QR codes for SMS messages\n */\n\n/**\n * Generate a QR code URL for an order\n * This uses the Google Charts API to generate a QR code\n * \n * @param {Object} order - Order object\n * @param {Object} options - Optional configuration\n * @returns {string} URL to the QR code image\n */\nexport const generateOrderQRCode = (order, options = {}) => {\n  if (!order || !order.id) {\n    return null;\n  }\n  \n  // Default options\n  const config = {\n    size: options.size || 150,\n    baseUrl: options.baseUrl || 'https://order.expresso.cafe',\n    errorCorrection: options.errorCorrection || 'L', // L, M, Q, H\n    margin: options.margin || 1,\n    color: options.color || '000000', // Black\n  };\n  \n  // Create tracking URL with all order details\n  const trackingParams = new URLSearchParams();\n  trackingParams.append('order', order.orderNumber || order.id);\n  trackingParams.append('station', order.stationId || '1');\n  \n  if (order.waitTime) {\n    trackingParams.append('eta', order.waitTime);\n  }\n  \n  if (order.customerName) {\n    trackingParams.append('name', order.customerName);\n  }\n  \n  // Build order tracking URL\n  const orderTrackingUrl = `${config.baseUrl}/track?${trackingParams.toString()}`;\n  \n  // Generate QR code using Google Charts API\n  return `https://chart.googleapis.com/chart?cht=qr&chs=${config.size}x${config.size}&chl=${encodeURIComponent(orderTrackingUrl)}&chld=${config.errorCorrection}|${config.margin}&chco=${config.color}`;\n};\n\n/**\n * Generate a tracking link for SMS messages\n * \n * @param {Object} order - Order object\n * @param {string} baseUrl - Base URL for tracking\n * @returns {string} Tracking URL for the order\n */\nexport const generateOrderTrackingLink = (order, baseUrl = 'https://order.expresso.cafe') => {\n  if (!order || !order.id) {\n    return null;\n  }\n  \n  // Create tracking URL with essential order details\n  const trackingParams = new URLSearchParams();\n  trackingParams.append('order', order.orderNumber || order.id);\n  trackingParams.append('station', order.stationId || '1');\n  \n  if (order.waitTime) {\n    trackingParams.append('eta', order.waitTime);\n  }\n  \n  // Build order tracking URL\n  return `${baseUrl}/track?${trackingParams.toString()}`;\n};\n\n/**\n * Create SMS message with tracking link and QR code instructions\n * \n * @param {Object} order - Order object\n * @param {string} messageTemplate - Message template with placeholders\n * @returns {Object} Object with smsText and qrCodeUrl properties\n */\nexport const createOrderTrackingSMS = (order, messageTemplate = \"Your {coffeeType} is ready for pickup at Station {stationId}! Track your order: {trackingLink}\") => {\n  if (!order) {\n    return { smsText: '', qrCodeUrl: '' };\n  }\n  \n  const trackingLink = generateOrderTrackingLink(order);\n  const qrCodeUrl = generateOrderQRCode(order);\n  \n  let smsText = messageTemplate\n    .replace('{coffeeType}', order.coffeeType || 'coffee')\n    .replace('{stationId}', order.stationId || '1')\n    .replace('{orderNumber}', order.orderNumber || order.id)\n    .replace('{trackingLink}', trackingLink);\n    \n  // Add QR code mention if we have a QR code URL\n  if (qrCodeUrl) {\n    smsText += ' Scan the QR code on the tracking page for easy pickup!';\n  }\n  \n  return {\n    smsText,\n    qrCodeUrl,\n    trackingLink\n  };\n};","// services/MessageService.js\nimport OrderDataService from './OrderDataService';\nimport { createOrderTrackingSMS } from '../utils/qrCodeUtils';\nimport { getSimilarMilkSuggestions, formatMilkListForSMS } from '../utils/milkConfig';\n\nclass MessageService {\n  constructor() {\n    this.messageHistory = {};\n    this.maxHistoryLength = 10;\n    this.settings = {\n      autoSendSmsOnComplete: true, // Changed to true to enable automatic SMS\n      remindAfterDelay: true,\n      reminderDelay: 30, // seconds\n      showNameOnDisplay: true,\n      displayDuration: 30, // seconds\n      includeQrCode: true, // Include QR code in SMS messages\n      includeTrackingLink: true, // Include tracking link in SMS messages\n      useShortUrls: false // Use URL shortening for tracking links\n    };\n    \n    // IMPORTANT: Direct absolute URL to backend - bypassing proxy issues\n    this.baseUrl = 'http://localhost:5001/api';\n    this.debugMode = true;\n    \n    // Initialize token from localStorage if available\n    this.token = localStorage.getItem('coffee_system_token') || null;\n    \n    console.log('MessageService initialized with direct backend URL:', this.baseUrl);\n    \n    if (this.token) {\n      console.log('Token found in localStorage during MessageService initialization');\n    } else {\n      console.warn('No token found in localStorage during MessageService initialization');\n    }\n    \n    // Load any saved settings or history\n    this.loadSettings();\n    this.loadHistory();\n  }\n  \n  /**\n   * Custom fetch with authentication using direct URL approach\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   */\n  async directFetch(endpoint, options = {}) {\n    try {\n      // Extract the endpoint path regardless of format\n      let apiPath;\n      \n      // Check if it's a complete URL\n      if (endpoint.startsWith('http')) {\n        // Extract path from URL\n        const url = new URL(endpoint);\n        apiPath = url.pathname;\n        \n        // Further extract after /api/ if present\n        if (apiPath.includes('/api/')) {\n          apiPath = apiPath.substring(apiPath.indexOf('/api/') + 4);\n        }\n      } else {\n        // Handle relative paths\n        if (endpoint.includes('/api/')) {\n          // Extract everything after /api/\n          apiPath = endpoint.substring(endpoint.indexOf('/api/') + 4);\n        } else {\n          // Remove leading slash if present\n          apiPath = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n        }\n      }\n      \n      // Construct direct URL - this ensures we use the absolute backend URL\n      const directUrl = `/api/${apiPath}`;\n      console.log(`Using direct URL strategy: ${directUrl}`);\n      \n      // Check if token exists in localStorage but not in memory\n      if (!this.token) {\n        const storedToken = localStorage.getItem('coffee_system_token');\n        if (storedToken) {\n          console.log('Found token in localStorage but not in memory, using it for request');\n          this.token = storedToken;\n        }\n      }\n      \n      // Set headers\n      const headers = {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n        ...(options.headers || {})\n      };\n      \n      if (this.debugMode) {\n        console.log(`Authorization header ${this.token ? 'set' : 'NOT set'} for request to ${directUrl}`);\n        if (this.token) {\n          console.log(`Token length: ${this.token.length}, Token prefix: ${this.token.substring(0, 10)}...`);\n        }\n        \n        console.log(`Fetching from: ${directUrl} with method: ${options.method || 'GET'}`);\n        if (options.body) {\n          console.log(`Request body: ${options.body}`);\n        }\n      }\n      \n      // Make the request - avoid CORS issues by not using credentials\n      const response = await fetch(directUrl, {\n        ...options,\n        headers,\n        mode: 'cors'\n      });\n      \n      if (!response.ok) {\n        // Try to get error details from response\n        let errorDetails = {};\n        try {\n          errorDetails = await response.json();\n        } catch (e) {\n          try {\n            errorDetails = { message: await response.text() };\n          } catch (e2) {\n            errorDetails = { message: `HTTP error: ${response.status} ${response.statusText}` };\n          }\n        }\n        \n        console.error(`API error: ${response.status}`, errorDetails);\n        throw new Error(errorDetails.message || `API error: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      if (this.debugMode) {\n        console.log(`Response from ${directUrl}:`, data);\n      }\n      return data;\n    } catch (error) {\n      console.error(`Error fetching from ${endpoint}:`, error);\n      throw error;\n    }\n  }\n  \n  /**\n   * Load message settings from localStorage\n   */\n  loadSettings() {\n    try {\n      const savedSettings = localStorage.getItem('messageServiceSettings');\n      if (savedSettings) {\n        this.settings = { ...this.settings, ...JSON.parse(savedSettings) };\n      }\n    } catch (err) {\n      console.error('Failed to load message settings:', err);\n    }\n  }\n  \n  /**\n   * Save current settings to localStorage\n   */\n  saveSettings() {\n    try {\n      localStorage.setItem('messageServiceSettings', JSON.stringify(this.settings));\n    } catch (err) {\n      console.error('Failed to save message settings:', err);\n    }\n  }\n  \n  /**\n   * Update settings\n   * @param {Object} newSettings - New settings to apply\n   */\n  updateSettings(newSettings) {\n    this.settings = { ...this.settings, ...newSettings };\n    this.saveSettings();\n    return this.settings;\n  }\n  \n  /**\n   * Send a message to a customer\n   * @param {string|Object} order - Order ID or order object\n   * @param {string} messageText - Message content\n   * @returns {Promise<Object>} - Result with success status and message info\n   */\n  async sendMessage(order, messageText) {\n    if (!order || !messageText) {\n      return { success: false, error: 'Missing order or message' };\n    }\n    \n    const orderId = typeof order === 'string' ? order : order.id;\n    const customerName = typeof order === 'object' ? order.customerName : '';\n    const phoneNumber = typeof order === 'object' ? order.phoneNumber : '';\n    \n    console.log(`MessageService: Sending message to order ${orderId}`);\n    console.log(`Phone number in order object: \"${phoneNumber}\"`);\n    console.log(`Full order object:`, JSON.stringify(order, null, 2));\n    \n    try {\n      // First try using our direct URL approach\n      let result;\n      let usedDirectFetch = false;\n      \n      try {\n        // Try direct URL approach to send message\n        // Clean the ID - remove any prefixes like order_, order_in_progress_, etc.\n        let cleanId = String(orderId);\n        cleanId = cleanId.replace(/^order_in_progress_/, '')\n                       .replace(/^order_completed_/, '')\n                       .replace(/^order_/, '');\n        \n        console.log(`Sending message to customer for order ${cleanId} using direct URL: ${messageText}`);\n        \n        const requestBody = { \n          order_id: cleanId,\n          message: messageText\n        };\n        \n        // Add phone number directly if we have it (direct override)\n        if (phoneNumber) {\n          requestBody.to = phoneNumber;\n          console.log(\"Adding phone number directly to request:\", phoneNumber);\n        }\n        \n        result = await this.directFetch('sms/send', {\n          method: 'POST',\n          body: JSON.stringify(requestBody)\n        });\n        \n        console.log('Direct fetch message send result:', result);\n        usedDirectFetch = true;\n      } catch (directError) {\n        console.error('Direct URL message sending failed:', directError);\n        console.log('Falling back to OrderDataService...');\n        \n        // Fall back to OrderDataService\n        result = await OrderDataService.sendMessageToCustomer(orderId, messageText);\n        console.log('OrderDataService message send result:', result);\n      }\n      \n      // Check if result has success property or define success\n      const isSuccess = result && (result.success === true || !Object.prototype.hasOwnProperty.call(result, 'success'));\n      \n      if (!isSuccess) {\n        throw new Error(result?.message || result?.error || 'Failed to send message');\n      }\n      \n      // Add message to history\n      this.addToHistory(orderId, {\n        messageId: result.messageId || result.message_sid || `msg_${Date.now()}`,\n        orderId,\n        customerName,\n        phoneNumber,\n        text: messageText,\n        timestamp: new Date(),\n        status: 'sent',\n        sentVia: usedDirectFetch ? 'direct' : 'orderService',\n        type: 'outgoing'\n      });\n      \n      console.log('Message added to history');\n      \n      return { \n        success: true, \n        messageId: result.messageId || result.message_sid || `msg_${Date.now()}`,\n        timestamp: new Date()\n      };\n    } catch (err) {\n      console.error('Failed to send message:', err);\n      \n      // Add failed message to history\n      this.addToHistory(orderId, {\n        messageId: `failed_${Date.now()}`,\n        orderId,\n        customerName,\n        phoneNumber,\n        text: messageText,\n        timestamp: new Date(),\n        status: 'failed',\n        error: err.message,\n        type: 'outgoing'\n      });\n      \n      return { \n        success: false, \n        error: err.message\n      };\n    }\n  }\n  \n  /**\n   * Add a message to the history for a specific order\n   * @param {string} orderId - Order ID\n   * @param {Object} message - Message object\n   */\n  addToHistory(orderId, message) {\n    if (!orderId || !message) return;\n    \n    // Initialize history array for this order if it doesn't exist\n    if (!this.messageHistory[orderId]) {\n      this.messageHistory[orderId] = [];\n    }\n    \n    // Add message to history\n    this.messageHistory[orderId].unshift(message);\n    \n    // Keep history at the maximum length\n    if (this.messageHistory[orderId].length > this.maxHistoryLength) {\n      this.messageHistory[orderId] = this.messageHistory[orderId].slice(0, this.maxHistoryLength);\n    }\n    \n    // Also store in localStorage for persistence\n    this.persistHistory();\n  }\n  \n  /**\n   * Save message history to localStorage\n   */\n  persistHistory() {\n    try {\n      localStorage.setItem('messageHistory', JSON.stringify(this.messageHistory));\n    } catch (err) {\n      console.error('Failed to persist message history:', err);\n    }\n  }\n  \n  /**\n   * Load message history from localStorage\n   */\n  loadHistory() {\n    try {\n      const savedHistory = localStorage.getItem('messageHistory');\n      if (savedHistory) {\n        this.messageHistory = JSON.parse(savedHistory);\n      }\n    } catch (err) {\n      console.error('Failed to load message history:', err);\n    }\n  }\n  \n  /**\n   * Get message history for a specific order\n   * @param {string} orderId - Order ID\n   * @returns {Array} - Array of messages\n   */\n  getHistory(orderId) {\n    return this.messageHistory[orderId] || [];\n  }\n  \n  /**\n   * Get all message history\n   * @returns {Object} - Message history indexed by order ID\n   */\n  getAllHistory() {\n    return this.messageHistory;\n  }\n  \n  /**\n   * Clear message history for a specific order\n   * @param {string} orderId - Order ID\n   */\n  clearHistory(orderId) {\n    if (orderId && this.messageHistory[orderId]) {\n      delete this.messageHistory[orderId];\n      this.persistHistory();\n    }\n  }\n  \n  /**\n   * Clear all message history\n   */\n  clearAllHistory() {\n    this.messageHistory = {};\n    this.persistHistory();\n  }\n  \n  /**\n   * Send a ready notification to a customer\n   * @param {Object} order - Order object\n   * @returns {Promise<Object>} - Result with success status\n   */\n  async sendReadyNotification(order) {\n    if (!order || !order.id) {\n      console.error('Invalid order object:', order);\n      return { success: false, error: 'Invalid order' };\n    }\n    \n    console.log('Sending ready notification for order:', order);\n    \n    // Generate enhanced notification with tracking link and QR code if enabled\n    let message = '';\n    \n    if (this.settings.includeTrackingLink || this.settings.includeQrCode) {\n      // Use order tracking system\n      const trackingInfo = createOrderTrackingSMS(\n        order,\n        ' YOUR COFFEE IS READY! Your ${order.coffeeType || \"coffee\"} is now ready for collection from ${order.stationName || \"our counter\"}.'\n      );\n      message = trackingInfo.smsText;\n    } else {\n      // Simple notification without tracking\n      message = ` YOUR COFFEE IS READY! Your ${order.coffeeType || 'coffee'} is now ready for collection from ${order.stationName || 'our counter'}. Enjoy! `;\n    }\n    \n    try {\n      // Try directFetch first\n      let result;\n      let usedDirectFetch = false;\n      \n      try {\n        // Clean the ID\n        let cleanId = String(order.id);\n        cleanId = cleanId.replace(/^order_in_progress_/, '')\n                       .replace(/^order_completed_/, '')\n                       .replace(/^order_/, '');\n                       \n        // Create request body\n        const requestBody = { \n          order_id: cleanId,\n          message: message\n        };\n        \n        // Add phone number directly if we have it\n        if (order.phoneNumber) {\n          requestBody.to = order.phoneNumber;\n        }\n        \n        result = await this.directFetch('sms/send', {\n          method: 'POST',\n          body: JSON.stringify(requestBody)\n        });\n        \n        console.log('Direct fetch ready notification result:', result);\n        usedDirectFetch = true;\n      } catch (directError) {\n        console.error('Direct URL ready notification failed:', directError);\n        \n        // Fall back to OrderDataService\n        result = await OrderDataService.sendMessageToCustomer(order.id, message);\n        console.log('OrderDataService ready notification result:', result);\n      }\n      \n      // Check if result has success property or assume true if it completed\n      const isSuccess = result && (result.success === true || !Object.prototype.hasOwnProperty.call(result, 'success'));\n      \n      // Add to our local history with appropriate status\n      this.addToHistory(order.id, {\n        messageId: `ready_${Date.now()}`,\n        orderId: order.id,\n        customerName: order.customerName,\n        phoneNumber: order.phoneNumber,\n        text: message,\n        timestamp: new Date(),\n        status: isSuccess ? 'sent' : 'failed',\n        sentVia: usedDirectFetch ? 'direct' : 'orderService',\n        error: isSuccess ? null : (result?.message || 'Unknown error'),\n        type: 'outgoing'\n      });\n      \n      // Always return a properly formatted result with success property\n      return { \n        success: isSuccess,\n        message: isSuccess ? 'Notification sent successfully' : 'Failed to send notification',\n        error: isSuccess ? null : (result?.message || 'Unknown error')\n      };\n    } catch (error) {\n      console.error('Failed to send ready notification:', error);\n      \n      // Add failed message to history\n      this.addToHistory(order.id, {\n        messageId: `failed_${Date.now()}`,\n        orderId: order.id,\n        customerName: order.customerName,\n        phoneNumber: order.phoneNumber,\n        text: message,\n        timestamp: new Date(),\n        status: 'failed',\n        error: error.message,\n        type: 'outgoing'\n      });\n      \n      return { success: false, error: error.message };\n    }\n  }\n  \n  /**\n   * Send a reminder notification to a customer\n   * @param {Object} order - Order object\n   * @param {number} waitMinutes - How many minutes the order has been waiting\n   * @returns {Promise<Object>} - Result with success status\n   */\n  async sendReminderNotification(order, waitMinutes) {\n    if (!order || !order.id) {\n      return { success: false, error: 'Invalid order' };\n    }\n    \n    // Extract order number from ID if not provided\n    const orderNumber = order.orderNumber || order.id.replace(/^order_/, '');\n    \n    // Create detailed reminder message with all requested information\n    const message = ` REMINDER: Your order #${orderNumber} (${order.coffeeType || 'coffee'}) has been ready for ${waitMinutes} minutes at ${order.stationName || 'our counter'}. Please collect it soon to enjoy it at its best! `;\n    \n    return this.sendMessage(order, message);\n  }\n  \n  /**\n   * Show an order on the display screen by dispatching a custom event\n   * that the display screen component will listen for\n   * @param {Object} order - Order object\n   * @returns {Object} - Result with success status\n   */\n  showOnDisplay(order) {\n    if (!order) {\n      return { success: false, error: 'Invalid order' };\n    }\n    \n    try {\n      // Dispatch a custom event that will be caught by the display screen\n      const displayEvent = new CustomEvent('showOrderOnDisplay', {\n        detail: {\n          orderId: order.id,\n          orderNumber: order.orderNumber,\n          customerName: order.customerName,\n          coffeeType: order.coffeeType || 'Coffee',\n          status: 'ready'\n        }\n      });\n      \n      window.dispatchEvent(displayEvent);\n      \n      console.log(`Showing order ${order.id} for ${order.customerName} on display screen`);\n      \n      return { \n        success: true, \n        timestamp: new Date()\n      };\n    } catch (err) {\n      console.error('Failed to show order on display:', err);\n      return { \n        success: false, \n        error: err.message\n      };\n    }\n  }\n  \n  /**\n   * Get templates for SMS messages\n   * @returns {Promise<Object>} - SMS templates\n   */\n  async getSMSTemplates() {\n    try {\n      // Use direct URL approach\n      const response = await this.directFetch('sms/templates', {\n        method: 'GET'\n      });\n      \n      console.log('SMS templates response:', response);\n      \n      if (response) {\n        return response;\n      }\n      \n      throw new Error('Failed to fetch SMS templates');\n    } catch (error) {\n      console.error('Failed to fetch SMS templates:', error);\n      // Return default templates\n      return { \n        status: 'success', \n        templates: {\n          'order_confirmation_message': 'Your order #{order_number} has been confirmed. We\\'ll notify you when it\\'s ready!',\n          'order_ready_message': 'Your order #{order_number} is now ready for pickup!',\n          'delay_message': 'We apologize, but your order #{order_number} is running a bit behind schedule.'\n        }\n      };\n    }\n  }\n  \n  /**\n   * Broadcast a message to all stations\n   * Used by the enhanced schedule management system\n   * @param {Object} messageData - Message data to broadcast\n   * @returns {Promise<Object>} - Result with success status\n   */\n  async broadcastToStations(messageData) {\n    try {\n      // Dispatch a custom event that all station interfaces will listen for\n      const broadcastEvent = new CustomEvent('stationBroadcast', {\n        detail: {\n          ...messageData,\n          timestamp: new Date().toISOString(),\n          source: 'organizer'\n        }\n      });\n      \n      window.dispatchEvent(broadcastEvent);\n      \n      // Also store in localStorage for stations that might not be listening yet\n      const broadcasts = JSON.parse(localStorage.getItem('station_broadcasts') || '[]');\n      broadcasts.unshift({\n        ...messageData,\n        timestamp: new Date().toISOString(),\n        id: Date.now()\n      });\n      \n      // Keep only last 50 broadcasts\n      if (broadcasts.length > 50) {\n        broadcasts.length = 50;\n      }\n      \n      localStorage.setItem('station_broadcasts', JSON.stringify(broadcasts));\n      \n      console.log('Broadcast sent to all stations:', messageData);\n      \n      // If we have WebSocket support, also send via WebSocket\n      try {\n        await this.directFetch('stations/broadcast', {\n          method: 'POST',\n          body: JSON.stringify(messageData)\n        });\n      } catch (wsError) {\n        console.warn('WebSocket broadcast failed, using local broadcast only:', wsError);\n      }\n      \n      return { \n        success: true, \n        timestamp: new Date(),\n        method: 'event_and_storage'\n      };\n    } catch (error) {\n      console.error('Failed to broadcast to stations:', error);\n      return { \n        success: false, \n        error: error.message\n      };\n    }\n  }\n}\n\n// Export as singleton\nexport default new MessageService();\n","// services/ChatService.js\nimport ApiService from './ApiService';\n\n/**\n * Service for station chat communication\n * Provides methods for sending and receiving chat messages\n */\nclass ChatService {\n  constructor() {\n    // Get ApiService singleton instance instead of extending\n    this.apiService = new ApiService();\n    this.baseUrl = '/api/chat'; // Use direct URL to avoid proxy issues\n    this.debugMode = true;\n    this.enableFallback = false; // Disable fallback to use real data only\n    this.messages = [];\n    this.stationId = null;\n    this.stationName = null;\n    this.baristaName = null;\n    this.listeners = [];\n    this.pollingInterval = null;\n    this.pollingDelay = 10000; // 10 seconds\n    this.initialized = false;\n    \n    // Use localStorage for chat sharing between stations\n    this._setupLocalMessageSharing();\n  }\n  \n  /**\n   * Set up local storage for sharing messages between stations\n   * This enables real-time station-to-station communication\n   * @private\n   */\n  _setupLocalMessageSharing() {\n    // Set up storage event listener to sync messages between tabs/instances\n    window.addEventListener('storage', (event) => {\n      if (event.key === 'coffee_chat_messages') {\n        try {\n          const sharedMessages = JSON.parse(event.newValue || '[]');\n          \n          console.log(`Syncing ${sharedMessages.length} messages from other tabs`);\n          \n          // Merge with existing messages to avoid duplicates\n          const existingIds = this.messages.map(m => m.id);\n          const newMessages = sharedMessages.filter(m => !existingIds.includes(m.id));\n          \n          if (newMessages.length > 0) {\n            console.log(`Adding ${newMessages.length} new messages from other tabs`);\n            \n            // Ensure each new message has the original station data\n            const processedNewMessages = newMessages.map(message => {\n              if (!message.original_station_id && message.station_id) {\n                message.original_station_id = message.station_id;\n              }\n              if (!message.original_station_name && message.station_name) {\n                message.original_station_name = message.station_name;\n              }\n              return message;\n            });\n            \n            this.messages = [...this.messages, ...processedNewMessages];\n            \n            // Only notify if we're initialized\n            if (this.initialized) {\n              this.notifyListeners();\n            }\n          }\n        } catch (error) {\n          console.error('Error syncing messages from storage:', error);\n        }\n      }\n    });\n    \n    // Load initial messages from localStorage\n    try {\n      const savedMessages = localStorage.getItem('coffee_chat_messages');\n      if (savedMessages) {\n        this.messages = JSON.parse(savedMessages);\n      }\n    } catch (error) {\n      console.error('Error loading initial messages from storage:', error);\n    }\n  }\n\n  /**\n   * Initialize the chat service with station info\n   * @param {number} stationId - Station ID\n   * @param {string} stationName - Station name\n   * @param {string} baristaName - Barista name\n   */\n  initialize(stationId, stationName, baristaName) {\n    // CRITICAL: Save original station ID for debugging\n    const originalStationId = stationId;\n    \n    // Ensure station ID is always numeric for consistency\n    this.stationId = typeof stationId === 'string' ? parseInt(stationId, 10) : stationId;\n    this.stationName = stationName;\n    this.baristaName = baristaName;\n    this.initialized = true;\n    \n    // Start polling for messages\n    this.startPolling();\n    \n    // Load messages immediately\n    this.loadMessages();\n    \n    console.log(`Chat service initialized for ${stationName} (ID: ${this.stationId}, originalId: ${originalStationId}, type: ${typeof originalStationId}) with barista: ${baristaName}`);\n  }\n  \n  /**\n   * Start polling for new messages\n   */\n  startPolling() {\n    // Clear any existing interval\n    if (this.pollingInterval) {\n      clearInterval(this.pollingInterval);\n    }\n    \n    // Start new polling interval\n    this.pollingInterval = setInterval(() => {\n      this.loadMessages();\n    }, this.pollingDelay);\n  }\n  \n  /**\n   * Stop polling for messages\n   */\n  stopPolling() {\n    if (this.pollingInterval) {\n      clearInterval(this.pollingInterval);\n      this.pollingInterval = null;\n    }\n  }\n  \n  /**\n   * Load chat messages from the server\n   * @param {number} limit - Maximum number of messages to fetch\n   * @returns {Promise<Array>} - Chat messages\n   */\n  async loadMessages(limit = 50) {\n    try {\n      // Don't attempt to load if not initialized\n      if (!this.initialized) {\n        return this.messages;\n      }\n      \n      // Try to load from localStorage first\n      const savedMessages = localStorage.getItem('coffee_chat_messages');\n      if (savedMessages) {\n        try {\n          // Parse messages from localStorage\n          const parsedMessages = JSON.parse(savedMessages);\n          \n          // Debug: Log the loaded messages\n          console.log(`Loaded ${parsedMessages.length} messages from localStorage`);\n          if (parsedMessages.length > 0) {\n            console.log(\"Sample message:\", {\n              id: parsedMessages[0].id,\n              station_id: parsedMessages[0].station_id,\n              station_name: parsedMessages[0].station_name,\n              baristaName: parsedMessages[0].baristaName,\n              sender: parsedMessages[0].sender\n            });\n          }\n          \n          // Process messages to ensure all have the required fields\n          this.messages = parsedMessages.map(message => {\n            // If the message doesn't have the station_name field, try to add it\n            if (!message.station_name && message.station_id) {\n              // Try to find any existing message with this station_id that has a station_name\n              const referenceMessage = parsedMessages.find(\n                m => m.station_id === message.station_id && m.station_name\n              );\n              \n              if (referenceMessage) {\n                console.log(`Adding missing station_name to message ${message.id}: ${referenceMessage.station_name}`);\n                return {\n                  ...message,\n                  station_name: referenceMessage.station_name\n                };\n              }\n            }\n            return message;\n          });\n        } catch (e) {\n          console.error('Failed to parse saved messages:', e);\n        }\n      }\n      \n      // Notify listeners with current messages\n      this.notifyListeners();\n      \n      return this.messages;\n    } catch (error) {\n      console.error('Failed to load chat messages:', error);\n      \n      // Return existing messages on error\n      return this.messages;\n    }\n  }\n  \n  /**\n   * Send a chat message\n   * @param {string} content - Message content\n   * @param {boolean} isUrgent - Whether the message is urgent\n   * @returns {Promise<Object>} - Response with sent message\n   */\n  async sendMessage(content, isUrgent = false) {\n    try {\n      // Don't attempt to send if not initialized\n      if (!this.initialized) {\n        throw new Error('Chat service not initialized');\n      }\n      \n      console.log(`Preparing to send message from station ID: ${this.stationId}, station name: ${this.stationName}`);\n      \n      // DO NOT FORMAT THE STATION NAME INTO THE SENDER FIELD - KEEP IT SEPARATE\n      // We need to separate the components to fix the hardcoded Station 1 issue\n      \n      // Use raw barista name as sender, store station info separately\n      const sender = this.baristaName && this.baristaName.trim() \n        ? this.baristaName.trim() \n        : (this.stationName || `Station #${this.stationId}`);\n      \n      // Prepare message data with separate fields for better display control\n      const messageData = {\n        sender, // Keep for backward compatibility \n        content,\n        is_urgent: isUrgent,\n        // Store barista name separately\n        baristaName: this.baristaName && this.baristaName.trim() ? this.baristaName.trim() : null,\n        // Ensure station_id is numeric for consistency\n        station_id: typeof this.stationId === 'string' ? parseInt(this.stationId, 10) : this.stationId\n      };\n      \n      // Create a new message with timestamp and ID\n      const newMessage = {\n        id: Date.now(),\n        ...messageData,\n        // Store the station_id explicitly rather than relying on object property\n        station_id: typeof this.stationId === 'string' ? parseInt(this.stationId, 10) : this.stationId,\n        // Store the station_name explicitly\n        station_name: this.stationName || `Station #${this.stationId}`,\n        created_at: new Date().toISOString()\n      };\n      \n      console.log(`Creating message with station ID = ${newMessage.station_id} and station name = ${newMessage.station_name}`);\n      \n      // Ensure we have the original station ID and name for display\n      newMessage.original_station_id = newMessage.station_id;\n      newMessage.original_station_name = newMessage.station_name;\n      \n      // Debug: Log message creation details\n      console.log(\"Creating new message with station details:\", {\n        id: newMessage.id,\n        station_id: newMessage.station_id,\n        station_name: newMessage.station_name,\n        original_station_id: newMessage.original_station_id,\n        original_station_name: newMessage.original_station_name,\n        baristaName: newMessage.baristaName,\n        sender: newMessage.sender\n      });\n      \n      // Add to local messages\n      this.messages = [...this.messages, newMessage];\n      \n      // Save to localStorage for sharing between stations\n      try {\n        localStorage.setItem('coffee_chat_messages', JSON.stringify(this.messages));\n      } catch (storageError) {\n        console.error('Failed to save messages to localStorage:', storageError);\n      }\n      \n      // Notify listeners\n      this.notifyListeners();\n      \n      return newMessage;\n    } catch (error) {\n      console.error('Failed to send chat message:', error);\n      throw error;\n    }\n  }\n  \n  /**\n   * Delete a chat message\n   * @param {number} messageId - Message ID to delete\n   * @returns {Promise<Object>} - Response with success status\n   */\n  async deleteMessage(messageId) {\n    try {\n      // Don't attempt to delete if not initialized\n      if (!this.initialized) {\n        throw new Error('Chat service not initialized');\n      }\n      \n      // Remove the message from our local array\n      this.messages = this.messages.filter(message => message.id !== messageId);\n      \n      // Update localStorage\n      try {\n        localStorage.setItem('coffee_chat_messages', JSON.stringify(this.messages));\n      } catch (storageError) {\n        console.error('Failed to save messages to localStorage:', storageError);\n      }\n      \n      // Notify listeners\n      this.notifyListeners();\n      \n      return { success: true };\n    } catch (error) {\n      console.error(`Failed to delete message ${messageId}:`, error);\n      throw error;\n    }\n  }\n  \n  /**\n   * Get active stations for the chat\n   * @returns {Promise<Array>} - List of active stations\n   */\n  async getStations() {\n    try {\n      // Get stations from localStorage (populated by StationsService)\n      try {\n        const stationsJson = localStorage.getItem('coffee_cue_stations');\n        if (stationsJson) {\n          return JSON.parse(stationsJson);\n        }\n      } catch (localStorageError) {\n        console.warn('Failed to get stations from localStorage:', localStorageError);\n      }\n      \n      return [];\n    } catch (error) {\n      console.error('Failed to get stations:', error);\n      return [];\n    }\n  }\n  \n  /**\n   * Add a listener for chat updates\n   * @param {Function} listener - Callback function\n   * @returns {Function} - Function to remove the listener\n   */\n  addListener(listener) {\n    if (typeof listener === 'function' && !this.listeners.includes(listener)) {\n      this.listeners.push(listener);\n    }\n    \n    // Return function to remove this listener\n    return () => {\n      this.removeListener(listener);\n    };\n  }\n  \n  /**\n   * Remove a listener\n   * @param {Function} listener - Listener to remove\n   */\n  removeListener(listener) {\n    const index = this.listeners.indexOf(listener);\n    if (index !== -1) {\n      this.listeners.splice(index, 1);\n    }\n  }\n  \n  /**\n   * Filter messages for all stations to enable true inter-station communication\n   * @returns {Array} - All messages for any station, ensuring real communication\n   */\n  getStationMessages() {\n    // Return all messages to enable true station-to-station communication\n    // Each message contains sender and station_id to identify its origin\n    return this.messages;\n  }\n\n  /**\n   * Notify all listeners of updates\n   */\n  notifyListeners() {\n    const filteredMessages = this.getStationMessages();\n    \n    this.listeners.forEach(listener => {\n      try {\n        listener(filteredMessages);\n      } catch (error) {\n        console.error('Error notifying chat listener:', error);\n      }\n    });\n  }\n  \n  /**\n   * Clean up resources when service is no longer needed\n   */\n  cleanup() {\n    this.stopPolling();\n    this.listeners = [];\n    this.initialized = false;\n  }\n  \n  /**\n   * Reset chat messages (useful for debugging)\n   */\n  resetMessages() {\n    this.messages = [];\n    try {\n      localStorage.setItem('coffee_chat_messages', JSON.stringify([]));\n      console.log('Chat messages reset successfully');\n      this.notifyListeners();\n      return true;\n    } catch (error) {\n      console.error('Failed to reset chat messages:', error);\n      return false;\n    }\n  }\n}\n\n// Export singleton instance\nexport default new ChatService();","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name AlertCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/alert-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AlertCircle = createLucideIcon('AlertCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n]);\n\nexport default AlertCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgMi03IDIwLTQtOS05LTRaIiAvPgogIDxwYXRoIGQ9Ik0yMiAyIDExIDEzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  ['path', { d: 'm22 2-7 20-4-9-9-4Z', key: '1q3vgg' }],\n  ['path', { d: 'M22 2 11 13', key: 'nzbqef' }],\n]);\n\nexport default Send;\n","// components/dialogs/MessageDialog.js\nimport React, { useState, useEffect } from 'react';\nimport { XCircle, Send, CheckCircle, AlertCircle, Clock, RefreshCw } from 'lucide-react';\nimport MessageService from '../../services/MessageService';\n\nconst MessageDialog = ({ order, onSubmit, onClose }) => {\n  const [message, setMessage] = useState('');\n  const [messageHistory, setMessageHistory] = useState([]);\n  const [sending, setSending] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Load message history when dialog opens\n  useEffect(() => {\n    if (order && order.id) {\n      // Load message history for this order\n      const history = MessageService.getHistory(order.id);\n      setMessageHistory(history);\n    }\n  }, [order]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!message.trim()) return;\n    \n    // Reset error state\n    setError(null);\n    setSending(true);\n    \n    try {\n      console.log(`Sending message for order ${order.id}: ${message}`);\n      \n      // Call the onSubmit handler from props (this will be handleSendMessage from BaristaInterface)\n      const result = await onSubmit(order.id, message);\n      \n      console.log('Message sending result:', result);\n      \n      // Clear the message input on success\n      if (result && result.success) {\n        setMessage('');\n        \n        // Force refresh history with a small delay to allow backend to update\n        setTimeout(() => {\n          const updatedHistory = MessageService.getHistory(order.id);\n          setMessageHistory(updatedHistory);\n          console.log('Updated message history:', updatedHistory);\n        }, 500);\n        \n      } else if (result && !result.success) {\n        setError(result.error || 'Failed to send message');\n        console.error('Failed to send message:', result.error);\n      } else {\n        // Handle unexpected result format\n        console.error('Unexpected result format from message sending:', result);\n        setError('Unexpected response from server');\n      }\n    } catch (err) {\n      console.error('Error sending message:', err);\n      setError(err.message || 'An error occurred while sending the message');\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // Quick message templates\n  const quickMessages = [\n    {\n      label: 'Ready for pickup',\n      text: `Your ${order?.coffeeType || 'coffee'} is ready for pickup at ${order?.stationName || 'our station'}.`\n    },\n    {\n      label: 'Slight delay',\n      text: `We're running slightly behind schedule. Your ${order?.coffeeType || 'coffee'} will be ready in about 5 more minutes.`\n    },\n    {\n      label: 'Reminder to collect',\n      text: `Your ${order?.coffeeType || 'coffee'} order has been waiting for pickup. Please collect it from ${order?.stationName || 'our station'}.`\n    },\n    {\n      label: 'Confirm milk preference',\n      text: \"Could you please confirm your milk preference for this order?\"\n    }\n  ];\n\n  // Format timestamp for display\n  const formatTime = (timestamp) => {\n    if (!timestamp) return '';\n    \n    const date = new Date(timestamp);\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  // Get status icon based on message status\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'sent':\n        return <CheckCircle size={16} className=\"text-green-500\" />;\n      case 'failed':\n        return <AlertCircle size={16} className=\"text-red-500\" />;\n      case 'sending':\n        return <RefreshCw size={16} className=\"text-amber-500 animate-spin\" />;\n      case 'pending':\n      default:\n        return <Clock size={16} className=\"text-gray-500\" />;\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full max-h-[80vh] flex flex-col\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-bold\">Message Customer</h3>\n          <button \n            className=\"text-gray-500 hover:text-gray-700\"\n            onClick={onClose}\n          >\n            <XCircle size={20} />\n          </button>\n        </div>\n        \n        {order && (\n          <div className=\"mb-4 bg-gray-100 p-3 rounded\">\n            <div className=\"font-medium\">Order #{order.id}</div>\n            <div>{order.customerName} - {order.phoneNumber}</div>\n            <div className=\"text-sm\">{order.coffeeType}, {order.milkType}</div>\n          </div>\n        )}\n        \n        {/* Message History Section */}\n        {messageHistory.length > 0 && (\n          <div className=\"mb-4 overflow-y-auto max-h-40 border border-gray-200 rounded p-2\">\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Message History</h4>\n            <div className=\"space-y-2\">\n              {messageHistory.map((msg) => (\n                <div \n                  key={msg.messageId} \n                  className={`flex items-start p-2 rounded ${\n                    msg.type === 'outgoing' ? 'bg-blue-50' : 'bg-gray-50'\n                  }`}\n                >\n                  <div className=\"flex-grow\">\n                    <div className=\"text-sm\">{msg.text}</div>\n                    <div className=\"text-xs text-gray-500 flex items-center mt-1\">\n                      {formatTime(msg.timestamp)} \n                      <span className=\"mx-1\"></span>\n                      {msg.type === 'outgoing' ? 'Sent to customer' : 'Received'}\n                    </div>\n                  </div>\n                  <div className=\"ml-2 mt-1\">\n                    {getStatusIcon(msg.status)}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        {/* Error message if any */}\n        {error && (\n          <div className=\"mb-4 bg-red-50 text-red-700 p-2 rounded border border-red-200 text-sm flex items-center\">\n            <AlertCircle size={16} className=\"mr-1\" />\n            {error}\n          </div>\n        )}\n        \n        <form onSubmit={handleSubmit} className=\"flex-grow flex flex-col\">\n          <div className=\"mb-4 flex-grow\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Message\n            </label>\n            <textarea \n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              className=\"w-full p-2 border rounded resize-none flex-grow\"\n              rows=\"4\"\n              placeholder=\"Enter your message here...\"\n              required\n            ></textarea>\n          </div>\n          \n          <div className=\"mb-4\">\n            <div className=\"text-sm text-gray-500\">Quick Messages:</div>\n            <div className=\"grid grid-cols-2 gap-2 mt-1\">\n              {quickMessages.map((template, index) => (\n                <button \n                  key={index}\n                  type=\"button\"\n                  className=\"text-left text-xs bg-gray-100 p-2 rounded hover:bg-gray-200\"\n                  onClick={() => setMessage(template.text)}\n                >\n                  {template.label}\n                </button>\n              ))}\n            </div>\n          </div>\n          \n          <div className=\"flex justify-end space-x-2\">\n            <button \n              type=\"button\"\n              className=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\n              onClick={onClose}\n            >\n              Cancel\n            </button>\n            <button \n              type=\"submit\"\n              className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 flex items-center\"\n              disabled={!message.trim() || sending}\n            >\n              {sending ? <RefreshCw size={16} className=\"mr-1 animate-spin\" /> : <Send size={16} className=\"mr-1\" />}\n              {sending ? 'Sending...' : 'Send'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageDialog;","// components/dialogs/WaitTimeDialog.js\nimport React, { useState } from 'react';\nimport { XCircle } from 'lucide-react';\n\nconst WaitTimeDialog = ({ currentWaitTime, onSubmit, onClose }) => {\n  const [waitTime, setWaitTime] = useState(currentWaitTime);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(waitTime);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-bold\">Adjust Wait Time</h3>\n          <button \n            className=\"text-gray-500 hover:text-gray-700\"\n            onClick={onClose}\n          >\n            <XCircle size={20} />\n          </button>\n        </div>\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Current Wait Time: {currentWaitTime} minutes\n            </label>\n            <input \n              type=\"number\" \n              min=\"1\" \n              max=\"60\"\n              value={waitTime}\n              onChange={(e) => setWaitTime(parseInt(e.target.value))}\n              className=\"w-full p-2 border rounded\"\n              required\n            />\n          </div>\n          \n          <div className=\"flex justify-end space-x-2\">\n            <button \n              type=\"button\"\n              className=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\n              onClick={onClose}\n            >\n              Cancel\n            </button>\n            <button \n              type=\"submit\"\n              className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700\"\n            >\n              Update\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default WaitTimeDialog;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name AlertTriangle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTNaIiAvPgogIDxwYXRoIGQ9Ik0xMiA5djQiIC8+CiAgPHBhdGggZD0iTTEyIDE3aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/alert-triangle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AlertTriangle = createLucideIcon('AlertTriangle', [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z',\n      key: 'c3ski4',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n]);\n\nexport default AlertTriangle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjEyIDIgMTUuMDkgOC4yNiAyMiA5LjI3IDE3IDE0LjE0IDE4LjE4IDIxLjAyIDEyIDE3Ljc3IDUuODIgMjEuMDIgNyAxNC4xNCAyIDkuMjcgOC45MSA4LjI2IDEyIDIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('Star', [\n  [\n    'polygon',\n    {\n      points:\n        '12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2',\n      key: '8f66p6',\n    },\n  ],\n]);\n\nexport default Star;\n","// services/SettingsService.js\nimport ApiService from './ApiService';\n\n/**\n * Service for system settings management\n * Extends ApiService to inherit authentication and API functionality\n */\nclass SettingsService {\n  constructor() {\n    // Get ApiService singleton instance instead of extending\n    this.apiService = new ApiService();\n    // IMPORTANT: Direct absolute URL to backend - bypassing proxy issues\n    this.baseUrl = 'http://localhost:5001/api';\n    this.debugMode = true;\n    this.enableFallback = true; // Enable fallback to prevent endless retries\n    this.settingsCache = null;\n    this.cacheTime = 0;\n    this.cacheLifetime = 5 * 60 * 1000; // 5 minutes\n    this.lastJwtError = 0; // Timestamp for last JWT error\n    this.jwtErrorDebounce = 60 * 1000; // 60 seconds debounce for JWT errors\n    \n    // Initialize token from localStorage if available\n    this.token = localStorage.getItem('coffee_system_token') || null;\n    \n    // Set default settings in memory\n    this._setDefaultSettings();\n    \n    console.log('SettingsService initialized with direct backend URL:', this.baseUrl);\n    \n    if (this.token) {\n      console.log('Token found in localStorage during SettingsService initialization');\n    } else {\n      console.warn('No token found in localStorage during SettingsService initialization');\n    }\n  }\n  \n  /**\n   * Get branding settings\n   * @returns {Promise<object>} - Branding settings\n   */\n  async getBrandingSettings() {\n    try {\n      // Try to get from localStorage first\n      const cached = localStorage.getItem('coffee_system_branding');\n      if (cached) {\n        return JSON.parse(cached);\n      }\n      \n      // Otherwise get from API\n      const response = await this.directFetch('/settings/branding', {\n        method: 'GET'\n      });\n      \n      if (response.success && response.settings) {\n        // Cache in localStorage\n        localStorage.setItem('coffee_system_branding', JSON.stringify(response.settings));\n        return response.settings;\n      }\n      \n      return null;\n    } catch (error) {\n      console.error('Error getting branding settings:', error);\n      // Return default branding settings\n      return {\n        systemName: 'CoffeeCue',\n        customBranding: false,\n        clientName: '',\n        primaryColor: '#1e40af',\n        secondaryColor: '#f59e0b',\n        textColor: '#1f2937',\n        backgroundColor: '#f9fafb',\n        defaultLanguage: 'en',\n        availableLanguages: ['en']\n      };\n    }\n  }\n  \n  /**\n   * Update branding settings\n   * @param {object} settings - Branding settings to update\n   * @returns {Promise<boolean>} - Success status\n   */\n  async updateBrandingSettings(settings) {\n    try {\n      // Save to localStorage immediately for instant UI updates\n      localStorage.setItem('coffee_system_branding', JSON.stringify(settings));\n      \n      // Then try to save to API\n      const response = await this.directFetch('/settings/branding', {\n        method: 'PUT',\n        body: JSON.stringify({ settings })\n      });\n      \n      return response.success || false;\n    } catch (error) {\n      console.error('Error updating branding settings:', error);\n      // Still return true since we saved to localStorage\n      return true;\n    }\n  }\n  \n  /**\n   * Custom fetch with authentication using direct URL approach\n   * @param {string} endpoint - API endpoint\n   * @param {object} options - Request options\n   * @returns {Promise<any>} - API response\n   */\n  async directFetch(endpoint, options = {}) {\n    try {\n      // Extract the endpoint path regardless of format\n      let apiPath;\n      \n      // Check if it's a complete URL\n      if (endpoint.startsWith('http')) {\n        // Extract path from URL\n        const url = new URL(endpoint);\n        apiPath = url.pathname;\n        \n        // Further extract after /api/ if present\n        if (apiPath.includes('/api/')) {\n          apiPath = apiPath.substring(apiPath.indexOf('/api/') + 4);\n        }\n      } else {\n        // Handle relative paths\n        if (endpoint.includes('/api/')) {\n          // Extract everything after /api/\n          apiPath = endpoint.substring(endpoint.indexOf('/api/') + 4);\n        } else {\n          // Remove leading slash if present\n          apiPath = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\n        }\n      }\n      \n      // Construct direct URL - this ensures we use the absolute backend URL\n      const directUrl = `${this.baseUrl}/${apiPath}`;\n      console.log(`Using direct URL strategy: ${directUrl}`);\n      \n      // Check if token exists in localStorage but not in memory\n      if (!this.token) {\n        const storedToken = localStorage.getItem('coffee_system_token') || \n                           localStorage.getItem('coffee_auth_token') || \n                           localStorage.getItem('jwt_token') || null;\n        if (storedToken) {\n          console.log('Found token in localStorage but not in memory, using it for request');\n          this.token = storedToken;\n        }\n      }\n      \n      // Set headers\n      const headers = {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        ...(this.token && { 'Authorization': `Bearer ${this.token}` }),\n        ...(options.headers || {})\n      };\n      \n      if (this.debugMode) {\n        console.log(`Authorization header ${this.token ? 'set' : 'NOT set'} for request to ${directUrl}`);\n        if (this.token) {\n          console.log(`Token length: ${this.token.length}, Token prefix: ${this.token.substring(0, 10)}...`);\n        }\n        \n        console.log(`Fetching from: ${directUrl} with method: ${options.method || 'GET'}`);\n        if (options.body) {\n          console.log(`Request body: ${options.body}`);\n        }\n      }\n      \n      // Make the request\n      const response = await fetch(directUrl, {\n        ...options,\n        headers,\n        mode: 'cors',\n        // Don't include credentials to avoid CORS issues with wildcard origin\n        credentials: 'same-origin'\n      });\n      \n      if (!response.ok) {\n        // Try to get error details from response\n        let errorDetails = {};\n        try {\n          errorDetails = await response.json();\n        } catch (e) {\n          try {\n            errorDetails = { message: await response.text() };\n          } catch (e2) {\n            errorDetails = { message: `HTTP error: ${response.status} ${response.statusText}` };\n          }\n        }\n        \n        console.error(`API error: ${response.status}`, errorDetails);\n        throw new Error(errorDetails.message || `API error: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      if (this.debugMode) {\n        console.log(`Response from ${directUrl}:`, data);\n      }\n      return data;\n    } catch (error) {\n      console.error(`Error fetching from ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Set default settings in memory to prevent repeated failures\n   * @private\n   */\n  _setDefaultSettings() {\n    // Initialize default settings\n    const defaultSettings = {\n      displayMode: 'landscape',\n      soundEnabled: true,\n      autoPrintLabels: false,\n      batchSuggestions: true,\n      waitTimeWarning: 10, // minutes\n      displayTimeout: 5, // minutes\n      autoSendSmsOnComplete: true,\n      remindAfterDelay: true,\n      reminderDelay: 30, // seconds\n      showNameOnDisplay: true,\n      // Display screen settings\n      displaySettings: {\n        eventName: 'ANZCA ASM 2025',\n        organizationName: 'Australian and New Zealand College of Anaesthetists',\n        headerColor: '#1e40af', // blue-800\n        customMessage: 'Enjoy your coffee!',\n        smsNumber: '+61 123 456 789',\n        showSponsor: false,\n        sponsorName: '',\n        sponsorMessage: ''\n      },\n      // Station-specific settings (standardized structure)\n      stationSettings: {\n        // Structure: { [stationId]: { name: string, location: string } }\n      },\n      baristaSettings: {\n        // Structure: { [stationId]: string } - barista name per station\n      },\n      // Milk color settings\n      milkColors: {\n        // Standard Milks\n        \"Full Cream Milk\": \"#FFFFFF\",  // White/Cream\n        \"Skim Milk\": \"#ADD8E6\",  // Light Blue\n        \"Reduced Fat Milk\": \"#D3D3D3\",  // Light Gray\n        \"Lactose-Free Milk\": \"#FAFAFA\",  // White with special border\n        \n        // Alternative Milks\n        \"Soy Milk\": \"#FFFACD\",  // Yellow\n        \"Oat Milk\": \"#FFCCCB\",  // Light Red\n        \"Almond Milk\": \"#EADDCA\",  // Light Blue-Brown\n        \"Coconut Milk\": \"#D0F0C0\",  // Light Green\n        \"Macadamia Milk\": \"#D2B48C\",  // Soft Brown\n        \"Rice Milk\": \"#E6E6FA\"   // Light Purple\n      }\n    };\n    \n    // Set as initial cache\n    this.settingsCache = defaultSettings;\n    this.cacheTime = Date.now();\n  }\n\n  /**\n   * Get all system settings\n   * @param {boolean} forceRefresh - Force refresh from server instead of using cache\n   * @returns {Promise<Object>} - System settings\n   */\n  async getSettings(forceRefresh = false) {\n    try {\n      // Use cache if available and not expired\n      const now = Date.now();\n      if (!forceRefresh && this.settingsCache && (now - this.cacheTime) < this.cacheLifetime) {\n        return this.settingsCache;\n      }\n      \n      // Check if we've recently had a JWT error to avoid constant retries\n      const timeSinceLastJwtError = now - this.lastJwtError;\n      if (timeSinceLastJwtError < this.jwtErrorDebounce) {\n        console.log(`Skipping API call due to recent JWT error (${Math.round(timeSinceLastJwtError/1000)}s ago)`);\n        return this.settingsCache; // Return cached settings instead of making API call\n      }\n\n      let response;\n\n      // Use direct URL approach first\n      const directUrl = `${this.baseUrl}/settings`;\n      console.log(`Using direct URL for settings: ${directUrl}`);\n      \n      try {\n        // Try direct URL approach\n        response = await this.directFetch('settings', {\n          method: 'GET'\n        });\n        \n        console.log(' Got response from direct URL:', response);\n      } catch (directError) {\n        console.error('Direct URL approach failed:', directError);\n        \n        // Check for JWT error\n        if (directError.message && directError.message.includes('Signature verification')) {\n          console.warn('JWT token error detected, using cached settings to prevent flickering');\n          this.lastJwtError = now; // Record the time of this JWT error\n          return this.settingsCache; // Return cached settings instead of retrying\n        }\n        \n        // Fall back to the inherited method\n        try {\n          console.log('Falling back to inherited method');\n          response = await this.get('/settings');\n        } catch (fallbackError) {\n          console.error('Fallback method failed:', fallbackError);\n          \n          // Check for JWT error in fallback also\n          if (fallbackError.message && fallbackError.message.includes('Signature verification')) {\n            console.warn('JWT token error detected in fallback, using cached settings');\n            this.lastJwtError = now; // Record the time of this JWT error\n            return this.settingsCache;\n          }\n          \n          // Return cached settings instead of throwing\n          console.warn('Using cached settings due to API failure');\n          return this.settingsCache;\n        }\n      }\n\n      if (!response) {\n        console.warn('No response received from server, using cached settings');\n        return this.settingsCache;\n      }\n\n      // Merge API response with localStorage settings for persistence (deep merge)\n      const localStorageSettings = this.loadSettingsFromLocalStorage();\n      const mergedSettings = this.deepMergeSettings(response, localStorageSettings);\n      \n      // Update cache\n      this.settingsCache = mergedSettings;\n      this.cacheTime = now;\n\n      console.log(' Merged API settings with localStorage settings');\n      return mergedSettings;\n    } catch (error) {\n      console.error('Failed to fetch settings:', error);\n      // Return cached settings instead of creating new default settings\n      return this.settingsCache;\n    }\n  }\n\n  /**\n   * Update a specific setting\n   * @param {string} key - Setting key\n   * @param {any} value - Setting value\n   * @returns {Promise<Object>} - Updated settings\n   */\n  async updateSetting(key, value) {\n    try {\n      // Update cache first for responsive UI\n      if (this.settingsCache) {\n        this.settingsCache = {\n          ...this.settingsCache,\n          [key]: value\n        };\n      }\n      \n      // Check if we've recently had a JWT error to avoid constant retries\n      const now = Date.now();\n      const timeSinceLastJwtError = now - this.lastJwtError;\n      if (timeSinceLastJwtError < this.jwtErrorDebounce) {\n        console.log(`Skipping API call due to recent JWT error (${Math.round(timeSinceLastJwtError/1000)}s ago)`);\n        return { [key]: value }; // Return simple object showing the update was applied locally\n      }\n      \n      try {\n        // Use individual setting endpoint approach\n        const response = await this.directFetch(`settings/${key}`, {\n          method: 'POST',\n          body: JSON.stringify({ value: value })\n        });\n        \n        if (response && response.success) {\n          // Save successful server update to localStorage for persistence\n          this.saveSettingToLocalStorage(key, value);\n          return response.settings || { [key]: value };\n        }\n        \n        // Server update failed, but save to localStorage for persistence\n        console.warn(`Server update failed for ${key}, saving to localStorage for persistence`);\n        this.saveSettingToLocalStorage(key, value);\n        return { [key]: value };\n      } catch (error) {\n        // Check for JWT error\n        if (error.message && error.message.includes('Signature verification')) {\n          console.warn('JWT token error detected during setting update, cached value will be used');\n          this.lastJwtError = now; // Record the time of this JWT error\n          this.saveSettingToLocalStorage(key, value); // Save to localStorage for persistence\n          return { [key]: value }; // Return simple success since we updated the cache\n        }\n        \n        console.error(`API call failed for setting ${key}, saving to localStorage:`, error);\n        this.saveSettingToLocalStorage(key, value); // Save to localStorage for persistence\n        return { [key]: value }; // Return success anyway since cache is updated\n      }\n    } catch (error) {\n      console.error(`Failed to update setting ${key}:`, error);\n      // Save to localStorage even if everything fails\n      this.saveSettingToLocalStorage(key, value);\n      return { [key]: value, warning: 'Cached only' };\n    }\n  }\n\n  /**\n   * Save individual setting to localStorage for persistence\n   * @private\n   */\n  saveSettingToLocalStorage(key, value) {\n    try {\n      const existingSettings = JSON.parse(localStorage.getItem('coffee_cue_settings') || '{}');\n      existingSettings[key] = value;\n      localStorage.setItem('coffee_cue_settings', JSON.stringify(existingSettings));\n      console.log(` Saved setting ${key}=${value} to localStorage`);\n    } catch (error) {\n      console.error('Failed to save setting to localStorage:', error);\n    }\n  }\n\n  /**\n   * Load settings from localStorage to merge with defaults/API data\n   * @private\n   */\n  loadSettingsFromLocalStorage() {\n    try {\n      const savedSettings = localStorage.getItem('coffee_cue_settings');\n      if (savedSettings) {\n        return JSON.parse(savedSettings);\n      }\n    } catch (error) {\n      console.error('Failed to load settings from localStorage:', error);\n    }\n    return {};\n  }\n\n  /**\n   * Deep merge settings objects, with localStorage taking precedence\n   * @private\n   */\n  deepMergeSettings(apiSettings, localStorageSettings) {\n    const merged = { ...apiSettings };\n    \n    for (const key in localStorageSettings) {\n      if (Object.prototype.hasOwnProperty.call(localStorageSettings, key)) {\n        const localValue = localStorageSettings[key];\n        const apiValue = merged[key];\n        \n        // If both values are objects (but not arrays), merge them recursively\n        if (\n          localValue && \n          typeof localValue === 'object' && \n          !Array.isArray(localValue) &&\n          apiValue && \n          typeof apiValue === 'object' && \n          !Array.isArray(apiValue)\n        ) {\n          merged[key] = {\n            ...apiValue,\n            ...localValue // localStorage takes precedence in nested objects too\n          };\n        } else {\n          // For primitive values, localStorage takes precedence\n          merged[key] = localValue;\n        }\n      }\n    }\n    \n    console.log(' Deep merged settings - localStorage overrides:', Object.keys(localStorageSettings));\n    return merged;\n  }\n\n  /**\n   * Update multiple settings at once\n   * @param {Object} settings - Settings to update\n   * @returns {Promise<Object>} - Updated settings\n   */\n  async updateSettings(settings) {\n    try {\n      // Update local storage immediately\n      const currentSettings = JSON.parse(localStorage.getItem('coffee_system_settings') || '{}');\n      const updatedSettings = {\n        ...currentSettings,\n        ...settings\n      };\n      localStorage.setItem('coffee_system_settings', JSON.stringify(updatedSettings));\n      \n      // Update cache\n      if (this.settingsCache) {\n        this.settingsCache = {\n          ...this.settingsCache,\n          ...settings\n        };\n      }\n      \n      // Try to sync with backend (but don't fail if it doesn't work)\n      try {\n        const response = await this.directFetch('settings', {\n          method: 'PUT',\n          body: JSON.stringify(settings)\n        });\n        \n        if (response && response.success) {\n          return response.settings || updatedSettings;\n        }\n      } catch (apiError) {\n        console.warn('Failed to sync settings with backend, but saved locally:', apiError);\n      }\n      \n      return updatedSettings;\n    } catch (error) {\n      console.error('Failed to update settings:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Reset settings to default values\n   * @returns {Promise<Object>} - Default settings\n   */\n  async resetSettings() {\n    try {\n      // Use direct URL approach\n      const response = await this.directFetch('settings/reset', {\n        method: 'POST'\n      });\n      \n      if (response && response.success) {\n        // Update cache if successful\n        this.settingsCache = response.settings;\n        this.cacheTime = Date.now();\n        \n        return response.settings;\n      }\n      \n      throw new Error(response?.error || 'Failed to reset settings');\n    } catch (error) {\n      console.error('Failed to reset settings:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get specific setting by key\n   * @param {string} key - Setting key\n   * @returns {Promise<any>} - Setting value\n   */\n  async getSetting(key) {\n    try {\n      // Try to get from cache first\n      if (this.settingsCache && this.settingsCache[key] !== undefined) {\n        return this.settingsCache[key];\n      }\n      \n      // If not in cache or cache expired, fetch all settings\n      const settings = await this.getSettings();\n      return settings[key];\n    } catch (error) {\n      console.error(`Failed to get setting ${key}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update wait time settings\n   * @param {number} waitTime - New wait time in minutes\n   * @returns {Promise<Object>} - Response with success status\n   */\n  async updateWaitTime(waitTime) {\n    try {\n      // Use direct URL approach\n      const response = await this.directFetch('settings/wait-time', {\n        method: 'POST',\n        body: JSON.stringify({ waitTime })\n      });\n      \n      if (response && response.success) {\n        // Update cache if successful\n        if (this.settingsCache) {\n          this.settingsCache.defaultWaitTime = waitTime;\n        }\n        \n        return response;\n      }\n      \n      throw new Error(response?.error || 'Failed to update wait time');\n    } catch (error) {\n      console.error('Failed to update wait time:', error);\n      throw error;\n    }\n  }\n}\n\n// Export singleton instance\nexport default new SettingsService();","// components/dialogs/WalkInOrderDialog.js\nimport React, { useState, useEffect } from 'react';\nimport { XCircle, Search, Coffee, Users, Star, AlertTriangle } from 'lucide-react';\nimport { DEFAULT_MILK_TYPES, getStandardMilks, getAlternativeMilks } from '../../utils/milkConfig';\nimport SettingsService from '../../services/SettingsService';\nimport StockService from '../../services/StockService';\nimport useStations from '../../hooks/useStations';\n\nconst WalkInOrderDialog = ({ onSubmit, onClose }) => {\n  const { getCurrentStation, stations } = useStations();\n  const currentStation = getCurrentStation();\n  \n  const [availableMilks, setAvailableMilks] = useState(DEFAULT_MILK_TYPES);\n  const [availableCoffeeTypes, setAvailableCoffeeTypes] = useState([]);\n  const [availableSizes, setAvailableSizes] = useState(['Small', 'Regular', 'Large']);\n  const [stationInventory, setStationInventory] = useState(null);\n  const [loadingInventory, setLoadingInventory] = useState(true);\n  const [inventoryError, setInventoryError] = useState(null);\n  const [coffeeInventoryWarning, setCoffeeInventoryWarning] = useState(false);\n  \n  const [orderDetails, setOrderDetails] = useState({\n    customerName: '',\n    phoneNumber: '',\n    coffeeType: 'Flat White',\n    size: 'Regular',\n    shots: '1', // Default to single shot\n    milkType: 'full_cream', // Use milk ID instead of display name\n    sugar: 'No sugar',\n    extraHot: false,\n    priority: false, // VIP flag for staff/VIP orders\n    notes: '',\n    collectionStation: null // null means collect at same station\n  });\n  \n  // State for group code lookup\n  const [groupCodeInput, setGroupCodeInput] = useState('');\n  const [groupOrder, setGroupOrder] = useState(null);\n  const [isLookingUp, setIsLookingUp] = useState(false);\n  \n  // Determine which station's inventory to load\n  const targetStationId = orderDetails.collectionStation || currentStation?.id;\n  const targetStation = orderDetails.collectionStation \n    ? stations.find(s => s.id === orderDetails.collectionStation)\n    : currentStation;\n\n  // Initialize StockService for the target station\n  useEffect(() => {\n    if (targetStation) {\n      console.log(`Initializing StockService for station: ${targetStation.id} (${targetStation.name})`);\n      StockService.initialize(targetStation.id, targetStation.name);\n    }\n  }, [targetStation]);\n\n  // Load station inventory and available options\n  useEffect(() => {\n    const loadStationInventory = async () => {\n      if (!targetStation) return;\n      \n      setLoadingInventory(true);\n      setInventoryError(null);\n      \n      try {\n        console.log(`Loading inventory for station ${targetStation.id} (${targetStation.name})`);\n        \n        // If we're loading inventory for a different station, fetch from API\n        let inventory;\n        if (orderDetails.collectionStation && orderDetails.collectionStation !== currentStation?.id) {\n          // Fetch inventory from API for the collection station\n          try {\n            const response = await fetch(`/api/inventory?station_id=${targetStation.id}`, {\n              headers: {\n                'Authorization': `Bearer ${localStorage.getItem('coffee_system_token')}`,\n                'Accept': 'application/json'\n              }\n            });\n            \n            if (response.ok) {\n              const data = await response.json();\n              \n              // Transform API response to match StockService format\n              inventory = {\n                milk: [],\n                coffee: [],\n                cups: [],\n                lastUpdated: new Date().toISOString()\n              };\n              \n              if (data.items) {\n                data.items.forEach(item => {\n                  if (item.category === 'milk') {\n                    inventory.milk.push({\n                      id: item.name.toLowerCase().replace(/\\s+/g, '_'),\n                      name: item.name,\n                      amount: item.amount || 0,\n                      unit: item.unit || 'L'\n                    });\n                  } else if (item.category === 'coffee') {\n                    inventory.coffee.push({\n                      id: item.name.toLowerCase().replace(/\\s+/g, '_'),\n                      name: item.name,\n                      amount: item.amount || 0,\n                      unit: item.unit || 'kg'\n                    });\n                  } else if (item.category === 'cups') {\n                    inventory.cups.push({\n                      id: item.name.toLowerCase().replace(/\\s+/g, '_'),\n                      name: item.name,\n                      amount: item.amount || 0,\n                      unit: item.unit || 'units'\n                    });\n                  }\n                });\n              }\n              \n              console.log('Loaded inventory from API for station:', targetStation.id, inventory);\n            } else {\n              throw new Error('Failed to fetch inventory from API');\n            }\n          } catch (apiError) {\n            console.error('Error fetching inventory from API:', apiError);\n            // Fall back to local stock service\n            inventory = StockService.getLocalStock();\n          }\n        } else {\n          // Use local stock service for current station\n          inventory = StockService.getLocalStock();\n        }\n        \n        setStationInventory(inventory);\n        \n        // Also load global settings for milk types\n        const settings = await SettingsService.getSettings();\n        \n        // Debug logging for settings\n        console.log('Global settings loaded:', settings);\n        \n        // Check if we have any milk settings at all\n        if (!settings || !settings.availableMilks) {\n          console.warn('No global milk settings found! You need to configure available milks in the settings panel.');\n        }\n        \n        // Process milk inventory - ROBUST APPROACH to support current and future milk options\n        if (inventory && inventory.milk) {\n          try {\n            console.log(`Processing milk inventory for station ${targetStation.id} (${targetStation.name})`);\n            \n            // FLEXIBLE APPROACH: Build a complete set of milk options for this station\n            const stationMilkTypes = [];\n            \n            // Get ONLY the milk items with amount > 0 directly from inventory\n            const inStockMilkItems = inventory.milk.filter(item => item.amount > 0);\n            console.log('In-stock milk items in inventory:', inStockMilkItems.map(m => `${m.id} (${m.amount} ${m.unit})`));\n            \n            // DEBUG: Log all milk items to check if we have any with zero amount\n            const allMilkItems = inventory.milk;\n            console.log('ALL milk items in inventory:', allMilkItems.map(m => `${m.id} (${m.amount} ${m.unit})`));\n            \n            // Log zero-amount milk items for debugging\n            const zeroMilkItems = inventory.milk.filter(item => item.amount <= 0);\n            if (zeroMilkItems.length > 0) {\n              console.log('ZERO AMOUNT milk items (these will be EXCLUDED):', \n                zeroMilkItems.map(m => `${m.id} (${m.name})`));\n            }\n            \n            // STEP 1: Match inventory items to existing milk definitions\n            // For any items that don't match, create new definitions automatically\n            inStockMilkItems.forEach(inventoryItem => {\n              // First, clean up and normalize the inventory item ID\n              const itemId = inventoryItem.id;\n              \n              // Determine base ID with or without milk_ prefix\n              const baseId = itemId.startsWith('milk_') ? itemId.substring(5) : itemId;\n              const prefixedId = itemId.startsWith('milk_') ? itemId : `milk_${itemId}`;\n              \n              // Try to find a matching milk type in DEFAULT_MILK_TYPES\n              let matchingMilk = DEFAULT_MILK_TYPES.find(milk => \n                milk.id === baseId || milk.id === prefixedId || \n                milk.id === itemId\n              );\n              \n              if (matchingMilk) {\n                // We found a matching milk definition, use it\n                console.log(`Found matching milk type for inventory item ${itemId}: ${matchingMilk.name}`);\n                stationMilkTypes.push({\n                  ...matchingMilk,\n                  // Add inventory information for reference\n                  inventoryAmount: inventoryItem.amount,\n                  inventoryUnit: inventoryItem.unit\n                });\n              } else {\n                // No matching definition found - create a new one on the fly\n                console.log(`Creating new milk type definition for inventory item: ${itemId}`);\n                \n                // Determine category and properties based on naming patterns\n                const itemName = inventoryItem.name || baseId;\n                const isAlternative = (\n                  itemName.toLowerCase().includes('soy') ||\n                  itemName.toLowerCase().includes('almond') ||\n                  itemName.toLowerCase().includes('oat') ||\n                  itemName.toLowerCase().includes('coconut') ||\n                  itemName.toLowerCase().includes('rice') ||\n                  itemName.toLowerCase().includes('hemp') ||\n                  itemName.toLowerCase().includes('pea') ||\n                  itemName.toLowerCase().includes('macadamia') ||\n                  itemName.toLowerCase().includes('cashew')\n                );\n                \n                // Create new milk type definition\n                const newMilkType = {\n                  id: baseId,  // Use normalized ID without prefix\n                  name: inventoryItem.name || `${baseId.charAt(0).toUpperCase() + baseId.slice(1)} Milk`,\n                  category: isAlternative ? 'alternative' : 'standard',\n                  available: true,\n                  properties: {\n                    dairyFree: isAlternative,\n                    lactoseFree: isAlternative,\n                    vegan: isAlternative,\n                    lowFat: itemName.toLowerCase().includes('skim') || itemName.toLowerCase().includes('low')\n                  },\n                  // Add inventory information for reference\n                  inventoryAmount: inventoryItem.amount,\n                  inventoryUnit: inventoryItem.unit\n                };\n                \n                console.log(`Created new milk type: ${newMilkType.name} (${newMilkType.category})`);\n                stationMilkTypes.push(newMilkType);\n              }\n            });\n            \n            // STEP 2: Also check global settings if available\n            // This allows event-wide restrictions to be applied\n            const filteredMilkTypes = settings && settings.availableMilks \n              ? stationMilkTypes.filter(milk => {\n                  // Try all possible ID variants for maximum compatibility\n                  const baseId = milk.id.startsWith('milk_') ? milk.id.substring(5) : milk.id;\n                  const prefixedId = milk.id.startsWith('milk_') ? milk.id : `milk_${milk.id}`;\n                  \n                  return settings.availableMilks[milk.id] === true || \n                         settings.availableMilks[baseId] === true ||\n                         settings.availableMilks[prefixedId] === true;\n                })\n              : stationMilkTypes;\n            \n            // STEP 3: Set the available milk types\n            console.log('FINAL MILK OPTIONS:', filteredMilkTypes.map(m => `${m.name} [ID: ${m.id}]`));\n            \n            // Compare against all milk types to see what's being excluded\n            const excludedMilkTypes = DEFAULT_MILK_TYPES.filter(defaultMilk => \n              !filteredMilkTypes.some(milk => \n                milk.id === defaultMilk.id || \n                (defaultMilk.id.startsWith('milk_') && milk.id === defaultMilk.id.substring(5)) ||\n                (!defaultMilk.id.startsWith('milk_') && milk.id === `milk_${defaultMilk.id}`)\n              )\n            );\n            \n            if (excludedMilkTypes.length > 0) {\n              console.log('EXCLUDED MILK TYPES:', excludedMilkTypes.map(m => m.name));\n            }\n            \n            setAvailableMilks(filteredMilkTypes);\n            \n            // Warn if no milk options are available\n            if (filteredMilkTypes.length === 0) {\n              console.warn(' WARNING: No milk options available for this station!');\n              setInventoryError('No milk options available for this station. Please check your inventory.');\n            } else {\n              console.log(`Station ${targetStation.id} has ${filteredMilkTypes.length} milk types available`);\n            }\n          } catch (error) {\n            console.error('Error processing milk inventory:', error);\n            setInventoryError('Failed to process milk inventory: ' + error.message);\n          }\n        } else {\n          console.warn(' WARNING: No milk inventory found for this station!');\n          setInventoryError('No milk inventory found for this station. Please check your station setup.');\n        }\n        \n        // Process coffee inventory and menu configuration\n        try {\n          // Get available coffee items from StockService\n          const availableCoffeeItems = StockService.getAvailableCoffeeTypes();\n          console.log('Available coffee items from inventory:', availableCoffeeItems.map(c => c.name));\n          \n          // Load menu configuration\n          const savedMenu = localStorage.getItem('event_menu');\n          const globalMenuEnabled = localStorage.getItem('global_menu_enabled') !== 'false';\n          let menuItems = {};\n          \n          if (savedMenu) {\n            try {\n              menuItems = JSON.parse(savedMenu);\n            } catch (e) {\n              console.error('Error parsing menu:', e);\n            }\n          }\n          \n          // Determine which coffee drink types should be available based on menu configuration\n          const coffeeTypes = [];\n          \n          // Convert menu items to coffee type names\n          Object.values(menuItems).forEach(drink => {\n            if (drink.enabled) {\n              // Check if this drink is available at the target station\n              if (globalMenuEnabled || !drink.stationAvailability || drink.stationAvailability[targetStation.id] !== false) {\n                // Map drink names to simpler display names\n                let displayName = drink.name;\n                \n                // Add to available coffee types\n                if (!coffeeTypes.includes(displayName)) {\n                  coffeeTypes.push(displayName);\n                }\n                \n                // Special handling for specific bean types if available\n                const hasDecaf = availableCoffeeItems.some(c => \n                  c.name.toLowerCase().includes('decaf') || c.id.toLowerCase().includes('decaf')\n                );\n                \n                if (hasDecaf && ['Espresso', 'Flat White', 'Latte'].includes(displayName)) {\n                  const decafName = `Decaf ${displayName}`;\n                  if (!coffeeTypes.includes(decafName)) {\n                    coffeeTypes.push(decafName);\n                  }\n                }\n              }\n            }\n          });\n          \n          // If no coffee types from menu (shouldn't happen), use defaults\n          if (coffeeTypes.length === 0) {\n            console.warn('No coffee types found in menu, using defaults');\n            coffeeTypes.push(\n              'Espresso', 'Long Black', 'Flat White', 'Cappuccino', 'Latte', 'Mocha',\n              'Hot Chocolate', 'Chai Latte', 'Tea'\n            );\n          }\n          \n          // Sort the coffee types alphabetically for better organization\n          coffeeTypes.sort();\n          \n          // Check if we have coffee beans for warning purposes\n          const hasCoffeeBeans = availableCoffeeItems.length > 0;\n          \n          // Store whether we have coffee beans for warning display\n          setCoffeeInventoryWarning(!hasCoffeeBeans);\n          if (!hasCoffeeBeans) {\n            console.warn(`Station ${targetStation.id} has no coffee beans in inventory - inventory warning should be shown`);\n          }\n          \n          setAvailableCoffeeTypes(coffeeTypes);\n          console.log(`Station ${targetStation.id} has ${coffeeTypes.length} coffee drink types available from menu`);\n        } catch (error) {\n          console.error('Error processing coffee inventory:', error);\n          setInventoryError('Failed to process coffee inventory: ' + error.message);\n          // Set default coffee types on error\n          setAvailableCoffeeTypes([\n            'Espresso', 'Long Black', 'Flat White', 'Cappuccino', 'Latte', 'Mocha',\n            'Hot Chocolate', 'Chai Latte', 'Tea'\n          ]);\n        }\n        \n        // Process cup sizes inventory directly from station inventory\n        try {\n          if (inventory && inventory.cups && Array.isArray(inventory.cups)) {\n            // Get cups with amount > 0 directly from inventory\n            const availableCups = inventory.cups.filter(cup => cup.amount > 0);\n            console.log('Available cups in inventory:', availableCups.map(c => c.name));\n            \n            // Determine available sizes based on cup inventory\n            const availableCupSizes = [];\n            \n            // Check for each standard cup size\n            if (availableCups.some(c => c.id === 'cups_small' || c.name.toLowerCase().includes('small'))) {\n              availableCupSizes.push('Small');\n            }\n            \n            if (availableCups.some(c => c.id === 'cups_medium' || c.name.toLowerCase().includes('medium') || c.name.toLowerCase().includes('regular'))) {\n              availableCupSizes.push('Regular');\n            }\n            \n            if (availableCups.some(c => c.id === 'cups_large' || c.name.toLowerCase().includes('large'))) {\n              availableCupSizes.push('Large');\n            }\n            \n            // Make sure we have at least one size available, default to Regular if none\n            if (availableCupSizes.length === 0) {\n              availableCupSizes.push('Regular');\n              console.warn('No cup sizes available in inventory, defaulting to Regular');\n            }\n            \n            setAvailableSizes(availableCupSizes);\n            console.log(`Station ${targetStation.id} has ${availableCupSizes.length} cup sizes available: ${availableCupSizes.join(', ')}`);\n          } else {\n            // No cup inventory found, use defaults\n            setAvailableSizes(['Small', 'Regular', 'Large']);\n            console.warn('No cup inventory found, using default sizes');\n          }\n        } catch (error) {\n          console.error('Error processing cup sizes inventory:', error);\n          setInventoryError('Failed to process cup sizes inventory: ' + error.message);\n        }\n      } catch (error) {\n        console.error('Error loading station inventory:', error);\n        setInventoryError('Failed to load station inventory');\n      } finally {\n        setLoadingInventory(false);\n      }\n    };\n    \n    loadStationInventory();\n  }, [targetStation, orderDetails.collectionStation]);\n\n  // Reset form values to valid defaults when available options change\n  useEffect(() => {\n    let updatedDetails = { ...orderDetails };\n    let hasChanges = false;\n\n    // Check if selected coffee type is still available\n    if (!availableCoffeeTypes.includes(orderDetails.coffeeType)) {\n      updatedDetails.coffeeType = availableCoffeeTypes[0] || 'Flat White';\n      hasChanges = true;\n    }\n\n    // Check if selected size is still available\n    if (!availableSizes.includes(orderDetails.size)) {\n      updatedDetails.size = availableSizes[0] || 'Regular';\n      hasChanges = true;\n    }\n\n    // Check if selected milk is still available\n    if (!availableMilks.some(milk => milk.id === orderDetails.milkType)) {\n      updatedDetails.milkType = availableMilks.length > 0 ? availableMilks[0].id : 'no_milk';\n      hasChanges = true;\n    }\n\n    if (hasChanges) {\n      setOrderDetails(updatedDetails);\n    }\n  }, [availableCoffeeTypes, availableSizes, availableMilks]);\n  \n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    \n    // Create updated order details \n    const updatedDetails = {\n      ...orderDetails,\n      [name]: type === 'checkbox' ? checked : value\n    };\n    \n    // If notes field is being updated, check for VIP keywords\n    if (name === 'notes') {\n      const notesLower = value.toLowerCase();\n      const vipKeywords = ['vip', 'staff', 'organizer', 'organiser', 'priority'];\n      const hasVipKeyword = vipKeywords.some(keyword => notesLower.includes(keyword));\n      \n      // Automatically check the priority checkbox if VIP keyword is found\n      if (hasVipKeyword) {\n        updatedDetails.priority = true;\n      }\n    }\n    \n    setOrderDetails(updatedDetails);\n  };\n  \n  // Function to lookup a group by its code\n  const lookupGroupCode = () => {\n    if (!groupCodeInput) {\n      alert('Please enter a group code');\n      return;\n    }\n    \n    setIsLookingUp(true);\n    \n    try {\n      // Get saved groups from localStorage\n      const savedGroupsData = localStorage.getItem('coffee_group_orders');\n      let savedGroups = [];\n      \n      if (savedGroupsData) {\n        savedGroups = JSON.parse(savedGroupsData);\n      }\n      \n      // Find group with matching code\n      const foundGroup = savedGroups.find(\n        group => group.groupCode === groupCodeInput || group.groupCode.toLowerCase() === groupCodeInput.toLowerCase()\n      );\n      \n      if (foundGroup) {\n        setGroupOrder(foundGroup);\n        \n        // Check if group has VIP/priority in notes\n        const groupNotesLower = (foundGroup.notes || '').toLowerCase();\n        const vipKeywords = ['vip', 'staff', 'organizer', 'organiser', 'priority'];\n        const hasVipKeyword = vipKeywords.some(keyword => groupNotesLower.includes(keyword));\n        \n        if (hasVipKeyword) {\n          // Update order details with priority flag\n          setOrderDetails(prev => ({\n            ...prev,\n            priority: true,\n            notes: prev.notes + (prev.notes ? ' ' : '') + `Group: ${foundGroup.groupName} (${foundGroup.groupCode})`\n          }));\n        } else {\n          // Just update the notes field\n          setOrderDetails(prev => ({\n            ...prev,\n            notes: prev.notes + (prev.notes ? ' ' : '') + `Group: ${foundGroup.groupName} (${foundGroup.groupCode})`\n          }));\n        }\n      } else {\n        alert('No group found with that code');\n        setGroupOrder(null);\n      }\n    } catch (err) {\n      console.error('Error looking up group code:', err);\n      alert('Failed to lookup group code');\n    } finally {\n      setIsLookingUp(false);\n    }\n  };\n  \n  // Handle group order submission - submits all coffees in the group at once\n  const handleSubmitGroup = () => {\n    if (!groupOrder) return;\n    \n    // This will pass the entire group to the parent component for processing\n    if (onSubmit) {\n      onSubmit(groupOrder, 'group');\n    }\n    \n    // Close the dialog after submission\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // Create new order object\n    const selectedMilk = orderDetails.milkType === 'no_milk' \n      ? { id: 'no_milk', name: 'No milk', properties: { dairyFree: true, lactoseFree: true, vegan: true }}\n      : (DEFAULT_MILK_TYPES.find(milk => milk.id === orderDetails.milkType) || DEFAULT_MILK_TYPES[0]);\n    \n    // Check if any VIP/organizer codes appear in the notes\n    // We'll look for common VIP indicators like \"VIP\", \"staff\", \"organizer\", \"organiser\"\n    // This list can be expanded or modified as needed\n    const notesLower = (orderDetails.notes || '').toLowerCase();\n    const vipKeywords = ['vip', 'staff', 'organizer', 'organiser', 'priority'];\n    const hasVipKeyword = vipKeywords.some(keyword => notesLower.includes(keyword));\n    \n    // Set priority if explicitly checked or if VIP keyword is in notes\n    const isPriority = orderDetails.priority || hasVipKeyword;\n    \n    // Include shot information in the coffee type description if not single shot\n    const shotsText = orderDetails.shots === '1' ? '' : \n                      orderDetails.shots === '0.5' ? ' (1/2 shot)' :\n                      orderDetails.shots === '2' ? ' (double shot)' :\n                      orderDetails.shots === '3' ? ' (triple shot)' : '';\n    \n    const newOrder = {\n      customer_name: orderDetails.customerName, // Backend expects snake_case\n      phone_number: orderDetails.phoneNumber || 'Walk-in', // Backend expects snake_case\n      coffee_type: `${orderDetails.size} ${orderDetails.coffeeType}${shotsText}`, // Backend expects snake_case\n      milk_type: selectedMilk.name, // Backend expects snake_case\n      milk_type_id: selectedMilk.id, // Backend expects snake_case\n      alternative_milk: selectedMilk.id !== 'no_milk' ? (selectedMilk.category === 'alternative') : false, // Backend expects snake_case\n      dairy_free: selectedMilk.properties?.dairyFree || false, // Backend expects snake_case\n      sugar: orderDetails.sugar,\n      extra_hot: orderDetails.extraHot, // Backend expects snake_case\n      priority: isPriority, // Set priority based on checkbox OR keywords in notes\n      notes: orderDetails.notes,\n      shots: parseFloat(orderDetails.shots), // Include shot count for usage calculations\n      is_walk_in: true, // Backend expects snake_case\n      collection_station: orderDetails.collectionStation || null // Backend expects snake_case\n    };\n    \n    onSubmit(newOrder);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full\">\n        {/* Station inventory status message */}\n        {targetStation && !loadingInventory && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded p-2 mb-4 text-sm\">\n            <div className=\"font-medium text-blue-800 flex items-center\">\n              <Coffee size={16} className=\"mr-1 text-amber-600\" />\n              {orderDetails.collectionStation \n                ? `Showing options available at collection station: ${targetStation.name}`\n                : `Creating order for station: ${targetStation.name}`\n              }\n            </div>\n            <div className=\"text-xs text-blue-600\">\n              {orderDetails.collectionStation \n                ? 'Coffee, milk, and size options are based on the collection station\\'s inventory'\n                : 'Only showing milk and coffee options available at this station'\n              }\n            </div>\n            \n            {/* Limited inventory warnings */}\n            {availableMilks.length < 4 && (\n              <div className=\"mt-1 text-xs text-amber-600 flex items-center\">\n                <AlertTriangle size={12} className=\"inline mr-1\" />\n                Limited milk options at this station ({availableMilks.length} available)\n              </div>\n            )}\n            \n            {availableCoffeeTypes.length < 7 && (\n              <div className=\"mt-1 text-xs text-amber-600 flex items-center\">\n                <AlertTriangle size={12} className=\"inline mr-1\" />\n                Limited coffee options at this station ({availableCoffeeTypes.length} available)\n              </div>\n            )}\n            \n            {availableSizes.length < 3 && (\n              <div className=\"mt-1 text-xs text-amber-600 flex items-center\">\n                <AlertTriangle size={12} className=\"inline mr-1\" />\n                Limited cup sizes at this station ({availableSizes.length} available)\n              </div>\n            )}\n          </div>\n        )}\n        \n        {/* Loading indicator */}\n        {loadingInventory && (\n          <div className=\"bg-gray-50 border border-gray-200 rounded p-4 mb-4 text-center\">\n            <div className=\"animate-pulse text-gray-600\">\n              Loading inventory for {targetStation?.name || 'station'}...\n            </div>\n          </div>\n        )}\n        \n        {/* Error message */}\n        {inventoryError && (\n          <div className=\"bg-red-50 border border-red-200 rounded p-2 mb-4 text-sm\">\n            <div className=\"font-medium text-red-800 flex items-center\">\n              <AlertTriangle size={16} className=\"mr-1\" />\n              {inventoryError}\n            </div>\n            <div className=\"text-xs text-red-600\">\n              Using default options instead. Some options might not be available at this station.\n            </div>\n          </div>\n        )}\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-bold\">Add Walk-in Order</h3>\n          <button \n            className=\"text-gray-500 hover:text-gray-700\"\n            onClick={onClose}\n          >\n            <XCircle size={20} />\n          </button>\n        </div>\n\n        {/* Group Code Lookup Section */}\n        <div className=\"bg-blue-50 p-3 mb-4 rounded-lg border-2 border-blue-300\">\n          <h4 className=\"text-sm font-semibold mb-2 text-blue-800 flex items-center\">\n            <Coffee size={16} className=\"mr-1 text-blue-600\" /> \n            Group Order Lookup \n            <span className=\"ml-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full\">NEW</span>\n          </h4>\n          <div className=\"flex space-x-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter group code (e.g. ASM-1234)\"\n              className=\"flex-1 p-2 border rounded\"\n              value={groupCodeInput}\n              onChange={(e) => setGroupCodeInput(e.target.value)}\n            />\n            <button\n              type=\"button\"\n              className=\"bg-blue-600 text-white px-3 py-2 rounded flex items-center\"\n              onClick={lookupGroupCode}\n              disabled={isLookingUp}\n            >\n              {isLookingUp ? 'Looking up...' : <><Search size={16} className=\"mr-1\" /> Lookup</>}\n            </button>\n          </div>\n          <p className=\"text-xs text-blue-600 mt-1\">\n            <strong>NEW FEATURE:</strong> Enter a group code to retrieve a pre-saved group order. Organizers can create group orders with priority status, and they'll be processed together.\n          </p>\n          \n          {/* Found Group Display */}\n          {groupOrder && (\n            <div className=\"mt-3 bg-white p-3 rounded-lg border border-blue-200\">\n              <div className=\"flex justify-between items-start\">\n                <div>\n                  <h5 className=\"font-semibold\">{groupOrder.groupName}</h5>\n                  <div className=\"text-sm text-gray-600\">Code: {groupOrder.groupCode}</div>\n                  {groupOrder.notes && (\n                    <div className=\"text-sm mt-1\">\n                      {groupOrder.notes.toLowerCase().includes('vip') || \n                       groupOrder.notes.toLowerCase().includes('staff') || \n                       groupOrder.notes.toLowerCase().includes('priority') ? (\n                        <div className=\"flex items-center\">\n                          <Star size={14} className=\"text-red-500 mr-1\" />\n                          <span className=\"font-medium text-red-600\">{groupOrder.notes}</span>\n                        </div>\n                      ) : (\n                        <span className=\"italic\">{groupOrder.notes}</span>\n                      )}\n                    </div>\n                  )}\n                </div>\n                <div className=\"flex items-center\">\n                  <Users size={18} className=\"text-blue-500 mr-1\" />\n                  <div className=\"text-xl font-bold text-amber-600\">\n                    {groupOrder.orders.length} orders\n                  </div>\n                </div>\n              </div>\n              \n              <button\n                type=\"button\"\n                className=\"w-full mt-2 bg-amber-600 text-white py-2 rounded-md flex items-center justify-center\"\n                onClick={handleSubmitGroup}\n              >\n                <Coffee size={18} className=\"mr-2\" />\n                Submit Entire Group ({groupOrder.orders.length} coffees)\n              </button>\n            </div>\n          )}\n          \n          <div className=\"mt-2 text-center text-xs text-gray-600\">\n            - OR -\n          </div>\n        </div>\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"grid grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Customer Name*\n              </label>\n              <input \n                type=\"text\" \n                name=\"customerName\"\n                value={orderDetails.customerName}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Phone Number\n              </label>\n              <input \n                type=\"text\" \n                name=\"phoneNumber\"\n                value={orderDetails.phoneNumber}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"Optional for walk-in\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Coffee Type*\n              </label>\n              <select \n                name=\"coffeeType\"\n                value={availableCoffeeTypes.includes(orderDetails.coffeeType) ? orderDetails.coffeeType : availableCoffeeTypes[0]}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n                required\n              >\n                {availableCoffeeTypes.map(type => (\n                  <option key={type} value={type}>{type}</option>\n                ))}\n              </select>\n              {availableCoffeeTypes.length < 9 && (\n                <div className=\"mt-1 text-xs text-amber-600 flex items-center\">\n                  <AlertTriangle size={12} className=\"inline mr-1\" />\n                  Limited coffee options at this station\n                </div>\n              )}\n              {coffeeInventoryWarning && (\n                <div className=\"mt-1 text-xs text-red-600 flex items-center\">\n                  <AlertTriangle size={12} className=\"inline mr-1\" />\n                  Warning: No coffee beans in inventory\n                </div>\n              )}\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Size\n              </label>\n              <select \n                name=\"size\"\n                value={availableSizes.includes(orderDetails.size) ? orderDetails.size : availableSizes[0]}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n              >\n                {availableSizes.map(size => (\n                  <option key={size} value={size}>{size}</option>\n                ))}\n              </select>\n              {availableSizes.length < 3 && (\n                <div className=\"mt-1 text-xs text-amber-600 flex items-center\">\n                  <AlertTriangle size={12} className=\"inline mr-1\" />\n                  Limited cup sizes at this station\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Espresso Shots\n              </label>\n              <select \n                name=\"shots\"\n                value={orderDetails.shots}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n              >\n                <option value=\"0.5\">Half shot (1/2)</option>\n                <option value=\"1\">Single shot</option>\n                <option value=\"2\">Double shot</option>\n                <option value=\"3\">Triple shot</option>\n              </select>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Affects coffee usage calculations\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Milk Type\n              </label>\n              <select \n                name=\"milkType\"\n                value={availableMilks.some(milk => milk.id === orderDetails.milkType) ? orderDetails.milkType : (availableMilks.length > 0 ? availableMilks[0].id : 'no_milk')}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n              >\n                {/* Group milk options by category */}\n                {availableMilks.filter(milk => milk.category === 'standard').length > 0 && (\n                  <optgroup label=\"Standard Milks\">\n                    {availableMilks\n                      .filter(milk => milk.category === 'standard')\n                      .map(milk => (\n                        <option key={milk.id} value={milk.id}>\n                          {milk.name}\n                          {milk.properties.lactoseFree ? ' (Lactose-Free)' : ''}\n                          {milk.properties.lowFat ? ' (Low-Fat)' : ''}\n                        </option>\n                      ))\n                    }\n                  </optgroup>\n                )}\n                \n                {availableMilks.filter(milk => milk.category === 'alternative').length > 0 && (\n                  <optgroup label=\"Alternative Milks\">\n                    {availableMilks\n                      .filter(milk => milk.category === 'alternative')\n                      .map(milk => (\n                        <option key={milk.id} value={milk.id}>\n                          {milk.name}\n                          {milk.properties.vegan ? ' (Vegan)' : ''}\n                        </option>\n                      ))\n                    }\n                  </optgroup>\n                )}\n                \n                <option value=\"no_milk\">No milk</option>\n              </select>\n              \n              {availableMilks.length < 5 && (\n                <div className=\"mt-1 text-xs text-amber-600 flex items-center\">\n                  <AlertTriangle size={12} className=\"inline mr-1\" />\n                  Limited milk options at this station\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Sugar\n              </label>\n              <select \n                name=\"sugar\"\n                value={orderDetails.sugar}\n                onChange={handleChange}\n                className=\"w-full p-2 border rounded\"\n              >\n                <option value=\"No sugar\">No sugar</option>\n                <option value=\"1 sugar\">1 sugar</option>\n                <option value=\"2 sugars\">2 sugars</option>\n                <option value=\"3 sugars\">3 sugars</option>\n              </select>\n            </div>\n            <div></div>\n          </div>\n          \n          <div className=\"mb-4 flex space-x-4\">\n            <label className=\"flex items-center\">\n              <input \n                type=\"checkbox\" \n                name=\"extraHot\"\n                checked={orderDetails.extraHot}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">Extra hot</span>\n            </label>\n            \n            <label className=\"flex items-center\">\n              <input \n                type=\"checkbox\" \n                name=\"priority\"\n                checked={orderDetails.priority}\n                onChange={handleChange}\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm font-medium text-red-600 font-semibold\">VIP / Staff Priority</span>\n            </label>\n          </div>\n          \n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Collection Station\n            </label>\n            <select\n              name=\"collectionStation\"\n              value={orderDetails.collectionStation || ''}\n              onChange={handleChange}\n              className=\"w-full p-2 border rounded\"\n            >\n              <option value=\"\">Same station (Order & collect here)</option>\n              {stations\n                .map(station => (\n                  <option key={station.id} value={station.id}>\n                    Collect at {station.name || `Station ${station.id}`}\n                  </option>\n                ))}\n            </select>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Choose a different station if the customer wants to collect their order elsewhere.\n            </p>\n          </div>\n\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Special Instructions\n            </label>\n            <textarea \n              name=\"notes\"\n              value={orderDetails.notes}\n              onChange={handleChange}\n              className=\"w-full p-2 border rounded\"\n              rows=\"2\"\n              placeholder=\"Special instructions or VIP/organizer codes...\"\n            ></textarea>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Adding words like \"VIP\", \"staff\", or \"organiser\" in the notes will automatically prioritize the order.\n            </p>\n          </div>\n          \n          <div className=\"flex justify-end space-x-2\">\n            <button \n              type=\"button\"\n              className=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\n              onClick={onClose}\n            >\n              Cancel\n            </button>\n            <button \n              type=\"submit\"\n              className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700\"\n            >\n              Add Order\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default WalkInOrderDialog;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxMWw1IDV2MTFhMiAyIDAgMCAxLTIgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTcgMjEgMTcgMTMgNyAxMyA3IDIxIiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjcgMyA3IDggMTUgOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  [\n    'path',\n    {\n      d: 'M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z',\n      key: '1owoqh',\n    },\n  ],\n  ['polyline', { points: '17 21 17 13 7 13 7 21', key: '1md35c' }],\n  ['polyline', { points: '7 3 7 8 15 8', key: '8nz8an' }],\n]);\n\nexport default Save;\n","// components/StationChat.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { XCircle, RefreshCw, AlertTriangle, ChevronDown, Edit, Save, User } from 'lucide-react';\nimport ChatService from '../services/ChatService';\n\nconst StationChat = ({ onClose, onMessageRead, stations, currentStationId, currentStationName, baristaName = \"Barista\", onBaristaNameChange }) => {\n  // Use the current station as default if not explicitly provided\n  const [selectedStationId, setSelectedStationId] = useState(currentStationId);\n  \n  // Debug: Log when selectedStationId changes\n  useEffect(() => {\n    console.log(`StationChat - selectedStationId changed to: ${selectedStationId}, type: ${typeof selectedStationId}`);\n  }, [selectedStationId]);\n  \n  // Debug: Log when currentStationId prop changes\n  useEffect(() => {\n    console.log(`StationChat - currentStationId prop changed to: ${currentStationId}, type: ${typeof currentStationId}`);\n    // Update selectedStationId when currentStationId changes\n    if (currentStationId !== selectedStationId) {\n      setSelectedStationId(currentStationId);\n    }\n  }, [currentStationId, selectedStationId]);\n  const [showStationSelector, setShowStationSelector] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [messageType, setMessageType] = useState('normal');\n  const [loading, setLoading] = useState(true);\n  const [sending, setSending] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  \n  // New state for barista name editing\n  const [isEditingName, setIsEditingName] = useState(false);\n  const [editedBaristaName, setEditedBaristaName] = useState(baristaName);\n  \n  // Update editedBaristaName when baristaName prop changes\n  useEffect(() => {\n    setEditedBaristaName(baristaName);\n  }, [baristaName]);\n\n  // Get the current station name based on ID\n  const getCurrentStationName = () => {\n    if (!stations || stations.length === 0) return \"Unknown Station\";\n    const station = stations.find(s => s.id === selectedStationId);\n    return station ? station.name : `Station ${selectedStationId}`;\n  };\n\n  // Initialize chat service on mount and when selected station changes\n  useEffect(() => {\n    // Get the station name dynamically from the stations array\n    const stationObj = stations.find(s => {\n      // Handle various ID type combinations\n      if (s.id === selectedStationId) return true;\n      if (typeof s.id === 'string' && typeof selectedStationId === 'number' && parseInt(s.id, 10) === selectedStationId) return true;\n      if (typeof selectedStationId === 'string' && typeof s.id === 'number' && parseInt(selectedStationId, 10) === s.id) return true;\n      return false;\n    });\n    \n    // Use found station name or fallback\n    const stationName = stationObj ? stationObj.name : `Station #${selectedStationId}`;\n    \n    // Make sure we have a valid numeric station ID for the local storage key\n    // Convert string IDs to numbers if needed\n    const numericStationId = typeof selectedStationId === 'string' \n      ? parseInt(selectedStationId, 10) \n      : selectedStationId;\n    \n    console.log(`Initializing chat service for station ${numericStationId} (${stationName}) using stationObj:`, stationObj);\n    \n    // We'll just rely on the reset button for now\n    // ChatService.resetMessages();\n    \n    // Initialize chat service with station info\n    // This ensures that the correct station name is used when sending messages\n    ChatService.initialize(numericStationId, stationName, baristaName);\n    \n    // Add listener for message updates\n    const removeListener = ChatService.addListener((updatedMessages) => {\n      setMessages(updatedMessages);\n      setLoading(false);\n      setError(null);\n    });\n    \n    // Mark messages as read\n    if (onMessageRead) {\n      onMessageRead();\n    }\n    \n    // Load initial messages\n    loadMessages();\n    \n    // Cleanup on unmount\n    return () => {\n      removeListener();\n      ChatService.cleanup();\n    };\n  }, [selectedStationId, stations, baristaName, onMessageRead]);\n\n  // Load messages from service\n  const loadMessages = async () => {\n    try {\n      setLoading(true);\n      await ChatService.loadMessages();\n      setError(null);\n    } catch (err) {\n      console.error('Error loading messages:', err);\n      setError('Failed to load messages');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Scroll to bottom whenever messages change\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  // Calculate time since message\n  const getTimeSince = (timestamp) => {\n    const date = new Date(timestamp);\n    const minutes = Math.floor((new Date() - date) / 60000);\n    if (minutes < 1) return 'Just now';\n    if (minutes === 1) return '1m ago';\n    if (minutes < 60) return `${minutes}m ago`;\n    return `${Math.floor(minutes / 60)}h ago`;\n  };\n\n  // Handle sending a message\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    \n    if (!newMessage.trim()) return;\n    \n    try {\n      setSending(true);\n      \n      await ChatService.sendMessage(\n        newMessage.trim(), \n        messageType === 'urgent'\n      );\n      \n      setNewMessage('');\n      setMessageType('normal');\n    } catch (err) {\n      console.error('Error sending message:', err);\n      setError('Failed to send message');\n    } finally {\n      setSending(false);\n    }\n  };\n  \n  // Handle manual refresh\n  const handleRefresh = () => {\n    loadMessages();\n  };\n  \n  // Handle barista name update\n  const handleSaveBaristaName = () => {\n    // Only update if name has changed and is not empty\n    if (editedBaristaName.trim() && editedBaristaName !== baristaName) {\n      // Update parent component state via callback\n      if (onBaristaNameChange) {\n        onBaristaNameChange(editedBaristaName.trim());\n      }\n      \n      // Update ChatService with new barista name\n      const stationName = getCurrentStationName();\n      const numericStationId = typeof selectedStationId === 'string' \n        ? parseInt(selectedStationId, 10) \n        : selectedStationId;\n      \n      ChatService.initialize(numericStationId, stationName, editedBaristaName.trim());\n      \n      // Save to localStorage for persistence with station-specific key\n      try {\n        // Make sure we have a valid numeric station ID for the local storage key\n        const numericStationId = typeof selectedStationId === 'string' \n          ? parseInt(selectedStationId, 10) \n          : selectedStationId;\n          \n        // Use station-specific key for barista name\n        localStorage.setItem(`coffee_barista_name_station_${numericStationId}`, editedBaristaName.trim());\n      } catch (error) {\n        console.error('Failed to save station-specific barista name to localStorage:', error);\n      }\n    }\n    \n    // Exit edit mode\n    setIsEditingName(false);\n  };\n\n  return (\n    <div className=\"fixed bottom-0 right-0 w-full md:w-80 h-96 bg-white shadow-lg border rounded-t-lg overflow-hidden z-40\">\n      <div className=\"bg-blue-500 text-white p-2 flex justify-between items-center\">\n        <div className=\"flex items-center\">\n          <h3 className=\"font-medium mr-1\">Station Chat</h3>\n          <div className=\"relative ml-2\">\n            <button \n              className=\"flex items-center text-white text-sm p-1 hover:bg-blue-600 rounded\"\n              onClick={() => setShowStationSelector(!showStationSelector)}\n            >\n              {getCurrentStationName()} <ChevronDown size={14} className=\"ml-1\" />\n            </button>\n            \n            {/* Station selector dropdown */}\n            {showStationSelector && stations && stations.length > 0 && (\n              <div className=\"absolute top-full left-0 bg-white text-gray-800 shadow-lg rounded-md overflow-y-auto max-h-40 w-48 z-50\">\n                {stations.map(station => (\n                  <div \n                    key={station.id}\n                    className={`p-2 hover:bg-gray-100 cursor-pointer ${station.id === selectedStationId ? 'bg-blue-100' : ''}`}\n                    onClick={() => {\n                      // Set the selected station ID\n                      setSelectedStationId(station.id);\n                      \n                      // Also reinitialize chat service with the new station ID\n                      const stationName = station.name || `Station #${station.id}`;\n                      const numericStationId = typeof station.id === 'string' \n                        ? parseInt(station.id, 10) \n                        : station.id;\n                      \n                      console.log(`Dropdown selection - Reinitializing ChatService for station: ${numericStationId} (${stationName})`);\n                      \n                      // Initialize chat service with station info\n                      ChatService.initialize(numericStationId, stationName, baristaName);\n                      \n                      // Close the dropdown\n                      setShowStationSelector(false);\n                    }}\n                  >\n                    <div className=\"font-medium text-sm\">{station.name}</div>\n                    <div className=\"text-xs text-gray-500 flex items-center\">\n                      <div className={`w-2 h-2 rounded-full mr-1 ${station.status === 'active' ? 'bg-green-500' : 'bg-red-500'}`}></div>\n                      {station.status}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"flex items-center\">\n          <button \n            className=\"text-white mr-2\"\n            onClick={handleRefresh}\n            disabled={loading}\n            title=\"Refresh Messages\"\n          >\n            <RefreshCw size={18} className={loading ? \"animate-spin\" : \"\"} />\n          </button>\n          <button \n            className=\"text-white mr-2\"\n            onClick={() => {\n              // Reset messages for testing\n              if (window.confirm('Reset all chat messages? This is for debugging only.')) {\n                ChatService.resetMessages();\n              }\n            }}\n            title=\"Reset All Messages (Debug)\"\n          >\n            {/* Use RefreshCw as a clear icon */}\n            <RefreshCw size={18} className=\"text-red-300\" />\n          </button>\n          <button \n            className=\"text-white\"\n            onClick={onClose}\n            title=\"Close Chat\"\n          >\n            <XCircle size={20} />\n          </button>\n        </div>\n      </div>\n      {error && (\n        <div className=\"bg-red-100 text-red-700 p-2 text-sm flex items-center\">\n          <AlertTriangle size={16} className=\"mr-1\" />\n          {error}\n        </div>\n      )}\n      \n      {/* Barista name editor */}\n      <div className=\"bg-blue-50 border-b flex items-center p-2 justify-between\">\n        <div className=\"flex items-center\">\n          <User size={14} className=\"text-blue-700 mr-1\" />\n          {isEditingName ? (\n            <input\n              type=\"text\"\n              value={editedBaristaName}\n              onChange={(e) => setEditedBaristaName(e.target.value)}\n              className=\"border rounded px-2 py-1 text-sm w-40\"\n              autoFocus\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  handleSaveBaristaName();\n                }\n              }}\n            />\n          ) : (\n            <span className=\"text-sm\">{baristaName}</span>\n          )}\n        </div>\n        <button\n          className=\"text-blue-700 p-1 hover:bg-blue-100 rounded\"\n          onClick={() => {\n            if (isEditingName) {\n              handleSaveBaristaName();\n            } else {\n              setIsEditingName(true);\n            }\n          }}\n        >\n          {isEditingName ? <Save size={14} /> : <Edit size={14} />}\n        </button>\n      </div>\n      \n      <div className=\"h-64 overflow-y-auto p-3 bg-gray-50\">\n        {loading && messages.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            <p className=\"mt-2 text-gray-500 text-sm\">Loading messages...</p>\n          </div>\n        ) : messages.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n            <p>No messages yet</p>\n            <p className=\"text-sm\">Send a message to start the conversation!</p>\n          </div>\n        ) : (\n          messages.map(message => (\n            <div \n              key={message.id} \n              className={`p-2 mb-2 rounded ${\n                message.is_urgent \n                  ? 'bg-red-50 border-l-2 border-red-500' \n                  : (message.station_id === selectedStationId || \n                     (typeof selectedStationId === 'string' && message.station_id === parseInt(selectedStationId, 10)) ||\n                     (message.sender === baristaName && message.station_id === selectedStationId))\n                    ? 'bg-blue-100' \n                    : 'bg-gray-100'\n              }`}\n            >\n              <div className=\"text-xs text-gray-500 mb-1 flex justify-between\">\n                <span>\n                  {/* Format sender name to show correct station */}\n                  {message.sender}\n                  {' '}\n                  <span className=\"text-blue-600\">\n                    (\n                    {stations.find(s => s.id === message.station_id || \n                                    (typeof message.station_id === 'string' && \n                                     typeof s.id === 'number' && \n                                     parseInt(message.station_id, 10) === s.id) ||\n                                    (typeof s.id === 'string' && \n                                     typeof message.station_id === 'number' && \n                                     parseInt(s.id, 10) === message.station_id)\n                    )?.name || \n                     message.station_name || \n                     `Station #${message.station_id}`}\n                    )\n                  </span>\n                </span>\n                <span>{getTimeSince(message.created_at)}</span>\n              </div>\n              <div className={message.is_urgent ? 'font-bold' : ''}>\n                {message.content}\n              </div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n      \n      <form onSubmit={handleSendMessage} className=\"p-2 border-t flex\">\n        <input \n          type=\"text\" \n          value={newMessage}\n          onChange={(e) => setNewMessage(e.target.value)}\n          placeholder=\"Type a message...\" \n          className=\"flex-grow border rounded-l p-2\"\n          disabled={sending}\n        />\n        <select \n          value={messageType}\n          onChange={(e) => setMessageType(e.target.value)}\n          className=\"border-y p-2\"\n          disabled={sending}\n        >\n          <option value=\"normal\">Normal</option>\n          <option value=\"urgent\">Urgent</option>\n        </select>\n        <button \n          type=\"submit\"\n          className={`${\n            sending ? 'bg-blue-400' : 'bg-blue-500 hover:bg-blue-600'\n          } text-white p-2 rounded-r transition-colors`}\n          disabled={sending || !newMessage.trim()}\n        >\n          {sending ? (\n            <div className=\"flex items-center\">\n              <RefreshCw size={16} className=\"animate-spin mr-1\" />\n              <span>Sending</span>\n            </div>\n          ) : (\n            'Send'\n          )}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default StationChat;","// components/OrderNotificationHandler.js\nimport React, { useState, useEffect } from 'react';\nimport { Bell, MessageSquare, Settings } from 'lucide-react';\nimport MessageService from '../services/MessageService';\n\n/**\n * Component that adds notification functionality to the BaristaInterface\n * This handles automatic notifications and display integration\n */\nconst OrderNotificationHandler = ({ onSendMessage, onUpdateSettings }) => {\n  const [settings, setSettings] = useState(MessageService.settings);\n  const [showSettings, setShowSettings] = useState(false);\n  \n  // Update settings in local component and service\n  const updateSettings = (newSettings) => {\n    const updatedSettings = { ...settings, ...newSettings };\n    setSettings(updatedSettings);\n    MessageService.updateSettings(updatedSettings);\n    \n    if (onUpdateSettings) {\n      onUpdateSettings(updatedSettings);\n    }\n  };\n  \n  // Method to handle order completion notification\n  const completeWithNotification = async (order) => {\n    try {\n      console.log('Completing order with notification:', order);\n      \n      // Show on display if enabled\n      if (settings.showNameOnDisplay) {\n        MessageService.showOnDisplay(order);\n      }\n      \n      // Force SMS notification regardless of setting\n      // This ensures message is always sent when order is completed\n      await MessageService.sendReadyNotification(order);\n      console.log('SMS notification sent for order:', order.id);\n      \n      // If reminder is enabled, start a timer\n      if (settings.remindAfterDelay && settings.reminderDelay > 0) {\n        setTimeout(() => {\n          // Check if order is still completed (not picked up yet)\n          // This should be implemented based on your app's logic\n          const isStillCompleted = true; // Placeholder logic\n          \n          if (isStillCompleted) {\n            MessageService.sendReminderNotification(\n              order, \n              Math.floor(settings.reminderDelay / 60)\n            );\n          }\n        }, settings.reminderDelay * 1000);\n      }\n    } catch (error) {\n      console.error('Failed to send order completion notification:', error);\n    }\n  };\n  \n  // Component for notification settings\n  const NotificationSettings = () => (\n    <div className=\"bg-white p-4 rounded-lg shadow-lg\">\n      <h3 className=\"text-lg font-medium mb-3\">Notification Settings</h3>\n      \n      <div className=\"space-y-4\">\n        <div className=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            id=\"autoSendSms\"\n            checked={settings.autoSendSmsOnComplete}\n            onChange={(e) => updateSettings({ autoSendSmsOnComplete: e.target.checked })}\n            className=\"mr-2\"\n          />\n          <label htmlFor=\"autoSendSms\">Automatically send SMS when order is completed</label>\n        </div>\n        \n        <div className=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            id=\"showOnDisplay\"\n            checked={settings.showNameOnDisplay}\n            onChange={(e) => updateSettings({ showNameOnDisplay: e.target.checked })}\n            className=\"mr-2\"\n          />\n          <label htmlFor=\"showOnDisplay\">Show customer name on display screen</label>\n        </div>\n        \n        <div className=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            id=\"remindAfterDelay\"\n            checked={settings.remindAfterDelay}\n            onChange={(e) => updateSettings({ remindAfterDelay: e.target.checked })}\n            className=\"mr-2\"\n          />\n          <label htmlFor=\"remindAfterDelay\">Send reminder if not picked up</label>\n        </div>\n        \n        {settings.remindAfterDelay && (\n          <div className=\"ml-6\">\n            <label className=\"block text-sm mb-1\">Reminder delay (seconds):</label>\n            <input\n              type=\"number\"\n              min=\"10\"\n              max=\"300\"\n              step=\"10\"\n              value={settings.reminderDelay}\n              onChange={(e) => updateSettings({ reminderDelay: Number(e.target.value) })}\n              className=\"w-24 p-1 border rounded\"\n            />\n          </div>\n        )}\n      </div>\n      \n      <div className=\"mt-4 flex justify-end\">\n        <button\n          className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700\"\n          onClick={() => setShowSettings(false)}\n        >\n          Save Settings\n        </button>\n      </div>\n    </div>\n  );\n  \n  return {\n    // Render the settings toggle button\n    renderSettingsButton: () => (\n      <button\n        className=\"p-2 bg-gray-200 rounded-full hover:bg-gray-300 relative\"\n        onClick={() => setShowSettings(!showSettings)}\n        title=\"Notification Settings\"\n      >\n        <Settings size={20} />\n        {showSettings && (\n          <div className=\"absolute right-0 top-full mt-2 z-20\">\n            <NotificationSettings />\n          </div>\n        )}\n      </button>\n    ),\n    \n    // Method to complete an order with notification\n    completeWithNotification,\n    \n    // Current settings\n    settings\n  };\n};\n\nexport default OrderNotificationHandler;\n","// src/hooks/useSettings.js\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAppMode } from '../context/AppContext';\nimport SettingsService from '../services/SettingsService';\n\n// Export named function for importing with curly braces\nexport function useSettings() {\n  // State management - start with null to force loading from SettingsService\n  const [settings, setSettings] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState(Date.now());\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const { isDemoMode } = useAppMode();\n\n  // Load settings from backend or localStorage for demo mode\n  const loadSettings = useCallback(async (forceRefresh = false) => {\n    if (forceRefresh) {\n      setIsRefreshing(true);\n    } else {\n      setLoading(true);\n    }\n    \n    try {\n      // For demo mode, use localStorage\n      if (isDemoMode) {\n        const savedSettings = localStorage.getItem('coffee_cue_settings');\n        if (savedSettings) {\n          setSettings(JSON.parse(savedSettings));\n        }\n      } else {\n        // Use real backend API via SettingsService\n        const fetchedSettings = await SettingsService.getSettings(forceRefresh);\n        setSettings(fetchedSettings);\n      }\n      \n      setError(null);\n      setLastUpdated(Date.now());\n    } catch (err) {\n      console.error('Error loading settings:', err);\n      setError(`Failed to load settings: ${err.message}`);\n    } finally {\n      setLoading(false);\n      setIsRefreshing(false);\n    }\n  }, [isDemoMode]);\n\n  // Update multiple settings at once\n  const saveSettings = useCallback(async (newSettings) => {\n    try {\n      console.log('[useSettings] Saving multiple settings:', newSettings);\n      \n      // Always update local state first to ensure UI responsiveness\n      const updatedSettings = {\n        ...(settings || {}),\n        ...newSettings\n      };\n      \n      // Update state immediately for better user experience\n      setSettings(updatedSettings);\n      \n      if (isDemoMode) {\n        // For demo mode, save to localStorage\n        console.log('[useSettings] In demo mode, updating settings to:', updatedSettings);\n        localStorage.setItem('coffee_cue_settings', JSON.stringify(updatedSettings));\n        console.log('[useSettings] Updated settings state in demo mode');\n      } else {\n        // For production mode, try the API but continue if it fails\n        console.log('[useSettings] In production mode, calling API with:', newSettings);\n        try {\n          await SettingsService.updateSettings(newSettings);\n          console.log('[useSettings] API update successful');\n        } catch (apiErr) {\n          console.warn('[useSettings] API update failed, but UI state was updated:', apiErr);\n          // Still keep the UI update even if API fails\n        }\n      }\n      \n      setLastUpdated(Date.now());\n      return true;\n    } catch (err) {\n      console.error('Error saving settings:', err);\n      setError(`Failed to save settings: ${err.message}`);\n      return false;\n    }\n  }, [settings, isDemoMode]);\n\n  // Update a single setting\n  const updateSetting = useCallback(async (key, value) => {\n    try {\n      console.log(`[useSettings] Updating setting ${key} with value:`, value);\n      \n      // Always update local state first to ensure UI responsiveness\n      setSettings(prev => ({\n        ...(prev || {}),\n        [key]: value\n      }));\n      \n      if (isDemoMode) {\n        // For demo mode, save to localStorage\n        console.log('[useSettings] In demo mode, saving to localStorage');\n        const updatedSettings = {\n          ...(settings || {}),\n          [key]: value\n        };\n        localStorage.setItem('coffee_cue_settings', JSON.stringify(updatedSettings));\n        console.log('[useSettings] Demo mode update completed');\n      } else {\n        // For production mode, try the API but continue if it fails\n        console.log('[useSettings] In production mode, using API endpoint');\n        try {\n          await SettingsService.updateSetting(key, value);\n          console.log('[useSettings] API update successful');\n        } catch (apiErr) {\n          console.warn('[useSettings] API update failed, but UI state was updated:', apiErr);\n          // Still keep the UI update even if API fails\n        }\n      }\n      \n      setLastUpdated(Date.now());\n      return true;\n    } catch (err) {\n      console.error(`Error updating setting ${key}:`, err);\n      setError(`Failed to update setting: ${err.message}`);\n      return false;\n    }\n  }, [settings, isDemoMode]);\n\n  // Reset settings to defaults\n  const resetSettings = useCallback(async () => {\n    try {\n      if (isDemoMode) {\n        // For demo mode, get defaults from SettingsService instead of hardcoded values\n        localStorage.removeItem('coffee_cue_settings'); // Clear localStorage\n        const defaultsFromService = await SettingsService.getSettings(true); // Force refresh to get defaults\n        setSettings(defaultsFromService);\n      } else {\n        // For production mode, use the API\n        const resetResult = await SettingsService.resetSettings();\n        setSettings(resetResult);\n      }\n      \n      setLastUpdated(Date.now());\n      return true;\n    } catch (err) {\n      console.error('Error resetting settings:', err);\n      setError(`Failed to reset settings: ${err.message}`);\n      return false;\n    }\n  }, [isDemoMode]);\n\n  // Update wait time\n  const updateWaitTime = useCallback(async (waitTime) => {\n    try {\n      if (isDemoMode) {\n        // For demo mode, update locally\n        return await updateSetting('waitTimeWarning', waitTime);\n      } else {\n        // For production mode, use specific API endpoint\n        await SettingsService.updateWaitTime(waitTime);\n        \n        // Update local state\n        setSettings(prev => ({\n          ...prev,\n          waitTimeWarning: waitTime\n        }));\n        \n        setLastUpdated(Date.now());\n        return true;\n      }\n    } catch (err) {\n      console.error('Error updating wait time:', err);\n      setError(`Failed to update wait time: ${err.message}`);\n      return false;\n    }\n  }, [isDemoMode, updateSetting]);\n\n  // Manual refresh\n  const refreshData = useCallback(() => {\n    setIsRefreshing(true);\n    loadSettings(true);\n  }, [loadSettings]);\n\n  // Load settings on mount and when mode changes\n  useEffect(() => {\n    loadSettings();\n  }, [loadSettings, isDemoMode]);\n\n  return {\n    // Data - provide empty object as fallback while loading to prevent crashes\n    settings: settings || {},\n    \n    // UI state\n    loading,\n    error,\n    lastUpdated,\n    isRefreshing,\n    \n    // Actions\n    updateSetting,\n    saveSettings,\n    resetSettings,\n    updateWaitTime,\n    refreshData,\n    \n    // Error handling\n    clearError: () => setError(null)\n  };\n}\n\n// Also export as default for backward compatibility\nexport default useSettings;","// components/VipOrdersList.js\nimport React from 'react';\nimport { Edit } from 'lucide-react';\nimport { getTimeRatioColor, getOrderBackgroundColor } from '../utils/orderUtils';\nimport { useSettings } from '../hooks/useSettings';\nimport { getMilkColorStyle, getMilkDotStyle } from '../utils/milkColorHelper';\nimport '../styles/milkColors.css';\n\nconst VipOrdersList = ({ orders, onStartOrder, onSendMessage, onDelayOrder, onEditOrder }) => {\n  const { settings } = useSettings();\n  if (!orders || orders.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"mb-4\">\n      <div className=\"text-xs uppercase text-red-600 font-semibold mb-1 px-1\">\n        VIP ORDERS\n      </div>\n\n      {orders.map(order => {\n        const milkColorStyle = order.milkType && order.milkType !== 'No Milk' \n          ? getMilkColorStyle(order.milkType, order.milkTypeId)\n          : { borderLeftWidth: '4px', borderLeftStyle: 'solid', borderLeftColor: '#EF4444' };\n        \n        return (\n        <div \n          key={order.id} \n          className={`mb-2 rounded-lg overflow-hidden shadow-sm ${getOrderBackgroundColor(order, settings)}`}\n          style={milkColorStyle}\n        >\n          <div className=\"p-3\">\n            <div className=\"flex justify-between items-center\">\n              <div className=\"font-bold text-gray-800\">#{order.orderNumber} - {order.customerName}</div>\n              <div className=\"flex items-center space-x-1\">\n                <span className=\"text-sm text-gray-600\">{order.waitTime} min</span>\n                <div className={`w-2 h-2 rounded-full ${getTimeRatioColor(order.waitTime, order.promisedTime)}`}></div>\n              </div>\n            </div>\n            \n            <div className=\"mt-2 p-2 bg-gray-50 rounded\">\n              <div className=\"font-medium text-gray-700 flex items-center\">\n                {order.milkType && order.milkType !== 'No Milk' && (\n                  <span style={getMilkDotStyle(order.milkType, order.milkTypeId)}></span>\n                )}\n                {order.coffeeType}, {order.milkType ? order.milkType : 'No milk'}, {order.sugar ? order.sugar : 'No sugar'}\n              </div>\n              {order.alternativeMilk && (\n                <div className=\"mt-1\">\n                  <span className=\"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-sm\">\n                    Alternative Milk\n                  </span>\n                </div>\n              )}\n            </div>\n            \n            <div className=\"mt-2 flex justify-between space-x-2\">\n              <button \n                className=\"flex-1 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-md text-sm\"\n                onClick={() => onStartOrder(order)}\n              >\n                Start\n              </button>\n              <button \n                className=\"flex-1 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                onClick={() => onDelayOrder && onDelayOrder(order)}\n              >\n                Delay\n              </button>\n              <button \n                className=\"flex-1 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                onClick={() => onSendMessage && onSendMessage(order)}\n              >\n                Message\n              </button>\n              <button \n                className=\"p-1 text-gray-500 hover:text-gray-700\"\n                onClick={() => onEditOrder && onEditOrder(order)}\n                title=\"Edit order\"\n              >\n                <Edit size={16} />\n              </button>\n            </div>\n\n            <div className=\"mt-2 bg-gray-200 h-1 w-full rounded-full overflow-hidden\">\n              <div \n                className={`h-1 ${getTimeRatioColor(order.waitTime, order.promisedTime)}`} \n                style={{ width: `${Math.min((order.waitTime / order.promisedTime) * 100, 100)}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default VipOrdersList;","// components/BatchGroupsList.js\nimport React from 'react';\nimport { Edit, Clock } from 'lucide-react';\nimport { getOrderBackgroundColor, getTimeRatioColor } from '../utils/orderUtils';\nimport { useSettings } from '../hooks/useSettings';\nimport '../styles/milkColors.css';\n\nconst BatchGroupsList = ({ batchGroups, onStartOrder, onProcessBatch, onSendMessage, onDelayOrder, onEditOrder }) => {\n  const { settings } = useSettings();\n  // Format batch group name for display\n  const formatBatchName = (batchName) => {\n    return batchName\n      .split('-')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  };\n\n  return (\n    <div className=\"mb-4\">\n      <div className=\"text-xs uppercase text-amber-800 font-semibold mb-1 px-1\">\n        Batch Groups\n      </div>\n      \n      {Object.entries(batchGroups).map(([batchName, orders]) => (\n        <div key={batchName} className=\"mb-3 bg-amber-50 rounded-lg overflow-hidden\">\n          <div className=\"bg-amber-100 px-3 py-2 text-sm text-amber-800 font-medium flex justify-between items-center border-b border-amber-200\">\n            <span>Batch: {formatBatchName(batchName)} ({orders.length})</span>\n            <button \n              className=\"text-white bg-amber-600 text-xs px-3 py-1 rounded-md hover:bg-amber-700\"\n              onClick={() => onProcessBatch(batchName)}\n            >\n              Process Batch\n            </button>\n          </div>\n          \n          {orders.map((order, index) => (\n            <div \n              key={order.id} \n              className={`p-3 border-b ${index === orders.length - 1 ? '' : 'border-amber-100'} ${getOrderBackgroundColor(order, settings)}`}\n            >\n              <div className=\"flex justify-between items-center\">\n                <div className=\"font-bold text-gray-800\">#{order.orderNumber} - {order.customerName}</div>\n                <div className=\"flex items-center space-x-1\">\n                  <span className=\"text-sm text-gray-600\">{order.waitTime} min</span>\n                  <div className={`w-2 h-2 rounded-full ${getTimeRatioColor(order.waitTime, order.promisedTime)}`}></div>\n                </div>\n              </div>\n              \n              <div className=\"mt-2 p-2 bg-gray-50 rounded\">\n                <div className=\"font-medium text-gray-700 flex items-center\">\n                  {order.milkTypeId && (\n                    <div className={`milk-indicator-dot ${order.milkTypeId}`}></div>\n                  )}\n                  {order.coffeeType}, {order.milkType}, {order.sugar}\n                </div>\n                {order.alternativeMilk && (\n                  <div className=\"mt-1\">\n                    <span className=\"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-sm\">\n                      Alternative Milk\n                    </span>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"mt-2 flex justify-between space-x-2\">\n                <button \n                  className=\"flex-1 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-md text-sm\"\n                  onClick={() => onStartOrder(order)}\n                >\n                  Start\n                </button>\n                <button \n                  className=\"flex-1 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                  onClick={() => onDelayOrder && onDelayOrder(order)}\n                >\n                  Delay\n                </button>\n                <button \n                  className=\"flex-1 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                  onClick={() => onSendMessage && onSendMessage(order)}\n                >\n                  Message\n                </button>\n                <button \n                  className=\"p-1 text-gray-500 hover:text-gray-700\"\n                  onClick={() => onEditOrder && onEditOrder(order)}\n                  title=\"Edit order\"\n                >\n                  <Edit size={16} />\n                </button>\n              </div>\n              \n              <div className=\"mt-2 bg-gray-200 h-1 w-full rounded-full overflow-hidden\">\n                <div \n                  className={`h-1 ${getTimeRatioColor(order.waitTime, order.promisedTime)}`} \n                  style={{ width: `${Math.min((order.waitTime / order.promisedTime) * 100, 100)}%` }}\n                ></div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default BatchGroupsList;","// components/RegularOrdersList.js\nimport React from 'react';\nimport { Edit } from 'lucide-react';\nimport { getTimeRatioColor, getOrderBackgroundColor } from '../utils/orderUtils';\nimport { useSettings } from '../hooks/useSettings';\nimport { getMilkColorStyle, getMilkDotStyle } from '../utils/milkColorHelper';\nimport '../styles/milkColors.css';\n\nconst RegularOrdersList = ({ orders, onStartOrder, onSendMessage, onDelayOrder, onEditOrder }) => {\n  const { settings } = useSettings();\n  \n  // Debug first order's milk info\n  if (orders && orders.length > 0) {\n    console.log('RegularOrdersList first order milk info:', {\n      milkType: orders[0].milkType, \n      milkTypeId: orders[0].milkTypeId,\n      alternativeMilk: orders[0].alternativeMilk,\n      dairyFree: orders[0].dairyFree,\n      classApplied: getOrderBackgroundColor(orders[0], settings)\n    });\n  }\n  if (!orders || orders.length === 0) {\n    return null;\n  }\n\n  return (\n    <div>\n      {orders.map(order => {\n        const milkColorStyle = order.milkType && order.milkType !== 'No Milk' \n          ? getMilkColorStyle(order.milkType, order.milkTypeId)\n          : { borderLeftWidth: '4px', borderLeftStyle: 'solid', borderLeftColor: '#3B82F6' };\n        \n        return (\n        <div \n          key={order.id} \n          className={`mb-2 rounded-lg overflow-hidden shadow-sm ${getOrderBackgroundColor(order, settings)}`}\n          style={milkColorStyle}\n        >\n          <div className=\"p-3\">\n            <div className=\"flex justify-between items-center\">\n              <div className=\"font-bold text-gray-800\">#{order.orderNumber} - {order.customerName}</div>\n              <div className=\"flex items-center space-x-1\">\n                <span className=\"text-sm text-gray-600\">{order.waitTime} min</span>\n                <div className={`w-2 h-2 rounded-full ${getTimeRatioColor(order.waitTime, order.promisedTime)}`}></div>\n              </div>\n            </div>\n            \n            <div className=\"mt-2 p-2 bg-gray-50 rounded\">\n              <div className=\"font-medium text-gray-700 flex items-center\">\n                {order.milkType && order.milkType !== 'No Milk' && (\n                  <span style={getMilkDotStyle(order.milkType, order.milkTypeId)}></span>\n                )}\n                {order.coffeeType}, {order.milkType}, {order.sugar}\n              </div>\n              {order.alternativeMilk && (\n                <div className=\"mt-1\">\n                  <span className=\"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-sm\">\n                    Alternative Milk\n                  </span>\n                </div>\n              )}\n            </div>\n            \n            <div className=\"mt-2 flex justify-between space-x-2\">\n              <button \n                className=\"flex-1 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-md text-sm\"\n                onClick={() => onStartOrder(order)}\n              >\n                Start\n              </button>\n              <button \n                className=\"flex-1 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                onClick={() => onDelayOrder && onDelayOrder(order)}\n              >\n                Delay\n              </button>\n              <button \n                className=\"flex-1 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                onClick={() => onSendMessage && onSendMessage(order)}\n              >\n                Message\n              </button>\n              <button \n                className=\"p-1 text-gray-500 hover:text-gray-700\"\n                onClick={() => onEditOrder && onEditOrder(order)}\n                title=\"Edit order\"\n              >\n                <Edit size={16} />\n              </button>\n            </div>\n\n            <div className=\"mt-2 bg-gray-200 h-1 w-full rounded-full overflow-hidden\">\n              <div \n                className={`h-1 ${getTimeRatioColor(order.waitTime, order.promisedTime)}`} \n                style={{ width: `${Math.min((order.waitTime / order.promisedTime) * 100, 100)}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default RegularOrdersList;","// components/PendingOrdersSection.js\nimport React from 'react';\nimport { ChevronDown, Edit } from 'lucide-react';\nimport { getOrderBackgroundColor, getTimeRatioColor } from '../utils/orderUtils';\nimport { useSettings } from '../hooks/useSettings';\nimport { getMilkColorStyle, getMilkDotStyle } from '../utils/milkColorHelper';\nimport '../styles/milkColors.css';\nimport VipOrdersList from './VipOrdersList';\nimport BatchGroupsList from './BatchGroupsList';\nimport RegularOrdersList from './RegularOrdersList';\n\nconst PendingOrdersSection = ({ \n  orders, \n  filter, \n  onFilterChange, \n  onStartOrder, \n  onProcessBatch,\n  onSendMessage,\n  onDelayOrder,\n  onEditOrder\n}) => {\n  const { settings } = useSettings();\n  // Organize orders into categories - support both vip and priority property names\n  const vipOrders = orders.filter(order => order.vip || order.priority);\n  \n  // Group batch orders by their batch group\n  const batchGroups = orders.reduce((groups, order) => {\n    if (order.batchGroup) {\n      if (!groups[order.batchGroup]) {\n        groups[order.batchGroup] = [];\n      }\n      groups[order.batchGroup].push(order);\n    }\n    return groups;\n  }, {});\n  \n  const regularOrders = orders.filter(\n    order => !(order.vip || order.priority) && !order.batchGroup\n  );\n\n  // Apply selected filter\n  const getFilteredOrders = () => {\n    switch (filter) {\n      case 'vip':\n        return orders.filter(order => order.vip || order.priority);\n      case 'batch':\n        return orders.filter(order => order.batchGroup);\n      case 'urgent':\n        return orders.filter(order => {\n          const ratio = order.waitTime / order.promisedTime;\n          return ratio > 0.8;\n        });\n      default:\n        return orders;\n    }\n  };\n\n  return (\n    <div className=\"w-1/2 flex flex-col h-full\">\n      <div className=\"bg-amber-600 text-white p-2 rounded-t-lg flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold\">Upcoming Orders ({orders.length})</h2>\n        <div className=\"flex space-x-1\">\n          <button \n            className={`px-2 py-1 rounded-md text-xs ${filter === 'all' ? 'bg-white text-amber-600' : 'bg-amber-500 hover:bg-amber-700'}`}\n            onClick={() => onFilterChange('all')}\n          >\n            All\n          </button>\n          <button \n            className={`px-2 py-1 rounded-md text-xs ${filter === 'vip' ? 'bg-white text-amber-600' : 'bg-amber-500 hover:bg-amber-700'}`}\n            onClick={() => onFilterChange('vip')}\n          >\n            VIP\n          </button>\n          <button \n            className={`px-2 py-1 rounded-md text-xs ${filter === 'batch' ? 'bg-white text-amber-600' : 'bg-amber-500 hover:bg-amber-700'}`}\n            onClick={() => onFilterChange('batch')}\n          >\n            Batch\n          </button>\n          <button \n            className=\"px-2 py-1 rounded-md text-xs bg-amber-500 hover:bg-amber-700\"\n          >\n            <ChevronDown size={12} />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-b-lg shadow-md p-2 flex-grow overflow-y-auto\">\n        {filter === 'all' ? (\n          <>\n            {/* VIP Orders Section */}\n            {vipOrders.length > 0 && (\n              <VipOrdersList \n                orders={vipOrders} \n                onStartOrder={onStartOrder}\n                onSendMessage={onSendMessage}\n                onDelayOrder={onDelayOrder}\n                onEditOrder={onEditOrder}\n              />\n            )}\n\n            {/* Batch Groups Section */}\n            {Object.keys(batchGroups).length > 0 && (\n              <BatchGroupsList \n                batchGroups={batchGroups} \n                onStartOrder={onStartOrder}\n                onProcessBatch={onProcessBatch}\n                onSendMessage={onSendMessage}\n                onDelayOrder={onDelayOrder}\n                onEditOrder={onEditOrder}\n              />\n            )}\n\n            {/* Regular Orders Section */}\n            {regularOrders.length > 0 && (\n              <RegularOrdersList \n                orders={regularOrders} \n                onStartOrder={onStartOrder}\n                onSendMessage={onSendMessage}\n                onDelayOrder={onDelayOrder}\n                onEditOrder={onEditOrder}\n              />\n            )}\n          </>\n        ) : (\n          // Filtered view\n          <div>\n            {getFilteredOrders().map(order => (\n              <div \n                key={order.id} \n                className={`mb-2 p-3 rounded-lg border-l-4 ${\n                  (order.vip || order.priority) ? 'border-red-500' : \n                  order.batchGroup ? 'border-yellow-500' : 'border-blue-500'\n                } shadow-sm hover:shadow transition-all ${getOrderBackgroundColor(order, settings)}`}\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"font-bold\">#{order.orderNumber} - {order.customerName}</div>\n                  <div className=\"text-sm flex items-center space-x-1\">\n                    <span>{order.waitTime} min</span>\n                    <div className={`w-3 h-3 rounded-full ${getTimeRatioColor(order.waitTime, order.promisedTime)}`}></div>\n                  </div>\n                </div>\n                \n                <div className=\"mt-2 p-2 bg-gray-100 rounded\">\n                  <div className=\"font-medium\">{order.coffeeType}, {order.milkType}, {order.sugar}</div>\n                  {order.alternativeMilk && (\n                    <div className=\"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded mt-2\">\n                      Alternative Milk\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"mt-2 flex justify-between\">\n                  <button \n                    className=\"px-3 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-md text-sm\"\n                    onClick={() => onStartOrder(order)}\n                  >\n                    Start\n                  </button>\n                  <button \n                    className=\"px-3 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                    onClick={() => onDelayOrder && onDelayOrder(order)}\n                  >\n                    Delay\n                  </button>\n                  <button \n                    className=\"px-3 py-1 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-md text-sm\"\n                    onClick={() => onSendMessage && onSendMessage(order)}\n                  >\n                    Message\n                  </button>\n                  <button className=\"p-1 text-gray-500 hover:text-gray-700\">\n                    <Edit size={16} />\n                  </button>\n                </div>\n                \n                <div className=\"mt-2 bg-gray-200 h-1 w-full rounded-full overflow-hidden\">\n                  <div \n                    className={`h-1 ${getTimeRatioColor(order.waitTime, order.promisedTime)}`} \n                    style={{ width: `${(order.waitTime / order.promisedTime) * 100}%` }}\n                  ></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PendingOrdersSection;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjEzIDIgMyAxNCAxMiAxNCAxMSAyMiAyMSAxMCAxMiAxMCAxMyAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('Zap', [\n  [\n    'polygon',\n    { points: '13 2 3 14 12 14 11 22 21 10 12 10 13 2', key: '45s27k' },\n  ],\n]);\n\nexport default Zap;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BarChart3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE4aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOCAxN1Y5IiAvPgogIDxwYXRoIGQ9Ik0xMyAxN1Y1IiAvPgogIDxwYXRoIGQ9Ik04IDE3di0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bar-chart-3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BarChart3 = createLucideIcon('BarChart3', [\n  ['path', { d: 'M3 3v18h18', key: '1s2lah' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n]);\n\nexport default BarChart3;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n]);\n\nexport default ArrowRight;\n","// components/QueueIntelligence.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Brain, Zap, Clock, Users, BarChart3, AlertTriangle, CheckCircle, ArrowRight } from 'lucide-react';\nimport useStations from '../hooks/useStations';\nimport useOrders from '../hooks/useOrders';\n\nconst QueueIntelligence = () => {\n  const { stations, loading: stationsLoading } = useStations();\n  const { pendingOrders, inProgressOrders } = useOrders();\n  \n  // Load routing rules from localStorage or use defaults\n  const loadRoutingRules = () => {\n    try {\n      const saved = localStorage.getItem('coffee_cue_routing_rules');\n      if (saved) {\n        return JSON.parse(saved);\n      }\n    } catch (error) {\n      console.error('Error loading routing rules from localStorage:', error);\n    }\n    return {\n      prioritizeEfficiency: true,\n      balanceWorkload: true,\n      considerCapabilities: true,\n      emergencyMode: false\n    };\n  };\n\n  const [routingRules, setRoutingRules] = useState(loadRoutingRules());\n  \n  // Save routing rules to localStorage whenever they change\n  useEffect(() => {\n    try {\n      localStorage.setItem('coffee_cue_routing_rules', JSON.stringify(routingRules));\n      console.log('Saved routing rules to localStorage:', routingRules);\n    } catch (error) {\n      console.error('Error saving routing rules to localStorage:', error);\n    }\n  }, [routingRules]);\n  \n  const [routingMetrics, setRoutingMetrics] = useState({\n    avgWaitTime: 0,\n    routingEfficiency: 0,\n    workloadBalance: 0,\n    totalOrdersRouted: 0\n  });\n\n  // Calculate station capabilities and current workload\n  const calculateStationStats = useCallback(() => {\n    if (!stations || !pendingOrders || !inProgressOrders) return [];\n\n    return stations.map(station => {\n      // Get orders currently assigned to this station\n      const stationInProgress = inProgressOrders.filter(order => \n        order.stationId === station.id || order.station_id === station.id\n      );\n      \n      // Calculate capability score based on station features\n      const capabilities = {\n        coffeeTypes: station.capabilities?.coffee || ['Espresso', 'Flat White', 'Cappuccino', 'Latte'],\n        milkOptions: station.capabilities?.milk || ['Full Cream', 'Skim', 'Soy', 'Almond'],\n        specialFeatures: station.capabilities?.special || []\n      };\n      \n      const capabilityScore = (\n        capabilities.coffeeTypes.length * 0.4 +\n        capabilities.milkOptions.length * 0.3 +\n        capabilities.specialFeatures.length * 0.3\n      );\n      \n      // Calculate current workload\n      const currentLoad = stationInProgress.length;\n      const maxCapacity = station.maxCapacity || 5; // Default max 5 concurrent orders\n      const workloadPercentage = (currentLoad / maxCapacity) * 100;\n      \n      // Calculate efficiency (orders per hour estimate)\n      const avgOrderTime = station.avgOrderTime || 4; // Default 4 minutes per order\n      const ordersPerHour = Math.round(60 / avgOrderTime);\n      \n      // Calculate wait time estimate for new orders\n      const estimatedWaitTime = currentLoad * avgOrderTime;\n      \n      return {\n        ...station,\n        capabilities,\n        capabilityScore,\n        currentLoad,\n        maxCapacity,\n        workloadPercentage,\n        ordersPerHour,\n        estimatedWaitTime,\n        efficiency: Math.max(0, 100 - workloadPercentage), // Higher efficiency = lower workload\n        status: workloadPercentage > 90 ? 'overloaded' : \n               workloadPercentage > 70 ? 'busy' : \n               workloadPercentage > 30 ? 'active' : 'available'\n      };\n    });\n  }, [stations, pendingOrders, inProgressOrders]);\n\n  const stationStats = calculateStationStats();\n\n  // Intelligent routing algorithm\n  const findBestStation = useCallback((order) => {\n    if (!stationStats.length) return null;\n\n    let scores = stationStats.map(station => {\n      let score = 0;\n      \n      // Capability matching (40% of score)\n      const canMakeCoffee = station.capabilities.coffeeTypes.some(type => \n        order.coffeeType?.toLowerCase().includes(type.toLowerCase())\n      );\n      const canProvideMilk = order.milkType === 'No milk' || \n        station.capabilities.milkOptions.some(milk => \n          order.milkType?.toLowerCase().includes(milk.toLowerCase())\n        );\n      \n      if (canMakeCoffee && canProvideMilk) {\n        score += 40;\n      } else if (canMakeCoffee || canProvideMilk) {\n        score += 20;\n      }\n      \n      // Workload balance (30% of score)\n      if (routingRules.balanceWorkload) {\n        const workloadScore = Math.max(0, 100 - station.workloadPercentage);\n        score += (workloadScore * 0.3);\n      }\n      \n      // Efficiency consideration (20% of score)\n      if (routingRules.prioritizeEfficiency) {\n        score += (station.efficiency * 0.2);\n      }\n      \n      // Priority boost for VIP orders (10% of score)\n      if (order.priority && station.capabilities.specialFeatures.includes('VIP')) {\n        score += 10;\n      }\n      \n      // Penalty for overloaded stations\n      if (station.status === 'overloaded') {\n        score -= 25;\n      }\n      \n      return {\n        station,\n        score,\n        reasoning: {\n          canMake: canMakeCoffee && canProvideMilk,\n          workload: station.workloadPercentage,\n          efficiency: station.efficiency,\n          waitTime: station.estimatedWaitTime\n        }\n      };\n    });\n\n    // Sort by score (highest first)\n    scores.sort((a, b) => b.score - a.score);\n    \n    // Return the best station if score is above threshold\n    return scores[0]?.score > 50 ? scores[0] : null;\n  }, [stationStats, routingRules]);\n\n  // Auto-routing suggestions for pending orders\n  const generateRoutingSuggestions = useCallback(() => {\n    if (!pendingOrders.length) return [];\n    \n    return pendingOrders.map(order => {\n      const suggestion = findBestStation(order);\n      return {\n        order,\n        suggested: suggestion,\n        currentStation: order.stationId ? \n          stationStats.find(s => s.id === order.stationId) : null\n      };\n    }).filter(s => s.suggested); // Only show orders with suggestions\n  }, [pendingOrders, findBestStation, stationStats]);\n\n  const routingSuggestions = generateRoutingSuggestions();\n\n  // Calculate overall metrics\n  useEffect(() => {\n    if (!stationStats.length) return;\n    \n    const totalOrders = inProgressOrders?.length || 0;\n    const avgWait = stationStats.reduce((sum, s) => sum + (s.estimatedWaitTime || 0), 0) / stationStats.length;\n    const workloadVariance = Math.sqrt(\n      stationStats.reduce((sum, s) => sum + Math.pow((s.workloadPercentage || 0) - 50, 2), 0) / stationStats.length\n    );\n    const workloadBalance = Math.max(0, 100 - workloadVariance);\n    \n    setRoutingMetrics({\n      avgWaitTime: Math.round(avgWait * 10) / 10,\n      routingEfficiency: Math.round((workloadBalance + (100 - avgWait)) / 2),\n      workloadBalance: Math.round(workloadBalance),\n      totalOrdersRouted: totalOrders\n    });\n  }, [inProgressOrders?.length, stations?.length]);\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'available': return 'bg-green-100 text-green-800';\n      case 'active': return 'bg-blue-100 text-blue-800';\n      case 'busy': return 'bg-yellow-100 text-yellow-800';\n      case 'overloaded': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'available': return <CheckCircle size={16} className=\"text-green-600\" />;\n      case 'active': return <Clock size={16} className=\"text-blue-600\" />;\n      case 'busy': return <Users size={16} className=\"text-yellow-600\" />;\n      case 'overloaded': return <AlertTriangle size={16} className=\"text-red-600\" />;\n      default: return <Clock size={16} className=\"text-gray-600\" />;\n    }\n  };\n\n  if (stationsLoading) {\n    return (\n      <div className=\"p-6 bg-white rounded-lg shadow-sm\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-4 bg-gray-200 rounded w-1/4\"></div>\n          <div className=\"space-y-2\">\n            <div className=\"h-3 bg-gray-200 rounded\"></div>\n            <div className=\"h-3 bg-gray-200 rounded w-5/6\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold flex items-center\">\n              <Brain className=\"mr-3\" />\n              Queue Intelligence Dashboard\n            </h2>\n            <p className=\"text-purple-100 mt-1\">\n              Intelligent order routing and workload optimization\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold\">{routingMetrics.routingEfficiency || 0}%</div>\n              <div className=\"text-sm text-purple-200\">Efficiency</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold\">{routingMetrics.avgWaitTime || 0}m</div>\n              <div className=\"text-sm text-purple-200\">Avg Wait</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Routing Rules */}\n      <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n          <Zap className=\"mr-2 text-yellow-600\" />\n          Routing Configuration\n        </h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          {Object.entries(routingRules).map(([key, value]) => (\n            <label key={key} className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={value}\n                onChange={(e) => setRoutingRules({\n                  ...routingRules,\n                  [key]: e.target.checked\n                })}\n                className=\"rounded border-gray-300\"\n              />\n              <span className=\"text-sm font-medium\">\n                {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\n              </span>\n            </label>\n          ))}\n        </div>\n      </div>\n\n      {/* Station Performance Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {stationStats.map(station => (\n          <div key={station.id} className=\"bg-white p-4 rounded-lg shadow-sm border\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h4 className=\"font-semibold\">{station.name}</h4>\n              <div className={`px-2 py-1 rounded-full text-xs flex items-center space-x-1 ${getStatusColor(station.status)}`}>\n                {getStatusIcon(station.status)}\n                <span>{station.status}</span>\n              </div>\n            </div>\n            \n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span>Current Load:</span>\n                <span>{station.currentLoad}/{station.maxCapacity}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Workload:</span>\n                <span>{Math.round(station.workloadPercentage)}%</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Est. Wait:</span>\n                <span>{station.estimatedWaitTime}m</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Orders/Hour:</span>\n                <span>{station.ordersPerHour}</span>\n              </div>\n            </div>\n            \n            {/* Workload Bar */}\n            <div className=\"mt-3\">\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className={`h-2 rounded-full ${\n                    station.workloadPercentage > 90 ? 'bg-red-500' :\n                    station.workloadPercentage > 70 ? 'bg-yellow-500' :\n                    'bg-green-500'\n                  }`}\n                  style={{ width: `${Math.min(100, station.workloadPercentage)}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Routing Suggestions */}\n      {routingSuggestions.length > 0 && (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <BarChart3 className=\"mr-2 text-blue-600\" />\n            Intelligent Routing Suggestions ({routingSuggestions.length})\n          </h3>\n          <div className=\"space-y-3\">\n            {routingSuggestions.slice(0, 5).map(({ order, suggested, currentStation }) => (\n              <div key={order.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div className=\"flex-1\">\n                  <div className=\"font-medium\">#{order.orderNumber} - {order.customerName}</div>\n                  <div className=\"text-sm text-gray-600\">{order.coffeeType}, {order.milkType}</div>\n                </div>\n                \n                <div className=\"flex items-center space-x-3\">\n                  {currentStation && (\n                    <>\n                      <div className=\"text-center\">\n                        <div className=\"text-sm font-medium\">{currentStation.name}</div>\n                        <div className=\"text-xs text-gray-500\">Current</div>\n                      </div>\n                      <ArrowRight size={16} className=\"text-gray-400\" />\n                    </>\n                  )}\n                  \n                  <div className=\"text-center\">\n                    <div className=\"text-sm font-medium text-blue-600\">{suggested.station.name}</div>\n                    <div className=\"text-xs text-gray-500\">\n                      Score: {Math.round(suggested.score)} | Wait: {suggested.station.estimatedWaitTime}m\n                    </div>\n                  </div>\n                  \n                  <button className=\"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700\">\n                    Route\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Metrics Summary */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-blue-600\">{routingMetrics.totalOrdersRouted || 0}</div>\n          <div className=\"text-sm text-gray-600\">Active Orders</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-green-600\">{routingMetrics.avgWaitTime || 0}m</div>\n          <div className=\"text-sm text-gray-600\">Avg Wait Time</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-purple-600\">{routingMetrics.routingEfficiency || 0}%</div>\n          <div className=\"text-sm text-gray-600\">Routing Efficiency</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-orange-600\">{routingMetrics.workloadBalance || 0}%</div>\n          <div className=\"text-sm text-gray-600\">Workload Balance</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QueueIntelligence;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowRightLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMyA0IDQtNCA0IiAvPgogIDxwYXRoIGQ9Ik0yMCA3SDQiIC8+CiAgPHBhdGggZD0ibTggMjEtNC00IDQtNCIgLz4KICA8cGF0aCBkPSJNNCAxN2gxNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-right-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRightLeft = createLucideIcon('ArrowRightLeft', [\n  ['path', { d: 'm16 3 4 4-4 4', key: '1x1c3m' }],\n  ['path', { d: 'M20 7H4', key: 'zbl0bi' }],\n  ['path', { d: 'm8 21-4-4 4-4', key: 'h9nckh' }],\n  ['path', { d: 'M4 17h16', key: 'g4d7ey' }],\n]);\n\nexport default ArrowRightLeft;\n","// components/StationLoadBalancer.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Scale, RefreshCw, AlertTriangle, CheckCircle, ArrowRightLeft, Users, Clock, Zap } from 'lucide-react';\nimport useStations from '../hooks/useStations';\nimport useOrders from '../hooks/useOrders';\n\nconst StationLoadBalancer = () => {\n  const { stations } = useStations();\n  const { pendingOrders, inProgressOrders, startOrder } = useOrders();\n  \n  // Load balancing settings from localStorage or use defaults\n  const loadBalancingSettings = () => {\n    try {\n      const saved = localStorage.getItem('coffee_cue_balancing_settings');\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        return {\n          balancingActive: parsed.balancingActive || false,\n          balancingRules: parsed.balancingRules || {\n            autoBalance: true,\n            balanceThreshold: 70, // Trigger balancing when workload > 70%\n            maxTransfers: 3, // Max orders to transfer at once\n            considerCapabilities: true\n          }\n        };\n      }\n    } catch (error) {\n      console.error('Error loading balancing settings from localStorage:', error);\n    }\n    return {\n      balancingActive: false,\n      balancingRules: {\n        autoBalance: true,\n        balanceThreshold: 70,\n        maxTransfers: 3,\n        considerCapabilities: true\n      }\n    };\n  };\n\n  const initialSettings = loadBalancingSettings();\n  const [balancingActive, setBalancingActive] = useState(initialSettings.balancingActive);\n  const [balancingRules, setBalancingRules] = useState(initialSettings.balancingRules);\n  \n  // Save settings to localStorage whenever they change\n  useEffect(() => {\n    try {\n      const settings = {\n        balancingActive,\n        balancingRules\n      };\n      localStorage.setItem('coffee_cue_balancing_settings', JSON.stringify(settings));\n      console.log('Saved balancing settings to localStorage:', settings);\n    } catch (error) {\n      console.error('Error saving balancing settings to localStorage:', error);\n    }\n  }, [balancingActive, balancingRules]);\n  \n  const [transferSuggestions, setTransferSuggestions] = useState([]);\n  const [balancingMetrics, setBalancingMetrics] = useState({\n    workloadVariance: 0,\n    avgWaitTime: 0,\n    transfersToday: 0,\n    efficiencyGain: 0\n  });\n\n  // Calculate station workloads and imbalances\n  const calculateWorkloadBalance = useCallback(() => {\n    if (!stations || !inProgressOrders) return { stations: [], variance: 0, needsBalancing: false };\n\n    const stationWorkloads = stations.map(station => {\n      const stationOrders = inProgressOrders.filter(order => \n        order.stationId === station.id || order.station_id === station.id\n      );\n      \n      const maxCapacity = station.maxCapacity || 5;\n      const currentLoad = stationOrders.length;\n      const workloadPercentage = (currentLoad / maxCapacity) * 100;\n      const avgOrderTime = station.avgOrderTime || 4;\n      const estimatedWaitTime = currentLoad * avgOrderTime;\n      \n      return {\n        ...station,\n        currentLoad,\n        maxCapacity,\n        workloadPercentage,\n        estimatedWaitTime,\n        orders: stationOrders,\n        status: workloadPercentage > 90 ? 'overloaded' : \n               workloadPercentage > 70 ? 'busy' : \n               workloadPercentage > 30 ? 'active' : 'available'\n      };\n    });\n\n    // Calculate workload variance\n    const avgWorkload = stationWorkloads.reduce((sum, s) => sum + s.workloadPercentage, 0) / stationWorkloads.length;\n    const variance = Math.sqrt(\n      stationWorkloads.reduce((sum, s) => sum + Math.pow(s.workloadPercentage - avgWorkload, 2), 0) / stationWorkloads.length\n    );\n\n    const needsBalancing = variance > balancingRules.balanceThreshold;\n\n    return { \n      stations: stationWorkloads, \n      variance: Math.round(variance), \n      avgWorkload: Math.round(avgWorkload),\n      needsBalancing \n    };\n  }, [stations, inProgressOrders, balancingRules.balanceThreshold]);\n\n  const workloadData = calculateWorkloadBalance();\n\n  // Generate transfer suggestions for load balancing\n  const generateTransferSuggestions = useCallback(() => {\n    if (!workloadData.needsBalancing) return [];\n\n    const overloadedStations = workloadData.stations.filter(s => s.workloadPercentage > balancingRules.balanceThreshold);\n    const availableStations = workloadData.stations.filter(s => s.workloadPercentage < 50).sort((a, b) => a.workloadPercentage - b.workloadPercentage);\n\n    if (!overloadedStations.length || !availableStations.length) return [];\n\n    const suggestions = [];\n\n    overloadedStations.forEach(overloadedStation => {\n      // Get transferable orders (newest, non-VIP orders first)\n      const transferableOrders = overloadedStation.orders\n        .filter(order => !order.priority && !order.vip)\n        .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\n        .slice(0, balancingRules.maxTransfers);\n\n      transferableOrders.forEach(order => {\n        // Find best destination station\n        const bestDestination = availableStations.find(station => {\n          if (!balancingRules.considerCapabilities) return true;\n          \n          // Check if station can handle this order\n          const canMakeCoffee = !station.capabilities?.coffee || \n            station.capabilities.coffee.some(type => \n              order.coffeeType?.toLowerCase().includes(type.toLowerCase())\n            );\n          \n          const canProvideMilk = order.milkType === 'No milk' || \n            !station.capabilities?.milk ||\n            station.capabilities.milk.some(milk => \n              order.milkType?.toLowerCase().includes(milk.toLowerCase())\n            );\n\n          return canMakeCoffee && canProvideMilk;\n        });\n\n        if (bestDestination) {\n          const waitTimeReduction = overloadedStation.estimatedWaitTime - bestDestination.estimatedWaitTime;\n          \n          suggestions.push({\n            order,\n            fromStation: overloadedStation,\n            toStation: bestDestination,\n            waitTimeReduction,\n            priority: waitTimeReduction + (overloadedStation.workloadPercentage - bestDestination.workloadPercentage)\n          });\n        }\n      });\n    });\n\n    // Sort by priority (highest impact first)\n    return suggestions.sort((a, b) => b.priority - a.priority).slice(0, balancingRules.maxTransfers);\n  }, [workloadData, balancingRules]);\n\n  const transferSuggestionsData = generateTransferSuggestions();\n\n  // Auto-execute transfers if auto-balancing is enabled\n  useEffect(() => {\n    if (balancingRules.autoBalance && transferSuggestionsData.length && !balancingActive) {\n      setTransferSuggestions(transferSuggestionsData);\n    }\n  }, [transferSuggestionsData, balancingRules.autoBalance, balancingActive]);\n\n  // Execute a transfer\n  const executeTransfer = async (suggestion) => {\n    setBalancingActive(true);\n    \n    try {\n      // In a real implementation, this would call an API to reassign the order\n      console.log(`Transferring order ${suggestion.order.id} from ${suggestion.fromStation.name} to ${suggestion.toStation.name}`);\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update metrics\n      setBalancingMetrics(prev => ({\n        ...prev,\n        transfersToday: prev.transfersToday + 1,\n        efficiencyGain: prev.efficiencyGain + suggestion.waitTimeReduction\n      }));\n      \n      // Remove from suggestions\n      setTransferSuggestions(prev => prev.filter(s => s.order.id !== suggestion.order.id));\n      \n    } catch (error) {\n      console.error('Transfer failed:', error);\n    } finally {\n      setBalancingActive(false);\n    }\n  };\n\n  // Execute all suggested transfers\n  const executeAllTransfers = async () => {\n    setBalancingActive(true);\n    \n    for (const suggestion of transferSuggestions) {\n      await executeTransfer(suggestion);\n    }\n    \n    setBalancingActive(false);\n  };\n\n  // Update metrics\n  useEffect(() => {\n    if (!workloadData.stations?.length) return;\n    \n    const totalWaitTime = workloadData.stations.reduce((sum, s) => sum + (s.estimatedWaitTime || 0), 0);\n    const avgWaitTime = totalWaitTime / workloadData.stations.length;\n    \n    setBalancingMetrics(prev => ({\n      ...prev,\n      workloadVariance: workloadData.variance || 0,\n      avgWaitTime: Math.round(avgWaitTime * 10) / 10\n    }));\n  }, [workloadData.variance, workloadData.stations?.length]);\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'available': return 'text-green-600 bg-green-100';\n      case 'active': return 'text-blue-600 bg-blue-100';\n      case 'busy': return 'text-yellow-600 bg-yellow-100';\n      case 'overloaded': return 'text-red-600 bg-red-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-green-600 to-teal-600 text-white p-6 rounded-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold flex items-center\">\n              <Scale className=\"mr-3\" />\n              Station Load Balancer\n            </h2>\n            <p className=\"text-green-100 mt-1\">\n              Real-time workload distribution and order transfer optimization\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold\">{balancingMetrics.workloadVariance}</div>\n              <div className=\"text-sm text-green-200\">Variance</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold\">{balancingMetrics.transfersToday}</div>\n              <div className=\"text-sm text-green-200\">Transfers</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Balancing Controls */}\n      <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold flex items-center\">\n            <Zap className=\"mr-2 text-yellow-600\" />\n            Load Balancing Configuration\n          </h3>\n          <div className=\"flex items-center space-x-4\">\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={balancingRules.autoBalance}\n                onChange={(e) => setBalancingRules({\n                  ...balancingRules,\n                  autoBalance: e.target.checked\n                })}\n                className=\"rounded border-gray-300\"\n              />\n              <span className=\"text-sm font-medium\">Auto-Balance</span>\n            </label>\n            <button\n              onClick={() => setTransferSuggestions(transferSuggestionsData)}\n              disabled={balancingActive}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2\"\n            >\n              <RefreshCw size={16} className={balancingActive ? 'animate-spin' : ''} />\n              <span>Analyze</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Balance Threshold (%)\n            </label>\n            <input\n              type=\"range\"\n              min=\"50\"\n              max=\"100\"\n              value={balancingRules.balanceThreshold}\n              onChange={(e) => setBalancingRules({\n                ...balancingRules,\n                balanceThreshold: parseInt(e.target.value)\n              })}\n              className=\"w-full\"\n            />\n            <div className=\"text-xs text-gray-500\">{balancingRules.balanceThreshold}%</div>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Max Transfers\n            </label>\n            <select\n              value={balancingRules.maxTransfers}\n              onChange={(e) => setBalancingRules({\n                ...balancingRules,\n                maxTransfers: parseInt(e.target.value)\n              })}\n              className=\"w-full p-2 border rounded\"\n            >\n              <option value={1}>1</option>\n              <option value={3}>3</option>\n              <option value={5}>5</option>\n            </select>\n          </div>\n          <div className=\"flex items-center\">\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={balancingRules.considerCapabilities}\n                onChange={(e) => setBalancingRules({\n                  ...balancingRules,\n                  considerCapabilities: e.target.checked\n                })}\n                className=\"rounded border-gray-300\"\n              />\n              <span className=\"text-sm font-medium\">Check Capabilities</span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      {/* Station Workload Visualization */}\n      <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n          <Users className=\"mr-2 text-blue-600\" />\n          Station Workload Distribution\n        </h3>\n        \n        <div className=\"space-y-4\">\n          {workloadData.stations.map(station => (\n            <div key={station.id} className=\"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg\">\n              <div className=\"w-20 text-sm font-medium\">{station.name}</div>\n              \n              <div className=\"flex-1\">\n                <div className=\"flex items-center justify-between text-xs text-gray-600 mb-1\">\n                  <span>{station.currentLoad}/{station.maxCapacity} orders</span>\n                  <span>{Math.round(station.workloadPercentage)}%</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                  <div \n                    className={`h-3 rounded-full transition-all duration-300 ${\n                      station.workloadPercentage > 90 ? 'bg-red-500' :\n                      station.workloadPercentage > 70 ? 'bg-yellow-500' :\n                      'bg-green-500'\n                    }`}\n                    style={{ width: `${Math.min(100, station.workloadPercentage)}%` }}\n                  ></div>\n                </div>\n              </div>\n              \n              <div className={`px-2 py-1 rounded-full text-xs flex items-center space-x-1 ${getStatusColor(station.status)}`}>\n                <span>{station.status}</span>\n              </div>\n              \n              <div className=\"text-right text-sm\">\n                <div className=\"font-medium\">{station.estimatedWaitTime}m</div>\n                <div className=\"text-xs text-gray-500\">wait time</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Transfer Suggestions */}\n      {transferSuggestions.length > 0 && (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold flex items-center\">\n              <ArrowRightLeft className=\"mr-2 text-purple-600\" />\n              Recommended Transfers ({transferSuggestions.length})\n            </h3>\n            <button\n              onClick={executeAllTransfers}\n              disabled={balancingActive}\n              className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50\"\n            >\n              Execute All Transfers\n            </button>\n          </div>\n          \n          <div className=\"space-y-3\">\n            {transferSuggestions.map((suggestion, index) => (\n              <div key={`${suggestion.order.id}-${index}`} className=\"flex items-center justify-between p-4 bg-purple-50 rounded-lg\">\n                <div className=\"flex-1\">\n                  <div className=\"font-medium\">\n                    #{suggestion.order.orderNumber} - {suggestion.order.customerName}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">\n                    {suggestion.order.coffeeType}, {suggestion.order.milkType}\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"text-center\">\n                    <div className=\"text-sm font-medium\">{suggestion.fromStation.name}</div>\n                    <div className=\"text-xs text-gray-500\">{suggestion.fromStation.estimatedWaitTime}m wait</div>\n                  </div>\n                  \n                  <ArrowRightLeft size={16} className=\"text-purple-600\" />\n                  \n                  <div className=\"text-center\">\n                    <div className=\"text-sm font-medium text-purple-600\">{suggestion.toStation.name}</div>\n                    <div className=\"text-xs text-gray-500\">{suggestion.toStation.estimatedWaitTime}m wait</div>\n                  </div>\n                  \n                  <div className=\"text-center\">\n                    <div className=\"text-sm font-bold text-green-600\">-{suggestion.waitTimeReduction}m</div>\n                    <div className=\"text-xs text-gray-500\">time saved</div>\n                  </div>\n                  \n                  <button\n                    onClick={() => executeTransfer(suggestion)}\n                    disabled={balancingActive}\n                    className=\"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 disabled:opacity-50\"\n                  >\n                    Transfer\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Balance Status */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className={`text-2xl font-bold ${workloadData.needsBalancing ? 'text-red-600' : 'text-green-600'}`}>\n            {workloadData.needsBalancing ? <AlertTriangle size={24} className=\"mx-auto\" /> : <CheckCircle size={24} className=\"mx-auto\" />}\n          </div>\n          <div className=\"text-sm text-gray-600 mt-1\">\n            {workloadData.needsBalancing ? 'Needs Balancing' : 'Well Balanced'}\n          </div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-blue-600\">{balancingMetrics.workloadVariance || 0}</div>\n          <div className=\"text-sm text-gray-600\">Workload Variance</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-green-600\">{balancingMetrics.avgWaitTime || 0}m</div>\n          <div className=\"text-sm text-gray-600\">Avg Wait Time</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow-sm text-center\">\n          <div className=\"text-2xl font-bold text-purple-600\">{Math.round(balancingMetrics.efficiencyGain || 0)}m</div>\n          <div className=\"text-sm text-gray-600\">Time Saved Today</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StationLoadBalancer;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport useStations from '../hooks/useStations';\nimport useOrders from '../hooks/useOrders';\nimport useSettings from '../hooks/useSettings';\n\nconst DynamicStaffAllocation = () => {\n  const { stations, updateStation } = useStations();\n  const { pendingOrders, inProgressOrders, completedOrders } = useOrders();\n  const { settings } = useSettings();\n  \n  // Create ordersData object for backward compatibility\n  const ordersData = {\n    pending: pendingOrders || [],\n    inProgress: inProgressOrders || [],\n    completed: completedOrders || []\n  };\n  \n  // Load saved settings from localStorage\n  const loadSavedSettings = () => {\n    try {\n      const saved = localStorage.getItem('coffee_cue_staff_allocation');\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        return {\n          timeframe: parsed.timeframe || '1h',\n          showAdvanced: parsed.showAdvanced || false\n        };\n      }\n    } catch (error) {\n      console.error('Error loading staff allocation settings:', error);\n    }\n    return {\n      timeframe: '1h',\n      showAdvanced: false\n    };\n  };\n  \n  const savedSettings = loadSavedSettings();\n  const [performanceMetrics, setPerformanceMetrics] = useState({});\n  const [allocationSuggestions, setAllocationSuggestions] = useState([]);\n  const [timeframe, setTimeframe] = useState(savedSettings.timeframe);\n  const [showAdvanced, setShowAdvanced] = useState(savedSettings.showAdvanced);\n  \n  // Save settings whenever they change\n  useEffect(() => {\n    try {\n      const settingsToSave = {\n        timeframe,\n        showAdvanced\n      };\n      localStorage.setItem('coffee_cue_staff_allocation', JSON.stringify(settingsToSave));\n      console.log('Saved staff allocation settings:', settingsToSave);\n    } catch (error) {\n      console.error('Error saving staff allocation settings:', error);\n    }\n  }, [timeframe, showAdvanced]);\n\n  // Calculate performance metrics for each barista/station\n  const calculatePerformanceMetrics = useCallback(() => {\n    const metrics = {};\n    const timeframes = {\n      '1h': 1,\n      '4h': 4,\n      '8h': 8,\n      '1d': 24\n    };\n    \n    const hoursBack = timeframes[timeframe];\n    const cutoffTime = new Date(Date.now() - (hoursBack * 60 * 60 * 1000));\n    \n    stations.forEach(station => {\n      const stationOrders = ordersData.completed.filter(order => \n        order.station_id === station.id && \n        new Date(order.completed_at || order.updated_at) > cutoffTime\n      );\n      \n      const totalOrders = stationOrders.length;\n      const totalRevenue = stationOrders.reduce((sum, order) => sum + (order.total || 0), 0);\n      \n      // Calculate average completion time\n      const completionTimes = stationOrders\n        .filter(order => order.started_at && order.completed_at)\n        .map(order => \n          new Date(order.completed_at) - new Date(order.started_at)\n        );\n      \n      const avgCompletionTime = completionTimes.length > 0 \n        ? completionTimes.reduce((sum, time) => sum + time, 0) / completionTimes.length / 60000 // in minutes\n        : 0;\n      \n      // Calculate efficiency score (orders per hour adjusted for complexity)\n      const ordersPerHour = totalOrders / hoursBack;\n      const complexityFactor = stationOrders.reduce((sum, order) => {\n        let complexity = 1;\n        if (order.milk_type && order.milk_type !== 'none') complexity += 0.3;\n        if (order.size === 'large') complexity += 0.2;\n        if (order.special_instructions) complexity += 0.5;\n        return sum + complexity;\n      }, 0) / Math.max(totalOrders, 1);\n      \n      const efficiencyScore = ordersPerHour * complexityFactor;\n      \n      // Error rate (cancelled or refunded orders)\n      const errorOrders = ordersData.cancelled?.filter(order => \n        order.station_id === station.id && \n        new Date(order.updated_at) > cutoffTime\n      ).length || 0;\n      const errorRate = totalOrders > 0 ? (errorOrders / totalOrders) * 100 : 0;\n      \n      // Current workload\n      const currentOrders = ordersData.inProgress.filter(order => order.station_id === station.id).length;\n      const pendingOrders = ordersData.pending.filter(order => order.station_id === station.id).length;\n      const currentWorkload = currentOrders + pendingOrders;\n      \n      metrics[station.id] = {\n        stationName: station.name,\n        baristaName: station.current_barista || 'Unassigned',\n        totalOrders,\n        totalRevenue,\n        ordersPerHour: parseFloat(ordersPerHour.toFixed(1)),\n        avgCompletionTime: parseFloat(avgCompletionTime.toFixed(1)),\n        efficiencyScore: parseFloat(efficiencyScore.toFixed(2)),\n        errorRate: parseFloat(errorRate.toFixed(1)),\n        currentWorkload,\n        status: station.status || 'active',\n        capabilities: station.capabilities || {},\n        lastOrderTime: stationOrders.length > 0 \n          ? Math.max(...stationOrders.map(o => new Date(o.completed_at || o.updated_at).getTime()))\n          : null\n      };\n    });\n    \n    setPerformanceMetrics(metrics);\n  }, [stations, ordersData?.pending?.length, ordersData?.inProgress?.length, ordersData?.completed?.length, timeframe]);\n\n  // Generate allocation suggestions\n  const generateAllocationSuggestions = useCallback(() => {\n    const suggestions = [];\n    const stationMetrics = Object.values(performanceMetrics);\n    \n    if (stationMetrics.length === 0) return;\n    \n    // Find overloaded stations\n    const avgWorkload = stationMetrics.reduce((sum, m) => sum + m.currentWorkload, 0) / stationMetrics.length;\n    const overloadedStations = stationMetrics.filter(m => m.currentWorkload > avgWorkload * 1.5);\n    \n    // Find underutilized stations\n    const underutilizedStations = stationMetrics.filter(m => \n      m.currentWorkload < avgWorkload * 0.5 && m.status === 'active'\n    );\n    \n    // Suggest redistributions\n    overloadedStations.forEach(overloaded => {\n      const bestTarget = underutilizedStations\n        .filter(under => {\n          // Check capability compatibility\n          const overloadedCaps = overloaded.capabilities;\n          const underCaps = under.capabilities;\n          return Object.keys(overloadedCaps).every(cap => underCaps[cap]);\n        })\n        .sort((a, b) => b.efficiencyScore - a.efficiencyScore)[0];\n      \n      if (bestTarget) {\n        suggestions.push({\n          type: 'redistribute',\n          from: overloaded.stationName,\n          to: bestTarget.stationName,\n          reason: `${overloaded.stationName} has ${overloaded.currentWorkload} orders vs ${bestTarget.stationName}'s ${bestTarget.currentWorkload}`,\n          impact: `Could reduce wait time by ~${Math.round((overloaded.currentWorkload - bestTarget.currentWorkload) * overloaded.avgCompletionTime / 4)} minutes`,\n          priority: overloaded.currentWorkload > avgWorkload * 2 ? 'high' : 'medium'\n        });\n      }\n    });\n    \n    // Suggest breaks for high-performing but overworked stations\n    stationMetrics.forEach(station => {\n      const lastOrderTime = station.lastOrderTime;\n      const timeSinceLastOrder = lastOrderTime ? (Date.now() - lastOrderTime) / 60000 : 0; // minutes\n      \n      if (station.ordersPerHour > avgWorkload * 1.2 && timeSinceLastOrder < 30 && station.currentWorkload > 3) {\n        suggestions.push({\n          type: 'break',\n          station: station.stationName,\n          reason: `High performance (${station.ordersPerHour} orders/hr) but continuous work for ${Math.round(timeSinceLastOrder)} minutes`,\n          impact: 'Prevent burnout and maintain quality',\n          priority: 'medium'\n        });\n      }\n    });\n    \n    // Suggest additional staff for peak times\n    const totalCurrentWorkload = stationMetrics.reduce((sum, m) => sum + m.currentWorkload, 0);\n    const activeStations = stationMetrics.filter(m => m.status === 'active').length;\n    \n    if (totalCurrentWorkload > activeStations * 3) {\n      suggestions.push({\n        type: 'additional_staff',\n        reason: `High demand: ${totalCurrentWorkload} orders across ${activeStations} stations`,\n        impact: 'Could reduce overall wait times significantly',\n        priority: 'high'\n      });\n    }\n    \n    setAllocationSuggestions(suggestions);\n  }, [performanceMetrics]);\n\n  useEffect(() => {\n    calculatePerformanceMetrics();\n  }, [calculatePerformanceMetrics]);\n\n  useEffect(() => {\n    generateAllocationSuggestions();\n  }, [generateAllocationSuggestions]);\n\n  // Get top performers\n  const topPerformers = useMemo(() => {\n    return Object.values(performanceMetrics)\n      .filter(m => m.totalOrders > 0)\n      .sort((a, b) => b.efficiencyScore - a.efficiencyScore)\n      .slice(0, 3);\n  }, [performanceMetrics]);\n\n  const handleStationStatusChange = async (stationId, newStatus) => {\n    try {\n      await updateStation(stationId, { status: newStatus });\n    } catch (error) {\n      console.error('Failed to update station status:', error);\n    }\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high': return 'text-red-600 bg-red-50';\n      case 'medium': return 'text-yellow-600 bg-yellow-50';\n      case 'low': return 'text-green-600 bg-green-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'active': return 'text-green-600 bg-green-100';\n      case 'break': return 'text-yellow-600 bg-yellow-100';\n      case 'offline': return 'text-red-600 bg-red-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Dynamic Staff Allocation</h2>\n        <div className=\"flex space-x-4\">\n          <select \n            value={timeframe} \n            onChange={(e) => setTimeframe(e.target.value)}\n            className=\"border rounded-lg px-3 py-2\"\n          >\n            <option value=\"1h\">Last Hour</option>\n            <option value=\"4h\">Last 4 Hours</option>\n            <option value=\"8h\">Last 8 Hours</option>\n            <option value=\"1d\">Last Day</option>\n          </select>\n          <button\n            onClick={() => setShowAdvanced(!showAdvanced)}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600\"\n          >\n            {showAdvanced ? 'Hide' : 'Show'} Advanced\n          </button>\n        </div>\n      </div>\n\n      {/* Performance Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Top Performers</h3>\n          <div className=\"space-y-3\">\n            {topPerformers.map((performer, index) => (\n              <div key={performer.stationName} className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-medium\">{performer.baristaName}</div>\n                  <div className=\"text-sm text-gray-500\">{performer.stationName}</div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-lg font-bold text-green-600\">{performer.efficiencyScore}</div>\n                  <div className=\"text-xs text-gray-500\">efficiency score</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Current Workload</h3>\n          <div className=\"space-y-3\">\n            {Object.values(performanceMetrics).map(station => (\n              <div key={station.stationName} className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-medium\">{station.stationName}</div>\n                  <div className=\"text-sm text-gray-500\">{station.baristaName}</div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-lg font-bold\">{station.currentWorkload}</span>\n                  <span className={`px-2 py-1 rounded-full text-xs ${getStatusColor(station.status)}`}>\n                    {station.status}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Allocation Suggestions</h3>\n          <div className=\"space-y-3\">\n            {allocationSuggestions.slice(0, 3).map((suggestion, index) => (\n              <div key={index} className={`p-3 rounded-lg ${getPriorityColor(suggestion.priority)}`}>\n                <div className=\"font-medium text-sm\">\n                  {suggestion.type === 'redistribute' && `Move orders: ${suggestion.from}  ${suggestion.to}`}\n                  {suggestion.type === 'break' && `Break suggested: ${suggestion.station}`}\n                  {suggestion.type === 'additional_staff' && 'Additional staff needed'}\n                </div>\n                <div className=\"text-xs mt-1\">{suggestion.impact}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Detailed Performance Metrics */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold\">Station Performance Metrics</h3>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Station</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Barista</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Orders/Hr</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Avg Time</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Efficiency</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Error Rate</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Current Load</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                {showAdvanced && (\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                )}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {Object.values(performanceMetrics).map(station => (\n                <tr key={station.stationName}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {station.stationName}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {station.baristaName}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {station.ordersPerHour}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {station.avgCompletionTime}m\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      station.efficiencyScore > 2 ? 'bg-green-100 text-green-800' :\n                      station.efficiencyScore > 1 ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-red-100 text-red-800'\n                    }`}>\n                      {station.efficiencyScore}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {station.errorRate}%\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      station.currentWorkload > 3 ? 'bg-red-100 text-red-800' :\n                      station.currentWorkload > 1 ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-green-100 text-green-800'\n                    }`}>\n                      {station.currentWorkload}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(station.status)}`}>\n                      {station.status}\n                    </span>\n                  </td>\n                  {showAdvanced && (\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      <select\n                        value={station.status}\n                        onChange={(e) => {\n                          const stationObj = stations.find(s => s.name === station.stationName);\n                          if (stationObj?.id) {\n                            handleStationStatusChange(stationObj.id, e.target.value);\n                          }\n                        }}\n                        className=\"border rounded px-2 py-1 text-xs\"\n                      >\n                        <option value=\"active\">Active</option>\n                        <option value=\"break\">Break</option>\n                        <option value=\"offline\">Offline</option>\n                      </select>\n                    </td>\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Detailed Allocation Suggestions */}\n      {allocationSuggestions.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold\">Detailed Allocation Recommendations</h3>\n          </div>\n          <div className=\"p-6 space-y-4\">\n            {allocationSuggestions.map((suggestion, index) => (\n              <div key={index} className={`p-4 rounded-lg border-l-4 ${\n                suggestion.priority === 'high' ? 'border-red-400 bg-red-50' :\n                suggestion.priority === 'medium' ? 'border-yellow-400 bg-yellow-50' :\n                'border-green-400 bg-green-50'\n              }`}>\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">\n                      {suggestion.type === 'redistribute' && 'Redistribute Orders'}\n                      {suggestion.type === 'break' && 'Break Recommendation'}\n                      {suggestion.type === 'additional_staff' && 'Additional Staff Needed'}\n                    </h4>\n                    <p className=\"text-gray-700 mt-1\">{suggestion.reason}</p>\n                    <p className=\"text-sm text-gray-600 mt-2\">Expected Impact: {suggestion.impact}</p>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getPriorityColor(suggestion.priority)}`}>\n                    {suggestion.priority}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DynamicStaffAllocation;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiAxNyAxMy41IDguNSA4LjUgMTMuNSAyIDciIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjIgMTcgMjIgMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trending-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingDown = createLucideIcon('TrendingDown', [\n  ['polyline', { points: '22 17 13.5 8.5 8.5 13.5 2 7', key: '1r2t7k' }],\n  ['polyline', { points: '16 17 22 17 22 11', key: '11uiuu' }],\n]);\n\nexport default TrendingDown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Truck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTdoNFY1SDJ2MTJoMyIgLz4KICA8cGF0aCBkPSJNMjAgMTdoMnYtMy4zNGE0IDQgMCAwIDAtMS4xNy0yLjgzTDE5IDloLTUiIC8+CiAgPHBhdGggZD0iTTE0IDE3aDEiIC8+CiAgPGNpcmNsZSBjeD0iNy41IiBjeT0iMTcuNSIgcj0iMi41IiAvPgogIDxjaXJjbGUgY3g9IjE3LjUiIGN5PSIxNy41IiByPSIyLjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/truck\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Truck = createLucideIcon('Truck', [\n  ['path', { d: 'M10 17h4V5H2v12h3', key: '1jq12e' }],\n  ['path', { d: 'M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5', key: '1xb3ft' }],\n  ['path', { d: 'M14 17h1', key: 'nufu4t' }],\n  ['circle', { cx: '7.5', cy: '17.5', r: '2.5', key: 'a7aife' }],\n  ['circle', { cx: '17.5', cy: '17.5', r: '2.5', key: '1mdrzq' }],\n]);\n\nexport default Truck;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Package, AlertTriangle, TrendingDown, RefreshCw, Truck, Coffee } from 'lucide-react';\nimport useStations from '../hooks/useStations';\nimport useStock from '../hooks/useStock';\nimport useSettings from '../hooks/useSettings';\n\nconst MultiLevelInventory = () => {\n  const { stations } = useStations();\n  const { settings } = useSettings();\n  const [selectedView, setSelectedView] = useState('overview'); // overview, station, predictions\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [inventoryData, setInventoryData] = useState({\n    eventLevel: {},\n    stationLevel: {},\n    predictions: {},\n    alerts: []\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [autoRestockSettings, setAutoRestockSettings] = useState({\n    enabled: true,\n    threshold: 20, // percentage\n    orderLeadTime: 24 // hours\n  });\n\n  // Load inventory data from API\n  const loadInventoryData = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      \n      // Fetch event-level inventory\n      const token = localStorage.getItem('authToken') || localStorage.getItem('coffee_system_token');\n      const eventResponse = await fetch('/api/inventory/event', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Accept': 'application/json'\n        }\n      });\n      \n      if (!eventResponse.ok) {\n        throw new Error('Failed to fetch event inventory');\n      }\n      \n      const eventData = await eventResponse.json();\n      \n      // Fetch station-level inventory for all stations\n      const stationPromises = stations.map(station => \n        fetch(`/api/inventory?station_id=${station.id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Accept': 'application/json'\n          }\n        }).then(res => res.json())\n      );\n      \n      const stationInventories = await Promise.all(stationPromises);\n      \n      // Process inventory data\n      const stationData = {};\n      stations.forEach((station, index) => {\n        stationData[station.id] = {\n          ...station,\n          inventory: stationInventories[index]\n        };\n      });\n      \n      // Generate predictions and alerts\n      const predictions = generatePredictions(eventData, stationData);\n      const alerts = generateAlerts(eventData, stationData, predictions);\n      \n      setInventoryData({\n        eventLevel: eventData,\n        stationLevel: stationData,\n        predictions,\n        alerts\n      });\n      \n    } catch (error) {\n      console.error('Error loading inventory data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [stations]);\n\n  // Generate predictions based on consumption patterns\n  const generatePredictions = (eventData, stationData) => {\n    const predictions = {\n      milkConsumption: {},\n      coffeeConsumption: {},\n      stockoutRisk: [],\n      reorderSuggestions: []\n    };\n    \n    // Calculate consumption rates (simplified - in real implementation would use historical data)\n    const milkTypes = ['Full Cream', 'Skim', 'Soy', 'Almond', 'Oat'];\n    const coffeeTypes = ['House Blend', 'Single Origin', 'Decaf'];\n    \n    milkTypes.forEach(milk => {\n      const totalStock = Object.values(stationData).reduce((sum, station) => {\n        const milkItem = station.inventory?.milk?.find(item => item.name === milk);\n        return sum + (milkItem?.amount || 0);\n      }, 0);\n      \n      const avgConsumptionRate = 0.5; // L per hour (would be calculated from historical data)\n      const hoursRemaining = 8; // Event duration\n      const predictedConsumption = avgConsumptionRate * hoursRemaining;\n      \n      predictions.milkConsumption[milk] = {\n        currentStock: totalStock,\n        predictedConsumption,\n        remainingStock: totalStock - predictedConsumption,\n        riskLevel: (totalStock - predictedConsumption) < 2 ? 'high' : \n                   (totalStock - predictedConsumption) < 5 ? 'medium' : 'low'\n      };\n      \n      if (predictions.milkConsumption[milk].riskLevel !== 'low') {\n        predictions.stockoutRisk.push({\n          item: milk,\n          type: 'milk',\n          hoursUntilStockout: totalStock / avgConsumptionRate,\n          riskLevel: predictions.milkConsumption[milk].riskLevel\n        });\n      }\n    });\n    \n    coffeeTypes.forEach(coffee => {\n      const totalStock = Object.values(stationData).reduce((sum, station) => {\n        const coffeeItem = station.inventory?.coffee?.find(item => item.name === coffee);\n        return sum + (coffeeItem?.amount || 0);\n      }, 0);\n      \n      const avgConsumptionRate = 0.3; // kg per hour\n      const hoursRemaining = 8;\n      const predictedConsumption = avgConsumptionRate * hoursRemaining;\n      \n      predictions.coffeeConsumption[coffee] = {\n        currentStock: totalStock,\n        predictedConsumption,\n        remainingStock: totalStock - predictedConsumption,\n        riskLevel: (totalStock - predictedConsumption) < 1 ? 'high' : \n                   (totalStock - predictedConsumption) < 2 ? 'medium' : 'low'\n      };\n    });\n    \n    // Generate reorder suggestions\n    predictions.stockoutRisk.forEach(risk => {\n      if (risk.riskLevel === 'high') {\n        predictions.reorderSuggestions.push({\n          item: risk.item,\n          type: risk.type,\n          urgency: 'immediate',\n          suggestedAmount: risk.type === 'milk' ? 10 : 5, // L or kg\n          message: `Urgent: ${risk.item} will run out in ${risk.hoursUntilStockout.toFixed(1)} hours`\n        });\n      }\n    });\n    \n    return predictions;\n  };\n\n  // Generate alerts based on current inventory status\n  const generateAlerts = (eventData, stationData, predictions) => {\n    const alerts = [];\n    \n    // Check for low stock at stations\n    Object.entries(stationData).forEach(([stationId, station]) => {\n      station.inventory?.milk?.forEach(item => {\n        if (item.status === 'danger') {\n          alerts.push({\n            type: 'critical',\n            station: station.name,\n            message: `${item.name} critically low at ${station.name} (${item.amount}${item.unit} remaining)`,\n            action: 'restock',\n            itemType: 'milk',\n            item: item.name\n          });\n        } else if (item.status === 'warning') {\n          alerts.push({\n            type: 'warning',\n            station: station.name,\n            message: `${item.name} running low at ${station.name} (${item.amount}${item.unit} remaining)`,\n            action: 'monitor',\n            itemType: 'milk',\n            item: item.name\n          });\n        }\n      });\n    });\n    \n    // Check for unbalanced distribution\n    const milkDistribution = {};\n    Object.values(stationData).forEach(station => {\n      station.inventory?.milk?.forEach(item => {\n        if (!milkDistribution[item.name]) {\n          milkDistribution[item.name] = [];\n        }\n        milkDistribution[item.name].push({\n          station: station.name,\n          amount: item.amount,\n          status: item.status\n        });\n      });\n    });\n    \n    Object.entries(milkDistribution).forEach(([milk, distribution]) => {\n      const amounts = distribution.map(d => d.amount);\n      const max = Math.max(...amounts);\n      const min = Math.min(...amounts);\n      \n      if (max > min * 3 && min < 2) { // Significant imbalance\n        const richStation = distribution.find(d => d.amount === max).station;\n        const poorStation = distribution.find(d => d.amount === min).station;\n        \n        alerts.push({\n          type: 'info',\n          message: `${milk} distribution imbalanced: ${richStation} has ${max}L while ${poorStation} has only ${min}L`,\n          action: 'redistribute',\n          fromStation: richStation,\n          toStation: poorStation,\n          item: milk,\n          suggestedTransfer: Math.floor((max - min) / 2)\n        });\n      }\n    });\n    \n    return alerts;\n  };\n\n  // Handle stock redistribution\n  const handleRedistribute = async (alert) => {\n    try {\n      // In a real implementation, this would call an API to transfer stock\n      console.log('Redistributing:', alert);\n      \n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Reload data\n      await loadInventoryData();\n      \n    } catch (error) {\n      console.error('Redistribution failed:', error);\n    }\n  };\n\n  // Handle emergency restock\n  const handleEmergencyRestock = async (item, type, amount) => {\n    try {\n      const response = await fetch('/api/inventory/emergency-restock', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('coffee_system_token')}`\n        },\n        body: JSON.stringify({\n          item,\n          type,\n          amount,\n          priority: 'urgent'\n        })\n      });\n      \n      if (!response.ok) {\n        throw new Error('Restock request failed');\n      }\n      \n      // Reload data\n      await loadInventoryData();\n      \n    } catch (error) {\n      console.error('Emergency restock failed:', error);\n    }\n  };\n\n  useEffect(() => {\n    loadInventoryData();\n  }, [loadInventoryData]);\n\n  // Auto-refresh every 30 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      loadInventoryData();\n    }, 30000);\n    \n    return () => clearInterval(interval);\n  }, [loadInventoryData]);\n\n  // Calculate totals for overview\n  const totals = useMemo(() => {\n    const milkTotal = Object.values(inventoryData.stationLevel).reduce((sum, station) => {\n      return sum + (station.inventory?.milk?.reduce((s, item) => s + item.amount, 0) || 0);\n    }, 0);\n    \n    const coffeeTotal = Object.values(inventoryData.stationLevel).reduce((sum, station) => {\n      return sum + (station.inventory?.coffee?.reduce((s, item) => s + item.amount, 0) || 0);\n    }, 0);\n    \n    const cupsTotal = Object.values(inventoryData.stationLevel).reduce((sum, station) => {\n      return sum + (station.inventory?.cups?.reduce((s, item) => s + item.amount, 0) || 0);\n    }, 0);\n    \n    return { milk: milkTotal, coffee: coffeeTotal, cups: cupsTotal };\n  }, [inventoryData]);\n\n  const getAlertIcon = (type) => {\n    switch (type) {\n      case 'critical': return <AlertTriangle className=\"text-red-500\" size={20} />;\n      case 'warning': return <TrendingDown className=\"text-yellow-500\" size={20} />;\n      case 'info': return <RefreshCw className=\"text-blue-500\" size={20} />;\n      default: return null;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Multi-Level Inventory Intelligence</h2>\n        <div className=\"flex space-x-4\">\n          <button\n            onClick={() => loadInventoryData()}\n            className=\"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600\"\n          >\n            <RefreshCw size={16} />\n            <span>Refresh</span>\n          </button>\n          <select \n            value={selectedView} \n            onChange={(e) => setSelectedView(e.target.value)}\n            className=\"border rounded-lg px-3 py-2\"\n          >\n            <option value=\"overview\">Event Overview</option>\n            <option value=\"station\">Station View</option>\n            <option value=\"predictions\">Predictions & Analytics</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Alerts Section */}\n      {inventoryData.alerts.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"text-lg font-semibold mb-3\">Active Alerts</h3>\n          <div className=\"space-y-2\">\n            {inventoryData.alerts.map((alert, index) => (\n              <div key={index} className={`flex items-center justify-between p-3 rounded-lg border ${\n                alert.type === 'critical' ? 'border-red-300 bg-red-50' :\n                alert.type === 'warning' ? 'border-yellow-300 bg-yellow-50' :\n                'border-blue-300 bg-blue-50'\n              }`}>\n                <div className=\"flex items-center space-x-3\">\n                  {getAlertIcon(alert.type)}\n                  <span className=\"text-sm\">{alert.message}</span>\n                </div>\n                {alert.action === 'redistribute' && (\n                  <button\n                    onClick={() => handleRedistribute(alert)}\n                    className=\"text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600\"\n                  >\n                    Redistribute {alert.suggestedTransfer}L\n                  </button>\n                )}\n                {alert.action === 'restock' && (\n                  <button\n                    onClick={() => handleEmergencyRestock(alert.item, alert.itemType, 10)}\n                    className=\"text-sm bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600\"\n                  >\n                    Emergency Restock\n                  </button>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Overview View */}\n      {selectedView === 'overview' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">Total Milk Stock</h3>\n              <Package className=\"text-blue-500\" size={24} />\n            </div>\n            <div className=\"text-3xl font-bold text-gray-900\">{totals.milk.toFixed(1)}L</div>\n            <div className=\"mt-2 text-sm text-gray-500\">\n              Across {Object.keys(inventoryData.stationLevel).length} stations\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">Total Coffee Stock</h3>\n              <Coffee className=\"text-brown-500\" size={24} />\n            </div>\n            <div className=\"text-3xl font-bold text-gray-900\">{totals.coffee.toFixed(1)}kg</div>\n            <div className=\"mt-2 text-sm text-gray-500\">\n              {inventoryData.predictions?.stockoutRisk?.filter(r => r.type === 'coffee').length || 0} items at risk\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">Total Cups</h3>\n              <Package className=\"text-green-500\" size={24} />\n            </div>\n            <div className=\"text-3xl font-bold text-gray-900\">{totals.cups}</div>\n            <div className=\"mt-2 text-sm text-gray-500\">\n              All sizes combined\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Station View */}\n      {selectedView === 'station' && (\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-4 border-b\">\n            <select\n              value={selectedStation?.id || ''}\n              onChange={(e) => setSelectedStation(inventoryData.stationLevel[e.target.value])}\n              className=\"w-full border rounded-lg px-3 py-2\"\n            >\n              <option value=\"\">Select a station...</option>\n              {Object.values(inventoryData.stationLevel).map(station => (\n                <option key={station.id} value={station.id}>\n                  {station.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {selectedStation && (\n            <div className=\"p-6\">\n              <h3 className=\"text-xl font-semibold mb-4\">{selectedStation.name} Inventory</h3>\n              \n              {/* Milk Inventory */}\n              <div className=\"mb-6\">\n                <h4 className=\"text-lg font-medium mb-3\">Milk Stock</h4>\n                <div className=\"space-y-2\">\n                  {selectedStation.inventory?.milk?.map(item => (\n                    <div key={item.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded\">\n                      <div>\n                        <span className=\"font-medium\">{item.name}</span>\n                        <span className={`ml-2 text-xs px-2 py-1 rounded ${\n                          item.status === 'good' ? 'bg-green-100 text-green-700' :\n                          item.status === 'warning' ? 'bg-yellow-100 text-yellow-700' :\n                          'bg-red-100 text-red-700'\n                        }`}>\n                          {item.status}\n                        </span>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"font-bold\">{item.amount}{item.unit}</div>\n                        <div className=\"text-xs text-gray-500\">of {item.capacity}{item.unit}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              \n              {/* Coffee Inventory */}\n              <div className=\"mb-6\">\n                <h4 className=\"text-lg font-medium mb-3\">Coffee Stock</h4>\n                <div className=\"space-y-2\">\n                  {selectedStation.inventory?.coffee?.map(item => (\n                    <div key={item.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded\">\n                      <div>\n                        <span className=\"font-medium\">{item.name}</span>\n                        <span className={`ml-2 text-xs px-2 py-1 rounded ${\n                          item.status === 'good' ? 'bg-green-100 text-green-700' :\n                          item.status === 'warning' ? 'bg-yellow-100 text-yellow-700' :\n                          'bg-red-100 text-red-700'\n                        }`}>\n                          {item.status}\n                        </span>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"font-bold\">{item.amount}{item.unit}</div>\n                        <div className=\"text-xs text-gray-500\">of {item.capacity}{item.unit}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Predictions View */}\n      {selectedView === 'predictions' && (\n        <div className=\"space-y-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-xl font-semibold mb-4\">Consumption Predictions</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Milk Predictions */}\n              <div>\n                <h4 className=\"text-lg font-medium mb-3\">Milk Consumption Forecast</h4>\n                <div className=\"space-y-3\">\n                  {Object.entries(inventoryData.predictions?.milkConsumption || {}).map(([milk, data]) => (\n                    <div key={milk} className=\"border rounded-lg p-3\">\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <span className=\"font-medium\">{milk}</span>\n                        <span className={`text-xs px-2 py-1 rounded ${\n                          data.riskLevel === 'high' ? 'bg-red-100 text-red-700' :\n                          data.riskLevel === 'medium' ? 'bg-yellow-100 text-yellow-700' :\n                          'bg-green-100 text-green-700'\n                        }`}>\n                          {data.riskLevel} risk\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-gray-600\">\n                        Current: {data.currentStock.toFixed(1)}L | \n                        Predicted use: {data.predictedConsumption.toFixed(1)}L | \n                        Remaining: {data.remainingStock.toFixed(1)}L\n                      </div>\n                      <div className=\"mt-2 bg-gray-200 h-2 rounded-full overflow-hidden\">\n                        <div \n                          className={`h-2 ${\n                            data.riskLevel === 'high' ? 'bg-red-500' :\n                            data.riskLevel === 'medium' ? 'bg-yellow-500' :\n                            'bg-green-500'\n                          }`}\n                          style={{ width: `${Math.max(0, Math.min(100, (data.remainingStock / data.currentStock) * 100))}%` }}\n                        />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              \n              {/* Reorder Suggestions */}\n              <div>\n                <h4 className=\"text-lg font-medium mb-3\">Reorder Suggestions</h4>\n                <div className=\"space-y-3\">\n                  {inventoryData.predictions?.reorderSuggestions?.map((suggestion, index) => (\n                    <div key={index} className=\"border border-red-300 bg-red-50 rounded-lg p-3\">\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        <Truck className=\"text-red-500\" size={20} />\n                        <span className=\"font-medium text-red-700\">{suggestion.urgency.toUpperCase()}</span>\n                      </div>\n                      <div className=\"text-sm\">{suggestion.message}</div>\n                      <div className=\"mt-2\">\n                        <button className=\"text-sm bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600\">\n                          Order {suggestion.suggestedAmount}{suggestion.type === 'milk' ? 'L' : 'kg'} now\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                  {(!inventoryData.predictions?.reorderSuggestions || inventoryData.predictions?.reorderSuggestions?.length === 0) && (\n                    <div className=\"text-center py-8 text-gray-500\">\n                      <Package size={48} className=\"mx-auto mb-2 text-gray-400\" />\n                      <p>No urgent reorders needed</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Auto-Restock Settings */}\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-xl font-semibold mb-4\">Auto-Restock Settings</h3>\n            <div className=\"space-y-4\">\n              <label className=\"flex items-center space-x-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={autoRestockSettings.enabled}\n                  onChange={(e) => setAutoRestockSettings({...autoRestockSettings, enabled: e.target.checked})}\n                  className=\"h-4 w-4\"\n                />\n                <span>Enable automatic restock orders</span>\n              </label>\n              \n              {autoRestockSettings.enabled && (\n                <>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">\n                      Restock when stock falls below:\n                    </label>\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"range\"\n                        min=\"10\"\n                        max=\"50\"\n                        value={autoRestockSettings.threshold}\n                        onChange={(e) => setAutoRestockSettings({...autoRestockSettings, threshold: parseInt(e.target.value)})}\n                        className=\"flex-1\"\n                      />\n                      <span className=\"w-12 text-right\">{autoRestockSettings.threshold}%</span>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">\n                      Order lead time:\n                    </label>\n                    <select\n                      value={autoRestockSettings.orderLeadTime}\n                      onChange={(e) => setAutoRestockSettings({...autoRestockSettings, orderLeadTime: parseInt(e.target.value)})}\n                      className=\"border rounded px-3 py-1\"\n                    >\n                      <option value=\"12\">12 hours</option>\n                      <option value=\"24\">24 hours</option>\n                      <option value=\"48\">48 hours</option>\n                      <option value=\"72\">72 hours</option>\n                    </select>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MultiLevelInventory;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('ChevronUp', [\n  ['path', { d: 'm18 15-6-6-6 6', key: '153udz' }],\n]);\n\nexport default ChevronUp;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjYiIC8+CiAgPHBhdGggZD0iTTE1LjQ3NyAxMi44OSAxNyAyMmwtNS0zLTUgMyAxLjUyMy05LjExIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('Award', [\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n  ['path', { d: 'M15.477 12.89 17 22l-5-3-5 3 1.523-9.11', key: 'em7aur' }],\n]);\n\nexport default Award;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { User, Coffee, Award, Clock, AlertCircle, Settings, ChevronDown, ChevronUp } from 'lucide-react';\nimport useStations from '../hooks/useStations';\nimport useOrders from '../hooks/useOrders';\nimport useSettings from '../hooks/useSettings';\n\nconst EnhancedStationCapabilities = () => {\n  const { stations, updateStation } = useStations();\n  const { pendingOrders, inProgressOrders, completedOrders } = useOrders();\n  const { settings } = useSettings();\n  \n  // Create ordersData object for backward compatibility\n  const ordersData = {\n    pending: pendingOrders || [],\n    inProgress: inProgressOrders || [],\n    completed: completedOrders || []\n  };\n  \n  // Load saved settings from localStorage\n  const loadSavedSettings = () => {\n    try {\n      const saved = localStorage.getItem('coffee_cue_enhanced_capabilities');\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        return {\n          baristaProfiles: parsed.baristaProfiles || {},\n          skillRoutingEnabled: parsed.skillRoutingEnabled !== undefined ? parsed.skillRoutingEnabled : true\n        };\n      }\n    } catch (error) {\n      console.error('Error loading enhanced capabilities settings:', error);\n    }\n    return {\n      baristaProfiles: {},\n      skillRoutingEnabled: true\n    };\n  };\n  \n  const savedSettings = loadSavedSettings();\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [baristaProfiles, setBaristaProfiles] = useState(savedSettings.baristaProfiles);\n  const [expandedStation, setExpandedStation] = useState(null);\n  const [skillRoutingEnabled, setSkillRoutingEnabled] = useState(savedSettings.skillRoutingEnabled);\n  \n  // Save settings whenever they change\n  useEffect(() => {\n    try {\n      const settingsToSave = {\n        baristaProfiles,\n        skillRoutingEnabled\n      };\n      localStorage.setItem('coffee_cue_enhanced_capabilities', JSON.stringify(settingsToSave));\n      console.log('Saved enhanced capabilities settings:', settingsToSave);\n    } catch (error) {\n      console.error('Error saving enhanced capabilities settings:', error);\n    }\n  }, [baristaProfiles, skillRoutingEnabled]);\n  \n  // Skill levels definition\n  const skillLevels = {\n    novice: {\n      label: 'Novice',\n      color: 'bg-gray-100 text-gray-700',\n      borderColor: 'border-gray-300',\n      allowedDrinks: ['espresso', 'long_black', 'cappuccino'],\n      maxConcurrentOrders: 3,\n      complexityLimit: 'simple',\n      supportMode: 'detailed_instructions',\n      description: 'Basic drinks only, detailed guidance provided'\n    },\n    experienced: {\n      label: 'Experienced',\n      color: 'bg-blue-100 text-blue-700',\n      borderColor: 'border-blue-300',\n      allowedDrinks: ['all_standard_drinks'],\n      maxConcurrentOrders: 5,\n      complexityLimit: 'standard',\n      supportMode: 'normal',\n      description: 'All standard drinks, normal workflow'\n    },\n    expert: {\n      label: 'Expert',\n      color: 'bg-purple-100 text-purple-700',\n      borderColor: 'border-purple-300',\n      allowedDrinks: ['all_drinks'],\n      maxConcurrentOrders: 8,\n      complexityLimit: 'complex',\n      supportMode: 'minimal',\n      customSkills: ['latte_art', 'custom_recipes'],\n      description: 'All drinks including custom orders, minimal guidance'\n    },\n    specialist: {\n      label: 'Specialist',\n      color: 'bg-green-100 text-green-700',\n      borderColor: 'border-green-300',\n      allowedDrinks: ['all_drinks'],\n      maxConcurrentOrders: 6,\n      complexityLimit: 'complex',\n      supportMode: 'normal',\n      specializations: ['alternative_milk_expert', 'batch_processing', 'vip_service'],\n      description: 'Specialized in specific areas with deep expertise'\n    }\n  };\n  \n  // Load barista profiles from localStorage or API\n  useEffect(() => {\n    loadBaristaProfiles();\n  }, []);\n  \n  const loadBaristaProfiles = async () => {\n    try {\n      // Try to load from API first\n      const response = await fetch('/api/barista-profiles', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('coffee_system_token')}`,\n          'Accept': 'application/json'\n        }\n      });\n      \n      if (response.ok) {\n        const profiles = await response.json();\n        setBaristaProfiles(profiles);\n      } else {\n        // Fallback to localStorage\n        const savedProfiles = localStorage.getItem('barista_profiles');\n        if (savedProfiles) {\n          setBaristaProfiles(JSON.parse(savedProfiles));\n        }\n      }\n    } catch (error) {\n      console.error('Error loading barista profiles:', error);\n      // Initialize with default profiles\n      const defaultProfiles = {};\n      stations.forEach(station => {\n        if (station.current_barista) {\n          defaultProfiles[station.current_barista] = {\n            name: station.current_barista,\n            skillLevel: 'experienced',\n            specializations: [],\n            statistics: {\n              totalOrders: 0,\n              avgCompletionTime: 0,\n              errorRate: 0,\n              customerRating: 0\n            }\n          };\n        }\n      });\n      setBaristaProfiles(defaultProfiles);\n    }\n  };\n  \n  // Save barista profile\n  const updateBaristaProfile = async (baristaName, updates) => {\n    const updatedProfiles = {\n      ...baristaProfiles,\n      [baristaName]: {\n        ...baristaProfiles[baristaName],\n        ...updates\n      }\n    };\n    \n    setBaristaProfiles(updatedProfiles);\n    \n    // Save to localStorage\n    localStorage.setItem('barista_profiles', JSON.stringify(updatedProfiles));\n    \n    // Try to save to API\n    try {\n      await fetch(`/api/barista-profiles/${baristaName}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('coffee_system_token')}`\n        },\n        body: JSON.stringify(updatedProfiles[baristaName])\n      });\n    } catch (error) {\n      console.error('Error saving barista profile:', error);\n    }\n  };\n  \n  // Calculate station efficiency based on barista skill\n  const calculateStationEfficiency = (station) => {\n    const barista = baristaProfiles[station.current_barista];\n    if (!barista) return 1;\n    \n    const skillMultiplier = {\n      novice: 0.7,\n      experienced: 1.0,\n      expert: 1.3,\n      specialist: 1.2\n    };\n    \n    return skillMultiplier[barista.skillLevel] || 1;\n  };\n  \n  // Get recommended orders for station based on barista skill\n  const getRecommendedOrders = (station) => {\n    const barista = baristaProfiles[station.current_barista];\n    if (!barista) return [];\n    \n    const skill = skillLevels[barista.skillLevel];\n    if (!skill) return [];\n    \n    return ordersData.pending.filter(order => {\n      // Check complexity\n      const isComplex = order.alternativeMilk || order.customizations || order.specialInstructions;\n      if (isComplex && skill.complexityLimit === 'simple') return false;\n      \n      // Check if barista can make this drink\n      if (skill.allowedDrinks[0] !== 'all_drinks' && skill.allowedDrinks[0] !== 'all_standard_drinks') {\n        const drinkType = order.coffeeType?.toLowerCase().replace(' ', '_');\n        if (!skill.allowedDrinks.includes(drinkType)) return false;\n      }\n      \n      // Check specializations\n      if (barista.specializations?.includes('alternative_milk_expert') && order.alternativeMilk) {\n        return true; // Priority for alternative milk orders\n      }\n      \n      if (barista.specializations?.includes('vip_service') && (order.vip || order.priority)) {\n        return true; // Priority for VIP orders\n      }\n      \n      return true;\n    }).slice(0, skill.maxConcurrentOrders);\n  };\n  \n  // Update station with barista assignment\n  const assignBaristaToStation = async (stationId, baristaName, skillLevel) => {\n    try {\n      // Update barista profile if needed\n      if (!baristaProfiles[baristaName]) {\n        await updateBaristaProfile(baristaName, {\n          name: baristaName,\n          skillLevel: skillLevel || 'experienced',\n          specializations: [],\n          statistics: {\n            totalOrders: 0,\n            avgCompletionTime: 0,\n            errorRate: 0,\n            customerRating: 0\n          }\n        });\n      }\n      \n      // Update station\n      await updateStation(stationId, {\n        current_barista: baristaName,\n        barista_skill_level: skillLevel || baristaProfiles[baristaName]?.skillLevel || 'experienced'\n      });\n      \n    } catch (error) {\n      console.error('Error assigning barista:', error);\n    }\n  };\n  \n  const toggleStationExpanded = (stationId) => {\n    setExpandedStation(expandedStation === stationId ? null : stationId);\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Enhanced Station Capabilities</h2>\n        <label className=\"flex items-center space-x-2\">\n          <input\n            type=\"checkbox\"\n            checked={skillRoutingEnabled}\n            onChange={(e) => setSkillRoutingEnabled(e.target.checked)}\n            className=\"h-4 w-4\"\n          />\n          <span>Enable Skill-Based Routing</span>\n        </label>\n      </div>\n\n      {/* Skill Level Legend */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <h3 className=\"text-lg font-semibold mb-3\">Barista Skill Levels</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {Object.entries(skillLevels).map(([level, config]) => (\n            <div key={level} className={`p-3 rounded-lg border ${config.borderColor}`}>\n              <div className={`inline-block px-2 py-1 rounded text-sm font-medium ${config.color} mb-2`}>\n                {config.label}\n              </div>\n              <p className=\"text-xs text-gray-600\">{config.description}</p>\n              <div className=\"mt-2 text-xs\">\n                <span className=\"font-medium\">Max Orders:</span> {config.maxConcurrentOrders}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Station Cards */}\n      <div className=\"space-y-4\">\n        {stations.map(station => {\n          const barista = baristaProfiles[station.current_barista];\n          const skillConfig = barista ? skillLevels[barista.skillLevel] : null;\n          const efficiency = calculateStationEfficiency(station);\n          const recommendedOrders = skillRoutingEnabled ? getRecommendedOrders(station) : [];\n          const isExpanded = expandedStation === station.id;\n          \n          return (\n            <div key={station.id} className=\"bg-white rounded-lg shadow\">\n              <div className=\"p-6\">\n                {/* Station Header */}\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-xl font-bold text-gray-900\">{station.name}</h3>\n                    <p className=\"text-sm text-gray-500\">Station #{station.id}</p>\n                  </div>\n                  <button\n                    onClick={() => toggleStationExpanded(station.id)}\n                    className=\"text-gray-500 hover:text-gray-700\"\n                  >\n                    {isExpanded ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n                  </button>\n                </div>\n\n                {/* Barista Assignment */}\n                <div className=\"mb-4\">\n                  <div className=\"flex items-center space-x-4\">\n                    <User size={20} className=\"text-gray-400\" />\n                    <div className=\"flex-1\">\n                      <input\n                        type=\"text\"\n                        value={station.current_barista || ''}\n                        onChange={(e) => assignBaristaToStation(station.id, e.target.value)}\n                        placeholder=\"Assign barista...\"\n                        className=\"w-full border rounded px-3 py-1 text-sm\"\n                      />\n                    </div>\n                    {barista && (\n                      <select\n                        value={barista.skillLevel}\n                        onChange={(e) => updateBaristaProfile(station.current_barista, { skillLevel: e.target.value })}\n                        className={`border rounded px-3 py-1 text-sm ${skillConfig?.borderColor}`}\n                      >\n                        {Object.entries(skillLevels).map(([level, config]) => (\n                          <option key={level} value={level}>{config.label}</option>\n                        ))}\n                      </select>\n                    )}\n                  </div>\n                  \n                  {barista && (\n                    <div className=\"mt-2 flex items-center space-x-4 text-sm\">\n                      <span className={`px-2 py-1 rounded ${skillConfig?.color}`}>\n                        {skillConfig?.label}\n                      </span>\n                      <span className=\"text-gray-500\">\n                        Efficiency: {(efficiency * 100).toFixed(0)}%\n                      </span>\n                      <span className=\"text-gray-500\">\n                        Max Orders: {skillConfig?.maxConcurrentOrders}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                {/* Station Capabilities */}\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Coffee size={16} className=\"text-gray-400\" />\n                    <span className=\"text-sm\">\n                      {station.capabilities?.standard_coffee ? 'Standard Coffee' : 'No Coffee'}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Coffee size={16} className=\"text-gray-400\" />\n                    <span className=\"text-sm\">\n                      {station.capabilities?.alternative_milk ? 'Alt Milk' : 'No Alt Milk'}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Award size={16} className=\"text-gray-400\" />\n                    <span className=\"text-sm\">\n                      {station.capabilities?.high_volume ? 'High Volume' : 'Normal Volume'}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Clock size={16} className=\"text-gray-400\" />\n                    <span className=\"text-sm\">\n                      {station.status || 'Active'}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Skill-Based Order Recommendations */}\n                {skillRoutingEnabled && recommendedOrders.length > 0 && (\n                  <div className=\"border-t pt-4\">\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\n                      Recommended Orders (based on skill level)\n                    </h4>\n                    <div className=\"space-y-2\">\n                      {recommendedOrders.slice(0, 3).map(order => (\n                        <div key={order.id} className=\"flex items-center justify-between text-sm bg-gray-50 p-2 rounded\">\n                          <div>\n                            <span className=\"font-medium\">#{order.orderNumber}</span> - \n                            {order.coffeeType}, {order.milkType}\n                            {order.alternativeMilk && (\n                              <span className=\"ml-2 text-xs bg-blue-100 text-blue-700 px-1 rounded\">Alt Milk</span>\n                            )}\n                            {(order.vip || order.priority) && (\n                              <span className=\"ml-2 text-xs bg-red-100 text-red-700 px-1 rounded\">VIP</span>\n                            )}\n                          </div>\n                          <button\n                            className=\"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600\"\n                            onClick={() => console.log('Assign order to station')}\n                          >\n                            Assign\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Expanded Details */}\n                {isExpanded && (\n                  <div className=\"border-t pt-4 mt-4 space-y-4\">\n                    {/* Barista Statistics */}\n                    {barista && (\n                      <div>\n                        <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Barista Performance</h4>\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                          <div className=\"bg-gray-50 p-3 rounded\">\n                            <div className=\"text-xs text-gray-500\">Total Orders</div>\n                            <div className=\"text-lg font-bold\">{barista.statistics?.totalOrders || 0}</div>\n                          </div>\n                          <div className=\"bg-gray-50 p-3 rounded\">\n                            <div className=\"text-xs text-gray-500\">Avg Time</div>\n                            <div className=\"text-lg font-bold\">\n                              {barista.statistics?.avgCompletionTime || 0}m\n                            </div>\n                          </div>\n                          <div className=\"bg-gray-50 p-3 rounded\">\n                            <div className=\"text-xs text-gray-500\">Error Rate</div>\n                            <div className=\"text-lg font-bold\">\n                              {barista.statistics?.errorRate || 0}%\n                            </div>\n                          </div>\n                          <div className=\"bg-gray-50 p-3 rounded\">\n                            <div className=\"text-xs text-gray-500\">Rating</div>\n                            <div className=\"text-lg font-bold\">\n                              {barista.statistics?.customerRating || 'N/A'}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Specializations */}\n                    {barista && (\n                      <div>\n                        <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Specializations</h4>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {skillLevels[barista.skillLevel]?.specializations?.map(spec => (\n                            <span key={spec} className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded\">\n                              {spec.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\n                            </span>\n                          )) || <span className=\"text-xs text-gray-500\">No specializations</span>}\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Advanced Settings */}\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Advanced Settings</h4>\n                      <div className=\"space-y-2\">\n                        <label className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={station.auto_accept_orders || false}\n                            onChange={(e) => updateStation(station.id, { auto_accept_orders: e.target.checked })}\n                            className=\"h-4 w-4\"\n                          />\n                          <span className=\"text-sm\">Auto-accept suitable orders</span>\n                        </label>\n                        <label className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={station.training_mode || false}\n                            onChange={(e) => updateStation(station.id, { training_mode: e.target.checked })}\n                            className=\"h-4 w-4\"\n                          />\n                          <span className=\"text-sm\">Training mode (slower, more guidance)</span>\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Skill Routing Dashboard */}\n      {skillRoutingEnabled && (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-xl font-semibold mb-4\">Skill-Based Routing Overview</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"border rounded-lg p-4\">\n              <h4 className=\"font-medium mb-2\">Order Distribution</h4>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Simple Orders:</span>\n                  <span className=\"font-medium\">\n                    {ordersData.pending.filter(o => !o.alternativeMilk && !o.customizations).length}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Complex Orders:</span>\n                  <span className=\"font-medium\">\n                    {ordersData.pending.filter(o => o.alternativeMilk || o.customizations).length}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>VIP Orders:</span>\n                  <span className=\"font-medium\">\n                    {ordersData.pending.filter(o => o.vip || o.priority).length}\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"border rounded-lg p-4\">\n              <h4 className=\"font-medium mb-2\">Barista Availability</h4>\n              <div className=\"space-y-2 text-sm\">\n                {Object.entries(skillLevels).map(([level, config]) => {\n                  const count = Object.values(baristaProfiles).filter(b => b.skillLevel === level).length;\n                  return (\n                    <div key={level} className=\"flex justify-between\">\n                      <span>{config.label}:</span>\n                      <span className=\"font-medium\">{count}</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            \n            <div className=\"border rounded-lg p-4\">\n              <h4 className=\"font-medium mb-2\">Routing Efficiency</h4>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-green-600\">\n                  {((stations.reduce((sum, s) => sum + calculateStationEfficiency(s), 0) / stations.length) * 100).toFixed(0)}%\n                </div>\n                <div className=\"text-sm text-gray-500 mt-1\">Average Station Efficiency</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EnhancedStationCapabilities;","// components/BaristaInterface.js\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { \n  Coffee, Package, Calendar, Check, Monitor, Settings,\n  MessageCircle, Printer, Plus, Clock,\n  Bell, XCircle, RefreshCw, Edit, ArrowLeft, ChevronDown,\n  Send, CheckCircle, Brain, Scale, Users\n} from 'lucide-react';\n\n// Import app mode context\nimport { useAppMode } from '../context/AppContext';\n\n// Import the custom hooks for order, station, stock, and schedule management\nimport useOrders from '../hooks/useOrders';\nimport useStations from '../hooks/useStations';\nimport useStock from '../hooks/useStock';\nimport useSchedule from '../hooks/useSchedule';\nimport { \n  getOrderBackgroundColor, \n  getTimeRatioColor, \n  formatTimeSince, \n  formatBatchName,\n  calculateMinutesDiff\n} from '../utils/orderUtils';\nimport { getMilkColorStyle, getMilkDotStyle } from '../utils/milkColorHelper';\nimport '../styles/milkColors.css';\n\n// Import services and utilities\nimport MessageService from '../services/MessageService';\nimport OrderDataService from '../services/OrderDataService';\nimport ChatService from '../services/ChatService';\nimport InventoryIntegrationService from '../services/InventoryIntegrationService';\n\n// Import components\nimport MessageDialog from './dialogs/MessageDialog';\nimport WaitTimeDialog from './dialogs/WaitTimeDialog';\nimport WalkInOrderDialog from './dialogs/WalkInOrderDialog';\n// Using inline help dialog instead of importing external component\nimport StationChat from './StationChat';\nimport OrderNotificationHandler from './OrderNotificationHandler';\nimport PendingOrdersSection from './PendingOrdersSection';\nimport QueueIntelligence from './QueueIntelligence';\nimport StationLoadBalancer from './StationLoadBalancer';\nimport DynamicStaffAllocation from './DynamicStaffAllocation';\nimport MultiLevelInventory from './MultiLevelInventory';\nimport EnhancedStationCapabilities from './EnhancedStationCapabilities';\n\nconst BaristaInterface = () => {\n  // Use the AppMode context\n  const { isDemoMode, toggleAppMode } = useAppMode();\n\n  // Use the stations hook to get stations from the backend\n  const {\n    stations,\n    selectedStation,\n    loading: stationsLoading,\n    changeSelectedStation,\n    updateStation,\n    refreshData: refreshStations\n  } = useStations();\n\n  // State for showing station selector dropdown\n  const [showStationSelector, setShowStationSelector] = useState(false);\n  \n  // Use schedule hook to get schedule data\n  const {\n    scheduleData,\n    loading: scheduleLoading,\n    error: scheduleError,\n    setStation: setScheduleStation,\n    refreshData: refreshScheduleData\n  } = useSchedule();\n\n  // Use the custom hook for order management with station filtering\n  const {\n    pendingOrders,\n    inProgressOrders,\n    completedOrders,\n    previousOrders,\n    historyOrders,\n    yesterdayOrders,\n    thisWeekOrders,\n    searchResults,\n    vipOrders,\n    regularOrders,\n    batchGroups,\n    queueCount,\n    online,\n    loading,\n    error,\n    lastUpdated,\n    isRefreshing,\n    \n    // New auto-refresh properties\n    autoRefreshEnabled,\n    autoRefreshInterval,\n    toggleAutoRefresh,\n    updateAutoRefreshInterval,\n    \n    startOrder,\n    completeOrder,\n    markOrderPickedUp,\n    processBatch,\n    processBatchSelection,\n    addWalkInOrder,\n    sendMessage,\n    updateWaitTime,\n    clearError,\n    refreshData,\n    // History actions\n    fetchYesterdayOrders,\n    fetchThisWeekOrders,\n    searchOrders,\n    getOrderHistory\n  } = useOrders(selectedStation);\n  \n  // UI State\n  // Load active tab from localStorage or default to 'orders'\n  const loadActiveTab = () => {\n    try {\n      const saved = localStorage.getItem('coffee_cue_active_tab');\n      if (saved) {\n        return saved;\n      }\n    } catch (error) {\n      console.error('Error loading active tab from localStorage:', error);\n    }\n    return 'orders';\n  };\n  \n  const [activeTab, setActiveTabState] = useState(loadActiveTab());\n  \n  // Wrapper function to persist active tab when it changes\n  const setActiveTab = (tab) => {\n    setActiveTabState(tab);\n    try {\n      localStorage.setItem('coffee_cue_active_tab', tab);\n      console.log('Saved active tab to localStorage:', tab);\n    } catch (error) {\n      console.error('Error saving active tab to localStorage:', error);\n    }\n  };\n  \n  // State to track dismissed info panels\n  const [dismissedPanels, setDismissedPanels] = useState(() => {\n    // Try to load from localStorage\n    try {\n      const saved = localStorage.getItem('dismissed_info_panels');\n      return saved ? JSON.parse(saved) : {\n        stockInfoPanel: false,\n        scheduleInfoPanel: false,\n        historyInfoPanel: false,\n        displayInfoPanel: false\n      };\n    } catch (e) {\n      console.error('Error loading dismissed panels state:', e);\n      return {\n        stockInfoPanel: false,\n        scheduleInfoPanel: false,\n        historyInfoPanel: false,\n        displayInfoPanel: false\n      };\n    }\n  });\n  \n  // Function to dismiss a panel\n  const dismissPanel = useCallback((panelId) => {\n    setDismissedPanels(prev => {\n      const updated = { ...prev, [panelId]: true };\n      // Save to localStorage\n      localStorage.setItem('dismissed_info_panels', JSON.stringify(updated));\n      return updated;\n    });\n  }, []);\n  \n  // Function to restore all panels\n  const restoreAllPanels = useCallback(() => {\n    const resetState = {\n      stockInfoPanel: false,\n      scheduleInfoPanel: false,\n      historyInfoPanel: false,\n      displayInfoPanel: false\n    };\n    setDismissedPanels(resetState);\n    localStorage.setItem('dismissed_info_panels', JSON.stringify(resetState));\n    \n    // Show a brief success message\n    setSuccessMessage('All information panels have been restored');\n  }, []);\n  \n  // Handle tab changes to ensure data persists\n  // Initialize inventory integration on component mount\n  useEffect(() => {\n    console.log('Initializing inventory integration service for BaristaInterface');\n    InventoryIntegrationService.initializeStockServiceIntegration();\n  }, []);\n\n  useEffect(() => {\n    console.log(`Tab changed to: ${activeTab}`);\n    \n    // Ensure station consistency before refreshing\n    if (selectedStation) {\n      localStorage.setItem('coffee_cue_selected_station', selectedStation.toString());\n      localStorage.setItem('last_used_station_id', selectedStation.toString());\n    }\n    \n    // When switching to in-progress tab, force a refresh to ensure data is loaded\n    if (activeTab === 'in-progress') {\n      console.log(`Switched to in-progress tab - refreshing data for station ${selectedStation}`);\n      // Use setTimeout to ensure station state is fully applied\n      setTimeout(() => {\n        refreshData();\n      }, 50);\n    }\n    \n  }, [activeTab, refreshData, selectedStation]);\n  const [historyTab, setHistoryTab] = useState('completed');\n  const [selectedOrderId, setSelectedOrderId] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [batchModeActive, setBatchModeActive] = useState(false);\n  const [waitTime, setWaitTime] = useState(2); // Default wait time of 2 minutes\n  const [selectedOrders, setSelectedOrders] = useState(new Set());\n  const [chatOpen, setChatOpen] = useState(false);\n  const [unreadMessages, setUnreadMessages] = useState(2);\n  const [filter, setFilter] = useState('all');\n  \n  // Effect to ensure settings are synced with selected station\n  // Use useRef to track if we've already synced this station to avoid unnecessary updates\n  const lastSyncedStation = useRef(null);\n  \n  useEffect(() => {\n    // Skip if nothing has changed or we don't have a valid selection\n    if (!selectedStation || !stations.length) return;\n    if (lastSyncedStation.current === selectedStation) return;\n    \n    console.log(`Syncing settings for station ${selectedStation}`);\n    \n    const station = stations.find(s => s.id === selectedStation);\n    if (station) {\n      // Update our ref to avoid repeated updates for the same station\n      lastSyncedStation.current = selectedStation;\n      \n      // Get station-specific barista name\n      const stationBaristaName = getStationBaristaName(selectedStation);\n      \n      // Try to get custom station name from localStorage first\n      let stationName = station.name;\n      try {\n        const customName = localStorage.getItem(`coffee_station_name_${selectedStation}`);\n        if (customName) {\n          console.log(`Using custom name from localStorage for station ${selectedStation}: ${customName}`);\n          stationName = customName;\n        }\n      } catch (e) {\n        console.error(`Error getting custom name for station ${selectedStation}:`, e);\n      }\n      \n      setSettings(prev => ({\n        ...prev,\n        stationName: stationName,\n        stationLocation: station.location || '',\n        baristaName: stationBaristaName\n      }));\n      \n      // Also initialize ChatService with the correct names\n      ChatService.initialize(\n        selectedStation, \n        stationName,\n        stationBaristaName\n      );\n\n      // Force sync inventory data for this station\n      setTimeout(() => {\n        console.log(`Force syncing inventory for station ${selectedStation}`);\n        InventoryIntegrationService.forceSyncStation(selectedStation);\n      }, 100);\n      \n      // Update schedule station\n      setScheduleStation(selectedStation);\n    }\n  }, [selectedStation, stations, setScheduleStation]);\n  \n  // Dialog State\n  const [showWaitTimeDialog, setShowWaitTimeDialog] = useState(false);\n  const [showWalkInDialog, setShowWalkInDialog] = useState(false);\n  const [showMessageDialog, setShowMessageDialog] = useState(false);\n  const [currentMessageOrder, setCurrentMessageOrder] = useState(null);\n  const [showHelpDialog, setShowHelpDialog] = useState(false);\n  \n  // NEW: Message status tracking\n  const [messageStatus, setMessageStatus] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const [showDisplayScreen, setShowDisplayScreen] = useState(false);\n\n  // Use the stock hook for station-specific stock management\n  const {\n    stockItems,\n    stockCategories,\n    loading: stockLoading,\n    error: stockError,\n    getCategoryStock,\n    updateStockItem,\n    addStockItem,\n    deleteStockItem,\n    resetStock,\n    getLowStockCount\n  } = useStock(selectedStation, stations.find(s => s.id === selectedStation)?.name || 'Coffee Station');\n  \n  const [selectedStockCategory, setSelectedStockCategory] = useState('milk');\n  \n  // Get low stock counts for notifications\n  const { lowCount, criticalCount } = getLowStockCount();\n  \n  // Initialize inventory integration service on component mount\n  useEffect(() => {\n    console.log('BaristaInterface mounted - initializing inventory integration');\n    InventoryIntegrationService.initializeStockServiceIntegration();\n  }, []);\n  \n  // Get station-specific barista name\n  const getStationBaristaName = (stationId) => {\n    try {\n      const numericStationId = typeof stationId === 'string' \n        ? parseInt(stationId, 10) \n        : stationId;\n      \n      // Try to get station-specific barista name\n      const stationBaristaName = localStorage.getItem(`coffee_barista_name_station_${numericStationId}`);\n      \n      // Fall back to station name if no barista name is found\n      if (stationBaristaName) {\n        return stationBaristaName;\n      }\n      \n      // Get the station name\n      const stationObj = stations.find(s => s.id === numericStationId);\n      const stationName = stationObj ? stationObj.name : `Station ${numericStationId}`;\n      \n      // Fall back to generic \"Barista\" name with the station name\n      return `Barista (${stationName})`;\n    } catch (error) {\n      console.error('Error getting station barista name:', error);\n      return 'Barista';\n    }\n  };\n\n  // Load settings from localStorage or use defaults\n  const loadSettings = () => {\n    try {\n      const saved = localStorage.getItem('coffee_cue_barista_settings');\n      if (saved && saved !== 'undefined' && saved !== 'null') {\n        const parsed = JSON.parse(saved);\n        return {\n          displayMode: parsed.displayMode || 'landscape',\n          soundEnabled: parsed.soundEnabled !== undefined ? parsed.soundEnabled : true,\n          // Granular sound settings\n          soundNewOrder: parsed.soundNewOrder !== undefined ? parsed.soundNewOrder : true,\n          soundOrderComplete: parsed.soundOrderComplete !== undefined ? parsed.soundOrderComplete : true,\n          soundOrderPickedUp: parsed.soundOrderPickedUp !== undefined ? parsed.soundOrderPickedUp : true,\n          soundLowStock: parsed.soundLowStock !== undefined ? parsed.soundLowStock : true,\n          soundError: parsed.soundError !== undefined ? parsed.soundError : true,\n          soundVolume: parsed.soundVolume || 50, // 0-100\n          autoPrintLabels: parsed.autoPrintLabels || false,\n          stationName: parsed.stationName || stations.find(s => s.id === selectedStation)?.name || 'Coffee Station',\n          stationLocation: parsed.stationLocation || stations.find(s => s.id === selectedStation)?.location || '',\n          baristaName: parsed.baristaName || getStationBaristaName(selectedStation),\n          batchSuggestions: parsed.batchSuggestions !== undefined ? parsed.batchSuggestions : true,\n          waitTimeWarning: parsed.waitTimeWarning || 10, // minutes\n          displayTimeout: parsed.displayTimeout || 5, // minutes\n          // Notification settings\n          autoSendSmsOnComplete: parsed.autoSendSmsOnComplete !== undefined ? parsed.autoSendSmsOnComplete : true,\n          remindAfterDelay: parsed.remindAfterDelay !== undefined ? parsed.remindAfterDelay : true,\n          reminderDelay: parsed.reminderDelay || 30, // seconds\n          showNameOnDisplay: parsed.showNameOnDisplay !== undefined ? parsed.showNameOnDisplay : true,\n          demoMode: parsed.demoMode || false\n        };\n      }\n    } catch (error) {\n      console.error('Error loading settings from localStorage:', error);\n    }\n    // Return defaults if no saved settings\n    return {\n      displayMode: 'landscape',\n      soundEnabled: true,\n      // Granular sound settings\n      soundNewOrder: true,\n      soundOrderComplete: true,\n      soundOrderPickedUp: true,\n      soundLowStock: true,\n      soundError: true,\n      soundVolume: 50, // 0-100\n      autoPrintLabels: false,\n      stationName: stations.find(s => s.id === selectedStation)?.name || 'Coffee Station',\n      stationLocation: stations.find(s => s.id === selectedStation)?.location || '',\n      baristaName: getStationBaristaName(selectedStation),\n      batchSuggestions: true,\n      waitTimeWarning: 10, // minutes\n      displayTimeout: 5, // minutes\n      // Notification settings\n      autoSendSmsOnComplete: true,\n      remindAfterDelay: true,\n      reminderDelay: 30, // seconds\n      showNameOnDisplay: true,\n      demoMode: false\n    };\n  };\n\n  // Settings state (moved to a SettingsService in a full implementation)\n  const [settings, setSettingsState] = useState(loadSettings());\n  \n  // Wrapper function to persist settings when they change\n  const setSettings = (newSettings) => {\n    setSettingsState(newSettings);\n    try {\n      localStorage.setItem('coffee_cue_barista_settings', JSON.stringify(newSettings));\n      console.log('Saved settings to localStorage:', newSettings);\n    } catch (error) {\n      console.error('Error saving settings to localStorage:', error);\n    }\n  };\n\n  // Schedule data is initialized at the top of the component\n\n  // NEW: Init notification handler\n  const notificationHandler = OrderNotificationHandler({\n    onSendMessage: (orderId, message) => handleSendMessage(orderId, message),\n    onUpdateSettings: (newSettings) => {\n      setSettings({...settings, ...newSettings});\n    }\n  });\n\n  // Load station-specific settings on mount\n  useEffect(() => {\n    // This effect only needs to run once on initial component mount\n    // We'll handle station changes in the other useEffect\n  }, []);\n  \n  // Synchronize settings with MessageService on mount\n  useEffect(() => {\n    MessageService.updateSettings({\n      autoSendSmsOnComplete: settings.autoSendSmsOnComplete,\n      remindAfterDelay: settings.remindAfterDelay,\n      reminderDelay: settings.reminderDelay,\n      showNameOnDisplay: settings.showNameOnDisplay,\n      displayDuration: settings.displayTimeout * 60 // convert minutes to seconds\n    });\n  }, []);\n  \n  // Synchronize schedule station with selected station\n  useEffect(() => {\n    if (selectedStation && typeof setScheduleStation === 'function') {\n      console.log('Synchronizing schedule station with selected station:', selectedStation);\n      setScheduleStation(selectedStation);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedStation]);\n  \n  // Check for navigation from organizer page and trigger order refresh\n  useEffect(() => {\n    // Check URL parameters for navigation source\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.has('from') && urlParams.get('from') === 'organiser') {\n      console.log('Detected navigation from organiser via URL parameter');\n      \n      // Trigger an immediate refresh with a slight delay to ensure all hooks are initialized\n      setTimeout(() => {\n        refreshData();\n        console.log('Forced order refresh after organiser navigation');\n        \n        // Remove the parameter from the URL to prevent multiple refreshes\n        if (window.history && window.history.replaceState) {\n          const newUrl = window.location.pathname;\n          window.history.replaceState({}, document.title, newUrl);\n        }\n      }, 100);\n    }\n    \n    // Check localStorage for flag indicating we're returning from organiser\n    const returnFromOrganiser = sessionStorage.getItem('force_orders_refresh');\n    if (returnFromOrganiser === 'true') {\n      console.log('Detected return from organiser via sessionStorage flag');\n      sessionStorage.removeItem('force_orders_refresh'); // Clear the flag\n      refreshData(); // Trigger refresh\n    }\n    \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // NEW: Enhanced message sending function using the suggested pattern\n  const handleSendMessage = async (orderId, message) => {\n    try {\n      // First find the full order object if available\n      const order = \n        inProgressOrders.find(o => o.id === orderId) || \n        completedOrders.find(o => o.id === orderId) ||\n        pendingOrders.find(o => o.id === orderId) || \n        orderId;\n      \n      // Update status to indicate sending\n      setMessageStatus(prev => ({\n        ...prev,\n        [orderId]: { status: 'sending', timestamp: new Date() }\n      }));\n      \n      // Use MessageService to send the message\n      const result = await MessageService.sendMessage(order, message);\n      \n      if (result.success) {\n        // Update status on success\n        setMessageStatus(prev => ({\n          ...prev,\n          [orderId]: { status: 'sent', timestamp: new Date() }\n        }));\n        \n        // No need to close dialog, it will close itself on success\n        \n        return { success: true };\n      } else {\n        // Update status on failure\n        setMessageStatus(prev => ({\n          ...prev,\n          [orderId]: { status: 'failed', error: result.error, timestamp: new Date() }\n        }));\n        \n        return { success: false, error: result.error };\n      }\n    } catch (err) {\n      console.error('Message send error:', err);\n      \n      // Update status on error\n      setMessageStatus(prev => ({\n        ...prev,\n        [orderId]: { status: 'failed', error: err.message, timestamp: new Date() }\n      }));\n      \n      return { success: false, error: err.message };\n    }\n  };\n\n  // NEW: Handle sending message to customer (simplified version)\n  const handleOpenMessageDialog = (order) => {\n    setCurrentMessageOrder(order);\n    setShowMessageDialog(true);\n  };\n\n  // Handle sending automatic reminder for completed orders\n  const handleSendReminder = async (order) => {\n    if (!order || !order.id) {\n      console.error('Cannot send reminder: Invalid order');\n      return;\n    }\n\n    try {\n      console.log('Sending reminder for order:', order.id);\n      \n      // Calculate how long the order has been waiting\n      const minutesWaiting = order.completedAt ? calculateMinutesDiff(order.completedAt) : 0;\n      \n      // Send reminder notification using MessageService\n      const result = await MessageService.sendReminderNotification(order, minutesWaiting);\n      \n      if (result.success) {\n        // Update message status to show success\n        setMessageStatus(prev => ({\n          ...prev,\n          [order.id]: { status: 'sent', timestamp: new Date() }\n        }));\n        \n        // Show success feedback\n        alert(`Reminder sent to ${order.customerName}`);\n      } else {\n        throw new Error(result.error || 'Failed to send reminder');\n      }\n    } catch (error) {\n      console.error('Failed to send reminder:', error);\n      alert(`Failed to send reminder: ${error.message}`);\n    }\n  };\n\n  // NEW: Handle delay order\n  const handleDelayOrder = (order) => {\n    if (!order || !order.id) {\n      // Use the clearError function from useOrders instead of undefined setError\n      console.error('Cannot delay order: Missing order ID');\n      return;\n    }\n    \n    // Since we don't have a delayOrder function in useOrders,\n    // we'll just use the fallback for now\n    // In a real implementation, you would add delayOrder to useOrders.js\n    \n    // Fallback implementation\n    alert(`Order #${order.id} for ${order.customerName} delayed by 5 minutes`);\n    \n    // Optional: If you want to show this in the UI, you could update the order locally\n    // This would be temporary until the next data refresh\n    console.log(`Delayed order ${order.id} by 5 minutes`);\n  };\n\n  const handleEditOrder = (order) => {\n    if (!order || !order.id) {\n      console.error('Cannot edit order: Missing order ID');\n      return;\n    }\n    \n    // For now, show a simple prompt to edit the order\n    // In a real implementation, you would open an edit dialog\n    const newNotes = prompt(`Edit notes for order #${order.orderNumber}:`, order.notes || '');\n    \n    if (newNotes !== null && newNotes !== order.notes) {\n      // TODO: Implement order update API call\n      console.log(`Updated notes for order ${order.id}: ${newNotes}`);\n      alert(`Order #${order.orderNumber} notes updated. This will be saved when the order update API is implemented.`);\n    }\n  };\n\n  // Enhanced order completion function with guaranteed notifications\n  const handleCompleteOrder = async (orderId) => {\n    try {\n      console.log('Starting order completion process for order:', orderId);\n      \n      // First find the order before it gets moved to completed\n      const orderToComplete = inProgressOrders.find(o => o.id === orderId);\n      \n      if (!orderToComplete) {\n        console.error('Could not find order in inProgressOrders array:', orderId);\n        alert('Error: Could not find the order details. Please try again.');\n        return false;\n      }\n      \n      // Find the actual station info from the stations list\n      const stationInfo = stations.find(s => s.id === selectedStation);\n      \n      // Add station name to the order for notifications\n      const orderWithStation = {\n        ...orderToComplete,\n        stationName: stationInfo ? stationInfo.name : settings.stationName\n      };\n      \n      console.log('Prepared order object for notification:', orderWithStation);\n      \n      // First complete the order using the existing function from useOrders\n      const result = await completeOrder(orderId);\n      console.log('Complete order API result:', result);\n      \n      // Check if the result has a success property or define success\n      const isOrderCompleteSuccess = result && (result.success === true || !Object.prototype.hasOwnProperty.call(result, 'success'));\n      \n      if (isOrderCompleteSuccess) {\n        console.log('Order marked as complete in backend. Sending notification...');\n        \n        // We already have the order with station info, now send notifications\n        // Multiple SMS delivery attempts for maximum reliability\n        \n        let notificationSuccess = false;\n        let notificationError = null;\n        \n        // Attempt 1: Use the notification handler\n        try {\n          await notificationHandler.completeWithNotification(orderWithStation);\n          console.log('Primary notification sent successfully for order:', orderId);\n          notificationSuccess = true;\n        } catch (error1) {\n          console.error('Primary notification failed:', error1);\n          notificationError = error1;\n          \n          // Attempt 2: Use a multi-layered fallback approach for maximum reliability\n          try {\n            // First try with MessageService, which already has its own fallbacks\n            const smsResult = await MessageService.sendReadyNotification(orderWithStation);\n            console.log('MessageService notification result:', smsResult);\n            \n            if (smsResult && smsResult.success) {\n              console.log('MessageService notification sent successfully for order:', orderId);\n              notificationSuccess = true;\n            } else {\n              // If MessageService fails, try OrderDataService as a backup\n              console.log('MessageService failed, falling back to OrderDataService');\n              const orderServiceResult = await OrderDataService.sendReadyNotification(orderWithStation);\n              console.log('OrderDataService notification result:', orderServiceResult);\n              \n              if (orderServiceResult && orderServiceResult.success) {\n                console.log('OrderDataService notification sent successfully for order:', orderId);\n                notificationSuccess = true;\n              } else {\n                throw new Error(orderServiceResult?.error || smsResult?.error || 'All notification attempts failed');\n              }\n            }\n          \n          } catch (error2) {\n            console.error('Secondary notification failed:', error2);\n            \n            // Attempt 3: Try direct OrderDataService\n            try {\n              console.log('Attempting direct OrderDataService.sendMessageToCustomer as last resort');\n              const directResult = await OrderDataService.sendMessageToCustomer(\n                orderId,\n                ` YOUR COFFEE IS READY! Your ${orderWithStation.coffeeType || 'coffee'} is now ready for collection. Enjoy! `\n              );\n              \n              console.log('Direct SMS result:', directResult);\n              \n              if (directResult && (directResult.success === true || !Object.prototype.hasOwnProperty.call(directResult, 'success'))) {\n                console.log('Last resort notification sent successfully');\n                notificationSuccess = true;\n              } else {\n                throw new Error(directResult?.error || 'Final notification attempt failed without details');\n              }\n            } catch (error3) {\n              console.error('All notification attempts failed:', error3);\n              notificationError = error3;\n            }\n          }\n        }\n        \n        // Update message status UI to reflect notification status\n        setMessageStatus(prev => ({\n          ...prev,\n          [orderId]: { \n            status: notificationSuccess ? 'sent' : 'failed', \n            error: notificationSuccess ? null : (notificationError?.message || 'Failed to send notification'),\n            timestamp: new Date() \n          }\n        }));\n        \n        return true;\n      } else {\n        console.error('Failed to complete order in backend');\n        alert('Failed to complete the order. Please try again.');\n      }\n      \n      return false;\n    } catch (err) {\n      console.error('Error completing order with notifications:', err);\n      alert(`Error: ${err.message || 'Unknown error completing order'}`);\n      return false;\n    }\n  };\n\n  // Handle wait time change\n  const handleAdjustWaitTime = async (newWaitTime) => {\n    if (newWaitTime && !isNaN(newWaitTime)) {\n      const waitTimeValue = parseInt(newWaitTime);\n      const success = await updateWaitTime(waitTimeValue);\n      \n      if (success) {\n        setWaitTime(waitTimeValue);\n        setShowWaitTimeDialog(false);\n        alert(`Wait time updated to ${waitTimeValue} minutes`);\n      } else {\n        alert('Failed to update wait time. Please try again.');\n      }\n    }\n  };\n\n  // Batch order handling\n  const toggleBatchMode = () => {\n    setBatchModeActive(!batchModeActive);\n    if (batchModeActive && selectedOrders.size > 0) {\n      // Process selected orders\n      processBatchSelection(selectedOrders);\n    }\n    // Clear selections when toggling off\n    setSelectedOrders(new Set());\n  };\n\n  const toggleOrderSelection = (orderId) => {\n    const newSelectedOrders = new Set(selectedOrders);\n    if (newSelectedOrders.has(orderId)) {\n      newSelectedOrders.delete(orderId);\n    } else {\n      newSelectedOrders.add(orderId);\n    }\n    setSelectedOrders(newSelectedOrders);\n  };\n\n  // Handle walk-in order submission with better error handling\n  const handleWalkInOrder = async (orderDetails, orderType = 'single') => {\n    try {\n      // If this is a group order, handle it differently\n      if (orderType === 'group') {\n        console.log('Attempting to add group order:', orderDetails);\n        \n        // Find the actual station info from the stations list\n        const stationInfo = stations.find(s => s.id === selectedStation);\n        \n        // Pass the group order to the service function\n        const result = await OrderDataService.submitGroupOrder(orderDetails);\n        \n        if (result && result.success) {\n          setShowWalkInDialog(false);\n          alert(`Group order \"${orderDetails.groupName}\" with ${result.count} coffees added to the queue!`);\n          // Refresh data to show new orders\n          refreshData();\n        } else {\n          // More detailed error message\n          alert(`Failed to add group order: ${result?.message || 'Unknown error'}`);\n        }\n        \n        return;\n      }\n      \n      // Handle regular individual walk-in order\n      console.log('Attempting to add walk-in order:', orderDetails);\n      \n      // Find the actual station info from the stations list\n      const stationInfo = stations.find(s => s.id === selectedStation);\n      \n      // Add station ID to the order details\n      // If a collection station is specified, that's where the order should be assigned\n      const targetStationId = orderDetails.collectionStation || selectedStation;\n      const targetStation = stations.find(s => s.id === targetStationId);\n      \n      const orderWithStation = {\n        ...orderDetails,\n        stationId: targetStationId,\n        station_id: targetStationId,\n        assignedStation: targetStationId,\n        // Add the station name for better display - use station name from the stations list\n        stationName: targetStation ? targetStation.name : (stationInfo ? stationInfo.name : settings.stationName),\n        // Keep track of where the order was placed if different from collection\n        orderedAtStation: orderDetails.collectionStation ? selectedStation : null\n      };\n      \n      console.log('Adding walk-in order with station information:', orderWithStation);\n      \n      // Add a proper try/catch around the API call\n      const result = await addWalkInOrder(orderWithStation);\n      \n      if (result) {\n        setShowWalkInDialog(false);\n        const collectionMsg = orderDetails.collectionStation \n          ? ` (Order placed here, collect at ${orderWithStation.stationName})`\n          : '';\n        alert(`Walk-in order added for ${orderDetails.customerName}${collectionMsg}`);\n      } else {\n        // More detailed error message\n        alert('Failed to add walk-in order. The backend API may not be properly connected or implemented.');\n      }\n    } catch (error) {\n      console.error('Error submitting walk-in order:', error);\n      \n      // Show specific error message if available\n      const errorMessage = error?.message || 'Unknown error occurred';\n      alert(`Error adding walk-in order: ${errorMessage}`);\n      \n      // Close the dialog anyway to prevent user from getting stuck\n      setShowWalkInDialog(false);\n    }\n  };\n\n  // Function to show display screen with station ID\n  const openDisplayScreen = () => {\n    // Pass the station ID in the URL to customize the display\n    window.open(`/display?station=${selectedStation}`, '_blank');\n  };\n\n  // Function to render in-progress order\n  const renderInProgressOrder = (order) => {\n    const hasSentMessage = messageStatus[order.id]?.status === 'sent';\n    \n    return (\n      <div key={order.id} className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\n        <div className=\"flex justify-between\">\n          <div>\n            <div className=\"text-sm text-gray-500\">Order #{order.id}</div>\n            <div className=\"text-xl font-bold mt-1 flex items-center\">\n              {order.customerName}\n              {hasSentMessage && (\n                <span className=\"ml-1 text-green-500\" title=\"Message sent\">\n                  <CheckCircle size={16} />\n                </span>\n              )}\n            </div>\n            <div className=\"text-gray-700\">{order.phoneNumber}</div>\n          </div>\n          <div className=\"flex flex-col items-end\">\n            {order.priority && (\n              <div className=\"bg-red-100 text-red-700 px-2 py-1 rounded text-sm font-medium\">\n                PRIORITY\n              </div>\n            )}\n            <button \n              className=\"mt-2 text-gray-500 hover:text-gray-700\"\n              onClick={() => {\n                // Show order edit dialog\n                alert(`Edit order #${order.id}`);\n              }}\n            >\n              <Edit size={16} />\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"mt-4 bg-gray-100 p-3 rounded-lg\">\n          <div className=\"text-xl font-bold\">{order.coffeeType || 'Coffee'}</div>\n          <div className=\"text-gray-700\">{order.milkType || 'Regular milk'}, {order.sugar || 'No sugar'}</div>\n          {order.extraHot && <div className=\"text-gray-700\">Extra hot</div>}\n          {order.alternativeMilk && (\n            <div className=\"mt-1\">\n              <span className=\"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded\">\n                Alternative Milk\n              </span>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"mt-4 flex space-x-2\">\n          <button \n            className=\"flex-1 bg-gray-200 py-2 rounded flex items-center justify-center space-x-1 hover:bg-gray-300\"\n            onClick={() => handleOpenMessageDialog(order)}\n          >\n            <MessageCircle size={18} />\n            <span>Message Customer</span>\n          </button>\n          <button \n            className=\"flex-1 bg-gray-200 py-2 rounded flex items-center justify-center space-x-1 hover:bg-gray-300\"\n            onClick={() => {\n              console.log(`Printing label for order #${order.id}`);\n              alert(`Printing label for ${order.coffeeType || 'Coffee'}`);\n            }}\n          >\n            <Printer size={18} />\n            <span>Print Label</span>\n          </button>\n        </div>\n        \n        <button \n          className=\"mt-3 w-full bg-green-500 text-white py-3 rounded-lg font-bold text-lg hover:bg-green-600\"\n          onClick={() => handleCompleteOrder(order.id)}\n        >\n          COMPLETE ORDER\n        </button>\n        \n        {/* Time pressure bar */}\n        <div className=\"mt-3 flex items-center space-x-2\">\n          <div className=\"text-sm\">Time pressure:</div>\n          <div className=\"flex-grow bg-gray-200 h-2 rounded-full overflow-hidden\">\n            <div \n              className={`h-2 ${getTimeRatioColor(order.waitTime, order.promisedTime)}`}\n              style={{ width: `${(order.waitTime / order.promisedTime) * 100}%` }}\n            ></div>\n          </div>\n          <div className=\"text-sm\">{Math.floor((order.waitTime / order.promisedTime) * 100)}%</div>\n        </div>\n      </div>\n    );\n  };\n\n  // Function to render completed order card\n  const renderCompletedOrder = (order) => {\n    const minutesWaiting = order.completedAt ? calculateMinutesDiff(order.completedAt) : 0;\n    const hasSentMessage = messageStatus[order.id]?.status === 'sent';\n    \n    const milkColorStyle = order.milkType && order.milkType !== 'No Milk' \n      ? getMilkColorStyle(order.milkType, order.milkTypeId)\n      : { borderLeftWidth: '4px', borderLeftStyle: 'solid', borderLeftColor: '#10B981' };\n    \n    return (\n      <div key={order.id} className=\"bg-white rounded-lg shadow-sm p-3 mb-2\" style={milkColorStyle}>\n        <div className=\"flex justify-between items-center\">\n          <div className=\"font-bold flex items-center\">\n            Order #{order.id}\n            {hasSentMessage && (\n              <span className=\"ml-1 text-green-500\" title=\"Message sent\">\n                <CheckCircle size={14} />\n              </span>\n            )}\n          </div>\n          <div className=\"text-sm text-gray-500\">Completed {minutesWaiting} minutes ago</div>\n        </div>\n        <div className=\"mt-2\">\n          <div className=\"text-gray-700 flex items-center\">\n            {order.milkType && order.milkType !== 'No Milk' && (\n              <span style={getMilkDotStyle(order.milkType, order.milkTypeId)}></span>\n            )}\n            {order.coffeeType || 'Coffee'}, {order.milkType || 'Regular milk'}\n          </div>\n          <div className=\"font-medium\">{order.customerName}</div>\n          <div className=\"text-sm text-gray-600\">{order.phoneNumber}</div>\n          {order.alternativeMilk && (\n            <div className=\"mt-1\">\n              <span className=\"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded\">\n                Alternative Milk\n              </span>\n            </div>\n          )}\n        </div>\n        <div className=\"mt-3 flex space-x-2\">\n          <button \n            className=\"flex-1 bg-amber-600 text-white py-1 rounded text-sm hover:bg-amber-700\"\n            onClick={() => handleSendReminder(order)}\n          >\n            Remind\n          </button>\n          <button \n            className=\"flex-1 bg-green-500 text-white py-1 rounded text-sm hover:bg-green-600\"\n            onClick={() => markOrderPickedUp(order.id)}\n          >\n            Picked Up\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Function to render previous order card\n  const renderPreviousOrder = (order) => {\n    const milkColorStyle = order.milkType && order.milkType !== 'No Milk' \n      ? getMilkColorStyle(order.milkType, order.milkTypeId)\n      : { borderLeftWidth: '4px', borderLeftStyle: 'solid', borderLeftColor: '#10B981' };\n    \n    return (\n      <div key={order.id} className=\"bg-white rounded-lg shadow-sm p-3 mb-2\" style={milkColorStyle}>\n        <div className=\"flex justify-between items-center\">\n          <div className=\"font-bold\">Order #{order.id}</div>\n          <button \n            className=\"text-sm text-gray-600 bg-gray-200 px-2 py-1 rounded hover:bg-gray-300\"\n            onClick={() => {\n              console.log(`Viewing details for order #${order.id}`);\n              alert(`Order detail viewing requires backend API implementation. Details for order #${order.id} are not available.`);\n            }}\n          >\n            View Details\n          </button>\n        </div>\n        <div className=\"mt-2\">\n          <div className=\"text-gray-700 flex items-center\">\n            {order.milkType && order.milkType !== 'No Milk' && (\n              <span style={getMilkDotStyle(order.milkType, order.milkTypeId)}></span>\n            )}\n            {order.coffeeType || 'Coffee'}, {order.milkType || 'Regular milk'} {order.sugar ? `, ${order.sugar}` : ''}\n          </div>\n          <div className=\"font-medium\">{order.customerName}</div>\n          <div className=\"text-sm text-gray-600\">Picked up at {order.pickedUpAt ? new Date(order.pickedUpAt).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : 'unknown'}</div>\n        </div>\n      </div>\n    );\n  };\n\n  // Create individual stock item component to properly use hooks\n  const StockItem = ({ item, category, updateStockItem, deleteStockItem, addStockItem }) => {\n    const percentage = (item.amount / item.capacity) * 100;\n    const [isEditingCapacity, setIsEditingCapacity] = useState(false);\n    const [tempCapacity, setTempCapacity] = useState(item.capacity);\n    const [showNumericInput, setShowNumericInput] = useState(false);\n    const [numericAmount, setNumericAmount] = useState(item.amount);\n    \n    // Get appropriate color based on status\n    const getStatusColor = (status) => {\n      switch(status) {\n        case 'danger':\n          return 'bg-red-400';\n        case 'warning':\n          return 'bg-yellow-400';\n        case 'good':\n        default:\n          return 'bg-green-400';\n      }\n    };\n    \n    // Get appropriate amount change based on category and item type\n    const getChangeAmount = (itemCategory, itemObj) => {\n      if (itemCategory === 'milk') {\n        return 0.5; // 0.5 liter\n      } else if (itemCategory === 'coffee') {\n        return 0.1; // 0.1 kg\n      } else if (itemCategory === 'cups') {\n        return 5; // 5 cups\n      } else if (itemCategory === 'syrups') {\n        return 0.1; // 0.1 liter\n      } else {\n        // Default or 'other' category\n        return itemObj.unit === 'pcs' ? 5 : 0.5;\n      }\n    };\n    \n    const changeAmount = getChangeAmount(category, item);\n    \n    // Function to handle slider change\n    const handleSliderChange = (e) => {\n      const newAmount = parseFloat(e.target.value);\n      updateStockItem(category, item.id, newAmount);\n      setNumericAmount(newAmount);\n    };\n    \n    // Function to handle numeric input change\n    const handleNumericInputChange = (e) => {\n      setNumericAmount(e.target.value);\n    };\n    \n    // Function to apply numeric input\n    const applyNumericInput = () => {\n      const newAmount = parseFloat(numericAmount);\n      if (!isNaN(newAmount) && newAmount >= 0 && newAmount <= item.capacity) {\n        updateStockItem(category, item.id, newAmount);\n      }\n      setShowNumericInput(false);\n    };\n    \n    // Function to handle capacity change\n    const handleCapacityChange = () => {\n      if (!isNaN(tempCapacity) && tempCapacity > 0) {\n        // We need to update the whole item with the new capacity\n        // First let's get the low and critical thresholds percentages\n        const lowThresholdPercent = (item.lowThreshold / item.capacity);\n        const criticalThresholdPercent = (item.criticalThreshold / item.capacity);\n        \n        // Create a new item with updated capacity and thresholds\n        const updatedItem = {\n          ...item,\n          capacity: parseFloat(tempCapacity),\n          amount: Math.min(item.amount, parseFloat(tempCapacity)), // Make sure amount doesn't exceed new capacity\n          lowThreshold: parseFloat(tempCapacity) * lowThresholdPercent,\n          criticalThreshold: parseFloat(tempCapacity) * criticalThresholdPercent\n        };\n        \n        // Delete the old item and add the updated one\n        deleteStockItem(category, item.id);\n        addStockItem(category, updatedItem);\n        \n        setIsEditingCapacity(false);\n      }\n    };\n    \n    return (\n      <div className=\"flex flex-col mb-6 pb-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"w-1/4\">\n            <div className=\"font-medium\">{item.name}</div>\n            <div className=\"text-sm text-gray-500 flex items-center\">\n              <span className=\"mr-2\">Available: {item.amount} {item.unit}</span>\n              <button \n                className=\"text-blue-500 text-xs underline\"\n                onClick={() => setShowNumericInput(!showNumericInput)}\n              >\n                {showNumericInput ? 'Hide' : 'Edit'}\n              </button>\n            </div>\n            \n            {/* Numeric input for direct value entry */}\n            {showNumericInput && (\n              <div className=\"mt-1 flex items-center\">\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max={item.capacity}\n                  step={item.unit === 'pcs' ? 1 : 0.1}\n                  value={numericAmount}\n                  onChange={handleNumericInputChange}\n                  className=\"w-24 p-1 border rounded mr-2\"\n                />\n                <button\n                  className=\"bg-green-500 text-white px-2 py-1 rounded text-xs\"\n                  onClick={applyNumericInput}\n                >\n                  Apply\n                </button>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"w-1/4 flex flex-col\">\n            <div className=\"font-medium flex items-center\">\n              Capacity: {item.capacity} {item.unit}\n              <button \n                className=\"ml-2 text-blue-500 text-xs underline\"\n                onClick={() => setIsEditingCapacity(!isEditingCapacity)}\n              >\n                {isEditingCapacity ? 'Cancel' : 'Edit'}\n              </button>\n            </div>\n            \n            {isEditingCapacity && (\n              <div className=\"mt-1 flex items-center\">\n                <input\n                  type=\"number\"\n                  min={item.amount} // Can't set capacity lower than current amount\n                  step={item.unit === 'pcs' ? 1 : 0.1}\n                  value={tempCapacity}\n                  onChange={(e) => setTempCapacity(e.target.value)}\n                  className=\"w-24 p-1 border rounded mr-2\"\n                />\n                <button\n                  className=\"bg-green-500 text-white px-2 py-1 rounded text-xs\"\n                  onClick={handleCapacityChange}\n                >\n                  Update\n                </button>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"w-1/4 flex justify-end space-x-2\">\n            <button \n              className=\"w-10 h-10 bg-gray-200 rounded-md flex items-center justify-center hover:bg-gray-300\"\n              onClick={() => {\n                if (item.amount > 0) {\n                  // Decrease stock using the hook\n                  const newAmount = Math.max(0, item.amount - changeAmount);\n                  updateStockItem(category, item.id, newAmount);\n                  setNumericAmount(newAmount);\n                }\n              }}\n            >\n              -\n            </button>\n            <button \n              className=\"w-10 h-10 bg-gray-200 rounded-md flex items-center justify-center hover:bg-gray-300\"\n              onClick={() => {\n                // Increase stock using the hook\n                const newAmount = Math.min(item.capacity, item.amount + changeAmount);\n                updateStockItem(category, item.id, newAmount);\n                setNumericAmount(newAmount);\n              }}\n            >\n              +\n            </button>\n          </div>\n        </div>\n        \n        {/* Interactive slider for stock level */}\n        <div className=\"w-full mt-2\">\n          <div className=\"flex items-center\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max={item.capacity}\n              step={item.unit === 'pcs' ? 1 : 0.1}\n              value={item.amount}\n              onChange={handleSliderChange}\n              className=\"w-full h-5 appearance-none bg-gray-200 rounded-full focus:outline-none\"\n              style={{\n                background: `linear-gradient(to right, ${getStatusColor(item.status)} 0%, ${getStatusColor(item.status)} ${percentage}%, #e5e7eb ${percentage}%, #e5e7eb 100%)`\n              }}\n            />\n          </div>\n          \n          {/* Visual indicators for thresholds */}\n          <div className=\"relative w-full h-6\">\n            {/* Low threshold indicator */}\n            <div \n              className=\"absolute top-0 w-0.5 h-2 bg-yellow-500\" \n              style={{ left: `${(item.lowThreshold / item.capacity) * 100}%` }}\n            ></div>\n            <div \n              className=\"absolute top-3 text-xs text-yellow-600\" \n              style={{ left: `${(item.lowThreshold / item.capacity) * 100}%`, transform: 'translateX(-50%)' }}\n            >\n              Low\n            </div>\n            \n            {/* Critical threshold indicator */}\n            <div \n              className=\"absolute top-0 w-0.5 h-2 bg-red-500\" \n              style={{ left: `${(item.criticalThreshold / item.capacity) * 100}%` }}\n            ></div>\n            <div \n              className=\"absolute top-3 text-xs text-red-600\" \n              style={{ left: `${(item.criticalThreshold / item.capacity) * 100}%`, transform: 'translateX(-50%)' }}\n            >\n              Critical\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Function to render schedule item\n  const renderScheduleItem = (item, type) => {\n    const getStatusClass = (status) => {\n      switch(status) {\n        case 'active':\n          return 'bg-green-100 border-green-500 text-green-700';\n        case 'upcoming':\n          return 'bg-blue-100 border-blue-500 text-blue-700';\n        case 'completed':\n          return 'bg-gray-100 border-gray-500 text-gray-700';\n        default:\n          return 'bg-gray-100 border-gray-500 text-gray-700';\n      }\n    };\n    \n    return (\n      <div \n        key={`${type}-${item.id}`}\n        className={`mb-2 p-3 rounded-lg border-l-4 ${getStatusClass(item.status)} shadow-sm`}\n      >\n        <div className=\"flex justify-between items-center\">\n          <div className=\"font-bold\">{item.start} - {item.end}</div>\n          {type === 'shift' && (\n            <div className=\"text-sm bg-amber-100 text-amber-800 px-2 py-1 rounded\">\n              {item.barista}\n            </div>\n          )}\n          {type === 'rush' && (\n            <div className=\"text-sm bg-red-100 text-red-800 px-2 py-1 rounded\">\n              Rush Period\n            </div>\n          )}\n        </div>\n        <div className=\"mt-2\">\n          {type === 'shift' && <div className=\"text-gray-700\">Barista Shift</div>}\n          {type === 'break' && <div className=\"text-gray-700\">Break Time for {item.barista}</div>}\n          {type === 'rush' && <div className=\"text-gray-700\">{item.reason}</div>}\n        </div>\n      </div>\n    );\n  };\n  \n    // Dismissible Info Panel Component\n  const DismissibleInfoPanel = ({ id, title, message, extraContent, borderColor = 'green', bgColor = 'green', isDismissed, onDismiss }) => {\n    if (isDismissed) return null;\n    \n    return (\n      <div className={`bg-${bgColor}-100 border-l-4 border-${borderColor}-500 text-${borderColor}-700 p-2 mb-3 relative`}>\n        <div className=\"flex\">\n          <div className=\"py-1\">\n            <svg className={`fill-current h-5 w-5 text-${borderColor}-500 mr-2`} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n              <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/>\n            </svg>\n          </div>\n          <div className=\"pr-7\">\n            <p className=\"font-bold text-sm\">{title}</p>\n            <p className=\"text-xs\">{message}</p>\n            {extraContent && <div className=\"mt-1 text-xs\">{extraContent}</div>}\n          </div>\n        </div>\n        \n        {/* Close button */}\n        <button \n          className=\"absolute top-1 right-1 text-gray-500 hover:text-gray-800 bg-white rounded-full p-1 shadow-sm\"\n          onClick={() => onDismiss(id)}\n          aria-label=\"Dismiss message\"\n          title=\"Dismiss this message\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n          </svg>\n        </button>\n      </div>\n    );\n  };\n  \n  // Notification Settings Component\n  const NotificationSettings = () => {\n    const [localSettings, setLocalSettings] = useState({\n      autoSendSmsOnComplete: settings.autoSendSmsOnComplete,\n      remindAfterDelay: settings.remindAfterDelay,\n      reminderDelay: settings.reminderDelay,\n      showNameOnDisplay: settings.showNameOnDisplay\n    });\n    \n    const saveSettings = () => {\n      // Update parent settings\n      setSettings({...settings, ...localSettings});\n      \n      // Update MessageService settings\n      MessageService.updateSettings(localSettings);\n      \n      alert('Notification settings saved');\n    };\n    \n    return (\n      <div className=\"p-4 border rounded shadow-lg bg-white\">\n        <h3 className=\"text-lg font-bold mb-4\">Notification Settings</h3>\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"flex items-center space-x-2\">\n              <input \n                type=\"checkbox\" \n                checked={localSettings.autoSendSmsOnComplete} \n                onChange={e => setLocalSettings({...localSettings, autoSendSmsOnComplete: e.target.checked})}\n              />\n              <span>Automatically send SMS when order is completed</span>\n            </label>\n          </div>\n          \n          <div>\n            <label className=\"flex items-center space-x-2\">\n              <input \n                type=\"checkbox\" \n                checked={localSettings.showNameOnDisplay} \n                onChange={e => setLocalSettings({...localSettings, showNameOnDisplay: e.target.checked})}\n              />\n              <span>Show customer name on display screen</span>\n            </label>\n          </div>\n          \n          <div>\n            <label className=\"flex items-center space-x-2\">\n              <input \n                type=\"checkbox\" \n                checked={localSettings.remindAfterDelay} \n                onChange={e => setLocalSettings({...localSettings, remindAfterDelay: e.target.checked})}\n              />\n              <span>Send reminder if order not picked up</span>\n            </label>\n            \n            {localSettings.remindAfterDelay && (\n              <div className=\"pl-6 mt-2\">\n                <label className=\"flex items-center space-x-2\">\n                  <span>Reminder delay (seconds):</span>\n                  <input \n                    type=\"number\" \n                    min=\"10\" \n                    max=\"300\"\n                    value={localSettings.reminderDelay} \n                    onChange={e => setLocalSettings({...localSettings, reminderDelay: parseInt(e.target.value)})}\n                    className=\"w-20 p-1 border rounded\"\n                  />\n                </label>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"mt-4 flex justify-end\">\n          <button \n            className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700\"\n            onClick={saveSettings}\n          >\n            Save Settings\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Main component render\n  return (\n    <div className=\"bg-gray-100 min-h-screen flex flex-col\">\n      {/* Header - Connection Banner */}\n      {!online && (\n        <div className=\"bg-red-500 text-white p-2 text-center\">\n          Could not connect to backend service. Using sample data instead.\n        </div>\n      )}\n      \n      {/* Demo Mode Indicator */}\n      {isDemoMode && (\n        <div className=\"bg-amber-500 text-white p-2 text-center\">\n          Demo Mode Active - Using simulated data\n        </div>\n      )}\n      \n      {/* Main Header */}\n      <header className=\"bg-amber-800 text-white p-4 flex justify-between items-center shadow-md\">\n        <div className=\"flex items-center\">\n          <button \n            className=\"mr-2 p-1 rounded hover:bg-amber-700\"\n            onClick={() => window.history.back()}\n            title=\"Back to Home\"\n          >\n            <ArrowLeft size={20} />\n          </button>\n          <div className=\"text-xl font-bold cursor-pointer\" onClick={() => setShowStationSelector(!showStationSelector)}>\n            {(() => {\n              // Try to get custom name from localStorage first\n              if (selectedStation) {\n                try {\n                  const customName = localStorage.getItem(`coffee_station_name_${selectedStation}`);\n                  if (customName) {\n                    return customName;\n                  }\n                } catch (e) {\n                  console.error('Error getting custom station name for display:', e);\n                }\n              }\n              // Fall back to station from list if no custom name\n              return stations.find(s => s.id === selectedStation)?.name || 'Select a Station';\n            })()}\n            <ChevronDown size={16} className=\"inline ml-1\" />\n          </div>\n          \n          {/* Station Selector Dropdown */}\n          {showStationSelector && (\n            <div className=\"absolute top-16 left-4 bg-white text-gray-800 shadow-lg rounded-md overflow-hidden z-50\">\n              {stations.map(station => (\n                <div \n                  key={station.id}\n                  className={`p-3 hover:bg-gray-100 cursor-pointer ${station.id === selectedStation ? 'bg-amber-100' : ''}`}\n                  onClick={() => {\n                    // Change selected station (this will trigger sync in useOrders)\n                    changeSelectedStation(station.id);\n                    \n                    // Get station-specific barista name for the new station\n                    const stationBaristaName = getStationBaristaName(station.id);\n                    \n                    // Check for custom station name in localStorage\n                    let customStationName = station.name;\n                    try {\n                      const customName = localStorage.getItem(`coffee_station_name_${station.id}`);\n                      if (customName) {\n                        console.log(`Found custom station name in localStorage: ${customName}`);\n                        customStationName = customName;\n                      }\n                    } catch (e) {\n                      console.error('Error getting custom station name from localStorage:', e);\n                    }\n                    \n                    // Update settings with new station info\n                    setSettings({\n                      ...settings,\n                      stationName: customStationName, // Use custom name if available\n                      baristaName: stationBaristaName\n                    });\n                    \n                    // Also initialize ChatService with the correct names\n                    ChatService.initialize(\n                      station.id, \n                      customStationName,\n                      stationBaristaName\n                    );\n                    \n                    setShowStationSelector(false);\n                    // Refresh data for the new station\n                    refreshData();\n                  }}\n                >\n                  <div className=\"font-medium\">\n                    {(() => {\n                      try {\n                        const customName = localStorage.getItem(`coffee_station_name_${station.id}`);\n                        return customName || station.name;\n                      } catch (e) {\n                        return station.name;\n                      }\n                    })()}\n                  </div>\n                  <div className=\"text-xs text-gray-500 flex items-center\">\n                    <div className={`w-2 h-2 rounded-full mr-1 ${station.status === 'active' ? 'bg-green-500' : 'bg-red-500'}`}></div>\n                    {station.status === 'active' ? 'Active' : 'Maintenance'}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n        \n        <div className=\"flex space-x-2 items-center\">\n          {/* NEW: Display screen button */}\n          <button \n            className=\"px-3 py-1 rounded-md bg-blue-500 hover:bg-blue-600 text-white flex items-center\"\n            onClick={openDisplayScreen}\n          >\n            <Monitor size={16} className=\"mr-1\" />\n            Display\n          </button>\n          \n          <div className={`px-4 py-1 rounded-full flex items-center ${online ? 'bg-green-500' : 'bg-gray-400'}`}>\n            <div className={`w-3 h-3 rounded-full ${online ? 'bg-green-300' : 'bg-gray-300'} mr-2`}></div>\n            {online ? 'Online' : 'Offline'}\n          </div>\n          \n          {/* Auto-refresh indicator */}\n          <div \n            className={`px-4 py-1 rounded-full flex items-center cursor-pointer ${autoRefreshEnabled ? 'bg-green-500' : 'bg-gray-400'}`}\n            onClick={toggleAutoRefresh}\n            title={autoRefreshEnabled ? `Auto-refresh every ${autoRefreshInterval} seconds` : 'Auto-refresh disabled (click to enable)'}\n          >\n            <RefreshCw size={14} className={`mr-1 ${isRefreshing ? 'animate-spin' : ''}`} />\n            {autoRefreshEnabled ? `${autoRefreshInterval}s` : 'Manual'}\n          </div>\n          \n          <div className=\"px-4 py-1 rounded-full bg-green-500\">\n            Queue: {queueCount}\n          </div>\n          <div className=\"px-4 py-1 rounded-full bg-green-500\">\n            Wait: {waitTime} min\n          </div>\n          <button \n            className=\"px-4 py-1 rounded-full bg-red-500 flex items-center font-medium hover:bg-red-600 transition-colors\"\n            onClick={() => setShowHelpDialog(true)}\n          >\n            HELP\n          </button>\n        </div>\n      </header>\n\n      {/* Navigation Tabs */}\n      <div className=\"bg-white border-b flex shadow-sm\">\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'orders' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('orders')}\n        >\n          <Coffee size={18} className=\"mr-1\" />\n          Orders\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'stock' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('stock')}\n        >\n          <Package size={18} className=\"mr-1\" />\n          Stock\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'inventory' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('inventory')}\n        >\n          <Package size={18} className=\"mr-1\" />\n          Inventory AI\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'schedule' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('schedule')}\n        >\n          <Calendar size={18} className=\"mr-1\" />\n          Schedule\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'completed' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('completed')}\n        >\n          <Check size={18} className=\"mr-1\" />\n          Completed\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'display' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('display')}\n        >\n          <Monitor size={18} className=\"mr-1\" />\n          Display\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'queue' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('queue')}\n        >\n          <Brain size={18} className=\"mr-1\" />\n          Queue AI\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'balance' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('balance')}\n        >\n          <Scale size={18} className=\"mr-1\" />\n          Balance\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'capabilities' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('capabilities')}\n        >\n          <Settings size={18} className=\"mr-1\" />\n          Capabilities\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'staff' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('staff')}\n        >\n          <Users size={18} className=\"mr-1\" />\n          Staff\n        </button>\n        <button \n          className={`py-4 px-6 font-medium flex items-center ${activeTab === 'settings' ? 'border-b-2 border-amber-600 bg-white text-amber-800' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n          onClick={() => setActiveTab('settings')}\n        >\n          <Settings size={18} className=\"mr-1\" />\n          Settings\n        </button>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"p-4 flex-grow overflow-y-auto\">\n        {/* Loading state */}\n        {loading && (\n          <div className=\"flex justify-center items-center h-full\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-600\"></div>\n          </div>\n        )}\n        \n        {/* Error state */}\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\">\n            <strong className=\"font-bold\">Error!</strong>\n            <span className=\"block sm:inline\"> {error}</span>\n            <button \n              className=\"absolute top-0 bottom-0 right-0 px-4 py-3\"\n              onClick={clearError}\n            >\n              <XCircle size={20} />\n            </button>\n          </div>\n        )}\n        \n        {/* Last Updated indicator */}\n        {!loading && !error && (\n          <div className=\"text-xs text-gray-500 mb-2 flex items-center\">\n            <Clock size={12} className=\"mr-1\" />\n            Last updated: {new Date(lastUpdated).toLocaleTimeString()}\n            {isRefreshing && (\n              <span className=\"ml-2 flex items-center text-amber-600\">\n                <RefreshCw size={12} className=\"animate-spin mr-1\" />\n                Refreshing...\n              </span>\n            )}\n          </div>\n        )}\n        \n        {/* Orders Tab */}\n        {!loading && activeTab === 'orders' && (\n          <div className=\"flex space-x-4\">\n            {/* Current Order (In Progress) */}\n            <div className=\"w-1/2\">\n              <div className=\"bg-amber-700 text-white p-2 rounded-t-lg\">\n                <h2 className=\"text-xl font-bold\">Current Order</h2>\n              </div>\n              <div className=\"bg-white p-4 rounded-b-lg shadow-md\">\n                {inProgressOrders.length > 0 ? (\n                  inProgressOrders.map(order => renderInProgressOrder(order))\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    <Coffee size={48} className=\"mx-auto mb-2 text-gray-400\" />\n                    <p>No orders in progress</p>\n                    <p className=\"text-sm text-gray-400\">Start an order from the queue</p>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            {/* Updated: Using PendingOrdersSection component with the new props */}\n            <PendingOrdersSection \n              orders={pendingOrders}\n              filter={filter}\n              onFilterChange={setFilter}\n              onStartOrder={startOrder}\n              onProcessBatch={processBatch}\n              onSendMessage={handleOpenMessageDialog}\n              onDelayOrder={handleDelayOrder}\n              onEditOrder={handleEditOrder}\n            />\n          </div>\n        )}\n        \n        {/* Stock Management Tab */}\n        {!loading && activeTab === 'stock' && (\n          <div className=\"p-4\">\n            {/* Local Stock Management Information */}\n            <DismissibleInfoPanel\n              id=\"stockInfoPanel\"\n              title=\"Station-Specific Inventory Management\"\n              message=\"This station's inventory is saved locally. Each station manages its own inventory independently.\"\n              borderColor=\"green\"\n              bgColor=\"green\"\n              isDismissed={dismissedPanels.stockInfoPanel}\n              onDismiss={dismissPanel}\n              extraContent={\n                (lowCount > 0 || criticalCount > 0) && (\n                  <p className=\"font-medium\">\n                    {criticalCount > 0 && <span className=\"text-red-600 mr-2\">Critical: {criticalCount} items</span>}\n                    {lowCount > 0 && <span className=\"text-yellow-600\">Low: {lowCount} items</span>}\n                  </p>\n                )\n              }\n            />\n            \n            {/* Category Selector */}\n            <div className=\"flex flex-wrap gap-2 mb-4\">\n              {stockCategories.map(category => (\n                <button\n                  key={category}\n                  className={`px-4 py-2 rounded-full ${selectedStockCategory === category ? 'bg-green-500 text-white' : 'bg-gray-200'}`}\n                  onClick={() => setSelectedStockCategory(category)}\n                >\n                  {category.charAt(0).toUpperCase() + category.slice(1)}\n                </button>\n              ))}\n            </div>\n            \n            {/* Stock Items */}\n            <h2 className=\"text-xl font-bold mb-4 flex items-center justify-between\">\n              <span>{selectedStockCategory.charAt(0).toUpperCase() + selectedStockCategory.slice(1)} Inventory</span>\n              \n            </h2>\n            \n            <div className=\"space-y-4 bg-white rounded-lg shadow-md p-4\">\n              {stockLoading ? (\n                <div className=\"flex justify-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500\"></div>\n                </div>\n              ) : getCategoryStock(selectedStockCategory).length > 0 ? (\n                getCategoryStock(selectedStockCategory).map(item => (\n                  <StockItem \n                    key={item.id}\n                    item={item} \n                    category={selectedStockCategory}\n                    updateStockItem={updateStockItem}\n                    deleteStockItem={deleteStockItem}\n                    addStockItem={addStockItem}\n                  />\n                ))\n              ) : (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <Package size={48} className=\"mx-auto mb-2 text-gray-400\" />\n                  <p>No {selectedStockCategory} items found</p>\n                  <p className=\"text-sm text-gray-400\">Click 'Add Event Stock' to add standard items or 'Custom Item' for unique items</p>\n                </div>\n              )}\n            </div>\n            \n            {/* Stock Action Buttons */}\n            <div className=\"flex flex-wrap gap-2 mt-6\">\n              <button \n                className=\"flex-1 py-3 bg-green-500 text-white rounded-md font-medium hover:bg-green-600\"\n                onClick={() => {\n                  // Show confirmation message in alert and proceed if user enters \"yes\"\n                  const userConfirmed = window.prompt(`Type 'yes' to confirm restocking all ${selectedStockCategory} items to full capacity:`) === 'yes';\n                  \n                  if (userConfirmed) {\n                    // Get all items in the current category\n                    const items = getCategoryStock(selectedStockCategory);\n                    // Update each item to full capacity\n                    items.forEach(item => {\n                      updateStockItem(selectedStockCategory, item.id, item.capacity);\n                    });\n                  }\n                }}\n              >\n                Restock All to Full\n              </button>\n              \n              <button \n                className=\"flex-1 py-3 bg-gray-500 text-white rounded-md font-medium hover:bg-gray-600\"\n                onClick={() => {\n                  // Prompt for item selection to delete\n                  const items = getCategoryStock(selectedStockCategory);\n                  if (items.length === 0) {\n                    alert(`No ${selectedStockCategory} items to delete`);\n                    return;\n                  }\n                  \n                  // Create item options as a numbered list\n                  let message = `Select item to delete:\\n`;\n                  items.forEach((item, index) => {\n                    message += `${index + 1}. ${item.name}\\n`;\n                  });\n                  \n                  // Get selection\n                  const selection = prompt(message);\n                  if (selection) {\n                    const index = parseInt(selection, 10) - 1;\n                    if (!isNaN(index) && index >= 0 && index < items.length) {\n                      const item = items[index];\n                      // Ask for confirmation using prompt instead of confirm\n                      const deleteConfirmed = window.prompt(`Type 'yes' to confirm deleting ${item.name}:`) === 'yes';\n                      if (deleteConfirmed) {\n                        deleteStockItem(selectedStockCategory, item.id);\n                      }\n                    } else {\n                      alert('Invalid selection');\n                    }\n                  }\n                }}\n              >\n                Delete Item\n              </button>\n              \n              <button \n                className=\"flex-1 py-3 bg-red-500 text-white rounded-md font-medium hover:bg-red-600\"\n                onClick={() => {\n                  // Ask for confirmation using prompt instead of confirm\n                  const resetConfirmed = window.prompt('Type \\'yes\\' to reset all stock to default values. This cannot be undone:') === 'yes';\n                  if (resetConfirmed) {\n                    resetStock();\n                  }\n                }}\n              >\n                Reset to Defaults\n              </button>\n            </div>\n          </div>\n        )}\n        \n        {/* Inventory Intelligence Tab */}\n        {!loading && activeTab === 'inventory' && (\n          <div className=\"p-4\">\n            <MultiLevelInventory />\n          </div>\n        )}\n        \n        {/* Schedule Tab */}\n        {!loading && activeTab === 'schedule' && (\n          <div className=\"p-4\">\n            {/* API Not Implemented Notification */}\n            <DismissibleInfoPanel\n              id=\"scheduleInfoPanel\"\n              title=\"Schedule Management Available in Organiser\"\n              message=\"Create and manage schedules in the Organiser interface. Go to Organiser  Schedule to add shifts for today.\"\n              borderColor=\"blue\"\n              bgColor=\"blue\"\n              isDismissed={dismissedPanels.scheduleInfoPanel}\n              onDismiss={dismissPanel}\n            />\n          \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"bg-white rounded-lg shadow-md p-4\">\n                <h2 className=\"text-xl font-bold mb-4\">Today's Schedule</h2>\n                <div className=\"space-y-2\">\n                  {scheduleLoading ? (\n                    <div className=\"text-center py-6\">\n                      <div className=\"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-amber-600 mx-auto\"></div>\n                      <p className=\"mt-2 text-gray-500\">Loading schedule data...</p>\n                    </div>\n                  ) : scheduleData.shifts && scheduleData.shifts.length > 0 ? (\n                    scheduleData.shifts.map(item => {\n                      // Format the schedule item for display\n                      const formattedItem = {\n                        id: item.id,\n                        start: item.start_time || '9:00',\n                        end: item.end_time || '17:00',\n                        status: item.status || 'active',\n                        barista: item.staff_name || 'Barista'\n                      };\n                      return renderScheduleItem(formattedItem, 'shift');\n                    })\n                  ) : (\n                    <div className=\"text-center py-6 text-gray-500\">\n                      <p>No schedule data available for this station</p>\n                      <p className=\"text-sm text-gray-400\">Create schedules in the Organiser interface</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"bg-white rounded-lg shadow-md p-4\">\n                <h2 className=\"text-xl font-bold mb-4\">Breaks</h2>\n                <div className=\"space-y-2\">\n                  {scheduleLoading ? (\n                    <div className=\"text-center py-6\">\n                      <div className=\"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-amber-600 mx-auto\"></div>\n                      <p className=\"mt-2 text-gray-500\">Loading break data...</p>\n                    </div>\n                  ) : scheduleData.breaks && scheduleData.breaks.length > 0 ? (\n                    scheduleData.breaks.map(item => renderScheduleItem(item, 'break'))\n                  ) : (\n                    <div className=\"text-center py-6 text-gray-500\">\n                      <p>No break data available</p>\n                      <p className=\"text-sm text-gray-400\">Break scheduling will be added soon</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"bg-white rounded-lg shadow-md p-4 md:col-span-2\">\n                <h2 className=\"text-xl font-bold mb-4\">Predicted Rush Periods</h2>\n                <div className=\"space-y-2\">\n                  {scheduleLoading ? (\n                    <div className=\"text-center py-6\">\n                      <div className=\"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-amber-600 mx-auto\"></div>\n                      <p className=\"mt-2 text-gray-500\">Loading rush period data...</p>\n                    </div>\n                  ) : scheduleData.rushPeriods && scheduleData.rushPeriods.length > 0 ? (\n                    scheduleData.rushPeriods.map(item => renderScheduleItem(item, 'rush'))\n                  ) : (\n                    <div className=\"text-center py-6 text-gray-500\">\n                      <p>No rush period data available</p>\n                      <p className=\"text-sm text-gray-400\">Rush period analytics will be added soon</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Completed Orders Tab */}\n        {!loading && activeTab === 'completed' && (\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\n              <h2 className=\"text-xl font-bold mb-3\">Completed Orders</h2>\n              <div className=\"flex space-x-2 mb-4\">\n                <button \n                  className={`${historyTab === 'completed' ? 'bg-amber-600 text-white' : 'bg-gray-200 hover:bg-gray-300'} px-6 py-2 rounded-full`}\n                  onClick={() => setHistoryTab('completed')}\n                >\n                  Today\n                </button>\n                <button \n                  className={`${historyTab === 'yesterday' ? 'bg-amber-600 text-white' : 'bg-gray-200 hover:bg-gray-300'} px-6 py-2 rounded-full`}\n                  onClick={() => {\n                    setHistoryTab('yesterday');\n                    fetchYesterdayOrders();\n                  }}\n                >\n                  Yesterday\n                </button>\n                <button \n                  className={`${historyTab === 'thisWeek' ? 'bg-amber-600 text-white' : 'bg-gray-200 hover:bg-gray-300'} px-6 py-2 rounded-full`}\n                  onClick={() => {\n                    setHistoryTab('thisWeek');\n                    fetchThisWeekOrders();\n                  }}\n                >\n                  This Week\n                </button>\n                <button \n                  className={`${historyTab === 'search' ? 'bg-amber-600 text-white' : 'bg-gray-200 hover:bg-gray-300'} px-6 py-2 rounded-full ml-auto`}\n                  onClick={() => setHistoryTab('search')}\n                >\n                  Search Orders\n                </button>\n              </div>\n              \n              {/* Search Box - Only shown when search tab is active */}\n              {historyTab === 'search' && (\n                <div className=\"mb-4\">\n                  <div className=\"flex\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search by customer name, order number, or coffee type...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"flex-1 p-2 border rounded-l-md\"\n                    />\n                    <button\n                      className=\"bg-amber-600 text-white px-4 py-2 rounded-r-md\"\n                      onClick={() => searchOrders(searchTerm)}\n                    >\n                      Search\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n            \n            {/* Content based on active history tab */}\n            {historyTab === 'completed' && (\n              <>\n                <h3 className=\"text-xl font-bold mb-3 ml-2\">Ready for Pickup</h3>\n                <div className=\"space-y-2 mb-6\">\n                  {completedOrders.length > 0 ? (\n                    completedOrders.map(order => renderCompletedOrder(order))\n                  ) : (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm text-gray-500\">\n                      <p>No orders ready for pickup</p>\n                    </div>\n                  )}\n                </div>\n                \n                <h3 className=\"text-xl font-bold mb-3 ml-2\">Previously Completed</h3>\n                <div className=\"space-y-2\">\n                  {previousOrders.length > 0 ? (\n                    previousOrders.map(order => renderPreviousOrder(order))\n                  ) : (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm text-gray-500\">\n                      <p>No previous orders to display</p>\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n            \n            {historyTab === 'yesterday' && (\n              <>\n                <h3 className=\"text-xl font-bold mb-3 ml-2\">Yesterday's Orders</h3>\n                <div className=\"space-y-2\">\n                  {loading ? (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-2\"></div>\n                      <p className=\"text-gray-500\">Loading yesterday's orders...</p>\n                    </div>\n                  ) : yesterdayOrders.length > 0 ? (\n                    yesterdayOrders.map(order => renderPreviousOrder(order))\n                  ) : (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm text-gray-500\">\n                      <p>No orders from yesterday</p>\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n            \n            {historyTab === 'thisWeek' && (\n              <>\n                <h3 className=\"text-xl font-bold mb-3 ml-2\">This Week's Orders</h3>\n                <div className=\"space-y-2\">\n                  {loading ? (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-2\"></div>\n                      <p className=\"text-gray-500\">Loading this week's orders...</p>\n                    </div>\n                  ) : thisWeekOrders.length > 0 ? (\n                    thisWeekOrders.map(order => renderPreviousOrder(order))\n                  ) : (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm text-gray-500\">\n                      <p>No orders from this week</p>\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n            \n            {historyTab === 'search' && (\n              <>\n                <h3 className=\"text-xl font-bold mb-3 ml-2\">Search Results</h3>\n                <div className=\"space-y-2\">\n                  {loading ? (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-2\"></div>\n                      <p className=\"text-gray-500\">Searching orders...</p>\n                    </div>\n                  ) : searchTerm ? (\n                    searchResults.length > 0 ? (\n                      searchResults.map(order => renderPreviousOrder(order))\n                    ) : (\n                      <div className=\"text-center py-6 bg-white rounded-lg shadow-sm text-gray-500\">\n                        <p>No orders match your search</p>\n                      </div>\n                    )\n                  ) : (\n                    <div className=\"text-center py-6 bg-white rounded-lg shadow-sm text-gray-500\">\n                      <p>Enter a search term to find orders</p>\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n          </div>\n        )}\n        \n        {/* Queue Intelligence Tab */}\n        {!loading && activeTab === 'queue' && (\n          <div className=\"p-4\">\n            <QueueIntelligence />\n          </div>\n        )}\n        \n        {/* Load Balancer Tab */}\n        {!loading && activeTab === 'balance' && (\n          <div className=\"p-4\">\n            <StationLoadBalancer />\n          </div>\n        )}\n        \n        {/* Enhanced Capabilities Tab */}\n        {!loading && activeTab === 'capabilities' && (\n          <div className=\"p-4\">\n            <EnhancedStationCapabilities />\n          </div>\n        )}\n        \n        {/* Staff Allocation Tab */}\n        {!loading && activeTab === 'staff' && (\n          <div className=\"p-4\">\n            <DynamicStaffAllocation />\n          </div>\n        )}\n        \n        {/* Settings Tab */}\n        {!loading && activeTab === 'settings' && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4\">\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Auto-Refresh Settings</h2>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"flex items-center space-x-2\">\n                    <input \n                      type=\"checkbox\" \n                      checked={autoRefreshEnabled}\n                      onChange={toggleAutoRefresh}\n                    />\n                    <span>Enable automatic refreshing of order data</span>\n                  </label>\n                </div>\n                \n                {autoRefreshEnabled && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Refresh interval (seconds)\n                    </label>\n                    <div className=\"flex items-center\">\n                      <input \n                        type=\"number\" \n                        min=\"5\" \n                        max=\"300\"\n                        value={autoRefreshInterval}\n                        onChange={(e) => updateAutoRefreshInterval(parseInt(e.target.value))}\n                        className=\"w-20 p-2 border rounded mr-2\"\n                      />\n                      <span className=\"text-sm text-gray-500\">\n                        {autoRefreshInterval < 15 ? '(Fast refresh may impact performance)' : ''}\n                      </span>\n                    </div>\n                  </div>\n                )}\n                \n                <div className=\"mt-4\">\n                  <button \n                    className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 flex items-center\"\n                    onClick={() => {\n                      // Make sure we preserve the current station when refreshing\n                      const currentStation = stations.find(s => s.id === selectedStation);\n                      console.log(`Refreshing with station: ${currentStation?.name || 'Unknown'} (ID: ${selectedStation})`);\n                      \n                      // Update localStorage to ensure consistency\n                      localStorage.setItem('coffee_cue_selected_station', selectedStation.toString());\n                      localStorage.setItem('last_used_station_id', selectedStation.toString());\n                      \n                      // Refresh the data\n                      refreshData();\n                    }}\n                  >\n                    <RefreshCw size={16} className={`mr-1 ${isRefreshing ? 'animate-spin' : ''}`} />\n                    Refresh Now\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Station Settings</h2>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Station Name\n                  </label>\n                  <input \n                    type=\"text\" \n                    value={settings.stationName}\n                    onChange={(e) => setSettings({...settings, stationName: e.target.value})}\n                    className=\"w-full p-2 border rounded\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Station Location\n                  </label>\n                  <input \n                    type=\"text\" \n                    value={settings.stationLocation}\n                    onChange={(e) => setSettings({...settings, stationLocation: e.target.value})}\n                    className=\"w-full p-2 border rounded\"\n                    placeholder=\"e.g., Main Hall, Registration Area, etc.\"\n                  />\n                </div>\n                \n                <button\n                  className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center\"\n                  onClick={() => {\n                    // Save all station settings to localStorage for persistence\n                    try {\n                      localStorage.setItem(`coffee_station_name_${selectedStation}`, settings.stationName);\n                      localStorage.setItem(`coffee_station_location_${selectedStation}`, settings.stationLocation);\n                      localStorage.setItem(`coffee_station_barista_${selectedStation}`, settings.baristaName);\n                      \n                      // Also update station state if needed via StationsService\n                      updateStation && updateStation({\n                        id: selectedStation,\n                        name: settings.stationName,\n                        location: settings.stationLocation,\n                        baristaName: settings.baristaName\n                      });\n                      alert('Station settings saved successfully!');\n                    } catch (error) {\n                      console.error('Error saving station settings:', error);\n                      alert('Error saving station settings. Please try again.');\n                    }\n                  }}\n                >\n                  <Check size={18} className=\"mr-1\" />\n                  Save Station Settings\n                </button>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Barista Name\n                  </label>\n                  <input \n                    type=\"text\" \n                    value={settings.baristaName}\n                    onChange={(e) => {\n                      const newBaristaName = e.target.value;\n                      // Update settings state\n                      setSettings({...settings, baristaName: newBaristaName});\n                      // Save to localStorage for persistence with station-specific key\n                      try {\n                        const numericStationId = typeof selectedStation === 'string' \n                          ? parseInt(selectedStation, 10) \n                          : selectedStation;\n                        localStorage.setItem(`coffee_barista_name_station_${numericStationId}`, newBaristaName);\n                      } catch (error) {\n                        console.error('Failed to save station-specific barista name to localStorage:', error);\n                      }\n                    }}\n                    className=\"w-full p-2 border rounded\"\n                  />\n                </div>\n                \n                <div>\n                  <h3 className=\"font-medium mb-3\">Sound Notifications</h3>\n                  \n                  {/* Master Sound Toggle */}\n                  <label className=\"flex items-center space-x-2 mb-3\">\n                    <input \n                      type=\"checkbox\" \n                      checked={settings.soundEnabled}\n                      onChange={(e) => {\n                        const newSoundEnabled = e.target.checked;\n                        setSettings({...settings, soundEnabled: newSoundEnabled});\n                        \n                        // Update localStorage and trigger event for sound system\n                        localStorage.setItem('coffee_sound_enabled', newSoundEnabled ? 'true' : 'false');\n                        window.dispatchEvent(new CustomEvent('app:toggleSound', { \n                          detail: { enabled: newSoundEnabled } \n                        }));\n                        \n                        // Play test sound if enabled\n                        if (newSoundEnabled && window.coffeeSounds) {\n                          window.coffeeSounds.play('newOrder');\n                        } else if (newSoundEnabled) {\n                          // Direct event dispatch fallback if coffeeSounds not available\n                          setTimeout(() => {\n                            window.dispatchEvent(new CustomEvent('app:newOrder'));\n                          }, 300);\n                        }\n                      }}\n                    />\n                    <span className=\"font-medium\">Enable All Sounds</span>\n                  </label>\n                  \n                  {settings.soundEnabled && (\n                    <div className=\"ml-6 space-y-2\">\n                      {/* Volume Control */}\n                      <div className=\"flex items-center space-x-3\">\n                        <label className=\"text-sm w-20\">Volume:</label>\n                        <input\n                          type=\"range\"\n                          min=\"0\"\n                          max=\"100\"\n                          value={settings.soundVolume}\n                          onChange={(e) => setSettings({...settings, soundVolume: parseInt(e.target.value)})}\n                          className=\"flex-1\"\n                        />\n                        <span className=\"text-sm w-10\">{settings.soundVolume}%</span>\n                      </div>\n                      \n                      {/* Individual Sound Controls */}\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"flex items-center space-x-2\">\n                            <input \n                              type=\"checkbox\" \n                              checked={settings.soundNewOrder}\n                              onChange={(e) => setSettings({...settings, soundNewOrder: e.target.checked})}\n                            />\n                            <span className=\"text-sm\">New Order</span>\n                          </label>\n                          <button\n                            className=\"px-2 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600\"\n                            onClick={() => {\n                              if (window.coffeeSounds) {\n                                window.coffeeSounds.play('newOrder');\n                              } else {\n                                // Fallback: create simple beep\n                                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEGdyfPo');\n                                audio.volume = settings.soundVolume / 100;\n                                audio.play().catch((err) => console.log('Audio play failed:', err));\n                              }\n                            }}\n                          >\n                            Test\n                          </button>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"flex items-center space-x-2\">\n                            <input \n                              type=\"checkbox\" \n                              checked={settings.soundOrderComplete}\n                              onChange={(e) => setSettings({...settings, soundOrderComplete: e.target.checked})}\n                            />\n                            <span className=\"text-sm\">Order Complete</span>\n                          </label>\n                          <button\n                            className=\"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\"\n                            onClick={() => {\n                              if (window.coffeeSounds) {\n                                window.coffeeSounds.play('orderComplete');\n                              } else {\n                                // Fallback: create different beep\n                                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEGdyfPg');\n                                audio.volume = settings.soundVolume / 100;\n                                audio.play().catch((err) => console.log('Audio play failed:', err));\n                              }\n                            }}\n                          >\n                            Test\n                          </button>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"flex items-center space-x-2\">\n                            <input \n                              type=\"checkbox\" \n                              checked={settings.soundOrderPickedUp}\n                              onChange={(e) => setSettings({...settings, soundOrderPickedUp: e.target.checked})}\n                            />\n                            <span className=\"text-sm\">Order Picked Up</span>\n                          </label>\n                          <button\n                            className=\"px-2 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600\"\n                            onClick={() => {\n                              if (window.coffeeSounds) {\n                                window.coffeeSounds.play('orderPickedUp');\n                              } else {\n                                // Fallback: create pickup sound\n                                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEGdyfOl');\n                                audio.volume = settings.soundVolume / 100;\n                                audio.play().catch((err) => console.log('Audio play failed:', err));\n                              }\n                            }}\n                          >\n                            Test\n                          </button>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"flex items-center space-x-2\">\n                            <input \n                              type=\"checkbox\" \n                              checked={settings.soundLowStock}\n                              onChange={(e) => setSettings({...settings, soundLowStock: e.target.checked})}\n                            />\n                            <span className=\"text-sm\">Low Stock Alert</span>\n                          </label>\n                          <button\n                            className=\"px-2 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600\"\n                            onClick={() => {\n                              if (window.coffeeSounds) {\n                                window.coffeeSounds.play('lowStock');\n                              } else {\n                                // Fallback: create warning sound\n                                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEGdyfPx');\n                                audio.volume = settings.soundVolume / 100;\n                                audio.play().catch((err) => console.log('Audio play failed:', err));\n                              }\n                            }}\n                          >\n                            Test\n                          </button>\n                        </div>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"flex items-center space-x-2\">\n                            <input \n                              type=\"checkbox\" \n                              checked={settings.soundError}\n                              onChange={(e) => setSettings({...settings, soundError: e.target.checked})}\n                            />\n                            <span className=\"text-sm\">Error Alert</span>\n                          </label>\n                          <button\n                            className=\"px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600\"\n                            onClick={() => {\n                              if (window.coffeeSounds) {\n                                window.coffeeSounds.play('error');\n                              } else {\n                                // Fallback: create error sound\n                                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEGdyfPe');\n                                audio.volume = settings.soundVolume / 100;\n                                audio.play().catch((err) => console.log('Audio play failed:', err));\n                              }\n                            }}\n                          >\n                            Test\n                          </button>\n                        </div>\n                      </div>\n                      \n                      {/* Test All Sounds Button */}\n                      <button\n                        className=\"mt-3 px-4 py-2 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 w-full\"\n                        onClick={() => {\n                          if (window.coffeeSounds) {\n                            window.coffeeSounds.testSounds();\n                          } else {\n                            // Fallback: play all test sounds in sequence\n                            const sounds = ['newOrder', 'orderComplete', 'orderPickedUp', 'lowStock', 'error'];\n                            sounds.forEach((sound, index) => {\n                              setTimeout(() => {\n                                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhCEGdyfPg');\n                                audio.volume = settings.soundVolume / 100;\n                                audio.play().catch((err) => console.log('Audio play failed:', err));\n                              }, index * 800);\n                            });\n                          }\n                        }}\n                      >\n                        Test All Sounds\n                      </button>\n                    </div>\n                  )}\n                </div>\n                \n                <div>\n                  <label className=\"flex items-center space-x-2\">\n                    <input \n                      type=\"checkbox\" \n                      checked={settings.autoPrintLabels}\n                      onChange={(e) => setSettings({...settings, autoPrintLabels: e.target.checked})}\n                    />\n                    <span>Auto-print labels</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n            \n            {/* NEW: Notification Settings section */}\n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Notification Settings</h2>\n              <NotificationSettings />\n            </div>\n            \n            <div className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Info Panels</h2>\n              <p className=\"text-sm text-gray-600 mb-4\">Information panels can be dismissed by clicking the X in the corner. You can restore all dismissed panels here.</p>\n              \n              <button\n                className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center\"\n                onClick={restoreAllPanels}\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"mr-2\">\n                  <path d=\"M3 2v6h6\"></path>\n                  <path d=\"M3 13a9 9 0 1 0 3-7.7L3 8\"></path>\n                </svg>\n                Restore All Info Panels\n              </button>\n            </div>\n            \n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <h2 className=\"text-xl font-bold mb-4\">System Information</h2>\n              <div className=\"text-sm text-gray-600 space-y-2\">\n                <div>Version: 1.2.0</div>\n                <div>Station: {\n                  (() => {\n                    // Try to get custom name from localStorage first\n                    if (selectedStation) {\n                      try {\n                        const customName = localStorage.getItem(`coffee_station_name_${selectedStation}`);\n                        if (customName) {\n                          return customName;\n                        }\n                      } catch (e) {\n                        console.error('Error getting custom station name for system info:', e);\n                      }\n                    }\n                    // Fall back to station from list\n                    return stations.find(s => s.id === selectedStation)?.name || 'Unknown';\n                  })()\n                }</div>\n                <div>Last Sync: {new Date().toLocaleString()}</div>\n                <div>API Status: {online ? 'Connected' : 'Offline'}</div>\n                <div>App Mode: {isDemoMode ? 'Demo' : 'Production'}</div>\n              </div>\n              \n              <div className=\"mt-4 flex justify-between\">\n                <button \n                  className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700\"\n                  onClick={toggleAppMode}\n                >\n                  Toggle Demo Mode\n                </button>\n                <button \n                  className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700\"\n                  onClick={() => {\n                    // Save barista name to localStorage with station-specific key\n                    try {\n                      const numericStationId = typeof selectedStation === 'string' \n                        ? parseInt(selectedStation, 10) \n                        : selectedStation;\n                      localStorage.setItem(`coffee_barista_name_station_${numericStationId}`, settings.baristaName);\n                    } catch (error) {\n                      console.error('Failed to save station-specific barista name to localStorage:', error);\n                    }\n                    \n                    // Always save station name to localStorage for resilience\n                    if (selectedStation && settings.stationName) {\n                      try {\n                        // Save custom station name in localStorage keyed by station id\n                        localStorage.setItem(`coffee_station_name_${selectedStation}`, settings.stationName);\n                        console.log(`Saved custom station name to localStorage: ${settings.stationName}`);\n                      } catch (e) {\n                        console.error('Error saving custom station name to localStorage:', e);\n                      }\n\n                      // Also update the station in the stations array in localStorage\n                      try {\n                        const savedStations = localStorage.getItem('coffee_cue_stations');\n                        if (savedStations) {\n                          const stations = JSON.parse(savedStations);\n                          const updatedStations = stations.map(station => \n                            station.id === selectedStation \n                              ? { ...station, name: settings.stationName, location: settings.stationLocation }\n                              : station\n                          );\n                          localStorage.setItem('coffee_cue_stations', JSON.stringify(updatedStations));\n                          console.log('Updated station name in cached stations');\n                        }\n                      } catch (cacheError) {\n                        console.error('Error updating station name in cached stations:', cacheError);\n                      }\n                      \n                      // Update station name and location using the updateStation function from useStations hook\n                      updateStation(selectedStation, {\n                        name: settings.stationName,\n                        location: settings.stationLocation\n                      }).then(success => {\n                        if (success) {\n                          // Refresh station data to ensure changes are reflected immediately\n                          refreshStations().then(() => {\n                            alert('Settings updated successfully!');\n                          });\n                        } else {\n                          alert('Changes saved locally. Server update failed but your changes will persist.');\n                        }\n                      }).catch(error => {\n                        console.error('Error updating station:', error);\n                        // Still consider it a success since we saved to localStorage\n                        alert('Changes saved locally. Server connection error: ' + (error.message || 'Unknown error'));\n                      });\n                    } else {\n                      alert('Settings updated successfully!');\n                    }\n                  }}\n                >\n                  Save Settings\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Display Tab */}\n        {!loading && activeTab === 'display' && (\n          <div className=\"p-4\">\n            {/* API Usage Notification */}\n            <DismissibleInfoPanel\n              id=\"displayInfoPanel\"\n              title=\"Display Screen Integration\"\n              message=\"The display screen currently shows demo data. It requires backend API integration for showing real-time order data.\"\n              borderColor=\"amber\"\n              bgColor=\"amber\"\n              isDismissed={dismissedPanels.displayInfoPanel}\n              onDismiss={dismissPanel}\n            />\n            \n            <div className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Display Screen Settings</h2>\n              <p className=\"mb-4\">Control what appears on the customer-facing display screen.</p>\n              \n              <div className=\"flex space-x-4 mb-4\">\n                <button \n                  className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                  onClick={() => {\n                    alert('The display screen currently shows demo data. Backend API integration is required for real-time order display.');\n                    openDisplayScreen();\n                  }}\n                >\n                  Open Display Screen\n                </button>\n                <button \n                  className=\"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300\"\n                  onClick={() => alert('Test display feature requires backend API implementation.')}\n                >\n                  Test Display\n                </button>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Display Header\n                  </label>\n                  <input \n                    type=\"text\" \n                    value={settings.stationName}\n                    onChange={(e) => setSettings({...settings, stationName: e.target.value})}\n                    className=\"w-full p-2 border rounded\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Custom Message\n                  </label>\n                  <input \n                    type=\"text\" \n                    placeholder=\"Enjoy your coffee!\"\n                    className=\"w-full p-2 border rounded\"\n                  />\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Display Configuration</h2>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Display Mode\n                  </label>\n                  <select \n                    value={settings.displayMode}\n                    onChange={(e) => setSettings({...settings, displayMode: e.target.value})}\n                    className=\"w-full p-2 border rounded\"\n                  >\n                    <option value=\"landscape\">Landscape</option>\n                    <option value=\"portrait\">Portrait</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Display Timeout (minutes)\n                  </label>\n                  <input \n                    type=\"number\" \n                    min=\"1\" \n                    max=\"60\"\n                    value={settings.displayTimeout}\n                    onChange={(e) => setSettings({...settings, displayTimeout: parseInt(e.target.value)})}\n                    className=\"w-full p-2 border rounded\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">How long to show completed orders before removing them</p>\n                </div>\n                \n                <div className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"showNameOnDisplay\"\n                    checked={settings.showNameOnDisplay}\n                    onChange={(e) => setSettings({...settings, showNameOnDisplay: e.target.checked})}\n                    className=\"mr-2\"\n                  />\n                  <label htmlFor=\"showNameOnDisplay\" className=\"text-sm font-medium text-gray-700\">\n                    Show customer names on display (uncheck for privacy)\n                  </label>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white rounded-lg shadow-md p-4\">\n              <h2 className=\"text-xl font-bold mb-4\">Preview</h2>\n              <div className=\"border p-4 rounded-lg bg-gray-50\">\n                <div className=\"bg-amber-800 text-white p-4 text-center\">\n                  <h1 className=\"text-2xl font-bold\">{settings.stationName}</h1>\n                  <p>Ready for Pickup</p>\n                  <div className=\"text-sm text-gray-200 mt-1\">Station #{selectedStation}</div>\n                </div>\n                \n                <div className=\"p-4\">\n                  {/* Show only orders for this specific station */}\n                  {completedOrders.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {completedOrders.slice(0, 3).map(order => (\n                        <div key={order.id} className=\"border-l-4 border-green-500 bg-white p-3 rounded shadow-sm\">\n                          <div className=\"font-bold\">\n                            {settings.showNameOnDisplay ? order.customerName : `Order #${order.id}`}\n                          </div>\n                          <div>{order.coffeeType || 'Coffee'}</div>\n                          {order.alternativeMilk && (\n                            <div className=\"text-xs text-blue-600\">Alternative Milk</div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-6 text-gray-500\">\n                      <p>No orders ready for pickup at Station #{selectedStation}</p>\n                      <p className=\"text-sm text-gray-400\">Complete orders to see them here</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Action Bar */}\n      <div className=\"sticky bottom-0 bg-white p-3 shadow-lg flex justify-between border-t border-gray-200\">\n        <div className=\"flex space-x-2\">\n          <button \n            className=\"px-4 py-2 bg-gray-200 rounded flex items-center hover:bg-gray-300 transition-colors\"\n            onClick={() => setShowWalkInDialog(true)}\n          >\n            <Plus size={18} className=\"mr-1\" /> Add Walk-in Order\n          </button>\n          <button \n            className=\"px-4 py-2 bg-gray-200 rounded flex items-center hover:bg-gray-300 transition-colors\"\n            onClick={() => setShowWaitTimeDialog(true)}\n          >\n            <Clock size={18} className=\"mr-1\" /> Adjust Wait Time\n          </button>\n          <button \n            className=\"px-4 py-2 bg-gray-200 rounded flex items-center hover:bg-gray-300 transition-colors\"\n            onClick={() => {\n              // Refresh stations, orders, and schedule data\n              refreshStations();\n              refreshData();\n              refreshScheduleData();\n            }}\n          >\n            <RefreshCw size={18} className={`mr-1 ${isRefreshing ? 'animate-spin' : ''}`} />\n            {isRefreshing ? 'Refreshing...' : 'Refresh'}\n          </button>\n        </div>\n        \n        {/* Removed Break Time and Need Help buttons as they're redundant with organiser settings and help at the top */}\n      </div>\n      \n      {/* Chat Button */}\n      <button \n        className=\"fixed bottom-16 right-4 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600\"\n        onClick={() => {\n          setChatOpen(!chatOpen);\n          if (!chatOpen) {\n            setUnreadMessages(0);\n          }\n        }}\n      >\n        <MessageCircle size={24} />\n        {unreadMessages > 0 && (\n          <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full\">\n            {unreadMessages}\n          </span>\n        )}\n      </button>\n      \n      {/* Dialogs */}\n      {showWaitTimeDialog && (\n        <WaitTimeDialog \n          currentWaitTime={waitTime}\n          onSubmit={handleAdjustWaitTime}\n          onClose={() => setShowWaitTimeDialog(false)}\n        />\n      )}\n      \n      {showWalkInDialog && (\n        <WalkInOrderDialog \n          onSubmit={handleWalkInOrder}\n          onClose={() => setShowWalkInDialog(false)}\n        />\n      )}\n      \n      {/* Updated MessageDialog to handle messages more reliably */}\n      {showMessageDialog && currentMessageOrder && (\n        <MessageDialog \n          order={currentMessageOrder}\n          onSubmit={async (orderId, message) => {\n            try {\n              const success = await sendMessage(orderId, message);\n              if (success) {\n                setShowMessageDialog(false);\n                setCurrentMessageOrder(null);\n                // Update message status to show success\n                setMessageStatus(prev => ({\n                  ...prev,\n                  [orderId]: { status: 'sent', timestamp: new Date() }\n                }));\n                return { success: true };\n              } else {\n                return { success: false, error: 'Failed to send message' };\n              }\n            } catch (err) {\n              console.error('Message send error:', err);\n              return { success: false, error: err.message };\n            }\n          }}\n          onClose={() => {\n            setShowMessageDialog(false);\n            setCurrentMessageOrder(null);\n          }}\n        />\n      )}\n      \n      {showHelpDialog && (\n        <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full max-h-[80vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Help</h3>\n              <button \n                className=\"text-gray-500 hover:text-gray-700\" \n                onClick={() => setShowHelpDialog(false)}\n              >\n                &times;\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <p>If you need assistance with the coffee station system, please contact:</p>\n              <ul className=\"list-disc pl-5 space-y-2\">\n                <li><strong>Technical Support:</strong> 123-456-7890</li>\n                <li><strong>Event Manager:</strong> 098-765-4321</li>\n              </ul>\n              \n              <div className=\"bg-gray-100 p-4 rounded\">\n                <h4 className=\"font-medium mb-2\">Quick Tips:</h4>\n                <ul className=\"list-disc pl-5 space-y-1\">\n                  <li>Use the batch mode to complete multiple orders at once</li>\n                  <li>Refresh the order list if you don't see new orders</li>\n                  <li>Check Chat for communications from other stations</li>\n                </ul>\n              </div>\n              \n              <button \n                className=\"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600\"\n                onClick={() => setShowHelpDialog(false)}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Chat panel */}\n      {chatOpen && (\n        <StationChat \n          onClose={() => setChatOpen(false)}\n          onMessageRead={() => setUnreadMessages(0)}\n          stations={stations}\n          currentStationId={selectedStation}\n          currentStationName={stations.find(s => s.id === selectedStation)?.name || 'Unknown Station'}\n          baristaName={settings.baristaName}\n          onBaristaNameChange={(name) => setSettings({...settings, baristaName: name})}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default BaristaInterface;","// src/hooks/useSchedule.js\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAppMode } from '../context/AppContext';\nimport ScheduleService from '../services/ScheduleService';\n\nexport default function useSchedule() {\n  // Empty schedule data structure - no hardcoded names or data\n  const emptyScheduleData = {\n    shifts: [],\n    breaks: [],\n    rushPeriods: []\n  };\n\n  // State management\n  const [scheduleData, setScheduleData] = useState(emptyScheduleData);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState(Date.now());\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [stationId, setStationId] = useState(null);\n  const { isDemoMode } = useAppMode();\n\n  // Initialize localStorage schedule data (but don't clear the real schedule data)\n  useEffect(() => {\n    // Only clear the legacy format data\n    localStorage.removeItem('coffee_cue_schedule');\n    \n    // Clear only demo data, NOT the real schedule data\n    Object.keys(localStorage).forEach(key => {\n      if (key.includes('demo_')) {\n        localStorage.removeItem(key);\n      }\n    });\n    \n    // Only initialize the legacy key, don't touch the new one\n    localStorage.setItem('coffee_cue_schedule', JSON.stringify(emptyScheduleData));\n    \n    console.log('Legacy schedule data cleared on hook init');\n  }, []);\n\n  // Load schedule data from backend\n  const loadSchedule = useCallback(async (forceRefresh = false) => {\n    if (forceRefresh) {\n      setIsRefreshing(true);\n    } else {\n      setLoading(true);\n    }\n    \n    try {\n      console.log('Loading schedule data for station:', stationId);\n      \n      // Try to load the schedule from the ScheduleService\n      let scheduleResponse;\n      \n      // If we have a station ID, try to get the schedule for today for this station\n      if (stationId) {\n        console.log(`Fetching schedule data for station ID: ${stationId}`);\n        scheduleResponse = await ScheduleService.getTodaySchedule(stationId);\n      } else {\n        console.log('No station ID provided, fetching all schedules');\n        scheduleResponse = await ScheduleService.getTodaySchedule();\n      }\n      \n      console.log('Schedule response:', scheduleResponse);\n      \n      // Check if we got a valid response\n      if (scheduleResponse && scheduleResponse.success) {\n        // Get list of hidden demo items\n        const hiddenDemoItems = JSON.parse(localStorage.getItem('coffee_cue_hidden_demo_items') || '[]');\n        console.log('Hidden demo items:', hiddenDemoItems);\n        \n        // Filter out demo items that have been manually removed\n        const filteredSchedules = scheduleResponse.schedules ? \n          scheduleResponse.schedules.filter(schedule => {\n            // Keep all real items (not demo data)\n            if (!schedule.isDemoData) return true;\n            \n            // For demo data items, only keep them if they haven't been manually hidden\n            return !hiddenDemoItems.includes(schedule.id);\n          }) : [];\n        \n        // Convert the response to our format\n        const formattedScheduleData = {\n          shifts: filteredSchedules,\n          breaks: [], // Response doesn't include breaks yet\n          rushPeriods: [] // Response doesn't include rush periods yet\n        };\n        \n        console.log('Formatted schedule data (after filtering demo items):', formattedScheduleData);\n        setScheduleData(formattedScheduleData);\n      } else {\n        console.log('No valid schedule data found, using empty data');\n        setScheduleData(emptyScheduleData);\n      }\n      \n      setLastUpdated(Date.now());\n      setError(null);\n    } catch (err) {\n      console.error('Error loading schedule:', err);\n      setError(`Failed to load schedule: ${err.message}`);\n      setScheduleData(emptyScheduleData);\n    } finally {\n      setLoading(false);\n      setIsRefreshing(false);\n    }\n  }, [emptyScheduleData, stationId]);\n\n  // Update shift status\n  const updateShiftStatus = useCallback(async (shiftId, status) => {\n    try {\n      // Update locally only since backend doesn't support schedule\n      const updatedShifts = scheduleData.shifts.map(shift => \n        shift.id === shiftId ? { ...shift, status } : shift\n      );\n      \n      setScheduleData(prev => ({\n        ...prev,\n        shifts: updatedShifts\n      }));\n      \n      setLastUpdated(Date.now());\n      return true;\n    } catch (err) {\n      console.error('Error updating shift status:', err);\n      setError(`Failed to update shift status: ${err.message}`);\n      return false;\n    }\n  }, [scheduleData]);\n\n  // Add new shift\n  const addShift = useCallback(async (shift) => {\n    try {\n      // Generate ID locally\n      const newShift = {\n        ...shift,\n        id: Date.now(),\n        status: 'upcoming'\n      };\n      \n      // Update local state\n      setScheduleData(prev => ({\n        ...prev,\n        shifts: [...prev.shifts, newShift]\n      }));\n      \n      return newShift;\n    } catch (err) {\n      console.error('Error adding shift:', err);\n      setError(`Failed to add shift: ${err.message}`);\n      return null;\n    }\n  }, []);\n\n  // Remove a shift\n  const removeShift = useCallback(async (shiftId) => {\n    try {\n      // Update locally only\n      setScheduleData(prev => {\n        // Find the shift by ID\n        const shiftToRemove = prev.shifts.find(shift => shift.id === shiftId);\n        \n        // If it's demo data and we're in production mode, mark it to not reappear\n        if (shiftToRemove && shiftToRemove.isDemoData) {\n          // Store the ID in localStorage so we know not to show this demo item again\n          const hiddenDemoItems = JSON.parse(localStorage.getItem('coffee_cue_hidden_demo_items') || '[]');\n          if (!hiddenDemoItems.includes(shiftId)) {\n            hiddenDemoItems.push(shiftId);\n            localStorage.setItem('coffee_cue_hidden_demo_items', JSON.stringify(hiddenDemoItems));\n            console.log(`Marked demo shift ${shiftId} as hidden permanently`);\n          }\n        }\n        \n        return {\n          ...prev,\n          shifts: prev.shifts.filter(shift => shift.id !== shiftId)\n        };\n      });\n      \n      setLastUpdated(Date.now());\n      return true;\n    } catch (err) {\n      console.error('Error removing shift:', err);\n      setError(`Failed to remove shift: ${err.message}`);\n      return false;\n    }\n  }, []);\n\n  // Add new break\n  const addBreak = useCallback(async (breakData) => {\n    try {\n      // Generate ID locally\n      const newBreak = {\n        ...breakData,\n        id: Date.now(),\n        status: 'upcoming'\n      };\n      \n      // Update local state\n      setScheduleData(prev => ({\n        ...prev,\n        breaks: [...prev.breaks, newBreak]\n      }));\n      \n      return newBreak;\n    } catch (err) {\n      console.error('Error adding break:', err);\n      setError(`Failed to add break: ${err.message}`);\n      return null;\n    }\n  }, []);\n\n  // Remove a break\n  const removeBreak = useCallback(async (breakId) => {\n    try {\n      // Update locally only\n      setScheduleData(prev => {\n        // Find the break by ID\n        const breakToRemove = prev.breaks.find(breakItem => breakItem.id === breakId);\n        \n        // If it's demo data and we're in production mode, mark it to not reappear\n        if (breakToRemove && breakToRemove.isDemoData) {\n          // Store the ID in localStorage so we know not to show this demo item again\n          const hiddenDemoItems = JSON.parse(localStorage.getItem('coffee_cue_hidden_demo_items') || '[]');\n          if (!hiddenDemoItems.includes(breakId)) {\n            hiddenDemoItems.push(breakId);\n            localStorage.setItem('coffee_cue_hidden_demo_items', JSON.stringify(hiddenDemoItems));\n            console.log(`Marked demo break ${breakId} as hidden permanently`);\n          }\n        }\n        \n        return {\n          ...prev,\n          breaks: prev.breaks.filter(breakItem => breakItem.id !== breakId)\n        };\n      });\n      \n      setLastUpdated(Date.now());\n      return true;\n    } catch (err) {\n      console.error('Error removing break:', err);\n      setError(`Failed to remove break: ${err.message}`);\n      return false;\n    }\n  }, []);\n\n  // Add rush period\n  const addRushPeriod = useCallback(async (rushPeriodData) => {\n    try {\n      // Generate ID locally\n      const newRushPeriod = {\n        ...rushPeriodData,\n        id: Date.now()\n      };\n      \n      // Update local state\n      setScheduleData(prev => ({\n        ...prev,\n        rushPeriods: [...prev.rushPeriods, newRushPeriod]\n      }));\n      \n      return newRushPeriod;\n    } catch (err) {\n      console.error('Error adding rush period:', err);\n      setError(`Failed to add rush period: ${err.message}`);\n      return null;\n    }\n  }, []);\n\n  // Set station filter\n  const setStation = useCallback((newStationId) => {\n    setStationId(newStationId);\n    // Reload schedule with new station filter\n    loadSchedule(true);\n  }, [loadSchedule]);\n\n  // Get current barista - return null since we have no real data\n  const getCurrentBarista = useCallback(() => {\n    return null;\n  }, []);\n\n  // Manual refresh - we need to memoize this but without the loadSchedule dependency\n  const refreshData = useCallback(() => {\n    setIsRefreshing(true);\n    loadSchedule(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Load schedule on mount and when mode changes, but not on every loadSchedule change\n  useEffect(() => {\n    // Only load schedule data on initial mount and when mode changes\n    loadSchedule();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDemoMode]);\n\n  return {\n    // Data\n    scheduleData,\n    stationId,\n    \n    // UI state\n    loading,\n    error,\n    lastUpdated,\n    isRefreshing,\n    \n    // Actions\n    updateShiftStatus,\n    addShift,\n    removeShift,\n    addBreak,\n    removeBreak,\n    addRushPeriod,\n    setStation,\n    getCurrentBarista,\n    refreshData,\n    \n    // Error handling\n    clearError: () => setError(null)\n  };\n}","import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { \n  AlertTriangle, Coffee, Package, Users, Clock, MessageCircle, \n  Activity, TrendingUp, Pause, Play, RefreshCw, Bell, Zap,\n  ChevronRight, AlertCircle, CheckCircle, Wifi, WifiOff,\n  MessageSquare, UserCheck, BarChart3\n} from 'lucide-react';\nimport useStations from '../hooks/useStations';\nimport useOrders from '../hooks/useOrders';\nimport useStock from '../hooks/useStock';\nimport useSettings from '../hooks/useSettings';\nimport useMessages from '../hooks/useMessages';\n\n/**\n * Live Operations Dashboard Component\n * Real-time command center for event management\n */\nconst LiveOperationsDashboard = () => {\n  const { pendingOrders, inProgressOrders, completedOrders, refreshData } = useOrders();\n  const { stations } = useStations();\n  const stockLevels = []; // TODO: Implement proper stock levels hook\n  \n  // Combine all order types - memoized to prevent infinite re-renders\n  const orders = useMemo(() => {\n    return [\n      ...(pendingOrders || []),\n      ...(inProgressOrders || []),\n      ...(completedOrders || [])\n    ];\n  }, [pendingOrders, inProgressOrders, completedOrders]);\n  \n  const refreshOrders = refreshData;\n  \n  // Use refs to access current values in interval\n  const ordersRef = useRef(orders);\n  const stationsRef = useRef(stations);\n  const stockLevelsRef = useRef(stockLevels);\n  \n  // Update refs when values change\n  useEffect(() => {\n    ordersRef.current = orders;\n  }, [orders]);\n  \n  useEffect(() => {\n    stationsRef.current = stations;\n  }, [stations]);\n  \n  useEffect(() => {\n    stockLevelsRef.current = stockLevels;\n  }, [stockLevels]);\n  \n  // Critical alerts state\n  const [criticalAlerts, setCriticalAlerts] = useState([]);\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [selectedAlert, setSelectedAlert] = useState(null);\n  \n  // Update recent orders\n  useEffect(() => {\n    if (!orders || !Array.isArray(orders)) {\n      setRecentOrders([]);\n      return;\n    }\n    \n    const recent = orders\n      .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n      .slice(0, 10);\n    setRecentOrders(recent);\n  }, [orders]);\n  \n  // Generate critical alerts based on system state - using interval to prevent dependency issues\n  useEffect(() => {\n    const generateAlerts = () => {\n      const alerts = [];\n      const currentOrders = ordersRef.current;\n      const currentStations = stationsRef.current;\n      const currentStockLevels = stockLevelsRef.current;\n      \n      // Check stock levels\n      if (currentStockLevels && Array.isArray(currentStockLevels)) {\n        currentStockLevels.forEach(stock => {\n          if (stock.current_level < stock.min_level) {\n            alerts.push({\n              id: `stock-${stock.id}`,\n              type: 'stock',\n              severity: stock.current_level === 0 ? 'critical' : 'warning',\n              station: stock.station_id,\n              item: stock.item_name,\n              message: `${stock.item_name} ${stock.current_level === 0 ? 'OUT OF STOCK' : 'running low'}`,\n              timeRemaining: stock.current_level > 0 ? `${Math.round(stock.current_level / stock.usage_rate * 60)}min` : '0min',\n              timestamp: new Date()\n            });\n          }\n        });\n      }\n      \n      // Check station wait times\n      if (currentStations && Array.isArray(currentStations) && currentOrders && Array.isArray(currentOrders)) {\n        currentStations.forEach(station => {\n          const stationOrders = currentOrders.filter(o => o.station_id === station.id && o.status === 'pending');\n          const avgWaitTime = station.average_wait_time || 0;\n          \n          if (avgWaitTime > 15) {\n            alerts.push({\n              id: `wait-${station.id}`,\n              type: 'wait',\n              severity: avgWaitTime > 20 ? 'critical' : 'warning',\n              station: station.id,\n              message: `Station ${station.name} - High wait time`,\n              waitTime: `${avgWaitTime}min`,\n              queueLength: stationOrders.length,\n              timestamp: new Date()\n            });\n          }\n        });\n      }\n      \n      // Check for VIP or group orders\n      if (currentOrders && Array.isArray(currentOrders)) {\n        currentOrders.forEach(order => {\n          if (order.is_vip && order.status === 'pending') {\n            alerts.push({\n              id: `vip-${order.id}`,\n              type: 'vip',\n              severity: 'info',\n              orderId: order.id,\n              message: `VIP order #${order.id} pending`,\n              requirement: 'Priority handling required',\n              timestamp: new Date()\n            });\n          }\n          \n          if (order.group_id && order.status === 'pending') {\n            alerts.push({\n              id: `group-${order.group_id}`,\n              type: 'group',\n              severity: 'info',\n              orderId: order.id,\n              groupId: order.group_id,\n              message: `Group order ${order.group_id} - ${order.items?.length || 0} items`,\n              requirement: 'Coordinate preparation',\n              timestamp: new Date()\n            });\n          }\n        });\n      }\n      \n      setCriticalAlerts(prevAlerts => {\n        const newAlerts = alerts.sort((a, b) => {\n          const severityOrder = { critical: 0, warning: 1, info: 2 };\n          return severityOrder[a.severity] - severityOrder[b.severity];\n        });\n        \n        // Only update if alerts actually changed (simple comparison)\n        const prevIds = prevAlerts.map(a => a.id).join(',');\n        const newIds = newAlerts.map(a => a.id).join(',');\n        \n        if (prevIds !== newIds) {\n          return newAlerts;\n        }\n        return prevAlerts;\n      });\n    };\n    \n    // Run immediately\n    generateAlerts();\n    \n    // Set up interval to check periodically (every 5 seconds)\n    const interval = setInterval(generateAlerts, 5000);\n    \n    return () => clearInterval(interval);\n  }, []); // Empty dependency array - interval will capture current values\n  \n  // Quick action handlers\n  const handleEmergencyAlert = () => {\n    console.log('Sending emergency alert to all stations...');\n    // TODO: Implement emergency alert\n  };\n  \n  const handlePauseOrders = () => {\n    console.log('Pausing new orders...');\n    // TODO: Implement order pausing\n  };\n  \n  const handleRedistributeLoad = () => {\n    console.log('Redistributing station load...');\n    // TODO: Implement load redistribution\n  };\n  \n  const getAlertIcon = (type) => {\n    switch (type) {\n      case 'stock': return <Package className=\"w-5 h-5\" />;\n      case 'wait': return <Clock className=\"w-5 h-5\" />;\n      case 'vip': return <Zap className=\"w-5 h-5\" />;\n      case 'group': return <Users className=\"w-5 h-5\" />;\n      default: return <AlertCircle className=\"w-5 h-5\" />;\n    }\n  };\n  \n  const getAlertColor = (severity) => {\n    switch (severity) {\n      case 'critical': return 'text-red-600 bg-red-50 border-red-200';\n      case 'warning': return 'text-amber-600 bg-amber-50 border-amber-200';\n      case 'info': return 'text-blue-600 bg-blue-50 border-blue-200';\n      default: return 'text-gray-600 bg-gray-50 border-gray-200';\n    }\n  };\n  \n  const getStationStatusColor = (status, queue) => {\n    if (status === 'closed') return 'bg-gray-100 border-gray-300 text-gray-600';\n    if (queue > 10) return 'bg-red-100 border-red-300 text-red-700';\n    if (queue > 5) return 'bg-amber-100 border-amber-300 text-amber-700';\n    if (status === 'available') return 'bg-green-100 border-green-300 text-green-700';\n    return 'bg-blue-100 border-blue-300 text-blue-700';\n  };\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Critical Alerts Section */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold flex items-center\">\n            <AlertTriangle className=\"w-6 h-6 mr-2 text-amber-500\" />\n            Critical Alerts\n          </h2>\n          <span className=\"text-sm text-gray-500\">\n            {criticalAlerts.filter(a => a.severity === 'critical').length} critical, \n            {' '}{criticalAlerts.filter(a => a.severity === 'warning').length} warnings\n          </span>\n        </div>\n        \n        {criticalAlerts.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            <CheckCircle className=\"w-12 h-12 mx-auto mb-2 text-green-500\" />\n            <p>All systems operating normally</p>\n          </div>\n        ) : (\n          <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n            {criticalAlerts.map(alert => (\n              <div \n                key={alert.id}\n                className={`p-3 rounded-lg border cursor-pointer transition-all ${getAlertColor(alert.severity)} ${\n                  selectedAlert?.id === alert.id ? 'ring-2 ring-offset-2' : ''\n                }`}\n                onClick={() => setSelectedAlert(alert)}\n              >\n                <div className=\"flex items-start space-x-3\">\n                  {getAlertIcon(alert.type)}\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium\">{alert.message}</p>\n                    <div className=\"text-sm mt-1 space-x-4\">\n                      {alert.station && <span>Station {alert.station}</span>}\n                      {alert.waitTime && <span>Wait: {alert.waitTime}</span>}\n                      {alert.queueLength && <span>Queue: {alert.queueLength}</span>}\n                      {alert.timeRemaining && <span>Time left: {alert.timeRemaining}</span>}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      \n      {/* Station Status Grid */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-xl font-semibold mb-4 flex items-center\">\n          <Coffee className=\"w-6 h-6 mr-2\" />\n          Station Status\n        </h2>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {stations && Array.isArray(stations) ? stations.map(station => {\n            const stationOrders = orders && Array.isArray(orders) \n              ? orders.filter(o => o.station_id === station.id)\n              : [];\n            const pendingOrders = stationOrders.filter(o => o.status === 'pending').length;\n            const inProgressOrders = stationOrders.filter(o => o.status === 'in_progress').length;\n            \n            return (\n              <div \n                key={station.id}\n                className={`p-4 rounded-lg border-2 ${getStationStatusColor(station.status, pendingOrders)}`}\n              >\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h3 className=\"font-semibold\">{station.name}</h3>\n                  <span className={`text-xs px-2 py-1 rounded-full ${\n                    station.status === 'active' ? 'bg-green-500 text-white' :\n                    station.status === 'closed' ? 'bg-gray-500 text-white' :\n                    'bg-amber-500 text-white'\n                  }`}>\n                    {station.status}\n                  </span>\n                </div>\n                \n                <div className=\"space-y-1 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span>Queue:</span>\n                    <span className=\"font-medium\">{pendingOrders}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>In Progress:</span>\n                    <span className=\"font-medium\">{inProgressOrders}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Wait Time:</span>\n                    <span className=\"font-medium\">{station.average_wait_time || 0}min</span>\n                  </div>\n                  {station.current_barista && (\n                    <div className=\"flex justify-between\">\n                      <span>Barista:</span>\n                      <span className=\"font-medium truncate\">{station.current_barista}</span>\n                    </div>\n                  )}\n                </div>\n                \n                {station.alerts && station.alerts.length > 0 && (\n                  <div className=\"mt-2 pt-2 border-t\">\n                    {station.alerts.map((alert, idx) => (\n                      <div key={idx} className=\"text-xs text-red-600\">\n                         {alert}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            );\n          }) : (\n            <div className=\"col-span-4 text-center py-8 text-gray-500\">\n              <Coffee className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n              <p>No stations available</p>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Quick Actions */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-xl font-semibold mb-4\">Quick Actions</h2>\n        \n        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\n          <button \n            onClick={handleEmergencyAlert}\n            className=\"p-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex flex-col items-center space-y-1\"\n          >\n            <AlertCircle className=\"w-6 h-6\" />\n            <span className=\"text-sm\">Emergency Alert</span>\n          </button>\n          \n          <button \n            className=\"p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex flex-col items-center space-y-1\"\n          >\n            <MessageSquare className=\"w-6 h-6\" />\n            <span className=\"text-sm\">Announce</span>\n          </button>\n          \n          <button \n            onClick={handlePauseOrders}\n            className=\"p-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex flex-col items-center space-y-1\"\n          >\n            <Pause className=\"w-6 h-6\" />\n            <span className=\"text-sm\">Pause Orders</span>\n          </button>\n          \n          <button \n            onClick={handleRedistributeLoad}\n            className=\"p-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex flex-col items-center space-y-1\"\n          >\n            <RefreshCw className=\"w-6 h-6\" />\n            <span className=\"text-sm\">Redistribute</span>\n          </button>\n          \n          <button \n            className=\"p-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors flex flex-col items-center space-y-1\"\n          >\n            <MessageSquare className=\"w-6 h-6\" />\n            <span className=\"text-sm\">Manual SMS</span>\n          </button>\n        </div>\n      </div>\n      \n      {/* Recent Orders Stream */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold flex items-center\">\n            <Activity className=\"w-6 h-6 mr-2\" />\n            Recent Orders\n          </h2>\n          <button \n            onClick={refreshOrders}\n            className=\"text-blue-600 hover:text-blue-700\"\n          >\n            <RefreshCw className=\"w-4 h-4\" />\n          </button>\n        </div>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full\">\n            <thead>\n              <tr className=\"text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                <th className=\"pb-2\">Order #</th>\n                <th className=\"pb-2\">Customer</th>\n                <th className=\"pb-2\">Items</th>\n                <th className=\"pb-2\">Station</th>\n                <th className=\"pb-2\">Status</th>\n                <th className=\"pb-2\">Time</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {recentOrders.map(order => (\n                <tr key={order.id} className=\"text-sm\">\n                  <td className=\"py-2\">#{order.id}</td>\n                  <td className=\"py-2\">{order.customer_name}</td>\n                  <td className=\"py-2\">{order.items?.map(i => i.coffee_type).join(', ') || 'N/A'}</td>\n                  <td className=\"py-2\">Station {order.station_id || '-'}</td>\n                  <td className=\"py-2\">\n                    <span className={`px-2 py-1 text-xs rounded-full ${\n                      order.status === 'completed' ? 'bg-green-100 text-green-800' :\n                      order.status === 'in_progress' ? 'bg-blue-100 text-blue-800' :\n                      order.status === 'pending' ? 'bg-amber-100 text-amber-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {order.status}\n                    </span>\n                  </td>\n                  <td className=\"py-2 text-gray-500\">\n                    {new Date(order.created_at).toLocaleTimeString()}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LiveOperationsDashboard;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTRsLTMgOUw5IDNsLTMgOUgyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('Activity', [\n  ['path', { d: 'M22 12h-4l-3 9L9 3l-3 9H2', key: 'd5dnw9' }],\n]);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('Target', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n]);\n\nexport default Target;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name DollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSIyMiIgLz4KICA8cGF0aCBkPSJNMTcgNUg5LjVhMy41IDMuNSAwIDAgMCAwIDdoNWEzLjUgMy41IDAgMCAxIDAgN0g2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst DollarSign = createLucideIcon('DollarSign', [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '22', key: '7eqyqh' }],\n  [\n    'path',\n    { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6', key: '1b0p4s' },\n  ],\n]);\n\nexport default DollarSign;\n","import React, { useState, useEffect } from 'react';\nimport { \n  BarChart3, TrendingUp, Clock, Coffee, Users, \n  Calendar, Download, Filter, RefreshCw, Activity,\n  DollarSign, Target, Award, AlertCircle\n} from 'lucide-react';\nimport useOrders from '../hooks/useOrders';\nimport useStations from '../hooks/useStations';\n\n/**\n * Real-Time Analytics Dashboard\n * Comprehensive performance monitoring and insights\n */\nconst AnalyticsDashboard = () => {\n  const { orders } = useOrders();\n  const { stations } = useStations();\n  \n  const [timeRange, setTimeRange] = useState('today'); // today, week, month\n  const [selectedMetric, setSelectedMetric] = useState('orders');\n  const [refreshing, setRefreshing] = useState(false);\n  \n  // Calculate key metrics\n  const [metrics, setMetrics] = useState({\n    ordersPerHour: 0,\n    avgWaitTime: 0,\n    completionRate: 0,\n    customerSatisfaction: 0,\n    revenue: 0,\n    popularItems: [],\n    peakTimes: [],\n    stationPerformance: []\n  });\n  \n  // Calculate metrics based on orders\n  useEffect(() => {\n    if (!orders || orders.length === 0) return;\n    \n    // Filter orders based on time range\n    const now = new Date();\n    const filteredOrders = orders.filter(order => {\n      const orderDate = new Date(order.created_at);\n      if (timeRange === 'today') {\n        return orderDate.toDateString() === now.toDateString();\n      } else if (timeRange === 'week') {\n        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        return orderDate >= weekAgo;\n      } else if (timeRange === 'month') {\n        const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n        return orderDate >= monthAgo;\n      }\n      return true;\n    });\n    \n    // Calculate orders per hour\n    const hoursSpan = timeRange === 'today' ? \n      (now.getHours() + 1) : \n      timeRange === 'week' ? 168 : 720;\n    const ordersPerHour = filteredOrders.length / hoursSpan;\n    \n    // Calculate average wait time\n    const completedOrders = filteredOrders.filter(o => o.status === 'completed');\n    const waitTimes = completedOrders.map(order => {\n      if (order.completed_at && order.created_at) {\n        const wait = new Date(order.completed_at) - new Date(order.created_at);\n        return wait / 1000 / 60; // minutes\n      }\n      return 0;\n    });\n    const avgWaitTime = waitTimes.length > 0 ? \n      waitTimes.reduce((a, b) => a + b, 0) / waitTimes.length : 0;\n    \n    // Calculate completion rate\n    const completionRate = filteredOrders.length > 0 ? \n      (completedOrders.length / filteredOrders.length) * 100 : 0;\n    \n    // Calculate popular items\n    const itemCounts = {};\n    filteredOrders.forEach(order => {\n      if (order.items && Array.isArray(order.items)) {\n        order.items.forEach(item => {\n          const key = item.coffee_type || 'Unknown';\n          itemCounts[key] = (itemCounts[key] || 0) + 1;\n        });\n      }\n    });\n    \n    const popularItems = Object.entries(itemCounts)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 5)\n      .map(([item, count]) => ({\n        item,\n        count,\n        percentage: (count / filteredOrders.length * 100).toFixed(1)\n      }));\n    \n    // Calculate peak times\n    const hourCounts = {};\n    filteredOrders.forEach(order => {\n      const hour = new Date(order.created_at).getHours();\n      hourCounts[hour] = (hourCounts[hour] || 0) + 1;\n    });\n    \n    const peakTimes = Object.entries(hourCounts)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 3)\n      .map(([hour, count]) => ({\n        time: `${hour}:00`,\n        count,\n        label: `${hour}:00-${hour}:59`\n      }));\n    \n    // Calculate station performance\n    const stationPerformance = stations.map(station => {\n      const stationOrders = filteredOrders.filter(o => o.station_id === station.id);\n      const completedStationOrders = stationOrders.filter(o => o.status === 'completed');\n      \n      return {\n        stationId: station.id,\n        stationName: station.name,\n        totalOrders: stationOrders.length,\n        completedOrders: completedStationOrders.length,\n        avgProcessTime: station.average_wait_time || 5,\n        efficiency: stationOrders.length > 0 ? \n          (completedStationOrders.length / stationOrders.length * 100).toFixed(1) : 0\n      };\n    });\n    \n    // Calculate revenue (mock calculation)\n    const avgOrderValue = 5.50;\n    const revenue = completedOrders.length * avgOrderValue;\n    \n    setMetrics({\n      ordersPerHour: ordersPerHour.toFixed(1),\n      avgWaitTime: avgWaitTime.toFixed(1),\n      completionRate: completionRate.toFixed(1),\n      customerSatisfaction: 4.8, // Mock value\n      revenue: revenue.toFixed(2),\n      popularItems,\n      peakTimes,\n      stationPerformance\n    });\n  }, [orders, stations, timeRange]);\n  \n  // Handle refresh\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    // Simulate refresh delay\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setRefreshing(false);\n  };\n  \n  // Get trend indicator\n  const getTrendIndicator = (current, previous) => {\n    const change = ((current - previous) / previous) * 100;\n    if (change > 5) return { icon: TrendingUp, color: 'text-green-500', text: `+${change.toFixed(1)}%` };\n    if (change < -5) return { icon: TrendingUp, color: 'text-red-500 rotate-180', text: `${change.toFixed(1)}%` };\n    return { icon: null, color: 'text-gray-500', text: '0%' };\n  };\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Header with Controls */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4 md:mb-0\">Analytics Dashboard</h2>\n          \n          <div className=\"flex flex-wrap gap-3\">\n            {/* Time Range Selector */}\n            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n              {['today', 'week', 'month'].map(range => (\n                <button\n                  key={range}\n                  onClick={() => setTimeRange(range)}\n                  className={`px-4 py-2 rounded-md capitalize transition-colors ${\n                    timeRange === range \n                      ? 'bg-white text-gray-900 shadow-sm' \n                      : 'text-gray-600 hover:text-gray-900'\n                  }`}\n                >\n                  {range}\n                </button>\n              ))}\n            </div>\n            \n            {/* Action Buttons */}\n            <button \n              onClick={handleRefresh}\n              disabled={refreshing}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2\"\n            >\n              <RefreshCw className={`w-4 h-4 ${refreshing ? 'animate-spin' : ''}`} />\n              <span>Refresh</span>\n            </button>\n            \n            <button className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center space-x-2\">\n              <Download className=\"w-4 h-4\" />\n              <span>Export</span>\n            </button>\n          </div>\n        </div>\n        \n        {/* Key Metrics Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-sm text-blue-600 font-medium\">Orders/Hour</p>\n                <p className=\"text-3xl font-bold text-blue-900 mt-1\">{metrics.ordersPerHour}</p>\n                <div className=\"flex items-center mt-2 text-sm\">\n                  <TrendingUp className=\"w-4 h-4 mr-1 text-green-500\" />\n                  <span className=\"text-green-600\">+15%</span>\n                  <span className=\"text-gray-600 ml-1\">vs target</span>\n                </div>\n              </div>\n              <div className=\"p-3 bg-blue-200 rounded-lg\">\n                <Activity className=\"w-6 h-6 text-blue-700\" />\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-lg\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-sm text-amber-600 font-medium\">Avg Wait Time</p>\n                <p className=\"text-3xl font-bold text-amber-900 mt-1\">{metrics.avgWaitTime}min</p>\n                <div className=\"flex items-center mt-2 text-sm\">\n                  <TrendingUp className=\"w-4 h-4 mr-1 text-green-500\" />\n                  <span className=\"text-green-600\">-8%</span>\n                  <span className=\"text-gray-600 ml-1\">improvement</span>\n                </div>\n              </div>\n              <div className=\"p-3 bg-amber-200 rounded-lg\">\n                <Clock className=\"w-6 h-6 text-amber-700\" />\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-sm text-green-600 font-medium\">Completion Rate</p>\n                <p className=\"text-3xl font-bold text-green-900 mt-1\">{metrics.completionRate}%</p>\n                <div className=\"flex items-center mt-2 text-sm\">\n                  <TrendingUp className=\"w-4 h-4 mr-1 text-green-500\" />\n                  <span className=\"text-green-600\">+2%</span>\n                  <span className=\"text-gray-600 ml-1\">vs yesterday</span>\n                </div>\n              </div>\n              <div className=\"p-3 bg-green-200 rounded-lg\">\n                <Target className=\"w-6 h-6 text-green-700\" />\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-sm text-purple-600 font-medium\">Revenue</p>\n                <p className=\"text-3xl font-bold text-purple-900 mt-1\">${metrics.revenue}</p>\n                <div className=\"flex items-center mt-2 text-sm\">\n                  <TrendingUp className=\"w-4 h-4 mr-1 text-green-500\" />\n                  <span className=\"text-green-600\">+22%</span>\n                  <span className=\"text-gray-600 ml-1\">vs target</span>\n                </div>\n              </div>\n              <div className=\"p-3 bg-purple-200 rounded-lg\">\n                <DollarSign className=\"w-6 h-6 text-purple-700\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Charts Row */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Popular Items Chart */}\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <Coffee className=\"w-5 h-5 mr-2\" />\n            Popular Items\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {metrics.popularItems.map((item, index) => (\n              <div key={item.item} className=\"flex items-center\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"font-medium capitalize\">{item.item}</span>\n                    <span className=\"text-sm text-gray-600\">{item.count} orders ({item.percentage}%)</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className={`h-2 rounded-full ${\n                        index === 0 ? 'bg-blue-500' : \n                        index === 1 ? 'bg-green-500' : \n                        index === 2 ? 'bg-amber-500' : \n                        'bg-gray-400'\n                      }`}\n                      style={{ width: `${item.percentage}%` }}\n                    />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          \n          {metrics.popularItems.length === 0 && (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Coffee className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n              <p>No order data available</p>\n            </div>\n          )}\n        </div>\n        \n        {/* Station Performance */}\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <BarChart3 className=\"w-5 h-5 mr-2\" />\n            Station Performance\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {metrics.stationPerformance.map(station => (\n              <div key={station.stationId} className=\"border rounded-lg p-3\">\n                <div className=\"flex justify-between items-center mb-2\">\n                  <h4 className=\"font-medium\">{station.stationName}</h4>\n                  <span className={`text-sm font-medium ${\n                    parseFloat(station.efficiency) > 90 ? 'text-green-600' : \n                    parseFloat(station.efficiency) > 80 ? 'text-amber-600' : \n                    'text-red-600'\n                  }`}>\n                    {station.efficiency}% efficient\n                  </span>\n                </div>\n                \n                <div className=\"grid grid-cols-3 gap-2 text-sm\">\n                  <div>\n                    <p className=\"text-gray-500\">Orders</p>\n                    <p className=\"font-semibold\">{station.totalOrders}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-gray-500\">Completed</p>\n                    <p className=\"font-semibold\">{station.completedOrders}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-gray-500\">Avg Time</p>\n                    <p className=\"font-semibold\">{station.avgProcessTime}min</p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      {/* Insights and Recommendations */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n          <AlertCircle className=\"w-5 h-5 mr-2\" />\n          Insights & Recommendations\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {metrics.peakTimes.length > 0 && (\n            <div className=\"p-4 bg-blue-50 rounded-lg\">\n              <h4 className=\"font-medium text-blue-900 mb-2\">Peak Time Identified</h4>\n              <p className=\"text-blue-700\">\n                Highest traffic at {metrics.peakTimes[0].label} with {metrics.peakTimes[0].count} orders\n              </p>\n              <p className=\"text-sm text-blue-600 mt-2\">\n                 Add extra staff during this period\n              </p>\n            </div>\n          )}\n          \n          {metrics.popularItems.length > 0 && (\n            <div className=\"p-4 bg-green-50 rounded-lg\">\n              <h4 className=\"font-medium text-green-900 mb-2\">Most Popular Item</h4>\n              <p className=\"text-green-700\">\n                {metrics.popularItems[0].item} accounts for {metrics.popularItems[0].percentage}% of orders\n              </p>\n              <p className=\"text-sm text-green-600 mt-2\">\n                 Ensure sufficient stock and ingredients\n              </p>\n            </div>\n          )}\n          \n          {parseFloat(metrics.avgWaitTime) > 10 && (\n            <div className=\"p-4 bg-amber-50 rounded-lg\">\n              <h4 className=\"font-medium text-amber-900 mb-2\">Wait Time Alert</h4>\n              <p className=\"text-amber-700\">\n                Average wait time ({metrics.avgWaitTime}min) exceeds target\n              </p>\n              <p className=\"text-sm text-amber-600 mt-2\">\n                 Consider opening additional stations\n              </p>\n            </div>\n          )}\n          \n          {metrics.stationPerformance.some(s => parseFloat(s.efficiency) < 80) && (\n            <div className=\"p-4 bg-red-50 rounded-lg\">\n              <h4 className=\"font-medium text-red-900 mb-2\">Station Efficiency</h4>\n              <p className=\"text-red-700\">\n                Some stations operating below 80% efficiency\n              </p>\n              <p className=\"text-sm text-red-600 mt-2\">\n                 Review station assignments and workflows\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AnalyticsDashboard;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Palette\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMy41IiBjeT0iNi41IiByPSIuNSIgLz4KICA8Y2lyY2xlIGN4PSIxNy41IiBjeT0iMTAuNSIgcj0iLjUiIC8+CiAgPGNpcmNsZSBjeD0iOC41IiBjeT0iNy41IiByPSIuNSIgLz4KICA8Y2lyY2xlIGN4PSI2LjUiIGN5PSIxMi41IiByPSIuNSIgLz4KICA8cGF0aCBkPSJNMTIgMkM2LjUgMiAyIDYuNSAyIDEyczQuNSAxMCAxMCAxMGMuOTI2IDAgMS42NDgtLjc0NiAxLjY0OC0xLjY4OCAwLS40MzctLjE4LS44MzUtLjQzNy0xLjEyNS0uMjktLjI4OS0uNDM4LS42NTItLjQzOC0xLjEyNWExLjY0IDEuNjQgMCAwIDEgMS42NjgtMS42NjhoMS45OTZjMy4wNTEgMCA1LjU1NS0yLjUwMyA1LjU1NS01LjU1NEMyMS45NjUgNi4wMTIgMTcuNDYxIDIgMTIgMnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/palette\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Palette = createLucideIcon('Palette', [\n  ['circle', { cx: '13.5', cy: '6.5', r: '.5', key: '1xcu5' }],\n  ['circle', { cx: '17.5', cy: '10.5', r: '.5', key: '736e4u' }],\n  ['circle', { cx: '8.5', cy: '7.5', r: '.5', key: 'clrty' }],\n  ['circle', { cx: '6.5', cy: '12.5', r: '.5', key: '1s4xz9' }],\n  [\n    'path',\n    {\n      d: 'M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z',\n      key: '12rzf8',\n    },\n  ],\n]);\n\nexport default Palette;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAxMnMzLTcgMTAtNyAxMCA3IDEwIDctMyA3LTEwIDctMTAtNy0xMC03WiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('Eye', [\n  [\n    'path',\n    { d: 'M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z', key: 'rwhkz3' },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMiIgeDI9IjIyIiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8cGF0aCBkPSJNMTIgMmExNS4zIDE1LjMgMCAwIDEgNCAxMCAxNS4zIDE1LjMgMCAwIDEtNCAxMCAxNS4zIDE1LjMgMCAwIDEtNC0xMCAxNS4zIDE1LjMgMCAwIDEgNC0xMHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('Globe', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '2', x2: '22', y1: '12', y2: '12', key: '1dnqot' }],\n  [\n    'path',\n    {\n      d: 'M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z',\n      key: 'nb9nel',\n    },\n  ],\n]);\n\nexport default Globe;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RotateCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4Ii8+CiAgPHBhdGggZD0iTTMgM3Y1aDUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/rotate-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCcw = createLucideIcon('RotateCcw', [\n  [\n    'path',\n    { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' },\n  ],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n]);\n\nexport default RotateCcw;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Palette, Globe, Type, Coffee, Save, Eye, \n  AlertCircle, Check, Upload, Download, RotateCcw\n} from 'lucide-react';\nimport SettingsService from '../services/SettingsService';\nimport brandingConfig, { updateBranding, resetBranding } from '../config/brandingConfig';\n\n/**\n * Branding Settings Component\n * Allows customization of app branding, colors, and multi-language support\n */\nconst BrandingSettings = () => {\n  const [settings, setSettings] = useState({\n    // Brand Identity\n    systemName: brandingConfig.systemName || 'Coffee Cue',\n    companyName: brandingConfig.companyName || 'Coffee Cue',\n    shortName: brandingConfig.shortName || 'Coffee Cue',\n    landingTitle: brandingConfig.landingTitle || 'Coffee Cue Ordering System',\n    landingSubtitle: brandingConfig.landingSubtitle || 'Select your role to continue',\n    adminPanelTitle: brandingConfig.adminPanelTitle || 'Coffee Cue Admin',\n    baristaPanelTitle: brandingConfig.baristaPanelTitle || 'Coffee Cue Barista',\n    tagline: brandingConfig.tagline || 'Skip the Queue, Get Your Cue',\n    footerText: brandingConfig.footerText || ' 2025 Expresso Coffee System | ANZCA ASM 2025 Cairns',\n    customBranding: true,\n    clientName: '',\n    clientLogo: brandingConfig.logo || '',\n    \n    // Color Theme\n    primaryColor: brandingConfig.primaryColor || '#D97706',\n    secondaryColor: brandingConfig.primaryColorHover || '#B45309',\n    textColor: brandingConfig.accentColor || '#92400E',\n    backgroundColor: '#f9fafb',\n    \n    // Language Settings\n    defaultLanguage: 'en',\n    availableLanguages: ['en'],\n    translations: {\n      en: {\n        welcomeMessage: \"Welcome to {systemName}! I'll take your coffee order. What's your first name?\",\n        orderConfirmation: \"Thanks {name}! Your {coffee} order has been received.\",\n        readyNotification: \"Hi {name}, your {coffee} is ready for pickup!\",\n        stationChat: \"Message from {station}\",\n        // Add more translatable strings\n      },\n      es: {\n        welcomeMessage: \"Bienvenido a {systemName}! Tomar tu pedido de caf. Cul es tu nombre?\",\n        orderConfirmation: \"Gracias {name}! Tu pedido de {coffee} ha sido recibido.\",\n        readyNotification: \"Hola {name}, tu {coffee} est listo para recoger!\",\n        stationChat: \"Mensaje de {station}\",\n      },\n      zh: {\n        welcomeMessage: \"{systemName}\",\n        orderConfirmation: \"{name}{coffee}\",\n        readyNotification: \"{name}{coffee}\",\n        stationChat: \"{station}\",\n      }\n    }\n  });\n  \n  const [previewMode, setPreviewMode] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  \n  // Preset color themes\n  const colorThemes = {\n    coffeeCue: {\n      name: 'Coffee Cue Default',\n      primaryColor: '#D97706',\n      secondaryColor: '#B45309',\n      textColor: '#92400E',\n      backgroundColor: '#f9fafb'\n    },\n    corporate: {\n      name: 'Corporate Blue',\n      primaryColor: '#1e3a8a',\n      secondaryColor: '#64748b',\n      textColor: '#0f172a',\n      backgroundColor: '#f8fafc'\n    },\n    warm: {\n      name: 'Warm Coffee',\n      primaryColor: '#92400e',\n      secondaryColor: '#ea580c',\n      textColor: '#451a03',\n      backgroundColor: '#fef3c7'\n    },\n    modern: {\n      name: 'Modern Dark',\n      primaryColor: '#4f46e5',\n      secondaryColor: '#ec4899',\n      textColor: '#1e293b',\n      backgroundColor: '#f1f5f9'\n    }\n  };\n  \n  // Load settings on mount\n  useEffect(() => {\n    loadSettings();\n  }, []);\n  \n  const loadSettings = async () => {\n    try {\n      const brandingSettings = await SettingsService.getBrandingSettings();\n      if (brandingSettings) {\n        setSettings(prevSettings => ({\n          ...prevSettings,\n          ...brandingSettings\n        }));\n      }\n    } catch (err) {\n      console.error('Error loading branding settings:', err);\n      setError('Failed to load branding settings');\n    }\n  };\n  \n  const handleSave = async () => {\n    setSaving(true);\n    setError('');\n    setSuccess('');\n    \n    try {\n      // Update centralized branding config\n      updateBranding({\n        companyName: settings.companyName,\n        systemName: settings.systemName,\n        shortName: settings.shortName,\n        tagline: settings.tagline,\n        landingTitle: settings.landingTitle,\n        landingSubtitle: settings.landingSubtitle,\n        adminPanelTitle: settings.adminPanelTitle,\n        baristaPanelTitle: settings.baristaPanelTitle,\n        footerText: settings.footerText,\n        primaryColor: settings.primaryColor,\n        primaryColorHover: settings.secondaryColor,\n        accentColor: settings.textColor,\n        logo: settings.clientLogo,\n        customCSS: settings.customCSS || ''\n      });\n      \n      // Also save to backend if available\n      try {\n        await SettingsService.updateBrandingSettings(settings);\n      } catch (err) {\n        console.log('Backend save failed, but local branding updated');\n      }\n      \n      setSuccess('Branding settings saved successfully! Page will reload...');\n      \n      // Apply theme colors to document\n      if (settings.customBranding) {\n        document.documentElement.style.setProperty('--primary-color', settings.primaryColor);\n        document.documentElement.style.setProperty('--secondary-color', settings.secondaryColor);\n        document.documentElement.style.setProperty('--text-color', settings.textColor);\n        document.documentElement.style.setProperty('--bg-color', settings.backgroundColor);\n      }\n    } catch (err) {\n      console.error('Error saving branding settings:', err);\n      setError('Failed to save branding settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n  \n  const applyTheme = (theme) => {\n    setSettings(prev => ({\n      ...prev,\n      ...theme,\n      customBranding: true\n    }));\n  };\n  \n  const addLanguage = (langCode) => {\n    if (!settings.availableLanguages.includes(langCode)) {\n      setSettings(prev => ({\n        ...prev,\n        availableLanguages: [...prev.availableLanguages, langCode],\n        translations: {\n          ...prev.translations,\n          [langCode]: prev.translations[langCode] || {}\n        }\n      }));\n    }\n  };\n  \n  const updateTranslation = (lang, key, value) => {\n    setSettings(prev => ({\n      ...prev,\n      translations: {\n        ...prev.translations,\n        [lang]: {\n          ...prev.translations[lang],\n          [key]: value\n        }\n      }\n    }));\n  };\n  \n  const exportSettings = () => {\n    const dataStr = JSON.stringify(settings, null, 2);\n    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\n    \n    const exportFileDefaultName = `branding-settings-${new Date().toISOString().split('T')[0]}.json`;\n    \n    const linkElement = document.createElement('a');\n    linkElement.setAttribute('href', dataUri);\n    linkElement.setAttribute('download', exportFileDefaultName);\n    linkElement.click();\n  };\n  \n  const importSettings = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const imported = JSON.parse(e.target.result);\n          setSettings(imported);\n          setSuccess('Settings imported successfully!');\n        } catch (err) {\n          setError('Invalid settings file');\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n  \n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold mb-4 flex items-center\">\n          <Palette className=\"mr-2\" />\n          Branding & Customization\n        </h2>\n        \n        {error && (\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center text-red-700\">\n            <AlertCircle className=\"mr-2\" size={20} />\n            {error}\n          </div>\n        )}\n        \n        {success && (\n          <div className=\"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center text-green-700\">\n            <Check className=\"mr-2\" size={20} />\n            {success}\n          </div>\n        )}\n        \n        {/* Custom Branding Toggle */}\n        <div className=\"mb-6\">\n          <label className=\"flex items-center space-x-3\">\n            <input\n              type=\"checkbox\"\n              checked={settings.customBranding}\n              onChange={(e) => setSettings({...settings, customBranding: e.target.checked})}\n              className=\"w-5 h-5 text-blue-600 rounded focus:ring-blue-500\"\n            />\n            <span className=\"text-lg font-medium\">Enable Custom Branding</span>\n          </label>\n          <p className=\"text-sm text-gray-600 mt-1 ml-8\">\n            Override default CoffeeCue branding with custom client branding\n          </p>\n        </div>\n        \n        {settings.customBranding && (\n          <div className=\"space-y-4 ml-8\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Client Name\n              </label>\n              <input\n                type=\"text\"\n                value={settings.clientName}\n                onChange={(e) => setSettings({...settings, clientName: e.target.value})}\n                placeholder=\"Sydney Convention Centre\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                System Name\n              </label>\n              <input\n                type=\"text\"\n                value={settings.systemName}\n                onChange={(e) => setSettings({...settings, systemName: e.target.value})}\n                placeholder=\"Coffee Cue\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Company Name\n              </label>\n              <input\n                type=\"text\"\n                value={settings.companyName}\n                onChange={(e) => setSettings({...settings, companyName: e.target.value})}\n                placeholder=\"Coffee Cue\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Short Name (for compact views)\n                </label>\n                <input\n                  type=\"text\"\n                  value={settings.shortName}\n                  onChange={(e) => setSettings({...settings, shortName: e.target.value})}\n                  placeholder=\"Coffee Cue\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Tagline\n                </label>\n                <input\n                  type=\"text\"\n                  value={settings.tagline}\n                  onChange={(e) => setSettings({...settings, tagline: e.target.value})}\n                  placeholder=\"Skip the Queue, Get Your Cue\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Landing Page Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={settings.landingTitle}\n                  onChange={(e) => setSettings({...settings, landingTitle: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Landing Page Subtitle\n                </label>\n                <input\n                  type=\"text\"\n                  value={settings.landingSubtitle}\n                  onChange={(e) => setSettings({...settings, landingSubtitle: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Admin Panel Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={settings.adminPanelTitle}\n                  onChange={(e) => setSettings({...settings, adminPanelTitle: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Barista Panel Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={settings.baristaPanelTitle}\n                  onChange={(e) => setSettings({...settings, baristaPanelTitle: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Footer Text\n              </label>\n              <input\n                type=\"text\"\n                value={settings.footerText}\n                onChange={(e) => setSettings({...settings, footerText: e.target.value})}\n                placeholder=\" 2025 Expresso Coffee System | ANZCA ASM 2025 Cairns\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">\n                This text appears at the bottom of the main page\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* Color Theme */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n          <Palette className=\"mr-2\" size={20} />\n          Color Theme\n        </h3>\n        \n        {/* Preset Themes */}\n        <div className=\"mb-6\">\n          <p className=\"text-sm text-gray-600 mb-3\">Quick Themes:</p>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n            {Object.entries(colorThemes).map(([key, theme]) => (\n              <button\n                key={key}\n                onClick={() => applyTheme(theme)}\n                className=\"p-3 border rounded-lg hover:border-blue-500 transition-colors\"\n                style={{\n                  borderColor: theme.primaryColor,\n                  backgroundColor: theme.backgroundColor\n                }}\n              >\n                <div className=\"flex items-center justify-center mb-2\">\n                  <div \n                    className=\"w-6 h-6 rounded-full mr-2\"\n                    style={{backgroundColor: theme.primaryColor}}\n                  />\n                  <div \n                    className=\"w-6 h-6 rounded-full\"\n                    style={{backgroundColor: theme.secondaryColor}}\n                  />\n                </div>\n                <p className=\"text-xs font-medium\" style={{color: theme.textColor}}>\n                  {theme.name}\n                </p>\n              </button>\n            ))}\n          </div>\n        </div>\n        \n        {/* Custom Colors */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Primary Color\n            </label>\n            <div className=\"flex space-x-2\">\n              <input\n                type=\"color\"\n                value={settings.primaryColor}\n                onChange={(e) => setSettings({...settings, primaryColor: e.target.value})}\n                className=\"h-10 w-20\"\n              />\n              <input\n                type=\"text\"\n                value={settings.primaryColor}\n                onChange={(e) => setSettings({...settings, primaryColor: e.target.value})}\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n              />\n            </div>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Secondary Color\n            </label>\n            <div className=\"flex space-x-2\">\n              <input\n                type=\"color\"\n                value={settings.secondaryColor}\n                onChange={(e) => setSettings({...settings, secondaryColor: e.target.value})}\n                className=\"h-10 w-20\"\n              />\n              <input\n                type=\"text\"\n                value={settings.secondaryColor}\n                onChange={(e) => setSettings({...settings, secondaryColor: e.target.value})}\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n              />\n            </div>\n          </div>\n        </div>\n        \n        {/* Preview Button */}\n        <button\n          onClick={() => setPreviewMode(!previewMode)}\n          className=\"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center\"\n        >\n          <Eye className=\"mr-2\" size={16} />\n          {previewMode ? 'Hide' : 'Show'} Preview\n        </button>\n      </div>\n      \n      {/* Language Settings */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n          <Globe className=\"mr-2\" size={20} />\n          Multi-Language Support\n        </h3>\n        \n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Default Language\n          </label>\n          <select\n            value={settings.defaultLanguage}\n            onChange={(e) => setSettings({...settings, defaultLanguage: e.target.value})}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"en\">English</option>\n            <option value=\"es\">Espaol</option>\n            <option value=\"zh\"></option>\n            <option value=\"fr\">Franais</option>\n            <option value=\"de\">Deutsch</option>\n            <option value=\"ja\"></option>\n          </select>\n        </div>\n        \n        <div className=\"mb-4\">\n          <p className=\"text-sm font-medium text-gray-700 mb-2\">Available Languages:</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {settings.availableLanguages.map(lang => (\n              <span key={lang} className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm\">\n                {lang}\n              </span>\n            ))}\n            <button\n              onClick={() => addLanguage('es')}\n              className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200\"\n            >\n              + Add Language\n            </button>\n          </div>\n        </div>\n        \n        {/* Translation Editor */}\n        <div className=\"border-t pt-4\">\n          <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Message Translations</h4>\n          <div className=\"space-y-3\">\n            {Object.keys(settings.translations[settings.defaultLanguage] || {}).map(key => (\n              <div key={key} className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"text-xs text-gray-500\">{key} (English)</label>\n                  <input\n                    type=\"text\"\n                    value={settings.translations.en[key]}\n                    onChange={(e) => updateTranslation('en', key, e.target.value)}\n                    className=\"w-full px-3 py-1 border border-gray-300 rounded text-sm\"\n                  />\n                </div>\n                {settings.availableLanguages.filter(l => l !== 'en').map(lang => (\n                  <div key={lang}>\n                    <label className=\"text-xs text-gray-500\">{key} ({lang})</label>\n                    <input\n                      type=\"text\"\n                      value={settings.translations[lang]?.[key] || ''}\n                      onChange={(e) => updateTranslation(lang, key, e.target.value)}\n                      className=\"w-full px-3 py-1 border border-gray-300 rounded text-sm\"\n                    />\n                  </div>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      {/* Import/Export */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Import/Export Settings</h3>\n        <div className=\"flex space-x-4\">\n          <button\n            onClick={exportSettings}\n            className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center\"\n          >\n            <Download className=\"mr-2\" size={16} />\n            Export Settings\n          </button>\n          <label className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center cursor-pointer\">\n            <Upload className=\"mr-2\" size={16} />\n            Import Settings\n            <input\n              type=\"file\"\n              accept=\".json\"\n              onChange={importSettings}\n              className=\"hidden\"\n            />\n          </label>\n        </div>\n      </div>\n      \n      {/* Save Button */}\n      <div className=\"flex justify-between\">\n        <button\n          onClick={() => {\n            if (window.confirm('Are you sure you want to reset to default Coffee Cue branding? This will reload the page.')) {\n              resetBranding();\n            }\n          }}\n          className=\"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center\"\n        >\n          <RotateCcw className=\"mr-2\" size={20} />\n          Reset to Default\n        </button>\n        \n        <button\n          onClick={handleSave}\n          disabled={saving}\n          className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\"\n        >\n          {saving ? (\n            <>\n              <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2\"></div>\n              Saving...\n            </>\n          ) : (\n            <>\n              <Save className=\"mr-2\" size={20} />\n              Save Branding Settings\n            </>\n          )}\n        </button>\n      </div>\n      \n      {/* Preview */}\n      {previewMode && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n            <div \n              className=\"p-4 rounded-lg mb-4\"\n              style={{\n                backgroundColor: settings.primaryColor,\n                color: 'white'\n              }}\n            >\n              <h2 className=\"text-2xl font-bold flex items-center\">\n                <Coffee className=\"mr-2\" />\n                {settings.customBranding && settings.clientName ? settings.clientName : settings.systemName}\n              </h2>\n            </div>\n            \n            <div className=\"space-y-3\">\n              <div \n                className=\"p-3 rounded\"\n                style={{\n                  backgroundColor: settings.backgroundColor,\n                  color: settings.textColor\n                }}\n              >\n                <p className=\"text-sm\">Welcome message preview:</p>\n                <p className=\"font-medium\">\n                  {settings.translations[settings.defaultLanguage].welcomeMessage.replace('{systemName}', settings.systemName)}\n                </p>\n              </div>\n              \n              <button\n                style={{\n                  backgroundColor: settings.secondaryColor,\n                  color: 'white'\n                }}\n                className=\"w-full py-2 rounded-lg font-medium\"\n              >\n                Sample Button\n              </button>\n            </div>\n            \n            <button\n              onClick={() => setPreviewMode(false)}\n              className=\"mt-4 w-full py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n            >\n              Close Preview\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BrandingSettings;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('Copy', [\n  [\n    'rect',\n    {\n      width: '14',\n      height: '14',\n      x: '8',\n      y: '8',\n      rx: '2',\n      ry: '2',\n      key: '17jyea',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2',\n      key: 'zix9uf',\n    },\n  ],\n]);\n\nexport default Copy;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PlusCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMiA4djgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/plus-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PlusCircle = createLucideIcon('PlusCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 12h8', key: '1wcyev' }],\n  ['path', { d: 'M12 8v8', key: 'napkw2' }],\n]);\n\nexport default PlusCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWNy41TDE0LjUgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTQgMiAxNCA4IDIwIDgiIC8+CiAgPGxpbmUgeDE9IjE2IiB4Mj0iOCIgeTE9IjEzIiB5Mj0iMTMiIC8+CiAgPGxpbmUgeDE9IjE2IiB4Mj0iOCIgeTE9IjE3IiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('FileText', [\n  [\n    'path',\n    {\n      d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z',\n      key: '1nnpy2',\n    },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['line', { x1: '16', x2: '8', y1: '13', y2: '13', key: '14keom' }],\n  ['line', { x1: '16', x2: '8', y1: '17', y2: '17', key: '17nazh' }],\n  ['line', { x1: '10', x2: '8', y1: '9', y2: '9', key: '1a5vjj' }],\n]);\n\nexport default FileText;\n","// components/GroupOrdersTab.js\nimport React, { useState, useEffect } from 'react';\nimport { PlusCircle, Trash2, Check, FileText, Coffee, Copy } from 'lucide-react';\nimport { DEFAULT_MILK_TYPES } from '../utils/milkConfig';\n\nconst GroupOrdersTab = ({ onSubmitGroupOrders }) => {\n  const [groupName, setGroupName] = useState('');\n  const [groupCode, setGroupCode] = useState('');\n  const [notes, setNotes] = useState('');\n  const [individualOrders, setIndividualOrders] = useState([]);\n  const [newOrder, setNewOrder] = useState({\n    name: '',\n    coffeeType: 'Flat White',\n    size: 'Regular',\n    milkType: 'full_cream',\n    sugar: 'No sugar',\n    extraHot: false,\n    notes: ''\n  });\n  const [savedGroups, setSavedGroups] = useState([]);\n  const [showSavedGroups, setShowSavedGroups] = useState(false);\n  const [codeCopied, setCodeCopied] = useState(false);\n  \n  // Load saved groups from localStorage on init\n  useEffect(() => {\n    try {\n      const savedGroupsData = localStorage.getItem('coffee_group_orders');\n      if (savedGroupsData) {\n        setSavedGroups(JSON.parse(savedGroupsData));\n      }\n    } catch (err) {\n      console.error('Failed to load saved groups:', err);\n    }\n  }, []);\n\n  // Generate a random code when group name changes\n  useEffect(() => {\n    if (groupName) {\n      // Create a code based on group name prefix + random 4 digits\n      const namePrefix = groupName.trim().substring(0, 3).toUpperCase();\n      const randomDigits = Math.floor(1000 + Math.random() * 9000);\n      setGroupCode(`${namePrefix}-${randomDigits}`);\n    }\n  }, [groupName]);\n\n  const handleAddIndividualOrder = () => {\n    if (!newOrder.name) {\n      alert('Please enter a name for this order');\n      return;\n    }\n    \n    setIndividualOrders([...individualOrders, { ...newOrder, id: Date.now() }]);\n    \n    // Reset form for next entry, but keep coffee preferences for faster entry\n    setNewOrder({\n      ...newOrder,\n      name: ''\n    });\n  };\n\n  const handleRemoveOrder = (orderId) => {\n    setIndividualOrders(individualOrders.filter(order => order.id !== orderId));\n  };\n\n  const handleCreateGroup = () => {\n    if (!groupName) {\n      alert('Please enter a group name');\n      return;\n    }\n    \n    if (individualOrders.length === 0) {\n      alert('Please add at least one coffee order to the group');\n      return;\n    }\n    \n    // Create the group object\n    const groupOrder = {\n      id: Date.now(),\n      groupName,\n      groupCode,\n      notes,\n      orders: individualOrders,\n      createdAt: new Date().toISOString()\n    };\n    \n    // Save to local storage\n    try {\n      const updatedGroups = [...savedGroups, groupOrder];\n      localStorage.setItem('coffee_group_orders', JSON.stringify(updatedGroups));\n      setSavedGroups(updatedGroups);\n      \n      // Show confirmation and clear form\n      alert(`Group \"${groupName}\" created with code ${groupCode}`);\n      setGroupName('');\n      setGroupCode('');\n      setNotes('');\n      setIndividualOrders([]);\n    } catch (err) {\n      console.error('Failed to save group order:', err);\n      alert('Failed to save group order. Please try again.');\n    }\n  };\n\n  const handleSubmitGroupToBarista = (group) => {\n    if (onSubmitGroupOrders) {\n      onSubmitGroupOrders(group);\n      alert(`Group \"${group.groupName}\" has been sent to the barista queue!`);\n    }\n  };\n\n  const handleDeleteGroup = (groupId) => {\n    if (window.confirm('Are you sure you want to delete this group?')) {\n      const updatedGroups = savedGroups.filter(group => group.id !== groupId);\n      localStorage.setItem('coffee_group_orders', JSON.stringify(updatedGroups));\n      setSavedGroups(updatedGroups);\n    }\n  };\n\n  const copyGroupCode = (code) => {\n    navigator.clipboard.writeText(code).then(() => {\n      setCodeCopied(code);\n      setTimeout(() => setCodeCopied(false), 2000);\n    });\n  };\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"flex justify-between mb-4\">\n        <h2 className=\"text-2xl font-bold text-gray-800\">Group Orders</h2>\n        <div>\n          <button \n            className={`px-4 py-2 rounded-md ${showSavedGroups ? 'bg-amber-600 text-white' : 'bg-gray-200 text-gray-700'}`}\n            onClick={() => setShowSavedGroups(!showSavedGroups)}\n          >\n            {showSavedGroups ? 'Create New Group' : 'View Saved Groups'}\n          </button>\n        </div>\n      </div>\n      \n      {!showSavedGroups ? (\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <div className=\"grid grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Group Name*\n              </label>\n              <input \n                type=\"text\" \n                value={groupName}\n                onChange={(e) => setGroupName(e.target.value)}\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"e.g. Marketing Team, Room 101\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Group Code (auto-generated)\n              </label>\n              <div className=\"flex\">\n                <input \n                  type=\"text\" \n                  value={groupCode}\n                  onChange={(e) => setGroupCode(e.target.value)}\n                  className=\"w-full p-2 border rounded-l\"\n                  placeholder=\"Code will be generated\"\n                  readOnly\n                />\n                <button \n                  className=\"bg-gray-200 px-3 rounded-r border-y border-r\"\n                  onClick={() => copyGroupCode(groupCode)}\n                  title=\"Copy code\"\n                >\n                  {codeCopied === groupCode ? <Check size={18} className=\"text-green-600\" /> : <Copy size={18} />}\n                </button>\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                This code can be used by members to reference the group order.\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Group Notes (optional)\n            </label>\n            <textarea \n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              className=\"w-full p-2 border rounded\"\n              rows=\"2\"\n              placeholder=\"e.g. Break time at 10:30am, Priority group, etc.\"\n            ></textarea>\n          </div>\n          \n          <hr className=\"my-4\" />\n          \n          <h3 className=\"text-lg font-semibold mb-3\">Individual Orders</h3>\n          \n          <div className=\"bg-gray-50 p-3 rounded-lg mb-4\">\n            <div className=\"grid grid-cols-2 gap-4 mb-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Name*\n                </label>\n                <input \n                  type=\"text\" \n                  value={newOrder.name}\n                  onChange={(e) => setNewOrder({...newOrder, name: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                  placeholder=\"Person's name\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Size\n                </label>\n                <select \n                  value={newOrder.size}\n                  onChange={(e) => setNewOrder({...newOrder, size: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                >\n                  <option value=\"Small\">Small</option>\n                  <option value=\"Regular\">Regular</option>\n                  <option value=\"Large\">Large</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4 mb-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Coffee Type*\n                </label>\n                <select \n                  value={newOrder.coffeeType}\n                  onChange={(e) => setNewOrder({...newOrder, coffeeType: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                >\n                  <option value=\"Espresso\">Espresso</option>\n                  <option value=\"Long Black\">Long Black</option>\n                  <option value=\"Flat White\">Flat White</option>\n                  <option value=\"Cappuccino\">Cappuccino</option>\n                  <option value=\"Latte\">Latte</option>\n                  <option value=\"Mocha\">Mocha</option>\n                  <option value=\"Hot Chocolate\">Hot Chocolate</option>\n                  <option value=\"Chai Latte\">Chai Latte</option>\n                  <option value=\"Tea\">Tea</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Milk Type\n                </label>\n                <select \n                  value={newOrder.milkType}\n                  onChange={(e) => setNewOrder({...newOrder, milkType: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                >\n                  <optgroup label=\"Standard Milks\">\n                    {DEFAULT_MILK_TYPES\n                      .filter(milk => milk.category === 'standard')\n                      .map(milk => (\n                        <option key={milk.id} value={milk.id}>\n                          {milk.name}\n                          {milk.properties.lactoseFree ? ' (Lactose-Free)' : ''}\n                          {milk.properties.lowFat ? ' (Low-Fat)' : ''}\n                        </option>\n                      ))\n                    }\n                  </optgroup>\n                  <optgroup label=\"Alternative Milks\">\n                    {DEFAULT_MILK_TYPES\n                      .filter(milk => milk.category === 'alternative')\n                      .map(milk => (\n                        <option key={milk.id} value={milk.id}>\n                          {milk.name}\n                          {milk.properties.vegan ? ' (Vegan)' : ''}\n                        </option>\n                      ))\n                    }\n                  </optgroup>\n                  <option value=\"no_milk\">No milk</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4 mb-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Sugar\n                </label>\n                <select \n                  value={newOrder.sugar}\n                  onChange={(e) => setNewOrder({...newOrder, sugar: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                >\n                  <option value=\"No sugar\">No sugar</option>\n                  <option value=\"1 sugar\">1 sugar</option>\n                  <option value=\"2 sugars\">2 sugars</option>\n                  <option value=\"3 sugars\">3 sugars</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Additional Notes\n                </label>\n                <input \n                  type=\"text\" \n                  value={newOrder.notes}\n                  onChange={(e) => setNewOrder({...newOrder, notes: e.target.value})}\n                  className=\"w-full p-2 border rounded\"\n                  placeholder=\"e.g. extra hot, decaf, etc.\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex items-center mb-2\">\n              <input \n                type=\"checkbox\" \n                id=\"extraHot\"\n                checked={newOrder.extraHot}\n                onChange={(e) => setNewOrder({...newOrder, extraHot: e.target.checked})}\n                className=\"mr-2\"\n              />\n              <label htmlFor=\"extraHot\" className=\"text-sm text-gray-700\">Extra hot</label>\n            </div>\n            \n            <button \n              className=\"w-full p-2 flex items-center justify-center bg-green-600 text-white rounded-md hover:bg-green-700\"\n              onClick={handleAddIndividualOrder}\n            >\n              <PlusCircle size={18} className=\"mr-2\" />\n              Add Coffee Order\n            </button>\n          </div>\n          \n          {individualOrders.length > 0 && (\n            <>\n              <h3 className=\"text-md font-medium mb-2\">Orders in this group: {individualOrders.length}</h3>\n              <div className=\"bg-gray-50 rounded-lg p-3 mb-4 max-h-60 overflow-y-auto\">\n                {individualOrders.map((order, index) => (\n                  <div key={order.id} className=\"flex items-center justify-between p-2 border-b last:border-b-0\">\n                    <div className=\"flex items-center\">\n                      <Coffee size={16} className=\"mr-2 text-amber-600\" />\n                      <div>\n                        <span className=\"font-medium\">{order.name}</span>\n                        <span className=\"text-sm text-gray-600 ml-2\">\n                          {order.size} {order.coffeeType}, \n                          {DEFAULT_MILK_TYPES.find(m => m.id === order.milkType)?.name || order.milkType}, \n                          {order.sugar}\n                          {order.extraHot ? ', Extra Hot' : ''}\n                          {order.notes ? `, ${order.notes}` : ''}\n                        </span>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleRemoveOrder(order.id)}\n                      className=\"text-red-500 hover:text-red-700\"\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                  </div>\n                ))}\n              </div>\n              \n              <button \n                className=\"w-full p-3 mt-4 bg-amber-600 text-white rounded-md hover:bg-amber-700 flex items-center justify-center\"\n                onClick={handleCreateGroup}\n              >\n                <FileText size={18} className=\"mr-2\" />\n                Save Group Order ({individualOrders.length} coffees)\n              </button>\n            </>\n          )}\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <h3 className=\"text-xl font-semibold mb-4\">Saved Group Orders</h3>\n          \n          {savedGroups.length === 0 ? (\n            <p className=\"text-gray-500 text-center py-8\">No saved group orders yet.</p>\n          ) : (\n            <div className=\"grid grid-cols-1 gap-4\">\n              {savedGroups.map(group => (\n                <div key={group.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <div>\n                      <h4 className=\"text-lg font-medium\">{group.groupName}</h4>\n                      <div className=\"flex items-center space-x-2 mt-1\">\n                        <span className=\"text-sm bg-gray-100 px-2 py-1 rounded\">\n                          Code: {group.groupCode}\n                        </span>\n                        <button \n                          onClick={() => copyGroupCode(group.groupCode)}\n                          className=\"text-gray-500 hover:text-gray-700\"\n                          title=\"Copy code\"\n                        >\n                          {codeCopied === group.groupCode ? \n                            <Check size={16} className=\"text-green-600\" /> : \n                            <Copy size={16} />\n                          }\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button \n                        className=\"px-3 py-1 bg-amber-600 text-white rounded-md hover:bg-amber-700 text-sm flex items-center\"\n                        onClick={() => handleSubmitGroupToBarista(group)}\n                      >\n                        <Coffee size={14} className=\"mr-1\" />\n                        Send to Barista\n                      </button>\n                      <button \n                        className=\"px-3 py-1 bg-red-100 text-red-600 rounded-md hover:bg-red-200 text-sm\"\n                        onClick={() => handleDeleteGroup(group.id)}\n                      >\n                        <Trash2 size={14} />\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div className=\"text-sm text-gray-600 mb-2\">\n                    Created: {new Date(group.createdAt).toLocaleString()}\n                  </div>\n                  \n                  {group.notes && (\n                    <div className=\"text-sm bg-yellow-50 p-2 rounded mb-2\">\n                      Notes: {group.notes}\n                    </div>\n                  )}\n                  \n                  <div className=\"mt-2\">\n                    <div className=\"text-sm font-medium\">\n                      {group.orders.length} {group.orders.length === 1 ? 'coffee' : 'coffees'} in this group\n                    </div>\n                    <div className=\"mt-1 max-h-32 overflow-y-auto\">\n                      {group.orders.map((order, idx) => (\n                        <div key={idx} className=\"text-sm p-1 border-b last:border-b-0\">\n                          <span className=\"font-medium\">{order.name}</span>:&nbsp;\n                          <span className=\"text-gray-600\">\n                            {order.size} {order.coffeeType}, \n                            {DEFAULT_MILK_TYPES.find(m => m.id === order.milkType)?.name || order.milkType}, \n                            {order.sugar}\n                            {order.extraHot ? ', Extra Hot' : ''}\n                            {order.notes ? `, ${order.notes}` : ''}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GroupOrdersTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LineChart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE4aDE4IiAvPgogIDxwYXRoIGQ9Im0xOSA5LTUgNS00LTQtMyAzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/line-chart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LineChart = createLucideIcon('LineChart', [\n  ['path', { d: 'M3 3v18h18', key: '1s2lah' }],\n  ['path', { d: 'm19 9-5 5-4-4-3 3', key: '2osh9i' }],\n]);\n\nexport default LineChart;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Radio\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNC45IDE5LjFDMSAxNS4yIDEgOC44IDQuOSA0LjkiIC8+CiAgPHBhdGggZD0iTTcuOCAxNi4yYy0yLjMtMi4zLTIuMy02LjEgMC04LjUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMiIgLz4KICA8cGF0aCBkPSJNMTYuMiA3LjhjMi4zIDIuMyAyLjMgNi4xIDAgOC41IiAvPgogIDxwYXRoIGQ9Ik0xOS4xIDQuOUMyMyA4LjggMjMgMTUuMSAxOS4xIDE5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/radio\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Radio = createLucideIcon('Radio', [\n  ['path', { d: 'M4.9 19.1C1 15.2 1 8.8 4.9 4.9', key: '1vaf9d' }],\n  ['path', { d: 'M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5', key: 'u1ii0m' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n  ['path', { d: 'M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5', key: '1j5fej' }],\n  ['path', { d: 'M19.1 4.9C23 8.8 23 15.1 19.1 19', key: '10b0cb' }],\n]);\n\nexport default Radio;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJzOC00IDgtMTBWNWwtOC0zLTggM3Y3YzAgNiA4IDEwIDggMTB6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  ['path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z', key: '3xmgem' }],\n]);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MessageSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTVhMiAyIDAgMCAxLTIgMkg3bC00IDRWNWEyIDIgMCAwIDEgMi0yaDE0YTIgMiAwIDAgMSAyIDJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/message-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageSquare = createLucideIcon('MessageSquare', [\n  [\n    'path',\n    {\n      d: 'M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z',\n      key: '1lielz',\n    },\n  ],\n]);\n\nexport default MessageSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bell\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiA4YTYgNiAwIDAgMSAxMiAwYzAgNyAzIDkgMyA5SDNzMy0yIDMtOSIgLz4KICA8cGF0aCBkPSJNMTAuMyAyMWExLjk0IDEuOTQgMCAwIDAgMy40IDAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bell\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bell = createLucideIcon('Bell', [\n  ['path', { d: 'M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9', key: '1qo2s2' }],\n  ['path', { d: 'M10.3 21a1.94 1.94 0 0 0 3.4 0', key: 'qgo35s' }],\n]);\n\nexport default Bell;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  [\n    'polygon',\n    { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' },\n  ],\n]);\n\nexport default Filter;\n","// components/AllOrdersTab.js\nimport React, { useState, useEffect } from 'react';\nimport { Coffee, Clock, CheckCircle, Package, Users, Search, Filter, AlertCircle } from 'lucide-react';\nimport { getMilkColorStyle, getMilkDotStyle } from '../utils/milkColorHelper';\nimport '../styles/milkColors.css';\n\nconst AllOrdersTab = () => {\n  const [orders, setOrders] = useState({\n    pending: [],\n    inProgress: [],\n    completed: [],\n    previous: []\n  });\n  const [filter, setFilter] = useState('all');\n  const [stationFilter, setStationFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({\n    totalOrders: 0,\n    pendingCount: 0,\n    inProgressCount: 0,\n    completedCount: 0,\n    avgWaitTime: 0,\n    busiestStation: null\n  });\n\n  // Load all orders from all stations\n  useEffect(() => {\n    loadAllOrders();\n    // Set up refresh interval\n    const interval = setInterval(loadAllOrders, 30000); // Refresh every 30 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  const loadAllOrders = () => {\n    try {\n      const allOrders = {\n        pending: [],\n        inProgress: [],\n        completed: [],\n        previous: []\n      };\n\n      // Get all station IDs\n      const stations = ['1', '2', '3']; // Could be made dynamic\n\n      // Load orders from each station's cache\n      stations.forEach(stationId => {\n        const cacheKey = `orders_cache_station_${stationId}`;\n        const cachedData = localStorage.getItem(cacheKey);\n        \n        if (cachedData) {\n          try {\n            const stationOrders = JSON.parse(cachedData);\n            \n            // Add station info to each order and merge\n            if (stationOrders.pendingOrders) {\n              allOrders.pending.push(...stationOrders.pendingOrders.map(order => ({\n                ...order,\n                assignedStation: stationId\n              })));\n            }\n            if (stationOrders.inProgressOrders) {\n              allOrders.inProgress.push(...stationOrders.inProgressOrders.map(order => ({\n                ...order,\n                assignedStation: stationId\n              })));\n            }\n            if (stationOrders.completedOrders) {\n              allOrders.completed.push(...stationOrders.completedOrders.map(order => ({\n                ...order,\n                assignedStation: stationId\n              })));\n            }\n            if (stationOrders.previousOrders) {\n              allOrders.previous.push(...stationOrders.previousOrders.map(order => ({\n                ...order,\n                assignedStation: stationId\n              })));\n            }\n          } catch (e) {\n            console.error(`Error parsing orders for station ${stationId}:`, e);\n          }\n        }\n      });\n\n      // Sort orders by timestamp\n      allOrders.pending.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      allOrders.inProgress.sort((a, b) => new Date(b.startedAt) - new Date(a.startedAt));\n      allOrders.completed.sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt));\n      allOrders.previous.sort((a, b) => new Date(b.pickedUpAt) - new Date(a.pickedUpAt));\n\n      setOrders(allOrders);\n      calculateStats(allOrders);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading all orders:', error);\n      setLoading(false);\n    }\n  };\n\n  const calculateStats = (ordersData) => {\n    const totalOrders = \n      ordersData.pending.length + \n      ordersData.inProgress.length + \n      ordersData.completed.length + \n      ordersData.previous.length;\n\n    // Calculate average wait time\n    const completedWithTime = [...ordersData.completed, ...ordersData.previous]\n      .filter(order => order.waitTime)\n      .map(order => order.waitTime);\n    \n    const avgWaitTime = completedWithTime.length > 0 \n      ? Math.round(completedWithTime.reduce((a, b) => a + b, 0) / completedWithTime.length)\n      : 0;\n\n    // Find busiest station\n    const stationCounts = {};\n    [...ordersData.pending, ...ordersData.inProgress, ...ordersData.completed, ...ordersData.previous]\n      .forEach(order => {\n        const station = order.assignedStation || 'unassigned';\n        stationCounts[station] = (stationCounts[station] || 0) + 1;\n      });\n    \n    const busiestStation = Object.entries(stationCounts)\n      .sort(([,a], [,b]) => b - a)[0]?.[0] || null;\n\n    setStats({\n      totalOrders,\n      pendingCount: ordersData.pending.length,\n      inProgressCount: ordersData.inProgress.length,\n      completedCount: ordersData.completed.length,\n      avgWaitTime,\n      busiestStation\n    });\n  };\n\n  const filterOrders = (ordersList) => {\n    return ordersList.filter(order => {\n      // Station filter\n      if (stationFilter !== 'all' && order.assignedStation !== stationFilter) {\n        return false;\n      }\n      \n      // Search filter\n      if (searchTerm) {\n        const searchLower = searchTerm.toLowerCase();\n        return (\n          (order.customerName?.toLowerCase().includes(searchLower)) ||\n          (order.phoneNumber?.toLowerCase().includes(searchLower)) ||\n          (order.coffeeType?.toLowerCase().includes(searchLower)) ||\n          (order.id?.toString().includes(searchLower))\n        );\n      }\n      \n      return true;\n    });\n  };\n\n  const renderOrderCard = (order, status) => {\n    const milkColorStyle = order.milkType && order.milkType !== 'No Milk' \n      ? getMilkColorStyle(order.milkType, order.milkTypeId)\n      : { borderLeftWidth: '4px', borderLeftStyle: 'solid', borderLeftColor: '#D1D5DB' };\n\n    const statusColors = {\n      pending: 'border-amber-500',\n      inProgress: 'border-blue-500', \n      completed: 'border-green-500',\n      previous: 'border-gray-400'\n    };\n\n    const statusIcons = {\n      pending: <Clock size={16} className=\"text-amber-600\" />,\n      inProgress: <Coffee size={16} className=\"text-blue-600\" />,\n      completed: <CheckCircle size={16} className=\"text-green-600\" />,\n      previous: <Package size={16} className=\"text-gray-600\" />\n    };\n\n    return (\n      <div \n        key={order.id} \n        className={`bg-white rounded-lg shadow-sm p-3 mb-2`}\n        style={milkColorStyle}\n      >\n        <div className=\"flex justify-between items-start\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2\">\n              {statusIcons[status]}\n              <span className=\"font-bold\">Order #{order.id}</span>\n              <span className=\"text-sm text-gray-500\">Station {order.assignedStation || '?'}</span>\n              {order.priority && (\n                <span className=\"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-medium\">\n                  PRIORITY\n                </span>\n              )}\n            </div>\n            <div className=\"mt-1\">\n              <div className=\"font-medium\">{order.customerName}</div>\n              <div className=\"text-sm text-gray-600 flex items-center gap-1\">\n                {order.milkType && order.milkType !== 'No Milk' && (\n                  <span style={getMilkDotStyle(order.milkType, order.milkTypeId)}></span>\n                )}\n                {order.coffeeType}, {order.milkType}, {order.sugar}\n              </div>\n            </div>\n          </div>\n          <div className=\"text-right text-sm\">\n            {status === 'pending' && (\n              <div className=\"text-amber-600\">Waiting {order.waitTime} min</div>\n            )}\n            {status === 'inProgress' && order.startedAt && (\n              <div className=\"text-blue-600\">\n                Started {Math.round((Date.now() - new Date(order.startedAt)) / 60000)} min ago\n              </div>\n            )}\n            {status === 'completed' && order.completedAt && (\n              <div className=\"text-green-600\">\n                Ready {Math.round((Date.now() - new Date(order.completedAt)) / 60000)} min ago\n              </div>\n            )}\n            {status === 'previous' && order.pickedUpAt && (\n              <div className=\"text-gray-600\">\n                Picked up {new Date(order.pickedUpAt).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600\"></div>\n      </div>\n    );\n  }\n\n  const getFilteredOrders = () => {\n    switch (filter) {\n      case 'pending':\n        return { orders: filterOrders(orders.pending), status: 'pending' };\n      case 'inProgress':\n        return { orders: filterOrders(orders.inProgress), status: 'inProgress' };\n      case 'completed':\n        return { orders: filterOrders(orders.completed), status: 'completed' };\n      case 'all':\n      default:\n        return {\n          orders: [\n            ...filterOrders(orders.pending).map(o => ({ ...o, _status: 'pending' })),\n            ...filterOrders(orders.inProgress).map(o => ({ ...o, _status: 'inProgress' })),\n            ...filterOrders(orders.completed).map(o => ({ ...o, _status: 'completed' }))\n          ],\n          status: 'mixed'\n        };\n    }\n  };\n\n  const filteredData = getFilteredOrders();\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Statistics Overview */}\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"text-2xl font-bold text-gray-800\">{stats.totalOrders}</div>\n          <div className=\"text-sm text-gray-600\">Total Orders</div>\n        </div>\n        <div className=\"bg-amber-50 rounded-lg shadow-sm p-4\">\n          <div className=\"text-2xl font-bold text-amber-600\">{stats.pendingCount}</div>\n          <div className=\"text-sm text-gray-600\">Pending</div>\n        </div>\n        <div className=\"bg-blue-50 rounded-lg shadow-sm p-4\">\n          <div className=\"text-2xl font-bold text-blue-600\">{stats.inProgressCount}</div>\n          <div className=\"text-sm text-gray-600\">In Progress</div>\n        </div>\n        <div className=\"bg-green-50 rounded-lg shadow-sm p-4\">\n          <div className=\"text-2xl font-bold text-green-600\">{stats.completedCount}</div>\n          <div className=\"text-sm text-gray-600\">Ready</div>\n        </div>\n        <div className=\"bg-gray-50 rounded-lg shadow-sm p-4\">\n          <div className=\"text-2xl font-bold text-gray-600\">{stats.avgWaitTime} min</div>\n          <div className=\"text-sm text-gray-600\">Avg Wait</div>\n        </div>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <div className=\"flex flex-wrap gap-4 items-center\">\n          <div className=\"flex items-center gap-2\">\n            <Filter size={18} className=\"text-gray-500\" />\n            <select \n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n              className=\"border rounded px-3 py-1\"\n            >\n              <option value=\"all\">All Orders</option>\n              <option value=\"pending\">Pending Only</option>\n              <option value=\"inProgress\">In Progress Only</option>\n              <option value=\"completed\">Completed Only</option>\n            </select>\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            <Users size={18} className=\"text-gray-500\" />\n            <select \n              value={stationFilter}\n              onChange={(e) => setStationFilter(e.target.value)}\n              className=\"border rounded px-3 py-1\"\n            >\n              <option value=\"all\">All Stations</option>\n              <option value=\"1\">Station 1</option>\n              <option value=\"2\">Station 2</option>\n              <option value=\"3\">Station 3</option>\n            </select>\n          </div>\n          \n          <div className=\"flex-1 flex items-center gap-2\">\n            <Search size={18} className=\"text-gray-500\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search by name, phone, or order #...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"flex-1 border rounded px-3 py-1\"\n            />\n          </div>\n          \n          <button\n            onClick={loadAllOrders}\n            className=\"bg-amber-600 text-white px-4 py-1 rounded hover:bg-amber-700\"\n          >\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Orders List */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <h3 className=\"text-lg font-bold mb-3\">\n          {filter === 'all' ? 'All Active Orders' : `${filter.charAt(0).toUpperCase() + filter.slice(1)} Orders`}\n          {stationFilter !== 'all' && ` - Station ${stationFilter}`}\n        </h3>\n        \n        {filteredData.orders.length > 0 ? (\n          <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n            {filteredData.status === 'mixed' \n              ? filteredData.orders.map(order => renderOrderCard(order, order._status))\n              : filteredData.orders.map(order => renderOrderCard(order, filteredData.status))\n            }\n          </div>\n        ) : (\n          <div className=\"text-center py-8 text-gray-500\">\n            <AlertCircle size={32} className=\"mx-auto mb-2 text-gray-400\" />\n            <p>No orders found matching your filters</p>\n          </div>\n        )}\n      </div>\n\n      {/* Station Activity Summary */}\n      {stats.busiestStation && (\n        <div className=\"bg-blue-50 rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center gap-2\">\n            <AlertCircle size={18} className=\"text-blue-600\" />\n            <span className=\"text-sm\">\n              Station {stats.busiestStation} is the busiest station right now\n            </span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AllOrdersTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('UserPlus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserPlus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS44OCA5Ljg4YTMgMyAwIDEgMCA0LjI0IDQuMjQiIC8+CiAgPHBhdGggZD0iTTEwLjczIDUuMDhBMTAuNDMgMTAuNDMgMCAwIDEgMTIgNWM3IDAgMTAgNyAxMCA3YTEzLjE2IDEzLjE2IDAgMCAxLTEuNjcgMi42OCIgLz4KICA8cGF0aCBkPSJNNi42MSA2LjYxQTEzLjUyNiAxMy41MjYgMCAwIDAgMiAxMnMzIDcgMTAgN2E5Ljc0IDkuNzQgMCAwIDAgNS4zOS0xLjYxIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIyIiB5Mj0iMjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('EyeOff', [\n  ['path', { d: 'M9.88 9.88a3 3 0 1 0 4.24 4.24', key: '1jxqfv' }],\n  [\n    'path',\n    {\n      d: 'M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68',\n      key: '9wicm4',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61',\n      key: '1jreej',\n    },\n  ],\n  ['line', { x1: '2', x2: '22', y1: '2', y2: '22', key: 'a6p6uj' }],\n]);\n\nexport default EyeOff;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTcgM2EyLjg1IDIuODMgMCAxIDEgNCA0TDcuNSAyMC41IDIgMjJsMS41LTUuNVoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('Pen', [\n  [\n    'path',\n    { d: 'M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z', key: '5qss01' },\n  ],\n]);\n\nexport default Pen;\n","// components/UserManagementTab.js\nimport React, { useState, useEffect } from 'react';\nimport { \n  UserPlus, Edit2, Trash2, Save, X, Coffee, Star, \n  Clock, Award, Calendar, Shield, Eye, EyeOff, \n  ChevronDown, ChevronUp, Search, Filter, User\n} from 'lucide-react';\n\nconst UserManagementTab = () => {\n  const [users, setUsers] = useState([]);\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState('all');\n  const [expandedUser, setExpandedUser] = useState(null);\n  const [showPassword, setShowPassword] = useState({});\n  \n  // Form state for new/edit user\n  const [userForm, setUserForm] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n    email: '',\n    fullName: '',\n    role: 'barista',\n    phone: '',\n    experience: 'beginner',\n    skills: {\n      espresso: false,\n      latte_art: false,\n      customer_service: false,\n      inventory_management: false,\n      speed: false,\n      training_others: false\n    },\n    availability: {\n      monday: { available: false, start: '08:00', end: '17:00' },\n      tuesday: { available: false, start: '08:00', end: '17:00' },\n      wednesday: { available: false, start: '08:00', end: '17:00' },\n      thursday: { available: false, start: '08:00', end: '17:00' },\n      friday: { available: false, start: '08:00', end: '17:00' },\n      saturday: { available: false, start: '08:00', end: '17:00' },\n      sunday: { available: false, start: '08:00', end: '17:00' }\n    },\n    preferredStation: '',\n    certifications: [],\n    notes: '',\n    active: true\n  });\n\n  // Load users from localStorage on mount\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const loadUsers = () => {\n    try {\n      const savedUsers = localStorage.getItem('coffee_system_users');\n      if (savedUsers) {\n        setUsers(JSON.parse(savedUsers));\n      } else {\n        // Initialize with some default users\n        const defaultUsers = [\n          {\n            id: 'user_1',\n            username: 'barista1',\n            email: 'barista1@coffee.com',\n            fullName: 'John Smith',\n            role: 'barista',\n            phone: '555-0101',\n            experience: 'intermediate',\n            skills: {\n              espresso: true,\n              latte_art: true,\n              customer_service: true,\n              inventory_management: false,\n              speed: true,\n              training_others: false\n            },\n            preferredStation: '1',\n            active: true,\n            createdAt: new Date().toISOString(),\n            stats: {\n              totalOrders: 156,\n              avgPrepTime: 3.5,\n              rating: 4.8\n            }\n          }\n        ];\n        setUsers(defaultUsers);\n        localStorage.setItem('coffee_system_users', JSON.stringify(defaultUsers));\n      }\n    } catch (error) {\n      console.error('Error loading users:', error);\n    }\n  };\n\n  const saveUsers = (updatedUsers) => {\n    try {\n      localStorage.setItem('coffee_system_users', JSON.stringify(updatedUsers));\n      setUsers(updatedUsers);\n    } catch (error) {\n      console.error('Error saving users:', error);\n      alert('Failed to save users');\n    }\n  };\n\n  const handleAddUser = () => {\n    if (!userForm.username || !userForm.password || !userForm.fullName) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    if (userForm.password !== userForm.confirmPassword) {\n      alert('Passwords do not match');\n      return;\n    }\n\n    // Check if username already exists\n    if (users.some(u => u.username === userForm.username)) {\n      alert('Username already exists');\n      return;\n    }\n\n    const newUser = {\n      id: `user_${Date.now()}`,\n      ...userForm,\n      createdAt: new Date().toISOString(),\n      stats: {\n        totalOrders: 0,\n        avgPrepTime: 0,\n        rating: 0\n      }\n    };\n\n    // Don't store actual password in localStorage (in real app, this would be hashed)\n    delete newUser.confirmPassword;\n    newUser.password = '***'; // Placeholder\n\n    saveUsers([...users, newUser]);\n    resetForm();\n    setShowAddUser(false);\n  };\n\n  const handleUpdateUser = () => {\n    if (!userForm.username || !userForm.fullName) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    const updatedUsers = users.map(user => \n      user.id === editingUser \n        ? { \n            ...user, \n            ...userForm,\n            password: userForm.password || user.password,\n            updatedAt: new Date().toISOString()\n          }\n        : user\n    );\n\n    saveUsers(updatedUsers);\n    resetForm();\n    setEditingUser(null);\n  };\n\n  const handleDeleteUser = (userId) => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      saveUsers(users.filter(u => u.id !== userId));\n    }\n  };\n\n  const resetForm = () => {\n    setUserForm({\n      username: '',\n      password: '',\n      confirmPassword: '',\n      email: '',\n      fullName: '',\n      role: 'barista',\n      phone: '',\n      experience: 'beginner',\n      skills: {\n        espresso: false,\n        latte_art: false,\n        customer_service: false,\n        inventory_management: false,\n        speed: false,\n        training_others: false\n      },\n      availability: {\n        monday: { available: false, start: '08:00', end: '17:00' },\n        tuesday: { available: false, start: '08:00', end: '17:00' },\n        wednesday: { available: false, start: '08:00', end: '17:00' },\n        thursday: { available: false, start: '08:00', end: '17:00' },\n        friday: { available: false, start: '08:00', end: '17:00' },\n        saturday: { available: false, start: '08:00', end: '17:00' },\n        sunday: { available: false, start: '08:00', end: '17:00' }\n      },\n      preferredStation: '',\n      certifications: [],\n      notes: '',\n      active: true\n    });\n  };\n\n  const startEdit = (user) => {\n    setUserForm({\n      ...user,\n      password: '',\n      confirmPassword: ''\n    });\n    setEditingUser(user.id);\n    setShowAddUser(false);\n  };\n\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesRole = filterRole === 'all' || user.role === filterRole;\n    return matchesSearch && matchesRole;\n  });\n\n  const getExperienceColor = (experience) => {\n    switch (experience) {\n      case 'expert': return 'text-purple-600 bg-purple-100';\n      case 'advanced': return 'text-blue-600 bg-blue-100';\n      case 'intermediate': return 'text-green-600 bg-green-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  const getRoleBadgeColor = (role) => {\n    switch (role) {\n      case 'admin': return 'bg-red-100 text-red-700';\n      case 'organizer': return 'bg-purple-100 text-purple-700';\n      case 'barista': return 'bg-amber-100 text-amber-700';\n      default: return 'bg-gray-100 text-gray-700';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header and Actions */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">User Management</h2>\n          <p className=\"text-gray-600\">Manage barista profiles, skills, and schedules</p>\n        </div>\n        <button\n          onClick={() => {\n            resetForm();\n            setShowAddUser(true);\n            setEditingUser(null);\n          }}\n          className=\"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2\"\n        >\n          <UserPlus size={18} />\n          Add New User\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <div className=\"flex gap-4 items-center\">\n          <div className=\"flex-1 flex items-center gap-2\">\n            <Search size={18} className=\"text-gray-500\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search users by name, username, or email...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"flex-1 border rounded px-3 py-1\"\n            />\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            <Filter size={18} className=\"text-gray-500\" />\n            <select\n              value={filterRole}\n              onChange={(e) => setFilterRole(e.target.value)}\n              className=\"border rounded px-3 py-1\"\n            >\n              <option value=\"all\">All Roles</option>\n              <option value=\"barista\">Baristas</option>\n              <option value=\"organizer\">Organizers</option>\n              <option value=\"admin\">Admins</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Add/Edit User Form */}\n      {(showAddUser || editingUser) && (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-bold mb-4\">\n            {editingUser ? 'Edit User' : 'Add New User'}\n          </h3>\n          \n          <div className=\"grid grid-cols-2 gap-4\">\n            {/* Basic Info */}\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Username *</label>\n                <input\n                  type=\"text\"\n                  value={userForm.username}\n                  onChange={(e) => setUserForm({...userForm, username: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                  disabled={editingUser}\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Full Name *</label>\n                <input\n                  type=\"text\"\n                  value={userForm.fullName}\n                  onChange={(e) => setUserForm({...userForm, fullName: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Email</label>\n                <input\n                  type=\"email\"\n                  value={userForm.email}\n                  onChange={(e) => setUserForm({...userForm, email: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Phone</label>\n                <input\n                  type=\"tel\"\n                  value={userForm.phone}\n                  onChange={(e) => setUserForm({...userForm, phone: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Role *</label>\n                <select\n                  value={userForm.role}\n                  onChange={(e) => setUserForm({...userForm, role: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                >\n                  <option value=\"barista\">Barista</option>\n                  <option value=\"organizer\">Organizer</option>\n                  <option value=\"admin\">Admin</option>\n                </select>\n              </div>\n              \n              {!editingUser && (\n                <>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Password *</label>\n                    <div className=\"relative\">\n                      <input\n                        type={showPassword.new ? \"text\" : \"password\"}\n                        value={userForm.password}\n                        onChange={(e) => setUserForm({...userForm, password: e.target.value})}\n                        className=\"w-full border rounded px-3 py-2 pr-10\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowPassword({...showPassword, new: !showPassword.new})}\n                        className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500\"\n                      >\n                        {showPassword.new ? <EyeOff size={18} /> : <Eye size={18} />}\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Confirm Password *</label>\n                    <input\n                      type=\"password\"\n                      value={userForm.confirmPassword}\n                      onChange={(e) => setUserForm({...userForm, confirmPassword: e.target.value})}\n                      className=\"w-full border rounded px-3 py-2\"\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n            \n            {/* Skills and Experience */}\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Experience Level</label>\n                <select\n                  value={userForm.experience}\n                  onChange={(e) => setUserForm({...userForm, experience: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                >\n                  <option value=\"beginner\">Beginner (0-1 years)</option>\n                  <option value=\"intermediate\">Intermediate (1-3 years)</option>\n                  <option value=\"advanced\">Advanced (3-5 years)</option>\n                  <option value=\"expert\">Expert (5+ years)</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Preferred Station</label>\n                <select\n                  value={userForm.preferredStation}\n                  onChange={(e) => setUserForm({...userForm, preferredStation: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                >\n                  <option value=\"\">No preference</option>\n                  <option value=\"1\">Station 1</option>\n                  <option value=\"2\">Station 2</option>\n                  <option value=\"3\">Station 3</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Skills</label>\n                <div className=\"space-y-2\">\n                  {Object.entries({\n                    espresso: 'Espresso Making',\n                    latte_art: 'Latte Art',\n                    customer_service: 'Customer Service',\n                    inventory_management: 'Inventory Management',\n                    speed: 'High-Speed Service',\n                    training_others: 'Training Others'\n                  }).map(([key, label]) => (\n                    <label key={key} className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={userForm.skills[key]}\n                        onChange={(e) => setUserForm({\n                          ...userForm,\n                          skills: {...userForm.skills, [key]: e.target.checked}\n                        })}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-sm\">{label}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Notes</label>\n                <textarea\n                  value={userForm.notes}\n                  onChange={(e) => setUserForm({...userForm, notes: e.target.value})}\n                  className=\"w-full border rounded px-3 py-2\"\n                  rows=\"3\"\n                  placeholder=\"Additional notes about this user...\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={userForm.active}\n                    onChange={(e) => setUserForm({...userForm, active: e.target.checked})}\n                    className=\"rounded\"\n                  />\n                  <span className=\"text-sm font-medium\">Active User</span>\n                </label>\n              </div>\n            </div>\n          </div>\n          \n          {/* Action Buttons */}\n          <div className=\"flex justify-end gap-2 mt-6 pt-4 border-t\">\n            <button\n              onClick={() => {\n                resetForm();\n                setShowAddUser(false);\n                setEditingUser(null);\n              }}\n              className=\"px-4 py-2 border rounded hover:bg-gray-50\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={editingUser ? handleUpdateUser : handleAddUser}\n              className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 flex items-center gap-2\"\n            >\n              <Save size={18} />\n              {editingUser ? 'Update User' : 'Create User'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Users List */}\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        {filteredUsers.length > 0 ? (\n          <div className=\"divide-y\">\n            {filteredUsers.map(user => (\n              <div key={user.id} className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center\">\n                      <User size={20} className=\"text-amber-700\" />\n                    </div>\n                    <div>\n                      <div className=\"flex items-center gap-2\">\n                        <h4 className=\"font-bold\">{user.fullName}</h4>\n                        <span className={`text-xs px-2 py-0.5 rounded ${getRoleBadgeColor(user.role)}`}>\n                          {user.role}\n                        </span>\n                        {!user.active && (\n                          <span className=\"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-600\">\n                            Inactive\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"text-sm text-gray-600\">\n                        @{user.username}  {user.email}\n                      </div>\n                      <div className=\"flex items-center gap-4 mt-1\">\n                        <span className={`text-xs px-2 py-0.5 rounded ${getExperienceColor(user.experience)}`}>\n                          {user.experience}\n                        </span>\n                        {user.preferredStation && (\n                          <span className=\"text-xs text-gray-500\">\n                            Prefers Station {user.preferredStation}\n                          </span>\n                        )}\n                        {user.stats && user.stats.totalOrders > 0 && (\n                          <>\n                            <span className=\"text-xs text-gray-500\">\n                              {user.stats.totalOrders} orders\n                            </span>\n                            <span className=\"text-xs text-gray-500\">\n                              Avg {user.stats.avgPrepTime}min\n                            </span>\n                            {user.stats.rating > 0 && (\n                              <span className=\"text-xs text-gray-500 flex items-center gap-1\">\n                                <Star size={12} className=\"text-yellow-500\" />\n                                {user.stats.rating}\n                              </span>\n                            )}\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={() => setExpandedUser(expandedUser === user.id ? null : user.id)}\n                      className=\"p-2 hover:bg-gray-100 rounded\"\n                    >\n                      {expandedUser === user.id ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\n                    </button>\n                    <button\n                      onClick={() => startEdit(user)}\n                      className=\"p-2 hover:bg-gray-100 rounded text-blue-600\"\n                    >\n                      <Edit2 size={18} />\n                    </button>\n                    <button\n                      onClick={() => handleDeleteUser(user.id)}\n                      className=\"p-2 hover:bg-gray-100 rounded text-red-600\"\n                    >\n                      <Trash2 size={18} />\n                    </button>\n                  </div>\n                </div>\n                \n                {/* Expanded Details */}\n                {expandedUser === user.id && (\n                  <div className=\"mt-4 pt-4 border-t\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <h5 className=\"font-medium mb-2\">Skills</h5>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {Object.entries(user.skills || {}).filter(([_, value]) => value).map(([skill]) => (\n                            <span key={skill} className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded\">\n                              {skill.replace(/_/g, ' ')}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                      \n                      {user.availability && (\n                        <div>\n                          <h5 className=\"font-medium mb-2\">Availability</h5>\n                          <div className=\"text-xs space-y-1\">\n                            {Object.entries(user.availability).filter(([_, day]) => day.available).map(([dayName, day]) => (\n                              <div key={dayName}>\n                                <span className=\"capitalize\">{dayName}:</span> {day.start} - {day.end}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    \n                    {user.notes && (\n                      <div className=\"mt-4\">\n                        <h5 className=\"font-medium mb-1\">Notes</h5>\n                        <p className=\"text-sm text-gray-600\">{user.notes}</p>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"p-8 text-center text-gray-500\">\n            <User size={48} className=\"mx-auto mb-2 text-gray-300\" />\n            <p>No users found</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserManagementTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wifi\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxM2ExMCAxMCAwIDAgMSAxNCAwIiAvPgogIDxwYXRoIGQ9Ik04LjUgMTYuNWE1IDUgMCAwIDEgNyAwIiAvPgogIDxwYXRoIGQ9Ik0yIDguODJhMTUgMTUgMCAwIDEgMjAgMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjIwIiB5Mj0iMjAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/wifi\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wifi = createLucideIcon('Wifi', [\n  ['path', { d: 'M5 13a10 10 0 0 1 14 0', key: '6v8j51' }],\n  ['path', { d: 'M8.5 16.5a5 5 0 0 1 7 0', key: 'sej527' }],\n  ['path', { d: 'M2 8.82a15 15 0 0 1 20 0', key: 'dnpr2z' }],\n  ['line', { x1: '12', x2: '12.01', y1: '20', y2: '20', key: 'of4bc4' }],\n]);\n\nexport default Wifi;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name WifiOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMiIgeDI9IjIyIiB5MT0iMiIgeTI9IjIyIiAvPgogIDxwYXRoIGQ9Ik04LjUgMTYuNWE1IDUgMCAwIDEgNyAwIiAvPgogIDxwYXRoIGQ9Ik0yIDguODJhMTUgMTUgMCAwIDEgNC4xNy0yLjY1IiAvPgogIDxwYXRoIGQ9Ik0xMC42NiA1YzQuMDEtLjM2IDguMTQuOSAxMS4zNCAzLjc2IiAvPgogIDxwYXRoIGQ9Ik0xNi44NSAxMS4yNWExMCAxMCAwIDAgMSAyLjIyIDEuNjgiIC8+CiAgPHBhdGggZD0iTTUgMTNhMTAgMTAgMCAwIDEgNS4yNC0yLjc2IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyLjAxIiB5MT0iMjAiIHkyPSIyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wifi-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst WifiOff = createLucideIcon('WifiOff', [\n  ['line', { x1: '2', x2: '22', y1: '2', y2: '22', key: 'a6p6uj' }],\n  ['path', { d: 'M8.5 16.5a5 5 0 0 1 7 0', key: 'sej527' }],\n  ['path', { d: 'M2 8.82a15 15 0 0 1 4.17-2.65', key: '11utq1' }],\n  ['path', { d: 'M10.66 5c4.01-.36 8.14.9 11.34 3.76', key: 'hxefdu' }],\n  ['path', { d: 'M16.85 11.25a10 10 0 0 1 2.22 1.68', key: 'q734kn' }],\n  ['path', { d: 'M5 13a10 10 0 0 1 5.24-2.76', key: 'piq4yl' }],\n  ['line', { x1: '12', x2: '12.01', y1: '20', y2: '20', key: 'of4bc4' }],\n]);\n\nexport default WifiOff;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BarChart2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTgiIHgyPSIxOCIgeTE9IjIwIiB5Mj0iMTAiIC8+CiAgPGxpbmUgeDE9IjEyIiB4Mj0iMTIiIHkxPSIyMCIgeTI9IjQiIC8+CiAgPGxpbmUgeDE9IjYiIHgyPSI2IiB5MT0iMjAiIHkyPSIxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/bar-chart-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BarChart2 = createLucideIcon('BarChart2', [\n  ['line', { x1: '18', x2: '18', y1: '20', y2: '10', key: '1xfpm4' }],\n  ['line', { x1: '12', x2: '12', y1: '20', y2: '4', key: 'be30l9' }],\n  ['line', { x1: '6', x2: '6', y1: '20', y2: '14', key: '1r4le6' }],\n]);\n\nexport default BarChart2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjUgMyAxOSAxMiA1IDIxIDUgMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('Play', [\n  ['polygon', { points: '5 3 19 12 5 21 5 3', key: '191637' }],\n]);\n\nexport default Play;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Pause\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSIxNiIgeD0iNiIgeT0iNCIgLz4KICA8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSIxNiIgeD0iMTQiIHk9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pause\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pause = createLucideIcon('Pause', [\n  ['rect', { width: '4', height: '16', x: '6', y: '4', key: 'iffhe4' }],\n  ['rect', { width: '4', height: '16', x: '14', y: '4', key: 'sjin7j' }],\n]);\n\nexport default Pause;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('ChevronRight', [\n  ['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }],\n]);\n\nexport default ChevronRight;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { \n  AlertTriangle, Coffee, Package, Users, Clock, MessageCircle, \n  Activity, TrendingUp, Pause, Play, RefreshCw, Bell, Zap,\n  ChevronRight, AlertCircle, CheckCircle, Wifi, WifiOff,\n  BarChart2, Shield, Target, Settings\n} from 'lucide-react';\nimport useStations from '../hooks/useStations';\nimport useOrders from '../hooks/useOrders';\nimport useStock from '../hooks/useStock';\nimport useSettings from '../hooks/useSettings';\n\nconst EnhancedLiveOperationsDashboard = () => {\n  const { stations, updateStation } = useStations();\n  const { \n    pendingOrders,\n    inProgressOrders,\n    completedOrders,\n    online: ordersOnline, \n    queueCount,\n    refreshData: refreshOrders,\n    sendMessage \n  } = useOrders();\n  \n  // Create ordersData object for backward compatibility\n  const ordersData = {\n    pending: pendingOrders || [],\n    inProgress: inProgressOrders || [],\n    completed: completedOrders || []\n  };\n  const { settings } = useSettings();\n  \n  const [criticalAlerts, setCriticalAlerts] = useState([]);\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [isPaused, setIsPaused] = useState(false);\n  const [showEmergencyDialog, setShowEmergencyDialog] = useState(false);\n  const [emergencyMessage, setEmergencyMessage] = useState('');\n  const [recentActivities, setRecentActivities] = useState([]);\n  const [displayView, setDisplayView] = useState('grid'); // grid or list\n  \n  // Calculate real-time system metrics\n  const systemMetrics = useMemo(() => {\n    if (!ordersData) return {\n      totalOrders: 0,\n      avgWaitTime: 0,\n      activeStations: 0,\n      loadPercentage: 0,\n      ordersPerHour: 0,\n      customerSatisfaction: 0,\n      totalRevenue: 0,\n      peakTime: null\n    };\n    \n    const totalOrders = ordersData.pending.length + ordersData.inProgress.length;\n    const avgWaitTime = ordersData.pending.length > 0 \n      ? ordersData.pending.reduce((sum, order) => sum + (order.waitTime || 0), 0) / ordersData.pending.length\n      : 0;\n    const activeStations = stations.filter(s => s.status === 'active').length;\n    const totalCapacity = stations.reduce((sum, s) => sum + (s.max_concurrent_orders || 5), 0);\n    const currentLoad = ordersData.inProgress.length;\n    const loadPercentage = totalCapacity > 0 ? (currentLoad / totalCapacity) * 100 : 0;\n    \n    // Calculate orders per hour based on completed orders\n    const recentCompleted = ordersData.completed.filter(order => {\n      const completedTime = new Date(order.completed_at || order.updated_at);\n      const hourAgo = new Date(Date.now() - 60 * 60 * 1000);\n      return completedTime > hourAgo;\n    }).length;\n    \n    // Calculate revenue\n    const totalRevenue = ordersData.completed.reduce((sum, order) => sum + (order.total || 0), 0);\n    \n    // Find peak time (hour with most orders)\n    const hourCounts = {};\n    ordersData.completed.forEach(order => {\n      const hour = new Date(order.created_at).getHours();\n      hourCounts[hour] = (hourCounts[hour] || 0) + 1;\n    });\n    const peakHour = Object.entries(hourCounts).sort((a, b) => b[1] - a[1])[0];\n    \n    return {\n      totalOrders,\n      avgWaitTime: Math.round(avgWaitTime),\n      activeStations,\n      loadPercentage: Math.round(loadPercentage),\n      ordersPerHour: recentCompleted,\n      customerSatisfaction: 94, // This would be calculated from real feedback\n      totalRevenue,\n      peakTime: peakHour ? `${peakHour[0]}:00` : null\n    };\n  }, [ordersData, stations]);\n  \n  // Generate critical alerts with enhanced logic\n  useEffect(() => {\n    const alerts = [];\n    \n    // Station overload alerts\n    stations.forEach(station => {\n      const stationOrders = ordersData.inProgress.filter(o => o.station_id === station.id);\n      const queuedOrders = ordersData.pending.filter(o => \n        o.preferred_station === station.id || \n        (!o.preferred_station && station.capabilities?.standard_coffee)\n      );\n      const totalLoad = stationOrders.length + queuedOrders.length;\n      const maxCapacity = station.max_concurrent_orders || 5;\n      \n      if (totalLoad > maxCapacity * 1.5) {\n        alerts.push({\n          id: `overload-${station.id}`,\n          type: 'overload',\n          severity: 'critical',\n          station: station.name,\n          stationId: station.id,\n          message: `${station.name} critically overloaded`,\n          detail: `${totalLoad} orders (${Math.round(totalLoad/maxCapacity * 100)}% capacity)`,\n          action: 'Redistribute',\n          timestamp: new Date()\n        });\n      } else if (totalLoad > maxCapacity) {\n        alerts.push({\n          id: `overload-${station.id}`,\n          type: 'overload',\n          severity: 'warning',\n          station: station.name,\n          stationId: station.id,\n          message: `${station.name} overloaded`,\n          detail: `${totalLoad} orders queued`,\n          action: 'Monitor',\n          timestamp: new Date()\n        });\n      }\n    });\n    \n    // Long wait time alerts\n    const longWaitOrders = ordersData.pending.filter(o => o.waitTime > 15);\n    const criticalWaitOrders = ordersData.pending.filter(o => o.waitTime > 20);\n    \n    if (criticalWaitOrders.length > 0) {\n      alerts.push({\n        id: 'critical-wait',\n        type: 'wait',\n        severity: 'critical',\n        message: `${criticalWaitOrders.length} orders waiting over 20 minutes`,\n        detail: 'Customer satisfaction at risk',\n        action: 'Urgent Action',\n        timestamp: new Date()\n      });\n    } else if (longWaitOrders.length > 5) {\n      alerts.push({\n        id: 'long-wait',\n        type: 'wait',\n        severity: 'warning',\n        message: `${longWaitOrders.length} orders waiting over 15 minutes`,\n        detail: 'Consider opening another station',\n        action: 'Review',\n        timestamp: new Date()\n      });\n    }\n    \n    // VIP/Priority order alerts\n    const vipOrders = ordersData.pending.filter(o => o.vip || o.priority);\n    if (vipOrders.length > 0) {\n      alerts.push({\n        id: 'vip-orders',\n        type: 'vip',\n        severity: 'info',\n        message: `${vipOrders.length} VIP orders pending`,\n        detail: vipOrders.map(o => `#${o.orderNumber}`).join(', '),\n        action: 'Prioritize',\n        timestamp: new Date()\n      });\n    }\n    \n    // Stock alerts (would be enhanced with real stock data)\n    const lowStockStations = stations.filter(s => s.low_stock_items?.length > 0);\n    lowStockStations.forEach(station => {\n      alerts.push({\n        id: `stock-${station.id}`,\n        type: 'stock',\n        severity: station.critical_stock_items?.length > 0 ? 'critical' : 'warning',\n        station: station.name,\n        message: `${station.name} low on supplies`,\n        detail: station.low_stock_items?.join(', ') || 'Check inventory',\n        action: 'Restock',\n        timestamp: new Date()\n      });\n    });\n    \n    // System performance alert\n    if (systemMetrics.loadPercentage > 90) {\n      alerts.push({\n        id: 'system-load',\n        type: 'system',\n        severity: 'critical',\n        message: 'System at maximum capacity',\n        detail: `${systemMetrics.loadPercentage}% load across all stations`,\n        action: 'Open Station',\n        timestamp: new Date()\n      });\n    }\n    \n    setCriticalAlerts(alerts.sort((a, b) => {\n      const severityOrder = { critical: 0, warning: 1, info: 2 };\n      return severityOrder[a.severity] - severityOrder[b.severity];\n    }));\n  }, [ordersData?.pending?.length, ordersData?.inProgress?.length, stations?.length, systemMetrics.loadPercentage]);\n  \n  // Add activity to recent log\n  const addActivity = useCallback((type, message) => {\n    setRecentActivities(prev => [{\n      id: Date.now(),\n      type,\n      message,\n      timestamp: new Date()\n    }, ...prev].slice(0, 20)); // Keep last 20 activities\n  }, []);\n  \n  // Handle emergency alert\n  const handleEmergencyAlert = async () => {\n    if (!emergencyMessage.trim()) return;\n    \n    try {\n      // In real implementation, would send to all channels\n      console.log('Emergency Alert:', emergencyMessage);\n      \n      // Send notifications to all pending customers\n      const pendingCustomers = ordersData.pending.map(o => o.phoneNumber).filter(Boolean);\n      // await sendBulkMessage(pendingCustomers, emergencyMessage);\n      \n      addActivity('emergency', `Emergency alert: \"${emergencyMessage}\"`);\n      setShowEmergencyDialog(false);\n      setEmergencyMessage('');\n    } catch (error) {\n      console.error('Failed to send emergency alert:', error);\n    }\n  };\n  \n  // Handle pause/resume orders\n  const handlePauseResume = async () => {\n    try {\n      setIsPaused(!isPaused);\n      addActivity('system', isPaused ? 'Order system resumed' : 'New orders paused');\n      // In real implementation, would update backend\n    } catch (error) {\n      console.error('Failed to pause/resume orders:', error);\n    }\n  };\n  \n  // Handle station redistribution\n  const handleRedistributeStation = useCallback(async (stationId) => {\n    try {\n      addActivity('system', `Redistributing orders from station ${stationId}`);\n      // Implementation would move orders to less busy stations\n    } catch (error) {\n      console.error('Failed to redistribute:', error);\n    }\n  }, [addActivity]);\n  \n  // Handle long wait orders\n  const handleLongWaitOrders = useCallback((orders) => {\n    console.log('Handling long wait orders:', orders);\n    // Would implement priority boost or reassignment\n  }, []);\n  \n  // Handle VIP prioritization\n  const handlePrioritizeVIP = useCallback((orders) => {\n    console.log('Prioritizing VIP orders:', orders);\n    // Would implement VIP fast-track\n  }, []);\n  \n  // Get alert styling\n  const getAlertIcon = (type) => {\n    const icons = {\n      overload: <Users className=\"text-red-500\" size={20} />,\n      wait: <Clock className=\"text-yellow-500\" size={20} />,\n      vip: <Zap className=\"text-purple-500\" size={20} />,\n      stock: <Package className=\"text-orange-500\" size={20} />,\n      system: <AlertCircle className=\"text-red-500\" size={20} />\n    };\n    return icons[type] || <Bell className=\"text-blue-500\" size={20} />;\n  };\n  \n  const getAlertBgColor = (severity) => {\n    const colors = {\n      critical: 'bg-red-50 border-red-200',\n      warning: 'bg-yellow-50 border-yellow-200',\n      info: 'bg-blue-50 border-blue-200'\n    };\n    return colors[severity] || 'bg-gray-50 border-gray-200';\n  };\n  \n  // Get station card styling based on load\n  const getStationCardStyle = (station) => {\n    const orders = ordersData.inProgress.filter(o => o.station_id === station.id).length;\n    const pending = ordersData.pending.filter(o => o.preferred_station === station.id).length;\n    const total = orders + pending;\n    const maxOrders = station.max_concurrent_orders || 5;\n    const loadRatio = total / maxOrders;\n    \n    if (station.status !== 'active') return 'bg-gray-100 border-gray-300';\n    if (loadRatio > 1.2) return 'bg-red-50 border-red-300';\n    if (loadRatio > 0.8) return 'bg-yellow-50 border-yellow-300';\n    if (loadRatio > 0.5) return 'bg-blue-50 border-blue-300';\n    return 'bg-green-50 border-green-300';\n  };\n\n  return (\n    <div className=\"p-6 space-y-6 bg-gray-50 min-h-screen\">\n      {/* Header with Live Status */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex items-center space-x-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">Live Operations Command Center</h1>\n            <div className=\"flex items-center space-x-2\">\n              {ordersOnline ? (\n                <>\n                  <Wifi className=\"text-green-500\" size={20} />\n                  <span className=\"text-sm font-medium text-green-600\">System Online</span>\n                </>\n              ) : (\n                <>\n                  <WifiOff className=\"text-red-500\" size={20} />\n                  <span className=\"text-sm font-medium text-red-600\">Offline Mode</span>\n                </>\n              )}\n            </div>\n            <div className=\"text-sm text-gray-500\">\n              Last update: {new Date().toLocaleTimeString()}\n            </div>\n          </div>\n          <button\n            onClick={refreshOrders}\n            className=\"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900\"\n          >\n            <RefreshCw size={16} />\n            <span>Refresh</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Critical Alerts with Actions */}\n      {criticalAlerts.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n          <div className=\"bg-red-600 text-white px-6 py-3\">\n            <h2 className=\"text-lg font-semibold flex items-center\">\n              <AlertTriangle className=\"mr-2\" size={20} />\n              Critical Alerts ({criticalAlerts.filter(a => a.severity === 'critical').length} critical, {criticalAlerts.filter(a => a.severity === 'warning').length} warnings)\n            </h2>\n          </div>\n          <div className=\"p-4 space-y-3 max-h-64 overflow-y-auto\">\n            {criticalAlerts.map(alert => (\n              <div key={alert.id} className={`p-4 rounded-lg border ${getAlertBgColor(alert.severity)}`}>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-start space-x-3\">\n                    {getAlertIcon(alert.type)}\n                    <div>\n                      <div className=\"font-semibold\">{alert.message}</div>\n                      {alert.detail && (\n                        <div className=\"text-sm text-gray-600 mt-1\">{alert.detail}</div>\n                      )}\n                      <div className=\"text-xs text-gray-500 mt-1\">\n                        {new Date(alert.timestamp).toLocaleTimeString()}\n                      </div>\n                    </div>\n                  </div>\n                  {alert.action && (\n                    <button\n                      onClick={alert.actionHandler}\n                      className={`px-4 py-2 rounded text-sm font-medium ${\n                        alert.severity === 'critical' \n                          ? 'bg-red-600 text-white hover:bg-red-700'\n                          : alert.severity === 'warning'\n                          ? 'bg-yellow-600 text-white hover:bg-yellow-700'\n                          : 'bg-blue-600 text-white hover:bg-blue-700'\n                      }`}\n                    >\n                      {alert.action}\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Real-time Metrics Dashboard */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Coffee className=\"text-gray-400\" size={20} />\n            <span className=\"text-xs text-green-600\">+12%</span>\n          </div>\n          <div className=\"text-2xl font-bold\">{systemMetrics.totalOrders}</div>\n          <div className=\"text-xs text-gray-500\">Active Orders</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Clock className=\"text-gray-400\" size={20} />\n            <span className={`text-xs ${systemMetrics.avgWaitTime > 15 ? 'text-red-600' : 'text-green-600'}`}>\n              {systemMetrics.avgWaitTime > 15 ? '' : ''}\n            </span>\n          </div>\n          <div className=\"text-2xl font-bold\">{systemMetrics.avgWaitTime}m</div>\n          <div className=\"text-xs text-gray-500\">Avg Wait</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Users className=\"text-gray-400\" size={20} />\n          </div>\n          <div className=\"text-2xl font-bold\">{systemMetrics.activeStations}/{stations.length}</div>\n          <div className=\"text-xs text-gray-500\">Active Stations</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Activity className=\"text-gray-400\" size={20} />\n          </div>\n          <div className=\"text-2xl font-bold\">{systemMetrics.loadPercentage}%</div>\n          <div className=\"text-xs text-gray-500\">System Load</div>\n          <div className=\"mt-1 bg-gray-200 h-2 rounded-full overflow-hidden\">\n            <div \n              className={`h-full ${\n                systemMetrics.loadPercentage > 90 ? 'bg-red-500' :\n                systemMetrics.loadPercentage > 70 ? 'bg-yellow-500' :\n                'bg-green-500'\n              }`}\n              style={{ width: `${systemMetrics.loadPercentage}%` }}\n            />\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <TrendingUp className=\"text-gray-400\" size={20} />\n          </div>\n          <div className=\"text-2xl font-bold\">{systemMetrics.ordersPerHour}</div>\n          <div className=\"text-xs text-gray-500\">Orders/Hour</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Target className=\"text-gray-400\" size={20} />\n          </div>\n          <div className=\"text-2xl font-bold text-green-600\">{systemMetrics.customerSatisfaction}%</div>\n          <div className=\"text-xs text-gray-500\">Satisfaction</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <BarChart2 className=\"text-gray-400\" size={20} />\n          </div>\n          <div className=\"text-2xl font-bold\">${systemMetrics.totalRevenue}</div>\n          <div className=\"text-xs text-gray-500\">Revenue</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Clock className=\"text-gray-400\" size={20} />\n          </div>\n          <div className=\"text-2xl font-bold\">{systemMetrics.peakTime || '--'}</div>\n          <div className=\"text-xs text-gray-500\">Peak Time</div>\n        </div>\n      </div>\n\n      {/* Station Status Grid with Enhanced Information */}\n      <div className=\"bg-white rounded-lg shadow-md\">\n        <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\n          <h2 className=\"text-xl font-semibold\">Station Status Grid</h2>\n          <div className=\"flex items-center space-x-4\">\n            <span className=\"text-sm text-gray-500\">\n              {systemMetrics.activeStations} active, {queueCount} orders in queue\n            </span>\n            <button\n              onClick={() => setDisplayView(displayView === 'grid' ? 'list' : 'grid')}\n              className=\"text-gray-500 hover:text-gray-700\"\n            >\n              {displayView === 'grid' ? 'List View' : 'Grid View'}\n            </button>\n          </div>\n        </div>\n        \n        <div className={`p-6 ${displayView === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4' : 'space-y-4'}`}>\n          {stations.map(station => {\n            const inProgress = ordersData.inProgress.filter(o => o.station_id === station.id);\n            const pending = ordersData.pending.filter(o => o.preferred_station === station.id);\n            const total = inProgress.length + pending.length;\n            const avgWait = pending.length > 0 \n              ? Math.round(pending.reduce((sum, o) => sum + (o.waitTime || 0), 0) / pending.length)\n              : 0;\n            \n            return (\n              <div \n                key={station.id}\n                className={`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-lg ${getStationCardStyle(station)}`}\n                onClick={() => setSelectedStation(station)}\n              >\n                <div className=\"flex justify-between items-start mb-3\">\n                  <div>\n                    <h3 className=\"font-bold text-lg\">{station.name}</h3>\n                    <p className=\"text-sm text-gray-500\">Station #{station.id}</p>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                    station.status === 'active' ? 'bg-green-100 text-green-800' :\n                    station.status === 'paused' ? 'bg-yellow-100 text-yellow-800' :\n                    'bg-gray-100 text-gray-800'\n                  }`}>\n                    {station.status || 'active'}\n                  </span>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Queue</span>\n                    <span className=\"font-semibold\">{total} orders</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">In Progress</span>\n                    <span className=\"font-semibold\">{inProgress.length}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Wait Time</span>\n                    <span className={`font-semibold ${avgWait > 15 ? 'text-red-600' : ''}`}>\n                      {avgWait}m\n                    </span>\n                  </div>\n                  {station.current_barista && (\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-gray-600\">Barista</span>\n                      <span className=\"font-medium text-sm truncate max-w-[100px]\">\n                        {station.current_barista}\n                      </span>\n                    </div>\n                  )}\n                </div>\n                \n                {/* Load indicator bar */}\n                <div className=\"mt-3 bg-gray-200 h-3 rounded-full overflow-hidden\">\n                  <div \n                    className={`h-full transition-all ${\n                      total / (station.max_concurrent_orders || 5) > 1 ? 'bg-red-500' :\n                      total / (station.max_concurrent_orders || 5) > 0.8 ? 'bg-yellow-500' :\n                      total / (station.max_concurrent_orders || 5) > 0.5 ? 'bg-blue-500' :\n                      'bg-green-500'\n                    }`}\n                    style={{ width: `${Math.min(100, (total / (station.max_concurrent_orders || 5)) * 100)}%` }}\n                  />\n                </div>\n                \n                {/* Capabilities badges */}\n                <div className=\"mt-3 flex flex-wrap gap-1\">\n                  {station.capabilities?.standard_coffee && (\n                    <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded\">Coffee</span>\n                  )}\n                  {station.capabilities?.alternative_milk && (\n                    <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded\">Alt Milk</span>\n                  )}\n                  {station.capabilities?.high_volume && (\n                    <span className=\"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded\">High Vol</span>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Quick Actions Panel */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-xl font-semibold mb-4\">Quick Actions</h2>\n        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n          <button\n            onClick={() => setShowEmergencyDialog(true)}\n            className=\"flex flex-col items-center justify-center p-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all\"\n          >\n            <AlertTriangle size={24} className=\"mb-2\" />\n            <span className=\"text-sm font-medium\">Emergency Alert</span>\n            <span className=\"text-xs opacity-75\">All Stations</span>\n          </button>\n          \n          <button\n            onClick={() => console.log('Announce')}\n            className=\"flex flex-col items-center justify-center p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all\"\n          >\n            <MessageCircle size={24} className=\"mb-2\" />\n            <span className=\"text-sm font-medium\">Announce</span>\n            <span className=\"text-xs opacity-75\">To Customers</span>\n          </button>\n          \n          <button\n            onClick={handlePauseResume}\n            className={`flex flex-col items-center justify-center p-4 rounded-lg transition-all ${\n              isPaused \n                ? 'bg-green-500 hover:bg-green-600' \n                : 'bg-yellow-500 hover:bg-yellow-600'\n            } text-white`}\n          >\n            {isPaused ? <Play size={24} className=\"mb-2\" /> : <Pause size={24} className=\"mb-2\" />}\n            <span className=\"text-sm font-medium\">{isPaused ? 'Resume' : 'Pause'} Orders</span>\n            <span className=\"text-xs opacity-75\">System {isPaused ? 'Paused' : 'Active'}</span>\n          </button>\n          \n          <button\n            onClick={() => console.log('Redistribute')}\n            className=\"flex flex-col items-center justify-center p-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-all\"\n          >\n            <RefreshCw size={24} className=\"mb-2\" />\n            <span className=\"text-sm font-medium\">Redistribute</span>\n            <span className=\"text-xs opacity-75\">Balance Load</span>\n          </button>\n          \n          <button\n            onClick={() => console.log('Manual SMS')}\n            className=\"flex flex-col items-center justify-center p-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all\"\n          >\n            <MessageCircle size={24} className=\"mb-2\" />\n            <span className=\"text-sm font-medium\">Manual SMS</span>\n            <span className=\"text-xs opacity-75\">Response</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Recent Activity Stream */}\n      <div className=\"bg-white rounded-lg shadow-md\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold flex items-center\">\n            <Activity className=\"mr-2\" size={20} />\n            Recent Activity Stream\n          </h2>\n        </div>\n        <div className=\"p-4 space-y-2 max-h-64 overflow-y-auto\">\n          {recentActivities.length > 0 ? (\n            recentActivities.map(activity => (\n              <div key={activity.id} className=\"flex items-center space-x-3 py-2 border-b border-gray-100 last:border-0\">\n                <span className=\"text-xs text-gray-400 w-16\">\n                  {new Date(activity.timestamp).toLocaleTimeString()}\n                </span>\n                <ChevronRight size={14} className=\"text-gray-400\" />\n                <span className={`text-sm ${\n                  activity.type === 'emergency' ? 'text-red-600 font-semibold' :\n                  activity.type === 'system' ? 'text-blue-600' :\n                  'text-gray-700'\n                }`}>\n                  {activity.message}\n                </span>\n              </div>\n            ))\n          ) : (\n            <div className=\"text-center py-12 text-gray-400\">\n              <Activity size={48} className=\"mx-auto mb-3\" />\n              <p>No recent activity</p>\n              <p className=\"text-xs mt-1\">Actions will appear here</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Emergency Alert Dialog */}\n      {showEmergencyDialog && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <div className=\"flex items-center mb-4\">\n              <AlertTriangle className=\"text-red-500 mr-3\" size={24} />\n              <h3 className=\"text-xl font-bold\">Send Emergency Alert</h3>\n            </div>\n            <p className=\"text-gray-600 mb-4\">\n              This will immediately notify all stations and pending customers.\n            </p>\n            <textarea\n              value={emergencyMessage}\n              onChange={(e) => setEmergencyMessage(e.target.value)}\n              placeholder=\"Enter your emergency message...\"\n              className=\"w-full border rounded-lg p-3 mb-4 focus:outline-none focus:ring-2 focus:ring-red-500\"\n              rows={4}\n              autoFocus\n            />\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={handleEmergencyAlert}\n                disabled={!emergencyMessage.trim()}\n                className=\"flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n              >\n                Send Emergency Alert\n              </button>\n              <button\n                onClick={() => {\n                  setShowEmergencyDialog(false);\n                  setEmergencyMessage('');\n                }}\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 font-medium\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EnhancedLiveOperationsDashboard;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { \n  Brain, Clock, Users, TrendingUp, MessageCircle, \n  AlertCircle, ChevronRight, Zap, Coffee, Star,\n  ArrowRight, BarChart2, Target, Award\n} from 'lucide-react';\nimport useOrders from '../hooks/useOrders';\nimport useStations from '../hooks/useStations';\nimport useSettings from '../hooks/useSettings';\n\nconst QueuePsychologyIntelligence = () => {\n  const { pendingOrders, inProgressOrders, completedOrders, sendMessage } = useOrders();\n  const { stations } = useStations();\n  const { settings } = useSettings();\n  \n  // Create ordersData object for backward compatibility\n  const ordersData = {\n    pending: pendingOrders || [],\n    inProgress: inProgressOrders || [],\n    completed: completedOrders || []\n  };\n  \n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [showAlternativeDialog, setShowAlternativeDialog] = useState(false);\n  const [communicationMode, setCommunicationMode] = useState('precise'); // precise, friendly, gamified\n  const [batchOptimization, setBatchOptimization] = useState(true);\n  const [selectedAlternative, setSelectedAlternative] = useState(null);\n  \n  // Find batch optimization opportunities\n  const findBatchOpportunities = useCallback((orders) => {\n    const opportunities = [];\n    \n    // Group by milk type\n    const milkGroups = {};\n    orders.forEach(order => {\n      const milk = order.milkType || 'none';\n      if (!milkGroups[milk]) milkGroups[milk] = [];\n      milkGroups[milk].push(order);\n    });\n    \n    // Find groups with 3+ orders\n    Object.entries(milkGroups).forEach(([milk, orders]) => {\n      if (orders.length >= 3) {\n        opportunities.push({\n          id: `milk-${milk}`,\n          type: 'milk',\n          description: `${orders.length} ${milk} orders`,\n          orders: orders.map(o => o.orderNumber),\n          timeSaved: Math.round(orders.length * 0.5), // Estimate 30s saved per order in batch\n          priority: orders.some(o => o.vip) ? 'high' : 'medium'\n        });\n      }\n    });\n    \n    // Group by coffee type\n    const coffeeGroups = {};\n    orders.forEach(order => {\n      const coffee = order.coffeeType || 'unknown';\n      if (!coffeeGroups[coffee]) coffeeGroups[coffee] = [];\n      coffeeGroups[coffee].push(order);\n    });\n    \n    Object.entries(coffeeGroups).forEach(([coffee, orders]) => {\n      if (orders.length >= 3) {\n        opportunities.push({\n          id: `coffee-${coffee}`,\n          type: 'coffee',\n          description: `${orders.length} ${coffee} orders`,\n          orders: orders.map(o => o.orderNumber),\n          timeSaved: Math.round(orders.length * 0.3),\n          priority: 'low'\n        });\n      }\n    });\n    \n    return opportunities.sort((a, b) => b.timeSaved - a.timeSaved);\n  }, []);\n  \n  // Calculate queue insights\n  const queueInsights = useMemo(() => {\n    if (!ordersData?.pending) return {\n      averageWait: 0,\n      longestWait: 0,\n      queueVelocity: 0,\n      predictedClearTime: 0,\n      customerTypes: {},\n      batchOpportunities: []\n    };\n    \n    const pending = ordersData.pending;\n    const inProgress = ordersData.inProgress;\n    \n    // Average and longest wait\n    const waitTimes = pending.map(o => o.waitTime || 0);\n    const averageWait = waitTimes.length > 0 \n      ? waitTimes.reduce((sum, time) => sum + time, 0) / waitTimes.length \n      : 0;\n    const longestWait = Math.max(...waitTimes, 0);\n    \n    // Queue velocity (orders completed per minute)\n    const recentCompleted = ordersData.completed.filter(o => {\n      const completedTime = new Date(o.completed_at || o.updated_at);\n      return completedTime > new Date(Date.now() - 10 * 60 * 1000); // Last 10 minutes\n    });\n    const queueVelocity = recentCompleted.length / 10; // Per minute\n    \n    // Predicted clear time\n    const totalOrders = pending.length + inProgress.length;\n    const predictedClearTime = queueVelocity > 0 ? totalOrders / queueVelocity : 0;\n    \n    // Customer types analysis\n    const customerTypes = {\n      vip: pending.filter(o => o.vip || o.priority).length,\n      regular: pending.filter(o => !o.vip && !o.priority && !o.first_time).length,\n      firstTime: pending.filter(o => o.first_time).length,\n      returning: pending.filter(o => o.returning_customer).length\n    };\n    \n    // Batch optimization opportunities\n    const batchOpportunities = findBatchOpportunities(pending);\n    \n    return {\n      averageWait: Math.round(averageWait),\n      longestWait: Math.round(longestWait),\n      queueVelocity: queueVelocity.toFixed(2),\n      predictedClearTime: Math.round(predictedClearTime),\n      customerTypes,\n      batchOpportunities\n    };\n  }, [ordersData, findBatchOpportunities]);\n  \n  // Generate personalized wait message\n  const generateWaitMessage = (order) => {\n    const messages = {\n      precise: {\n        template: \"Your ${coffee} will be ready in ${time} minutes and ${seconds} seconds. You're ${position} in line at ${station}.\",\n        alternativePrompt: \"Station ${altStation} can make your order ${timeDiff} minutes faster. Switch?\"\n      },\n      friendly: {\n        template: \"Hey ${name}! Your ${coffee} is being crafted with care. About ${time} minutes to go! \",\n        alternativePrompt: \"Pro tip: ${altStation} has a shorter queue! Save ${timeDiff} minutes?\"\n      },\n      gamified: {\n        template: \"Level up! Your ${coffee} quest: ${time} min remaining. Position: ${position}/${total} \",\n        alternativePrompt: \"Speed boost available! ${altStation} offers -${timeDiff} min buff!\"\n      }\n    };\n    \n    const mode = messages[communicationMode];\n    const position = ordersData.pending.findIndex(o => o.id === order.id) + 1;\n    const station = stations.find(s => s.id === order.station_id)?.name || 'Station 1';\n    \n    return mode.template\n      .replace('${coffee}', order.coffeeType)\n      .replace('${time}', Math.floor(order.waitTime))\n      .replace('${seconds}', Math.round((order.waitTime % 1) * 60))\n      .replace('${position}', position)\n      .replace('${station}', station)\n      .replace('${name}', order.customerName?.split(' ')[0] || 'there')\n      .replace('${total}', ordersData.pending.length);\n  };\n  \n  // Find alternative routing for customer\n  const findAlternativeRouting = (order) => {\n    const currentStation = stations.find(s => s.id === order.station_id);\n    if (!currentStation) return null;\n    \n    const alternatives = [];\n    \n    stations.forEach(station => {\n      if (station.id === order.station_id || station.status !== 'active') return;\n      \n      // Check if station can make this order\n      const canMake = station.capabilities?.standard_coffee || \n                     (order.alternativeMilk && station.capabilities?.alternative_milk);\n      if (!canMake) return;\n      \n      // Calculate wait time at this station\n      const stationOrders = ordersData.pending.filter(o => o.station_id === station.id).length;\n      const stationInProgress = ordersData.inProgress.filter(o => o.station_id === station.id).length;\n      const estimatedWait = (stationOrders + stationInProgress) * 2; // 2 min per order estimate\n      \n      if (estimatedWait < order.waitTime - 2) { // At least 2 minutes faster\n        alternatives.push({\n          station,\n          currentWait: order.waitTime,\n          newWait: estimatedWait,\n          timeSaved: Math.round(order.waitTime - estimatedWait),\n          incentive: estimatedWait < 5 ? 'priority' : 'normal'\n        });\n      }\n    });\n    \n    return alternatives.sort((a, b) => b.timeSaved - a.timeSaved)[0];\n  };\n  \n  // Handle alternative acceptance\n  const handleAcceptAlternative = async () => {\n    if (!selectedCustomer || !selectedAlternative) return;\n    \n    try {\n      // Update order with new station\n      console.log('Switching order to alternative station:', selectedAlternative);\n      \n      // Send confirmation message\n      await sendMessage(selectedCustomer.id, \n        `Great choice! Your order has been moved to ${selectedAlternative.station.name}. New wait time: ${selectedAlternative.newWait} minutes.`\n      );\n      \n      setShowAlternativeDialog(false);\n      setSelectedAlternative(null);\n    } catch (error) {\n      console.error('Failed to switch station:', error);\n    }\n  };\n  \n  // Calculate customer satisfaction metrics\n  const satisfactionMetrics = useMemo(() => {\n    const completed = ordersData.completed || [];\n    const total = completed.length;\n    \n    if (total === 0) return {\n      overall: 0,\n      waitTimeScore: 0,\n      accuracyScore: 0,\n      communicationScore: 0\n    };\n    \n    // Wait time satisfaction (under 10 min = 100%, degrades from there)\n    const avgCompletionTime = completed.reduce((sum, o) => {\n      const wait = o.actual_wait_time || o.waitTime || 0;\n      return sum + Math.max(0, 100 - (wait - 10) * 5); // -5% per minute over 10\n    }, 0) / total;\n    \n    // Order accuracy (based on modifications/remakes)\n    const accuracyScore = 98; // Would be calculated from actual remake data\n    \n    // Communication score (based on message response rates)\n    const communicationScore = 95; // Would be calculated from actual response data\n    \n    return {\n      overall: Math.round((avgCompletionTime + accuracyScore + communicationScore) / 3),\n      waitTimeScore: Math.round(avgCompletionTime),\n      accuracyScore,\n      communicationScore\n    };\n  }, [ordersData]);\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900 flex items-center\">\n          <Brain className=\"mr-2\" size={24} />\n          Queue Psychology & Customer Intelligence\n        </h2>\n        <div className=\"flex items-center space-x-4\">\n          <select\n            value={communicationMode}\n            onChange={(e) => setCommunicationMode(e.target.value)}\n            className=\"border rounded-lg px-3 py-2\"\n          >\n            <option value=\"precise\">Precise Mode</option>\n            <option value=\"friendly\">Friendly Mode</option>\n            <option value=\"gamified\">Gamified Mode</option>\n          </select>\n          <label className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={batchOptimization}\n              onChange={(e) => setBatchOptimization(e.target.checked)}\n              className=\"h-4 w-4\"\n            />\n            <span>Batch Optimization</span>\n          </label>\n        </div>\n      </div>\n\n      {/* Queue Intelligence Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Clock className=\"text-blue-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Average</span>\n          </div>\n          <div className=\"text-2xl font-bold\">{queueInsights.averageWait}m</div>\n          <div className=\"text-sm text-gray-500\">Wait Time</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <TrendingUp className=\"text-green-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Per minute</span>\n          </div>\n          <div className=\"text-2xl font-bold\">{queueInsights.queueVelocity}</div>\n          <div className=\"text-sm text-gray-500\">Queue Velocity</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Target className=\"text-purple-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Predicted</span>\n          </div>\n          <div className=\"text-2xl font-bold\">{queueInsights.predictedClearTime}m</div>\n          <div className=\"text-sm text-gray-500\">Queue Clear Time</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Star className=\"text-yellow-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Overall</span>\n          </div>\n          <div className=\"text-2xl font-bold text-green-600\">{satisfactionMetrics.overall}%</div>\n          <div className=\"text-sm text-gray-500\">Satisfaction</div>\n        </div>\n      </div>\n\n      {/* Customer Type Distribution */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-4 border-b\">\n          <h3 className=\"text-lg font-semibold\">Customer Distribution</h3>\n        </div>\n        <div className=\"p-4 grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-purple-600\">{queueInsights.customerTypes.vip}</div>\n            <div className=\"text-sm text-gray-500\">VIP Orders</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-blue-600\">{queueInsights.customerTypes.returning}</div>\n            <div className=\"text-sm text-gray-500\">Returning</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-green-600\">{queueInsights.customerTypes.firstTime}</div>\n            <div className=\"text-sm text-gray-500\">First Time</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-gray-600\">{queueInsights.customerTypes.regular}</div>\n            <div className=\"text-sm text-gray-500\">Regular</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Batch Optimization Opportunities */}\n      {batchOptimization && queueInsights.batchOpportunities.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-4 border-b\">\n            <h3 className=\"text-lg font-semibold flex items-center\">\n              <Zap className=\"mr-2 text-yellow-500\" size={20} />\n              Batch Optimization Opportunities\n            </h3>\n          </div>\n          <div className=\"p-4 space-y-3\">\n            {queueInsights.batchOpportunities.map(batch => (\n              <div key={batch.id} className=\"flex items-center justify-between p-3 bg-yellow-50 rounded-lg\">\n                <div>\n                  <div className=\"font-medium\">{batch.description}</div>\n                  <div className=\"text-sm text-gray-600\">\n                    Orders: {batch.orders.join(', ')}  Save ~{batch.timeSaved} minutes\n                  </div>\n                </div>\n                <button className=\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600\">\n                  Batch Process\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Smart Queue Management */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-4 border-b\">\n          <h3 className=\"text-lg font-semibold\">Smart Queue Management</h3>\n        </div>\n        <div className=\"p-4\">\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n            {ordersData.pending.slice(0, 10).map(order => {\n              const alternative = findAlternativeRouting(order);\n              const message = generateWaitMessage(order);\n              \n              return (\n                <div key={order.id} className=\"border rounded-lg p-4 hover:bg-gray-50\">\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"font-medium\">#{order.orderNumber}</span>\n                        <span className=\"text-gray-600\">- {order.customerName}</span>\n                        {order.vip && (\n                          <span className=\"bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded\">VIP</span>\n                        )}\n                      </div>\n                      <div className=\"text-sm text-gray-600 mt-1\">{order.coffeeType}, {order.milkType}</div>\n                      <div className=\"text-sm text-blue-600 mt-2 italic\">\"{message}\"</div>\n                    </div>\n                    \n                    <div className=\"ml-4 text-right\">\n                      <div className=\"text-2xl font-bold\">{Math.round(order.waitTime)}m</div>\n                      <div className=\"text-xs text-gray-500\">wait time</div>\n                      \n                      {alternative && (\n                        <button\n                          onClick={() => {\n                            setSelectedCustomer(order);\n                            setSelectedAlternative(alternative);\n                            setShowAlternativeDialog(true);\n                          }}\n                          className=\"mt-2 text-xs bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600\"\n                        >\n                          Save {alternative.timeSaved}m\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Customer Experience Metrics */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-4 border-b\">\n          <h3 className=\"text-lg font-semibold\">Customer Experience Metrics</h3>\n        </div>\n        <div className=\"p-4\">\n          <div className=\"space-y-4\">\n            <div>\n              <div className=\"flex justify-between items-center mb-1\">\n                <span className=\"text-sm font-medium\">Wait Time Satisfaction</span>\n                <span className=\"text-sm font-bold\">{satisfactionMetrics.waitTimeScore}%</span>\n              </div>\n              <div className=\"bg-gray-200 h-3 rounded-full overflow-hidden\">\n                <div \n                  className=\"bg-green-500 h-full transition-all\"\n                  style={{ width: `${satisfactionMetrics.waitTimeScore}%` }}\n                />\n              </div>\n            </div>\n            \n            <div>\n              <div className=\"flex justify-between items-center mb-1\">\n                <span className=\"text-sm font-medium\">Order Accuracy</span>\n                <span className=\"text-sm font-bold\">{satisfactionMetrics.accuracyScore}%</span>\n              </div>\n              <div className=\"bg-gray-200 h-3 rounded-full overflow-hidden\">\n                <div \n                  className=\"bg-blue-500 h-full transition-all\"\n                  style={{ width: `${satisfactionMetrics.accuracyScore}%` }}\n                />\n              </div>\n            </div>\n            \n            <div>\n              <div className=\"flex justify-between items-center mb-1\">\n                <span className=\"text-sm font-medium\">Communication Quality</span>\n                <span className=\"text-sm font-bold\">{satisfactionMetrics.communicationScore}%</span>\n              </div>\n              <div className=\"bg-gray-200 h-3 rounded-full overflow-hidden\">\n                <div \n                  className=\"bg-purple-500 h-full transition-all\"\n                  style={{ width: `${satisfactionMetrics.communicationScore}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Alternative Routing Dialog */}\n      {showAlternativeDialog && selectedAlternative && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-xl font-bold mb-4\">Faster Service Available!</h3>\n            <div className=\"mb-4 space-y-3\">\n              <div className=\"flex items-center space-x-2\">\n                <Coffee className=\"text-gray-400\" size={20} />\n                <span>Order: {selectedCustomer?.coffeeType}, {selectedCustomer?.milkType}</span>\n              </div>\n              \n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <div className=\"font-medium text-green-800\">\n                  {selectedAlternative.station.name} can serve you faster!\n                </div>\n                <div className=\"mt-2 space-y-1 text-sm\">\n                  <div>Current wait: {selectedAlternative.currentWait} minutes</div>\n                  <div className=\"font-bold\">New wait: {selectedAlternative.newWait} minutes</div>\n                  <div className=\"text-green-600\">Save {selectedAlternative.timeSaved} minutes!</div>\n                </div>\n              </div>\n              \n              {selectedAlternative.incentive === 'priority' && (\n                <div className=\"bg-purple-50 p-3 rounded text-sm text-purple-800\">\n                  <Star className=\"inline mr-1\" size={16} />\n                  You'll get priority service at the new station!\n                </div>\n              )}\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={handleAcceptAlternative}\n                className=\"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600\"\n              >\n                Switch Station\n              </button>\n              <button\n                onClick={() => {\n                  setShowAlternativeDialog(false);\n                  setSelectedAlternative(null);\n                }}\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400\"\n              >\n                Keep Current\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QueuePsychologyIntelligence;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Sun\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxwYXRoIGQ9Ik0xMiAydjIiIC8+CiAgPHBhdGggZD0iTTEyIDIwdjIiIC8+CiAgPHBhdGggZD0ibTQuOTMgNC45MyAxLjQxIDEuNDEiIC8+CiAgPHBhdGggZD0ibTE3LjY2IDE3LjY2IDEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJNMiAxMmgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxMmgyIiAvPgogIDxwYXRoIGQ9Im02LjM0IDE3LjY2LTEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJtMTkuMDcgNC45My0xLjQxIDEuNDEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sun\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sun = createLucideIcon('Sun', [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'm4.93 4.93 1.41 1.41', key: '149t6j' }],\n  ['path', { d: 'm17.66 17.66 1.41 1.41', key: 'ptbguv' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'm6.34 17.66-1.41 1.41', key: '1m8zz5' }],\n  ['path', { d: 'm19.07 4.93-1.41 1.41', key: '1shlcs' }],\n]);\n\nexport default Sun;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Moon\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM2E2IDYgMCAwIDAgOSA5IDkgOSAwIDEgMS05LTlaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/moon\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Moon = createLucideIcon('Moon', [\n  ['path', { d: 'M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z', key: 'a7tn18' }],\n]);\n\nexport default Moon;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { \n  Calendar, Clock, TrendingUp, Users, Coffee, \n  AlertCircle, CheckCircle, Play, Pause, FastForward,\n  Settings, BarChart2, Zap, Sun, Moon, Activity\n} from 'lucide-react';\nimport useOrders from '../hooks/useOrders';\nimport useStations from '../hooks/useStations';\nimport useSettings from '../hooks/useSettings';\n\nconst EventLifecycleManagement = () => {\n  const { pendingOrders, inProgressOrders, completedOrders } = useOrders();\n  const { stations, updateStation } = useStations();\n  const { settings, updateSettings } = useSettings();\n  \n  // Create ordersData object for backward compatibility\n  const ordersData = {\n    pending: pendingOrders || [],\n    inProgress: inProgressOrders || [],\n    completed: completedOrders || []\n  };\n  \n  // Event phases\n  const EVENT_PHASES = {\n    SETUP: 'setup',\n    PRE_EVENT: 'pre_event',\n    EARLY_MORNING: 'early_morning',\n    MORNING_PEAK: 'morning_peak',\n    MID_MORNING: 'mid_morning',\n    LUNCH_BREAK: 'lunch_break',\n    AFTERNOON: 'afternoon',\n    AFTERNOON_PEAK: 'afternoon_peak',\n    WIND_DOWN: 'wind_down',\n    CLEANUP: 'cleanup'\n  };\n  \n  const [currentPhase, setCurrentPhase] = useState(EVENT_PHASES.MORNING_PEAK);\n  const [phaseHistory, setPhaseHistory] = useState([]);\n  const [automatedPhaseTransition, setAutomatedPhaseTransition] = useState(true);\n  const [phaseOverrides, setPhaseOverrides] = useState({});\n  const [selectedPhaseConfig, setSelectedPhaseConfig] = useState(null);\n  \n  // Phase configurations\n  const phaseConfigurations = {\n    [EVENT_PHASES.SETUP]: {\n      name: 'Setup Phase',\n      icon: <Settings className=\"text-gray-500\" size={20} />,\n      timeRange: '06:00 - 07:00',\n      characteristics: {\n        orderVolume: 'none',\n        staffRequired: 'setup_crew',\n        menuAvailability: 'testing_only',\n        stationConfig: 'preparation_mode'\n      },\n      automations: {\n        preHeatMachines: true,\n        stockCheck: true,\n        systemTest: true,\n        staffBriefing: true\n      },\n      recommendations: [\n        'Run machine diagnostics',\n        'Verify all stock levels',\n        'Test order system end-to-end',\n        'Brief staff on special requirements'\n      ]\n    },\n    [EVENT_PHASES.PRE_EVENT]: {\n      name: 'Pre-Event',\n      icon: <Sun className=\"text-yellow-500\" size={20} />,\n      timeRange: '07:00 - 08:00',\n      characteristics: {\n        orderVolume: 'low',\n        staffRequired: 'partial',\n        menuAvailability: 'limited_quick_drinks',\n        stationConfig: 'warm_up'\n      },\n      menuRestrictions: {\n        availableDrinks: ['espresso', 'long_black', 'americano'],\n        preparationMode: 'quick_serve',\n        maxComplexity: 'simple'\n      },\n      recommendations: [\n        'Open 1-2 stations only',\n        'Focus on quick drinks',\n        'Build initial stock buffer'\n      ]\n    },\n    [EVENT_PHASES.MORNING_PEAK]: {\n      name: 'Morning Peak',\n      icon: <TrendingUp className=\"text-red-500\" size={20} />,\n      timeRange: '08:00 - 10:30',\n      characteristics: {\n        orderVolume: 'very_high',\n        staffRequired: 'full',\n        menuAvailability: 'full_menu',\n        stationConfig: 'high_performance'\n      },\n      optimizations: {\n        batchProcessing: true,\n        priorityRouting: true,\n        dynamicStaffing: true,\n        stockPreloading: true\n      },\n      alerts: {\n        waitTimeThreshold: 10, // minutes\n        queueLengthThreshold: 15,\n        stockLevelThreshold: 30 // percentage\n      },\n      recommendations: [\n        'All stations fully operational',\n        'Enable batch processing',\n        'Monitor wait times closely',\n        'Pre-stage popular milk types'\n      ]\n    },\n    [EVENT_PHASES.MID_MORNING]: {\n      name: 'Mid-Morning Lull',\n      icon: <Coffee className=\"text-blue-500\" size={20} />,\n      timeRange: '10:30 - 11:30',\n      characteristics: {\n        orderVolume: 'moderate',\n        staffRequired: 'standard',\n        menuAvailability: 'full_menu',\n        stationConfig: 'balanced'\n      },\n      opportunities: {\n        stockReplenishment: true,\n        staffRotation: true,\n        equipmentCleaning: true,\n        customerEngagement: true\n      },\n      recommendations: [\n        'Rotate staff for breaks',\n        'Replenish stock levels',\n        'Clean equipment between rushes',\n        'Engage with customers'\n      ]\n    },\n    [EVENT_PHASES.LUNCH_BREAK]: {\n      name: 'Lunch Break',\n      icon: <Clock className=\"text-green-500\" size={20} />,\n      timeRange: '11:30 - 13:00',\n      characteristics: {\n        orderVolume: 'low',\n        staffRequired: 'minimal',\n        menuAvailability: 'limited',\n        stationConfig: 'conservation'\n      },\n      strategies: {\n        consolidateStations: true,\n        reducedMenu: true,\n        staffLunch: true,\n        prepForAfternoon: true\n      },\n      recommendations: [\n        'Consolidate to 1-2 stations',\n        'Staggered staff lunch breaks',\n        'Prepare for afternoon session'\n      ]\n    },\n    [EVENT_PHASES.AFTERNOON_PEAK]: {\n      name: 'Afternoon Peak',\n      icon: <Zap className=\"text-orange-500\" size={20} />,\n      timeRange: '14:00 - 15:30',\n      characteristics: {\n        orderVolume: 'high',\n        staffRequired: 'increased',\n        menuAvailability: 'full_menu_plus_iced',\n        stationConfig: 'flexible'\n      },\n      specialConsiderations: {\n        icedDrinkDemand: 'high',\n        decafRequests: 'increased',\n        customizations: 'frequent',\n        socialOrders: 'common'\n      },\n      recommendations: [\n        'Prepare iced drink station',\n        'Stock extra alternative milks',\n        'Enable customization options',\n        'Focus on quality over speed'\n      ]\n    },\n    [EVENT_PHASES.WIND_DOWN]: {\n      name: 'Wind Down',\n      icon: <Moon className=\"text-purple-500\" size={20} />,\n      timeRange: '16:00 - 17:00',\n      characteristics: {\n        orderVolume: 'declining',\n        staffRequired: 'reduced',\n        menuAvailability: 'simplified',\n        stationConfig: 'consolidation'\n      },\n      endOfDayTasks: {\n        lastCallAnnouncement: true,\n        stockDepletion: true,\n        equipmentWindDown: true,\n        orderCutoff: true\n      },\n      recommendations: [\n        'Announce last call',\n        'Start depleting perishable stock',\n        'Begin equipment shutdown sequence',\n        'Process final orders'\n      ]\n    }\n  };\n  \n  // Calculate phase efficiency\n  const calculatePhaseEfficiency = useCallback((phase, orders, stations) => {\n    const config = phaseConfigurations[phase];\n    if (!config) return 0;\n    \n    let score = 100;\n    \n    // Check wait times\n    const avgWait = orders.pending.reduce((sum, o) => sum + (o.waitTime || 0), 0) / \n                    (orders.pending.length || 1);\n    if (config.alerts?.waitTimeThreshold && avgWait > config.alerts.waitTimeThreshold) {\n      score -= 20;\n    }\n    \n    // Check queue length\n    if (config.alerts?.queueLengthThreshold && orders.pending.length > config.alerts.queueLengthThreshold) {\n      score -= 15;\n    }\n    \n    // Check staff utilization\n    const activeStations = stations.filter(s => s.status === 'active').length;\n    const expectedStations = config.characteristics.staffRequired === 'full' ? stations.length : \n                           config.characteristics.staffRequired === 'minimal' ? 1 : \n                           Math.ceil(stations.length / 2);\n    \n    if (Math.abs(activeStations - expectedStations) > 1) {\n      score -= 10;\n    }\n    \n    return Math.max(0, score);\n  }, []);\n  \n  // Calculate staff utilization\n  const calculateStaffUtilization = useCallback((stations) => {\n    const active = stations.filter(s => s.status === 'active' && s.current_barista).length;\n    const total = stations.filter(s => s.current_barista).length;\n    return total > 0 ? Math.round((active / total) * 100) : 0;\n  }, []);\n\n  // Calculate current event metrics\n  const eventMetrics = useMemo(() => {\n    const now = new Date();\n    const eventStart = new Date(now);\n    eventStart.setHours(7, 0, 0, 0);\n    \n    const hoursElapsed = (now - eventStart) / (1000 * 60 * 60);\n    const totalOrders = ordersData.completed.length + ordersData.inProgress.length + ordersData.pending.length;\n    const ordersPerHour = hoursElapsed > 0 ? totalOrders / hoursElapsed : 0;\n    \n    // Phase-specific metrics\n    const currentConfig = phaseConfigurations[currentPhase];\n    const phaseEfficiency = calculatePhaseEfficiency(currentPhase, ordersData, stations);\n    \n    return {\n      hoursElapsed: hoursElapsed.toFixed(1),\n      totalOrders,\n      ordersPerHour: ordersPerHour.toFixed(1),\n      phaseEfficiency,\n      activeStations: stations.filter(s => s.status === 'active').length,\n      staffUtilization: calculateStaffUtilization(stations),\n      recommendedActions: currentConfig?.recommendations || []\n    };\n  }, [ordersData, stations, currentPhase, calculatePhaseEfficiency, calculateStaffUtilization]);\n  \n  // Auto-detect phase based on time and metrics\n  useEffect(() => {\n    if (!automatedPhaseTransition) return;\n    \n    const detectPhase = () => {\n      const now = new Date();\n      const hour = now.getHours();\n      const minute = now.getMinutes();\n      const time = hour + minute / 60;\n      \n      let detectedPhase = EVENT_PHASES.SETUP;\n      \n      if (time >= 6 && time < 7) detectedPhase = EVENT_PHASES.SETUP;\n      else if (time >= 7 && time < 8) detectedPhase = EVENT_PHASES.PRE_EVENT;\n      else if (time >= 8 && time < 10.5) detectedPhase = EVENT_PHASES.MORNING_PEAK;\n      else if (time >= 10.5 && time < 11.5) detectedPhase = EVENT_PHASES.MID_MORNING;\n      else if (time >= 11.5 && time < 13) detectedPhase = EVENT_PHASES.LUNCH_BREAK;\n      else if (time >= 13 && time < 14) detectedPhase = EVENT_PHASES.AFTERNOON;\n      else if (time >= 14 && time < 15.5) detectedPhase = EVENT_PHASES.AFTERNOON_PEAK;\n      else if (time >= 15.5 && time < 17) detectedPhase = EVENT_PHASES.WIND_DOWN;\n      else detectedPhase = EVENT_PHASES.CLEANUP;\n      \n      // Check for overrides\n      if (phaseOverrides[detectedPhase]) {\n        detectedPhase = phaseOverrides[detectedPhase];\n      }\n      \n      if (detectedPhase !== currentPhase) {\n        handlePhaseTransition(detectedPhase);\n      }\n    };\n    \n    const interval = setInterval(detectPhase, 60000); // Check every minute\n    detectPhase(); // Run immediately\n    \n    return () => clearInterval(interval);\n  }, [automatedPhaseTransition, currentPhase, phaseOverrides]);\n  \n  // Handle phase transition\n  const handlePhaseTransition = (newPhase) => {\n    console.log(`Transitioning from ${currentPhase} to ${newPhase}`);\n    \n    // Log transition\n    setPhaseHistory(prev => [...prev, {\n      from: currentPhase,\n      to: newPhase,\n      timestamp: new Date(),\n      automatic: automatedPhaseTransition\n    }]);\n    \n    // Apply phase-specific configurations\n    applyPhaseConfigurations(newPhase);\n    \n    setCurrentPhase(newPhase);\n  };\n  \n  // Apply phase-specific configurations\n  const applyPhaseConfigurations = (phase) => {\n    const config = phaseConfigurations[phase];\n    if (!config) return;\n    \n    // Update system settings based on phase\n    const updates = {};\n    \n    if (config.optimizations?.batchProcessing !== undefined) {\n      updates.batchProcessingEnabled = config.optimizations.batchProcessing;\n    }\n    \n    if (config.menuRestrictions) {\n      updates.menuRestrictions = config.menuRestrictions;\n    }\n    \n    if (Object.keys(updates).length > 0) {\n      updateSettings(updates);\n    }\n    \n    // Update station configurations\n    if (config.characteristics.stationConfig === 'preparation_mode') {\n      stations.forEach(station => {\n        updateStation(station.id, { status: 'preparing' });\n      });\n    } else if (config.characteristics.stationConfig === 'high_performance') {\n      stations.forEach(station => {\n        updateStation(station.id, { \n          status: 'active',\n          high_performance_mode: true \n        });\n      });\n    }\n  };\n  \n  // Get phase progress\n  const getPhaseProgress = () => {\n    const now = new Date();\n    const config = phaseConfigurations[currentPhase];\n    if (!config?.timeRange) return 0;\n    \n    const [start, end] = config.timeRange.split(' - ');\n    const [startHour, startMin] = start.split(':').map(Number);\n    const [endHour, endMin] = end.split(':').map(Number);\n    \n    const startTime = new Date(now);\n    startTime.setHours(startHour, startMin, 0);\n    \n    const endTime = new Date(now);\n    endTime.setHours(endHour, endMin, 0);\n    \n    const total = endTime - startTime;\n    const elapsed = now - startTime;\n    \n    return Math.max(0, Math.min(100, (elapsed / total) * 100));\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900 flex items-center\">\n          <Calendar className=\"mr-2\" size={24} />\n          Event Lifecycle Management\n        </h2>\n        <div className=\"flex items-center space-x-4\">\n          <label className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={automatedPhaseTransition}\n              onChange={(e) => setAutomatedPhaseTransition(e.target.checked)}\n              className=\"h-4 w-4\"\n            />\n            <span>Automated Transitions</span>\n          </label>\n          <button className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Configure Phases\n          </button>\n        </div>\n      </div>\n\n      {/* Current Phase Overview */}\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center space-x-3\">\n            {phaseConfigurations[currentPhase]?.icon}\n            <div>\n              <h3 className=\"text-xl font-bold\">{phaseConfigurations[currentPhase]?.name}</h3>\n              <p className=\"text-sm text-gray-500\">{phaseConfigurations[currentPhase]?.timeRange}</p>\n            </div>\n          </div>\n          <div className=\"text-right\">\n            <div className=\"text-3xl font-bold text-blue-600\">{eventMetrics.phaseEfficiency}%</div>\n            <div className=\"text-sm text-gray-500\">Phase Efficiency</div>\n          </div>\n        </div>\n        \n        {/* Phase Progress Bar */}\n        <div className=\"mb-6\">\n          <div className=\"flex justify-between text-sm text-gray-500 mb-1\">\n            <span>Phase Progress</span>\n            <span>{getPhaseProgress().toFixed(0)}%</span>\n          </div>\n          <div className=\"bg-gray-200 h-3 rounded-full overflow-hidden\">\n            <div \n              className=\"bg-blue-500 h-full transition-all\"\n              style={{ width: `${getPhaseProgress()}%` }}\n            />\n          </div>\n        </div>\n        \n        {/* Phase Metrics */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n          <div>\n            <div className=\"text-sm text-gray-500\">Order Volume</div>\n            <div className=\"font-semibold capitalize\">\n              {phaseConfigurations[currentPhase]?.characteristics.orderVolume.replace('_', ' ')}\n            </div>\n          </div>\n          <div>\n            <div className=\"text-sm text-gray-500\">Staff Required</div>\n            <div className=\"font-semibold capitalize\">\n              {phaseConfigurations[currentPhase]?.characteristics.staffRequired.replace('_', ' ')}\n            </div>\n          </div>\n          <div>\n            <div className=\"text-sm text-gray-500\">Menu</div>\n            <div className=\"font-semibold capitalize\">\n              {phaseConfigurations[currentPhase]?.characteristics.menuAvailability.replace('_', ' ')}\n            </div>\n          </div>\n          <div>\n            <div className=\"text-sm text-gray-500\">Active Stations</div>\n            <div className=\"font-semibold\">{eventMetrics.activeStations} / {stations.length}</div>\n          </div>\n        </div>\n        \n        {/* Phase Recommendations */}\n        <div className=\"border-t pt-4\">\n          <h4 className=\"font-medium mb-2\">Recommended Actions</h4>\n          <div className=\"space-y-2\">\n            {eventMetrics.recommendedActions.map((action, index) => (\n              <div key={index} className=\"flex items-center space-x-2 text-sm\">\n                <CheckCircle className=\"text-green-500\" size={16} />\n                <span>{action}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Phase Timeline */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Event Timeline</h3>\n        <div className=\"relative\">\n          <div className=\"absolute left-0 top-0 bottom-0 w-1 bg-gray-200\"></div>\n          {Object.entries(phaseConfigurations).map(([phase, config], index) => {\n            const isActive = phase === currentPhase;\n            const isPast = phaseHistory.some(h => h.from === phase);\n            \n            return (\n              <div key={phase} className=\"relative pl-8 pb-6 last:pb-0\">\n                <div className={`absolute left-0 w-8 h-8 rounded-full flex items-center justify-center ${\n                  isActive ? 'bg-blue-500' : isPast ? 'bg-green-500' : 'bg-gray-300'\n                }`}>\n                  {isActive ? (\n                    <Activity className=\"text-white\" size={16} />\n                  ) : isPast ? (\n                    <CheckCircle className=\"text-white\" size={16} />\n                  ) : (\n                    <div className=\"w-3 h-3 bg-white rounded-full\" />\n                  )}\n                </div>\n                \n                <div className={`${isActive ? 'bg-blue-50 -mx-4 px-4' : ''} rounded-lg py-2`}>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <div className=\"flex items-center space-x-2\">\n                        {config.icon}\n                        <span className={`font-medium ${isActive ? 'text-blue-700' : ''}`}>\n                          {config.name}\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-gray-500 mt-1\">{config.timeRange}</div>\n                    </div>\n                    {!automatedPhaseTransition && !isActive && !isPast && (\n                      <button\n                        onClick={() => handlePhaseTransition(phase)}\n                        className=\"text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300\"\n                      >\n                        Activate\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Event Performance Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Coffee className=\"text-brown-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Total</span>\n          </div>\n          <div className=\"text-3xl font-bold\">{eventMetrics.totalOrders}</div>\n          <div className=\"text-sm text-gray-500\">Orders Processed</div>\n          <div className=\"text-xs text-gray-400 mt-1\">{eventMetrics.ordersPerHour}/hour avg</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Users className=\"text-blue-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Current</span>\n          </div>\n          <div className=\"text-3xl font-bold\">{eventMetrics.staffUtilization}%</div>\n          <div className=\"text-sm text-gray-500\">Staff Utilization</div>\n          <div className=\"text-xs text-gray-400 mt-1\">{eventMetrics.activeStations} stations active</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <Clock className=\"text-green-500\" size={20} />\n            <span className=\"text-xs text-gray-500\">Elapsed</span>\n          </div>\n          <div className=\"text-3xl font-bold\">{eventMetrics.hoursElapsed}h</div>\n          <div className=\"text-sm text-gray-500\">Event Duration</div>\n          <div className=\"text-xs text-gray-400 mt-1\">Since 7:00 AM</div>\n        </div>\n      </div>\n\n      {/* Phase-Specific Controls */}\n      {currentPhase === EVENT_PHASES.MORNING_PEAK && (\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <h4 className=\"font-medium text-yellow-800 mb-2\">Peak Hour Optimizations Active</h4>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\n            <label className=\"flex items-center space-x-2\">\n              <input type=\"checkbox\" defaultChecked className=\"h-4 w-4\" />\n              <span>Batch Processing</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input type=\"checkbox\" defaultChecked className=\"h-4 w-4\" />\n              <span>Priority Routing</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input type=\"checkbox\" defaultChecked className=\"h-4 w-4\" />\n              <span>Dynamic Staffing</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input type=\"checkbox\" defaultChecked className=\"h-4 w-4\" />\n              <span>Stock Preloading</span>\n            </label>\n          </div>\n        </div>\n      )}\n\n      {/* Phase History */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Phase Transition History</h3>\n        <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n          {phaseHistory.length > 0 ? (\n            phaseHistory.map((transition, index) => (\n              <div key={index} className=\"flex items-center justify-between text-sm py-2 border-b last:border-0\">\n                <div className=\"flex items-center space-x-3\">\n                  <span className=\"text-gray-400\">\n                    {new Date(transition.timestamp).toLocaleTimeString()}\n                  </span>\n                  <span className=\"text-gray-600\">\n                    {phaseConfigurations[transition.from]?.name}  {phaseConfigurations[transition.to]?.name}\n                  </span>\n                </div>\n                <span className={`text-xs px-2 py-1 rounded ${\n                  transition.automatic ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'\n                }`}>\n                  {transition.automatic ? 'Automatic' : 'Manual'}\n                </span>\n              </div>\n            ))\n          ) : (\n            <div className=\"text-center py-8 text-gray-400\">\n              <Calendar size={32} className=\"mx-auto mb-2\" />\n              <p>No phase transitions yet</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EventLifecycleManagement;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Smartphone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMjAiIHg9IjUiIHk9IjIiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNMTIgMThoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/smartphone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Smartphone = createLucideIcon('Smartphone', [\n  [\n    'rect',\n    {\n      width: '14',\n      height: '20',\n      x: '5',\n      y: '2',\n      rx: '2',\n      ry: '2',\n      key: '1yt0o3',\n    },\n  ],\n  ['path', { d: 'M12 18h.01', key: 'mhygvu' }],\n]);\n\nexport default Smartphone;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHg9IjIiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Im0yMiA3LTguOTcgNS43YTEuOTQgMS45NCAwIDAgMS0yLjA2IDBMMiA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('Mail', [\n  [\n    'rect',\n    { width: '20', height: '16', x: '2', y: '4', rx: '2', key: '18n3k1' },\n  ],\n  ['path', { d: 'm22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7', key: '1ocrg3' }],\n]);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTYuOTJ2M2EyIDIgMCAwIDEtMi4xOCAyIDE5Ljc5IDE5Ljc5IDAgMCAxLTguNjMtMy4wNyAxOS41IDE5LjUgMCAwIDEtNi02IDE5Ljc5IDE5Ljc5IDAgMCAxLTMuMDctOC42N0EyIDIgMCAwIDEgNC4xMSAyaDNhMiAyIDAgMCAxIDIgMS43MiAxMi44NCAxMi44NCAwIDAgMCAuNyAyLjgxIDIgMiAwIDAgMS0uNDUgMi4xMUw4LjA5IDkuOTFhMTYgMTYgMCAwIDAgNiA2bDEuMjctMS4yN2EyIDIgMCAwIDEgMi4xMS0uNDUgMTIuODQgMTIuODQgMCAwIDAgMi44MS43QTIgMiAwIDAgMSAyMiAxNi45MnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('Phone', [\n  [\n    'path',\n    {\n      d: 'M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z',\n      key: 'foiqr5',\n    },\n  ],\n]);\n\nexport default Phone;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { \n  MessageSquare, Phone, Mail, Bell, Smartphone,\n  Send, User, Clock, CheckCircle, AlertCircle,\n  Filter, Search, Settings, Download, RefreshCw,\n  Radio, Wifi, WifiOff, ChevronRight, Zap,\n  Target, Users, BarChart3, TrendingUp\n} from 'lucide-react';\nimport MessageService from '../services/MessageService';\nimport useOrders from '../hooks/useOrders';\nimport useSettings from '../hooks/useSettings';\n\n/**\n * Enhanced Communication Hub Integration\n * Multi-channel communication management system with advanced features\n */\nconst EnhancedCommunicationHub = () => {\n  const { orders, loading: ordersLoading, error: ordersError } = useOrders();\n  const { settings } = useSettings();\n  \n  // Debug logging\n  useEffect(() => {\n    console.log('EnhancedCommunicationHub: Orders state update', {\n      orders: orders ? 'loaded' : 'not loaded',\n      ordersType: typeof orders,\n      ordersIsArray: Array.isArray(orders),\n      ordersKeys: orders && typeof orders === 'object' ? Object.keys(orders) : 'N/A',\n      ordersLoading,\n      ordersError\n    });\n  }, [orders, ordersLoading, ordersError]);\n  const [activeChannel, setActiveChannel] = useState('all');\n  const [messages, setMessages] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [broadcasts, setBroadcasts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [newMessage, setNewMessage] = useState('');\n  const [showBroadcastModal, setShowBroadcastModal] = useState(false);\n  const messageEndRef = useRef(null);\n  \n  // Channel configurations\n  const channels = [\n    { id: 'sms', name: 'SMS', icon: Smartphone, color: 'blue', enabled: true },\n    { id: 'email', name: 'Email', icon: Mail, color: 'green', enabled: true },\n    { id: 'push', name: 'Push', icon: Bell, color: 'purple', enabled: true },\n    { id: 'voice', name: 'Voice', icon: Phone, color: 'amber', enabled: false },\n    { id: 'whatsapp', name: 'WhatsApp', icon: MessageSquare, color: 'emerald', enabled: false }\n  ];\n  \n  // Load data on mount\n  useEffect(() => {\n    loadMessages();\n    loadTemplates();\n    loadBroadcasts();\n    \n    // Refresh messages every 10 seconds\n    const interval = setInterval(loadMessages, 10000);\n    return () => clearInterval(interval);\n  }, [orders]);\n  \n  // Load messages from MessageService\n  const loadMessages = async () => {\n    try {\n      const messageHistory = MessageService.getAllHistory();\n      const allMessages = [];\n      \n      // Safety check: ensure orders exists\n      if (!orders) {\n        console.log('EnhancedCommunicationHub: Waiting for orders data to load...');\n        return;\n      }\n      \n      // Handle both array and object formats\n      let ordersArray = orders;\n      if (!Array.isArray(orders)) {\n        // If orders is an object with different status arrays, combine them\n        ordersArray = [\n          ...(orders.pending || []),\n          ...(orders.inProgress || []),\n          ...(orders.completed || [])\n        ];\n      }\n      \n      if (ordersArray.length === 0) {\n        console.log('EnhancedCommunicationHub: No orders available yet');\n        return;\n      }\n      \n      Object.entries(messageHistory).forEach(([orderId, msgs]) => {\n        const order = ordersArray?.find(o => o.id?.toString() === orderId);\n        msgs.forEach(msg => {\n          allMessages.push({\n            id: `${orderId}-${msg.timestamp}`,\n            channel: msg.channel || 'sms',\n            recipient: order?.phone || msg.recipient || 'Unknown',\n            customerName: order?.customer_name || 'Customer',\n            message: msg.message,\n            status: msg.status || 'delivered',\n            timestamp: new Date(msg.timestamp),\n            order: order?.order_number || orderId,\n            type: msg.type || 'outbound'\n          });\n        });\n      });\n      \n      // Sort by newest first\n      allMessages.sort((a, b) => b.timestamp - a.timestamp);\n      setMessages(allMessages);\n    } catch (error) {\n      console.error('Error loading messages:', error);\n    }\n  };\n  \n  // Load message templates\n  const loadTemplates = async () => {\n    try {\n      const smsTemplates = await MessageService.getSMSTemplates();\n      \n      // Enhanced templates with multiple channels\n      const enhancedTemplates = [\n        {\n          id: 1,\n          name: 'Order Ready',\n          channel: 'sms',\n          template: 'Hi {name}, your {coffee} is ready for pickup at {station}! ',\n          variables: ['name', 'coffee', 'station'],\n          usage: 1247\n        },\n        {\n          id: 2,\n          name: 'Queue Update',\n          channel: 'sms',\n          template: 'Your order is #{position} in queue. Est. wait: {wait} mins ',\n          variables: ['position', 'wait'],\n          usage: 892\n        },\n        {\n          id: 3,\n          name: 'Welcome Email',\n          channel: 'email',\n          template: 'Welcome to Coffee Cue! Your first order gets 10% off. ',\n          variables: [],\n          usage: 234\n        },\n        {\n          id: 4,\n          name: 'Order Delayed',\n          channel: 'push',\n          template: 'Sorry for the delay! Your order will be ready in {time} mins',\n          variables: ['time'],\n          usage: 45\n        },\n        {\n          id: 5,\n          name: 'VIP Fast Track',\n          channel: 'sms',\n          template: 'VIP Fast Track: Skip to Station {station} for immediate service! ',\n          variables: ['station'],\n          usage: 89\n        },\n        {\n          id: 6,\n          name: 'Loyalty Reward',\n          channel: 'email',\n          template: 'Congrats {name}! You\\'ve earned a free {reward}. Use code: {code}',\n          variables: ['name', 'reward', 'code'],\n          usage: 156\n        }\n      ];\n      \n      setTemplates(enhancedTemplates);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    }\n  };\n  \n  // Load scheduled broadcasts\n  const loadBroadcasts = () => {\n    // Mock broadcasts - in production, load from API\n    setBroadcasts([\n      {\n        id: 1,\n        name: 'Morning Rush Alert',\n        channels: ['sms', 'push'],\n        audience: 'All waiting customers',\n        message: ' High demand this morning! Your patience is appreciated. Est. +5min wait.',\n        scheduled: new Date(Date.now() + 60 * 60000),\n        status: 'scheduled',\n        recipients: 45,\n        filters: { waitTime: '>10' }\n      },\n      {\n        id: 2,\n        name: 'Happy Hour Promo',\n        channels: ['email', 'push'],\n        audience: 'Loyalty members',\n        message: ' Happy Hour: 50% off all drinks 3-5 PM today!',\n        scheduled: new Date(Date.now() + 3 * 60 * 60000),\n        status: 'scheduled',\n        recipients: 234,\n        filters: { customerType: 'loyalty' }\n      },\n      {\n        id: 3,\n        name: 'Station 2 Closure',\n        channels: ['sms'],\n        audience: 'Station 2 queue',\n        message: 'Station 2 temporarily closed. You\\'ve been moved to Station 1.',\n        scheduled: null,\n        status: 'sent',\n        recipients: 12,\n        sentAt: new Date(Date.now() - 30 * 60000)\n      }\n    ]);\n  };\n  \n  // Auto-scroll to latest message\n  useEffect(() => {\n    messageEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n  \n  // Filter messages\n  const filteredMessages = messages.filter(msg => {\n    const matchesSearch = \n      msg.customerName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      msg.message.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (msg.order && msg.order.toLowerCase().includes(searchTerm.toLowerCase()));\n    \n    const matchesStatus = filterStatus === 'all' || msg.status === filterStatus;\n    const matchesChannel = activeChannel === 'all' || msg.channel === activeChannel;\n    \n    return matchesSearch && matchesStatus && matchesChannel;\n  });\n  \n  // Send message function\n  const sendMessage = async (channel, recipient, message, variables = {}) => {\n    // Replace variables in template\n    let finalMessage = message;\n    Object.entries(variables).forEach(([key, value]) => {\n      finalMessage = finalMessage.replace(`{${key}}`, value);\n    });\n    \n    const newMessage = {\n      id: Date.now(),\n      channel,\n      recipient,\n      customerName: variables.name || 'Customer',\n      message: finalMessage,\n      status: 'sending',\n      timestamp: new Date(),\n      order: variables.order || null\n    };\n    \n    setMessages(prev => [newMessage, ...prev]);\n    \n    // Send via MessageService if SMS\n    if (channel === 'sms' && selectedConversation) {\n      const order = orders.find(o => o.phone === recipient);\n      if (order) {\n        await MessageService.sendMessage(order, finalMessage);\n      }\n    }\n    \n    // Simulate delivery for other channels\n    setTimeout(() => {\n      setMessages(prev => prev.map(msg => \n        msg.id === newMessage.id \n          ? { ...msg, status: Math.random() > 0.1 ? 'delivered' : 'failed' }\n          : msg\n      ));\n    }, 2000);\n  };\n  \n  // Apply template\n  const applyTemplate = (template) => {\n    if (!selectedConversation) return;\n    \n    const order = orders.find(o => o.phone === selectedConversation.recipient);\n    if (!order) return;\n    \n    // Replace variables with actual data\n    let message = template.template;\n    const variables = {\n      name: order.customer_name || 'Customer',\n      coffee: order.items?.[0]?.coffee_type || 'coffee',\n      station: order.station_id || '1',\n      wait: Math.floor(Math.random() * 10 + 5),\n      position: Math.floor(Math.random() * 5 + 1),\n      time: Math.floor(Math.random() * 10 + 5)\n    };\n    \n    Object.entries(variables).forEach(([key, value]) => {\n      message = message.replace(`{${key}}`, value);\n    });\n    \n    setNewMessage(message);\n  };\n  \n  // Get status color\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'delivered': return 'text-green-600 bg-green-50';\n      case 'sent': return 'text-blue-600 bg-blue-50';\n      case 'sending': return 'text-amber-600 bg-amber-50';\n      case 'failed': return 'text-red-600 bg-red-50';\n      case 'scheduled': return 'text-purple-600 bg-purple-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n  \n  // Get channel color\n  const getChannelColor = (channelId) => {\n    const channel = channels.find(c => c.id === channelId);\n    return channel ? channel.color : 'gray';\n  };\n  \n  // Group messages by conversation\n  const conversations = React.useMemo(() => {\n    const grouped = {};\n    \n    filteredMessages.forEach(msg => {\n      const key = msg.recipient;\n      if (!grouped[key]) {\n        grouped[key] = {\n          id: key,\n          recipient: msg.recipient,\n          customerName: msg.customerName,\n          lastMessage: msg.message,\n          lastTimestamp: msg.timestamp,\n          unreadCount: 0,\n          messages: []\n        };\n      }\n      \n      grouped[key].messages.push(msg);\n      if (msg.timestamp > grouped[key].lastTimestamp) {\n        grouped[key].lastMessage = msg.message;\n        grouped[key].lastTimestamp = msg.timestamp;\n      }\n      if (msg.type === 'inbound' && msg.status === 'unread') {\n        grouped[key].unreadCount++;\n      }\n    });\n    \n    return Object.values(grouped).sort((a, b) => b.lastTimestamp - a.lastTimestamp);\n  }, [filteredMessages]);\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-xl font-semibold\">Communication Hub</h2>\n          \n          <div className=\"flex items-center space-x-3\">\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <Wifi className=\"w-4 h-4 text-green-500\" />\n              <span className=\"text-gray-600\">All channels online</span>\n            </div>\n            \n            <button \n              onClick={() => setShowBroadcastModal(true)}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n            >\n              <Radio className=\"w-4 h-4\" />\n              <span>New Broadcast</span>\n            </button>\n          </div>\n        </div>\n        \n        {/* Channel Tabs */}\n        <div className=\"flex space-x-1 border-b\">\n          <button\n            onClick={() => setActiveChannel('all')}\n            className={`px-4 py-2 font-medium border-b-2 transition-colors ${\n              activeChannel === 'all'\n                ? 'text-gray-900 border-gray-900'\n                : 'text-gray-500 border-transparent hover:text-gray-700'\n            }`}\n          >\n            All Channels\n          </button>\n          \n          {channels.map(channel => (\n            <button\n              key={channel.id}\n              onClick={() => setActiveChannel(channel.id)}\n              disabled={!channel.enabled}\n              className={`px-4 py-2 font-medium border-b-2 transition-colors flex items-center space-x-2 ${\n                activeChannel === channel.id\n                  ? `text-${channel.color}-600 border-${channel.color}-600`\n                  : channel.enabled\n                    ? 'text-gray-500 border-transparent hover:text-gray-700'\n                    : 'text-gray-300 cursor-not-allowed'\n              }`}\n            >\n              <channel.icon className=\"w-4 h-4\" />\n              <span>{channel.name}</span>\n              {!channel.enabled && <span className=\"text-xs\">(Soon)</span>}\n            </button>\n          ))}\n        </div>\n      </div>\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Conversations List */}\n        <div className=\"lg:col-span-2 bg-white rounded-lg shadow-sm\">\n          <div className=\"p-4 border-b\">\n            <div className=\"flex items-center space-x-3\">\n              {/* Search */}\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  placeholder=\"Search messages...\"\n                  className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              \n              {/* Status Filter */}\n              <select\n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                className=\"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"delivered\">Delivered</option>\n                <option value=\"sent\">Sent</option>\n                <option value=\"failed\">Failed</option>\n              </select>\n              \n              <button className=\"p-2 hover:bg-gray-100 rounded-lg\">\n                <RefreshCw className=\"w-5 h-5 text-gray-600\" />\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"flex h-96\">\n            {/* Conversation List */}\n            <div className=\"w-1/3 border-r overflow-y-auto\">\n              {conversations.map(conv => (\n                <div\n                  key={conv.id}\n                  onClick={() => setSelectedConversation(conv)}\n                  className={`p-4 border-b cursor-pointer hover:bg-gray-50 ${\n                    selectedConversation?.id === conv.id ? 'bg-blue-50' : ''\n                  }`}\n                >\n                  <div className=\"flex justify-between items-start mb-1\">\n                    <h4 className=\"font-medium\">{conv.customerName}</h4>\n                    <span className=\"text-xs text-gray-500\">\n                      {conv.lastTimestamp.toLocaleTimeString()}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-600\">{conv.recipient}</p>\n                  <p className=\"text-sm text-gray-500 truncate\">{conv.lastMessage}</p>\n                  {conv.unreadCount > 0 && (\n                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mt-1\">\n                      {conv.unreadCount} new\n                    </span>\n                  )}\n                </div>\n              ))}\n            </div>\n            \n            {/* Message Thread */}\n            <div className=\"flex-1 flex flex-col\">\n              {selectedConversation ? (\n                <>\n                  {/* Header */}\n                  <div className=\"p-4 border-b bg-gray-50\">\n                    <h3 className=\"font-semibold\">{selectedConversation.customerName}</h3>\n                    <p className=\"text-sm text-gray-600\">{selectedConversation.recipient}</p>\n                  </div>\n                  \n                  {/* Messages */}\n                  <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n                    {selectedConversation.messages.map(msg => (\n                      <div\n                        key={msg.id}\n                        className={`flex ${msg.type === 'outbound' ? 'justify-end' : 'justify-start'}`}\n                      >\n                        <div className={`max-w-xs ${\n                          msg.type === 'outbound' ? 'order-2' : ''\n                        }`}>\n                          <div className={`p-3 rounded-lg ${\n                            msg.type === 'outbound'\n                              ? 'bg-blue-500 text-white'\n                              : 'bg-gray-100'\n                          }`}>\n                            <p className=\"text-sm\">{msg.message}</p>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mt-1\">\n                            {msg.timestamp.toLocaleTimeString()}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                    <div ref={messageEndRef} />\n                  </div>\n                  \n                  {/* Input */}\n                  <div className=\"p-4 border-t\">\n                    <div className=\"flex space-x-2\">\n                      <input\n                        type=\"text\"\n                        value={newMessage}\n                        onChange={(e) => setNewMessage(e.target.value)}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter' && !e.shiftKey) {\n                            e.preventDefault();\n                            sendMessage('sms', selectedConversation.recipient, newMessage);\n                            setNewMessage('');\n                          }\n                        }}\n                        placeholder=\"Type a message...\"\n                        className=\"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                      <button\n                        onClick={() => {\n                          sendMessage('sms', selectedConversation.recipient, newMessage);\n                          setNewMessage('');\n                        }}\n                        disabled={!newMessage.trim()}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n                      >\n                        <Send className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div className=\"flex-1 flex items-center justify-center text-gray-500\">\n                  <div className=\"text-center\">\n                    <MessageSquare className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n                    <p>Select a conversation</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        {/* Right Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Quick Templates */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Quick Templates</h3>\n            \n            <div className=\"space-y-2\">\n              {templates\n                .filter(t => activeChannel === 'all' || t.channel === activeChannel)\n                .slice(0, 5)\n                .map(template => (\n                  <div \n                    key={template.id}\n                    className=\"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer\"\n                    onClick={() => applyTemplate(template)}\n                  >\n                    <div className=\"flex justify-between items-start mb-1\">\n                      <h4 className=\"font-medium text-sm\">{template.name}</h4>\n                      <span className=\"text-xs text-gray-500\">{template.usage} uses</span>\n                    </div>\n                    <p className=\"text-xs text-gray-600 mb-2\">{template.template}</p>\n                    <div className=\"flex items-center justify-between\">\n                      <span className={`inline-flex items-center px-2 py-1 rounded text-xs bg-${getChannelColor(template.channel)}-100 text-${getChannelColor(template.channel)}-700`}>\n                        {template.channel}\n                      </span>\n                      <ChevronRight className=\"w-4 h-4 text-gray-400\" />\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n          \n          {/* Scheduled Broadcasts */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Broadcasts</h3>\n            \n            <div className=\"space-y-3\">\n              {broadcasts.slice(0, 3).map(broadcast => (\n                <div key={broadcast.id} className=\"border rounded-lg p-3\">\n                  <h4 className=\"font-medium text-sm mb-1\">{broadcast.name}</h4>\n                  <p className=\"text-xs text-gray-600 mb-2\">{broadcast.message}</p>\n                  \n                  <div className=\"flex items-center justify-between text-xs\">\n                    <span className={`inline-flex items-center px-2 py-1 rounded-full ${getStatusColor(broadcast.status)}`}>\n                      {broadcast.status}\n                    </span>\n                    <span className=\"text-gray-500\">\n                      {broadcast.recipients} recipients\n                    </span>\n                  </div>\n                  \n                  {broadcast.scheduled && (\n                    <p className=\"text-xs text-gray-500 mt-2\">\n                      <Clock className=\"w-3 h-3 inline mr-1\" />\n                      {broadcast.scheduled.toLocaleTimeString()}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Communication Stats */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Communication Analytics</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n            <p className=\"text-3xl font-bold text-blue-600\">\n              {messages.filter(m => m.timestamp > new Date(Date.now() - 24*60*60*1000)).length}\n            </p>\n            <p className=\"text-sm text-gray-600\">Messages Today</p>\n            <p className=\"text-xs text-blue-600 mt-1\">\n              <TrendingUp className=\"w-3 h-3 inline\" /> +12% vs yesterday\n            </p>\n          </div>\n          \n          <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n            <p className=\"text-3xl font-bold text-green-600\">\n              {((messages.filter(m => m.status === 'delivered').length / messages.length) * 100).toFixed(1)}%\n            </p>\n            <p className=\"text-sm text-gray-600\">Delivery Rate</p>\n            <p className=\"text-xs text-green-600 mt-1\">Above target</p>\n          </div>\n          \n          <div className=\"text-center p-4 bg-amber-50 rounded-lg\">\n            <p className=\"text-3xl font-bold text-amber-600\">1.8s</p>\n            <p className=\"text-sm text-gray-600\">Avg Response Time</p>\n            <p className=\"text-xs text-amber-600 mt-1\">Within SLA</p>\n          </div>\n          \n          <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\n            <p className=\"text-3xl font-bold text-purple-600\">4.8</p>\n            <p className=\"text-sm text-gray-600\">Satisfaction Score</p>\n            <p className=\"text-xs text-purple-600 mt-1\">Based on feedback</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedCommunicationHub;","import React, { useState, useEffect } from 'react';\nimport { \n  Brain, TrendingUp, AlertTriangle, Shield,\n  Activity, Target, Zap, Users, Coffee,\n  Clock, BarChart3, ArrowRight, RefreshCw,\n  CheckCircle, XCircle, Info, ChevronDown\n} from 'lucide-react';\nimport useOrders from '../hooks/useOrders';\nimport useStations from '../hooks/useStations';\nimport useStock from '../hooks/useStock';\n\n/**\n * Predictive Intelligence & Resilience System\n * AI-powered predictions with automated adjustments\n */\nconst PredictiveIntelligence = () => {\n  const { pendingOrders, inProgressOrders, completedOrders } = useOrders();\n  const { stations } = useStations();\n  const { stockData } = useStock();\n  \n  // Combine all orders\n  const orders = [...(pendingOrders || []), ...(inProgressOrders || []), ...(completedOrders || [])];\n  \n  const [predictions, setPredictions] = useState({\n    demandForecast: [],\n    bottlenecks: [],\n    stockAlerts: [],\n    staffingNeeds: [],\n    customerSurge: null\n  });\n  \n  const [resilience, setResilience] = useState({\n    mode: 'normal', // normal, degraded, emergency\n    activeProtocols: [],\n    automations: [],\n    healthScore: 85\n  });\n  \n  const [selectedTimeframe, setSelectedTimeframe] = useState('next2hours');\n  const [autoAdjust, setAutoAdjust] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  \n  // Run predictions on data change\n  useEffect(() => {\n    runPredictions();\n  }, [orders?.length, stations?.length, stockData?.length, selectedTimeframe]);\n  \n  // Predictive algorithms\n  const runPredictions = () => {\n    // Demand Forecasting\n    const demandForecast = predictDemand();\n    \n    // Bottleneck Detection\n    const bottlenecks = detectBottlenecks();\n    \n    // Stock Depletion Alerts\n    const stockAlerts = predictStockDepletion();\n    \n    // Staffing Optimization\n    const staffingNeeds = predictStaffingNeeds();\n    \n    // Customer Surge Detection\n    const customerSurge = detectCustomerSurge();\n    \n    setPredictions({\n      demandForecast,\n      bottlenecks,\n      stockAlerts,\n      staffingNeeds,\n      customerSurge\n    });\n    \n    // Update resilience status\n    updateResilienceStatus(bottlenecks, stockAlerts);\n  };\n  \n  const predictDemand = () => {\n    // Analyze historical patterns\n    const hourlyOrders = {};\n    // Add safety check for orders\n    if (orders && Array.isArray(orders)) {\n      orders.forEach(order => {\n        const hour = new Date(order.created_at).getHours();\n        hourlyOrders[hour] = (hourlyOrders[hour] || 0) + 1;\n      });\n    }\n    \n    // Generate forecast\n    const currentHour = new Date().getHours();\n    const forecast = [];\n    \n    for (let i = 0; i < 4; i++) {\n      const hour = (currentHour + i) % 24;\n      const historicalAvg = hourlyOrders[hour] || 0;\n      \n      // Apply predictive factors\n      let predicted = historicalAvg;\n      \n      // Rush hour multiplier\n      if (hour >= 7 && hour <= 9) predicted *= 1.5;\n      if (hour >= 12 && hour <= 13) predicted *= 1.3;\n      \n      // Day of week factor\n      const dayOfWeek = new Date().getDay();\n      if (dayOfWeek === 1) predicted *= 1.2; // Monday surge\n      if (dayOfWeek === 5) predicted *= 1.1; // Friday boost\n      \n      forecast.push({\n        hour: `${hour}:00`,\n        predicted: Math.round(predicted),\n        confidence: predicted > 0 ? 85 + Math.random() * 10 : 0,\n        trend: predicted > historicalAvg ? 'up' : 'down'\n      });\n    }\n    \n    return forecast;\n  };\n  \n  const detectBottlenecks = () => {\n    const bottlenecks = [];\n    \n    // Station capacity analysis\n    if (stations && Array.isArray(stations)) {\n      stations.forEach(station => {\n        const stationOrders = (orders || []).filter(o => \n        o.station_id === station.id && \n        ['pending', 'in-progress'].includes(o.status)\n      );\n      \n      const utilization = (stationOrders.length / (station.capacity || 10)) * 100;\n      \n      if (utilization > 80) {\n        bottlenecks.push({\n          id: `station-${station.id}`,\n          type: 'station',\n          severity: utilization > 95 ? 'critical' : 'warning',\n          location: station.name,\n          metric: `${utilization.toFixed(0)}% capacity`,\n          impact: `${stationOrders.length} orders affected`,\n          recommendation: 'Redistribute orders or add staff',\n          automatable: true\n        });\n      }\n    });\n    }\n    \n    // Milk type bottlenecks\n    const milkTypeCounts = {};\n    if (orders && Array.isArray(orders)) {\n      orders.forEach(order => {\n      if (order.items) {\n        order.items.forEach(item => {\n          if (item.milk_type) {\n            milkTypeCounts[item.milk_type] = (milkTypeCounts[item.milk_type] || 0) + 1;\n          }\n        });\n      }\n    });\n    }\n    \n    Object.entries(milkTypeCounts).forEach(([milkType, count]) => {\n      if (count > 20) {\n        bottlenecks.push({\n          id: `milk-${milkType}`,\n          type: 'ingredient',\n          severity: 'warning',\n          location: 'All stations',\n          metric: `${count} ${milkType} milk orders`,\n          impact: 'Potential stock shortage',\n          recommendation: 'Prepare extra stock',\n          automatable: false\n        });\n      }\n    });\n    \n    return bottlenecks;\n  };\n  \n  const predictStockDepletion = () => {\n    const alerts = [];\n    \n    if (!stockData || stockData.length === 0) return alerts;\n    \n    // Calculate burn rates\n    if (stockData && Array.isArray(stockData)) {\n      stockData.forEach(item => {\n      if (item.current_stock < item.min_stock * 1.5) {\n        const burnRate = calculateBurnRate(item.name);\n        const hoursUntilDepletion = item.current_stock / burnRate;\n        \n        if (hoursUntilDepletion < 4) {\n          alerts.push({\n            id: `stock-${item.id}`,\n            item: item.name,\n            currentStock: item.current_stock,\n            burnRate: burnRate.toFixed(1),\n            timeToDepletion: `${hoursUntilDepletion.toFixed(1)} hours`,\n            severity: hoursUntilDepletion < 2 ? 'critical' : 'warning',\n            action: 'Reorder immediately',\n            automatable: true\n          });\n        }\n      }\n    });\n    }\n    \n    return alerts;\n  };\n  \n  const calculateBurnRate = (itemName) => {\n    // Simulate burn rate calculation based on recent orders\n    const recentOrders = orders.filter(o => {\n      const orderTime = new Date(o.created_at);\n      const hourAgo = new Date(Date.now() - 60 * 60 * 1000);\n      return orderTime > hourAgo;\n    });\n    \n    // Mock calculation - in production, analyze actual consumption\n    return recentOrders.length * 0.3;\n  };\n  \n  const predictStaffingNeeds = () => {\n    const needs = [];\n    const forecast = predictions.demandForecast;\n    \n    forecast.forEach((period, index) => {\n      const requiredStaff = Math.ceil(period.predicted / 10); // 1 staff per 10 orders/hour\n      const currentStaff = stations.filter(s => s.is_active).length;\n      \n      if (requiredStaff > currentStaff) {\n        needs.push({\n          id: `staff-${index}`,\n          time: period.hour,\n          current: currentStaff,\n          required: requiredStaff,\n          gap: requiredStaff - currentStaff,\n          urgency: index === 0 ? 'immediate' : 'scheduled',\n          action: `Add ${requiredStaff - currentStaff} barista(s)`\n        });\n      }\n    });\n    \n    return needs;\n  };\n  \n  const detectCustomerSurge = () => {\n    // Analyze order velocity\n    const last15min = orders.filter(o => {\n      const orderTime = new Date(o.created_at);\n      const fifteenMinAgo = new Date(Date.now() - 15 * 60 * 1000);\n      return orderTime > fifteenMinAgo;\n    });\n    \n    const orderVelocity = last15min.length * 4; // Orders per hour\n    const averageVelocity = orders.length / 8; // Assuming 8 hour day\n    \n    if (orderVelocity > averageVelocity * 1.5) {\n      return {\n        detected: true,\n        velocity: orderVelocity,\n        increase: ((orderVelocity / averageVelocity - 1) * 100).toFixed(0),\n        duration: 'Next 30-45 minutes',\n        confidence: 87\n      };\n    }\n    \n    return null;\n  };\n  \n  const updateResilienceStatus = (bottlenecks, stockAlerts) => {\n    const criticalIssues = [\n      ...bottlenecks.filter(b => b.severity === 'critical'),\n      ...stockAlerts.filter(a => a.severity === 'critical')\n    ];\n    \n    let mode = 'normal';\n    let healthScore = 100;\n    const activeProtocols = [];\n    const automations = [];\n    \n    // Determine mode based on issues\n    if (criticalIssues.length > 3) {\n      mode = 'emergency';\n      healthScore = 40;\n      activeProtocols.push('Emergency Response Protocol');\n      automations.push('Auto-redistribute orders');\n      automations.push('Priority queue activation');\n    } else if (criticalIssues.length > 0 || bottlenecks.length > 2) {\n      mode = 'degraded';\n      healthScore = 70;\n      activeProtocols.push('Load Balancing Protocol');\n      automations.push('Smart routing enabled');\n    }\n    \n    // Adjust health score based on various factors\n    healthScore -= bottlenecks.length * 5;\n    healthScore -= stockAlerts.length * 3;\n    healthScore = Math.max(0, Math.min(100, healthScore));\n    \n    setResilience({\n      mode,\n      activeProtocols,\n      automations,\n      healthScore\n    });\n  };\n  \n  const handleRefresh = async () => {\n    setRefreshing(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    runPredictions();\n    setRefreshing(false);\n  };\n  \n  const getHealthColor = (score) => {\n    if (score >= 80) return 'text-green-600 bg-green-50';\n    if (score >= 60) return 'text-amber-600 bg-amber-50';\n    return 'text-red-600 bg-red-50';\n  };\n  \n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'critical': return 'text-red-600 bg-red-50';\n      case 'warning': return 'text-amber-600 bg-amber-50';\n      default: return 'text-blue-600 bg-blue-50';\n    }\n  };\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Header & Controls */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <Brain className=\"w-8 h-8 text-purple-600\" />\n            <div>\n              <h2 className=\"text-xl font-semibold\">Predictive Intelligence</h2>\n              <p className=\"text-sm text-gray-600\">AI-powered forecasting & resilience</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-3\">\n            {/* Timeframe Selector */}\n            <select\n              value={selectedTimeframe}\n              onChange={(e) => setSelectedTimeframe(e.target.value)}\n              className=\"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500\"\n            >\n              <option value=\"next2hours\">Next 2 Hours</option>\n              <option value=\"next4hours\">Next 4 Hours</option>\n              <option value=\"today\">Today</option>\n              <option value=\"tomorrow\">Tomorrow</option>\n            </select>\n            \n            {/* Auto-adjust Toggle */}\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={autoAdjust}\n                onChange={(e) => setAutoAdjust(e.target.checked)}\n                className=\"w-4 h-4 text-purple-600 rounded focus:ring-purple-500\"\n              />\n              <span className=\"text-sm font-medium\">Auto-adjust</span>\n            </label>\n            \n            <button\n              onClick={handleRefresh}\n              disabled={refreshing}\n              className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center space-x-2\"\n            >\n              <RefreshCw className={`w-4 h-4 ${refreshing ? 'animate-spin' : ''}`} />\n              <span>Refresh</span>\n            </button>\n          </div>\n        </div>\n        \n        {/* System Health */}\n        <div className={`p-4 rounded-lg flex items-center justify-between ${getHealthColor(resilience.healthScore)}`}>\n          <div className=\"flex items-center space-x-3\">\n            <Shield className=\"w-6 h-6\" />\n            <div>\n              <p className=\"font-semibold\">System Resilience: {resilience.mode.toUpperCase()}</p>\n              <p className=\"text-sm\">Health Score: {resilience.healthScore}%</p>\n            </div>\n          </div>\n          \n          {resilience.activeProtocols.length > 0 && (\n            <div className=\"text-right\">\n              <p className=\"text-sm font-medium\">Active Protocols:</p>\n              {resilience.activeProtocols.map((protocol, idx) => (\n                <p key={idx} className=\"text-xs\">{protocol}</p>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Demand Forecast */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n          <TrendingUp className=\"w-5 h-5 mr-2\" />\n          Demand Forecast\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {predictions.demandForecast.map((period, idx) => (\n            <div key={idx} className=\"border rounded-lg p-4\">\n              <div className=\"flex justify-between items-start mb-2\">\n                <h4 className=\"font-medium\">{period.hour}</h4>\n                {period.trend === 'up' ? (\n                  <TrendingUp className=\"w-4 h-4 text-green-500\" />\n                ) : (\n                  <TrendingUp className=\"w-4 h-4 text-red-500 rotate-180\" />\n                )}\n              </div>\n              \n              <p className=\"text-2xl font-bold text-gray-900\">{period.predicted}</p>\n              <p className=\"text-sm text-gray-600\">orders expected</p>\n              \n              <div className=\"mt-2\">\n                <div className=\"flex justify-between text-xs mb-1\">\n                  <span>Confidence</span>\n                  <span>{period.confidence}%</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-1.5\">\n                  <div \n                    className=\"bg-purple-600 h-1.5 rounded-full\"\n                    style={{ width: `${period.confidence}%` }}\n                  />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n        \n        {predictions.customerSurge && (\n          <div className=\"mt-4 p-4 bg-amber-50 rounded-lg flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <Zap className=\"w-6 h-6 text-amber-600\" />\n              <div>\n                <p className=\"font-semibold text-amber-900\">Customer Surge Detected!</p>\n                <p className=\"text-sm text-amber-700\">\n                  +{predictions.customerSurge.increase}% increase  {predictions.customerSurge.duration}\n                </p>\n              </div>\n            </div>\n            <button className=\"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 text-sm\">\n              Activate Surge Protocol\n            </button>\n          </div>\n        )}\n      </div>\n      \n      {/* Bottlenecks & Issues */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Bottleneck Detection */}\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <AlertTriangle className=\"w-5 h-5 mr-2\" />\n            Bottleneck Detection\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {predictions.bottlenecks.length > 0 ? (\n              predictions.bottlenecks.map(bottleneck => (\n                <div key={bottleneck.id} className={`p-4 rounded-lg ${getSeverityColor(bottleneck.severity)}`}>\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <div>\n                      <h4 className=\"font-medium\">{bottleneck.location}</h4>\n                      <p className=\"text-sm\">{bottleneck.metric}  {bottleneck.impact}</p>\n                    </div>\n                    <span className=\"text-xs font-medium uppercase\">{bottleneck.severity}</span>\n                  </div>\n                  \n                  <p className=\"text-sm mb-2\">{bottleneck.recommendation}</p>\n                  \n                  {bottleneck.automatable && autoAdjust && (\n                    <div className=\"flex items-center text-xs\">\n                      <CheckCircle className=\"w-3 h-3 mr-1\" />\n                      <span>Auto-adjustment enabled</span>\n                    </div>\n                  )}\n                </div>\n              ))\n            ) : (\n              <div className=\"text-center py-8 text-gray-500\">\n                <CheckCircle className=\"w-12 h-12 mx-auto mb-2 text-green-400\" />\n                <p>No bottlenecks detected</p>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Stock Alerts */}\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <Coffee className=\"w-5 h-5 mr-2\" />\n            Stock Depletion Alerts\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {predictions.stockAlerts.length > 0 ? (\n              predictions.stockAlerts.map(alert => (\n                <div key={alert.id} className={`p-4 rounded-lg ${getSeverityColor(alert.severity)}`}>\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <h4 className=\"font-medium\">{alert.item}</h4>\n                    <span className=\"text-xs font-medium uppercase\">{alert.severity}</span>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-3 gap-2 text-sm mb-2\">\n                    <div>\n                      <p className=\"text-xs opacity-75\">Current</p>\n                      <p className=\"font-semibold\">{alert.currentStock}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs opacity-75\">Burn Rate</p>\n                      <p className=\"font-semibold\">{alert.burnRate}/hr</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs opacity-75\">Time Left</p>\n                      <p className=\"font-semibold\">{alert.timeToDepletion}</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <p className=\"text-sm\">{alert.action}</p>\n                    {alert.automatable && autoAdjust && (\n                      <button className=\"text-xs underline\">Auto-order</button>\n                    )}\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"text-center py-8 text-gray-500\">\n                <CheckCircle className=\"w-12 h-12 mx-auto mb-2 text-green-400\" />\n                <p>Stock levels healthy</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      {/* Staffing Optimization */}\n      {predictions.staffingNeeds.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <Users className=\"w-5 h-5 mr-2\" />\n            Staffing Optimization\n          </h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            {predictions.staffingNeeds.map(need => (\n              <div key={need.id} className={`p-4 rounded-lg border ${\n                need.urgency === 'immediate' ? 'border-red-300 bg-red-50' : 'border-gray-300'\n              }`}>\n                <div className=\"flex justify-between items-center mb-2\">\n                  <h4 className=\"font-medium\">{need.time}</h4>\n                  {need.urgency === 'immediate' && (\n                    <span className=\"text-xs text-red-600 font-medium\">URGENT</span>\n                  )}\n                </div>\n                \n                <div className=\"flex items-center space-x-4 mb-3\">\n                  <div className=\"text-center\">\n                    <p className=\"text-2xl font-bold\">{need.current}</p>\n                    <p className=\"text-xs text-gray-600\">Current</p>\n                  </div>\n                  <ArrowRight className=\"w-4 h-4 text-gray-400\" />\n                  <div className=\"text-center\">\n                    <p className=\"text-2xl font-bold text-purple-600\">{need.required}</p>\n                    <p className=\"text-xs text-gray-600\">Required</p>\n                  </div>\n                </div>\n                \n                <p className=\"text-sm font-medium text-center\">{need.action}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      {/* Automated Adjustments */}\n      {resilience.automations.length > 0 && (\n        <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-sm p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <Zap className=\"w-5 h-5 mr-2\" />\n            Active Automations\n          </h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {resilience.automations.map((automation, idx) => (\n              <div key={idx} className=\"bg-white rounded-lg p-4 flex items-center space-x-3\">\n                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                  <Activity className=\"w-5 h-5 text-purple-600\" />\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"font-medium\">{automation}</p>\n                  <p className=\"text-xs text-gray-600\">Running automatically</p>\n                </div>\n                <CheckCircle className=\"w-5 h-5 text-green-500\" />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PredictiveIntelligence;","import React, { useState, useEffect } from 'react';\nimport SettingsService from '../services/SettingsService';\nimport '../styles/milkColors.css';\n\n// Import inventory service to get milk types from inventory system\nimport InventoryIntegrationService from '../services/InventoryIntegrationService';\n\n// Default colors for common milk types\nconst DEFAULT_MILK_COLORS = {\n  // Standard Milks\n  \"Whole Milk\": \"#FFFFFF\",  // White/Cream\n  \"Skim Milk\": \"#ADD8E6\",  // Light Blue\n  \"Low-fat Milk\": \"#D3D3D3\",  // Light Gray\n  \"Lactose-Free Milk\": \"#FAFAFA\",  // White with special border\n  \n  // Alternative Milks\n  \"Soy Milk\": \"#FFEC8B\",  // Bright Yellow\n  \"Oat Milk\": \"#FF7F7F\",  // Reddish\n  \"Almond Milk\": \"#87CEEB\",  // Sky Blue\n  \"Coconut Milk\": \"#90EE90\",  // Light Green\n  \"Macadamia Milk\": \"#DEB887\",  // Burlywood\n  \"Rice Milk\": \"#E6E6FA\",  // Light Purple\n  \"Hemp Milk\": \"#D8F8D8\",  // Pale Green\n  \"Cashew Milk\": \"#F5DEB3\",  // Wheat\n  \"Pea Milk\": \"#CCFFCC\"  // Very Light Green\n};\n\nconst MilkColorSettings = () => {\n  const [milkColors, setMilkColors] = useState({});\n  const [inventoryMilks, setInventoryMilks] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [message, setMessage] = useState(null);\n\n  // Load milk types from inventory and colors from settings\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setIsLoading(true);\n        \n        // Get milk types from inventory\n        const inventoryData = InventoryIntegrationService.getEventInventory();\n        const milkItems = inventoryData?.milk || [];\n        setInventoryMilks(milkItems);\n        \n        // Get saved milk colors from settings\n        const settings = await SettingsService.getSettings(true);\n        const savedColors = settings.milkColors || {};\n        \n        // Create color mapping for all milk types\n        const colorMapping = {};\n        milkItems.forEach(milk => {\n          // Use color from inventory item first, then saved settings, then default\n          colorMapping[milk.name] = milk.color || \n                                   savedColors[milk.name] || \n                                   DEFAULT_MILK_COLORS[milk.name] || \n                                   generateColor(milk.name);\n        });\n        \n        setMilkColors(colorMapping);\n      } catch (error) {\n        console.error('Error loading data:', error);\n        setMessage({ type: 'error', text: 'Failed to load milk data' });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadData();\n    \n    // Listen for inventory update events\n    const handleInventoryUpdate = () => {\n      loadData();\n    };\n    \n    window.addEventListener('inventory:updated', handleInventoryUpdate);\n    \n    return () => {\n      window.removeEventListener('inventory:updated', handleInventoryUpdate);\n    };\n  }, []);\n  \n  // Generate a color for milk types without defaults\n  const generateColor = (milkName) => {\n    // Simple color generation based on milk name\n    const hash = milkName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    const hue = hash % 360;\n    return `hsl(${hue}, 70%, 80%)`;\n  };\n\n  // Save milk colors\n  const handleSave = async () => {\n    try {\n      setIsSaving(true);\n      setMessage(null);\n      \n      // Update inventory items with colors\n      const inventoryData = InventoryIntegrationService.getEventInventory();\n      if (inventoryData && inventoryData.milk) {\n        inventoryData.milk.forEach(milk => {\n          if (milkColors[milk.name]) {\n            milk.color = milkColors[milk.name];\n          }\n        });\n        \n        // Save updated inventory\n        localStorage.setItem('event_inventory', JSON.stringify(inventoryData));\n        \n        // Notify that inventory was updated\n        InventoryIntegrationService.notifyInventoryUpdated();\n      }\n      \n      // Save to settings service for app-wide access\n      await SettingsService.updateSettings({ milkColors });\n      \n      setMessage({ type: 'success', text: 'Milk colors saved successfully' });\n    } catch (error) {\n      console.error('Error saving milk colors:', error);\n      setMessage({ type: 'error', text: `Failed to save: ${error.message}` });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Reset to defaults\n  const handleReset = () => {\n    const resetColors = {};\n    inventoryMilks.forEach(milk => {\n      resetColors[milk.name] = DEFAULT_MILK_COLORS[milk.name] || generateColor(milk.name);\n    });\n    setMilkColors(resetColors);\n    setMessage({ type: 'info', text: 'Reset to defaults (not saved yet)' });\n  };\n\n  // Handle color change\n  const handleColorChange = (milkType, newColor) => {\n    setMilkColors({\n      ...milkColors,\n      [milkType]: newColor\n    });\n  };\n\n  // Get milk category from inventory item\n  const getMilkCategory = (milkName) => {\n    const milk = inventoryMilks.find(m => m.name === milkName);\n    if (!milk) return 'alternative';\n    \n    const name = milkName.toLowerCase();\n    if (name.includes('whole') || name.includes('skim') || \n        name.includes('full cream') || name.includes('reduced fat') || \n        name.includes('lactose-free') || name.includes('low-fat')) {\n      return 'standard';\n    }\n    return 'alternative';\n  };\n\n  // Render milk color pickers grouped by type\n  const renderMilkColorsList = () => {\n    // Separate standard and alternative milks based on inventory\n    const standardMilks = Object.entries(milkColors).filter(([name]) => \n      getMilkCategory(name) === 'standard'\n    );\n    \n    const alternativeMilks = Object.entries(milkColors).filter(([name]) => \n      getMilkCategory(name) === 'alternative'\n    );\n\n    return (\n      <div className=\"space-y-6\">\n        {standardMilks.length > 0 && (\n          <div>\n            <h3 className=\"text-lg font-medium mb-3\">Standard Milks</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {standardMilks.map(([milkType, color]) => {\n                const milk = inventoryMilks.find(m => m.name === milkType);\n                return (\n                  <div key={milkType} className=\"flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50\">\n                    <div \n                      className=\"w-8 h-8 rounded-full border-2 border-gray-300\" \n                      style={{ backgroundColor: color }}\n                    />\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium\">{milkType}</div>\n                      {milk?.description && (\n                        <div className=\"text-sm text-gray-500\">{milk.description}</div>\n                      )}\n                    </div>\n                    <input\n                      type=\"color\"\n                      value={color}\n                      onChange={(e) => handleColorChange(milkType, e.target.value)}\n                      className=\"w-12 h-12 rounded cursor-pointer border-2 border-gray-300\"\n                      title={`Change color for ${milkType}`}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        \n        {alternativeMilks.length > 0 && (\n          <div>\n            <h3 className=\"text-lg font-medium mb-3\">Alternative Milks</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {alternativeMilks.map(([milkType, color]) => {\n                const milk = inventoryMilks.find(m => m.name === milkType);\n                return (\n                  <div key={milkType} className=\"flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50\">\n                    <div \n                      className=\"w-8 h-8 rounded-full border-2 border-gray-300\" \n                      style={{ backgroundColor: color }}\n                    />\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium\">{milkType}</div>\n                      {milk?.description && (\n                        <div className=\"text-sm text-gray-500\">{milk.description}</div>\n                      )}\n                    </div>\n                    <input\n                      type=\"color\"\n                      value={color}\n                      onChange={(e) => handleColorChange(milkType, e.target.value)}\n                      className=\"w-12 h-12 rounded cursor-pointer border-2 border-gray-300\"\n                      title={`Change color for ${milkType}`}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Get milk property indicators (dairy-free, vegan, etc.)\n  const getMilkProperties = (milkType) => {\n    const properties = [];\n    const lowercaseMilk = milkType.toLowerCase();\n    \n    // Determine properties based on milk type\n    if (lowercaseMilk.includes('soy') || \n        lowercaseMilk.includes('oat') || \n        lowercaseMilk.includes('almond') ||\n        lowercaseMilk.includes('coconut') ||\n        lowercaseMilk.includes('macadamia') ||\n        lowercaseMilk.includes('rice') ||\n        lowercaseMilk.includes('hemp') ||\n        lowercaseMilk.includes('cashew') ||\n        lowercaseMilk.includes('pea')) {\n      properties.push('Dairy-Free');\n      properties.push('Vegan');\n    }\n    \n    if (lowercaseMilk.includes('lactose-free')) {\n      properties.push('Lactose-Free');\n    }\n    \n    if (lowercaseMilk.includes('skim') || lowercaseMilk.includes('reduced fat')) {\n      properties.push('Low-Fat');\n    }\n    \n    return properties;\n  };\n  \n  // Preview what orders will look like with the current colors\n  const renderPreview = () => {\n    const milkTypes = Object.keys(milkColors);\n    \n    return (\n      <div className=\"mt-8\">\n        <h3 className=\"text-lg font-medium mb-3\">Color Preview</h3>\n        \n        {/* Visual color legend */}\n        <div className=\"mb-6 p-4 border rounded bg-gray-50\">\n          <h4 className=\"font-medium mb-3\">Color Legend</h4>\n          <div className=\"flex flex-wrap gap-3\">\n            <div className=\"flex items-center bg-white p-2 border rounded\">\n              <div className=\"milk-indicator-dot soy-milk\"></div>\n              <span className=\"text-sm\">Soy Milk - Yellow</span>\n            </div>\n            <div className=\"flex items-center bg-white p-2 border rounded\">\n              <div className=\"milk-indicator-dot oat-milk\"></div>\n              <span className=\"text-sm\">Oat Milk - Red</span>\n            </div>\n            <div className=\"flex items-center bg-white p-2 border rounded\">\n              <div className=\"milk-indicator-dot almond-milk\"></div>\n              <span className=\"text-sm\">Almond Milk - Blue</span>\n            </div>\n            <div className=\"flex items-center bg-white p-2 border rounded\">\n              <div className=\"milk-indicator-dot lactose-free-milk\"></div>\n              <span className=\"text-sm\">Lactose-Free - Dashed</span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {milkTypes.map(milkType => {\n            const cssClass = `order-milk-${milkType.toLowerCase().replace(/\\s+/g, '-')}`;\n            const properties = getMilkProperties(milkType);\n            \n            return (\n              <div key={milkType} className={`p-4 border rounded ${cssClass}`}>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <div \n                      className={`milk-indicator-dot ${milkType.toLowerCase().replace(/\\s+/g, '-')}`}\n                    ></div>\n                    <span className=\"font-medium\">Cappuccino</span>\n                  </div>\n                  \n                  {/* Property badges */}\n                  <div className=\"flex gap-1\">\n                    {properties.map(prop => (\n                      <span \n                        key={`${milkType}-${prop}`}\n                        className={`text-xs px-1.5 py-0.5 rounded ${\n                          prop === 'Dairy-Free' ? 'bg-green-100 text-green-800' :\n                          prop === 'Vegan' ? 'bg-green-100 text-green-800' :\n                          prop === 'Lactose-Free' ? 'bg-blue-100 text-blue-800' :\n                          prop === 'Low-Fat' ? 'bg-purple-100 text-purple-800' :\n                          'bg-gray-100 text-gray-800'\n                        }`}\n                      >\n                        {prop}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"mt-2 text-sm text-gray-600\">\n                  Regular, {milkType}, 1 sugar\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  if (isLoading) {\n    return <div className=\"flex justify-center py-8\">Loading milk colors...</div>;\n  }\n\n  return (\n    <div className=\"bg-white shadow-md rounded-lg p-6\">\n      <h2 className=\"text-xl font-bold mb-6\">Milk Color Settings</h2>\n      \n      {/* Message display */}\n      {message && (\n        <div \n          className={`p-4 mb-4 rounded ${\n            message.type === 'success' ? 'bg-green-100 text-green-800' : \n            message.type === 'error' ? 'bg-red-100 text-red-800' : \n            'bg-blue-100 text-blue-800'\n          }`}\n        >\n          {message.text}\n        </div>\n      )}\n      \n      {/* Info about managing milk types */}\n      <div className=\"mb-6 p-4 border border-blue-200 rounded-lg bg-blue-50\">\n        <p className=\"text-sm text-blue-800\">\n          <strong>Note:</strong> Milk types are managed in the{' '}\n          <span className=\"font-semibold\">Organiser  Stations  Event Inventory</span> section. \n          Colors you set here will be used throughout the system to identify different milk types visually.\n        </p>\n      </div>\n      \n      {/* Milk colors list */}\n      {renderMilkColorsList()}\n      \n      {/* Preview */}\n      {renderPreview()}\n      \n      {/* Action buttons */}\n      <div className=\"mt-6 flex justify-end space-x-3\">\n        <button\n          onClick={handleReset}\n          className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-2 px-4 rounded\"\n        >\n          Reset to Defaults\n        </button>\n        <button\n          onClick={handleSave}\n          disabled={isSaving}\n          className=\"bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded\"\n        >\n          {isSaving ? 'Saving...' : 'Save Colors'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default MilkColorSettings;","import React, { useState } from 'react';\nimport { Settings, Palette, Coffee, Package } from 'lucide-react';\nimport BrandingSettings from './BrandingSettings';\nimport MilkColorSettings from './MilkColorSettings';\n\n/**\n * Event Settings Component\n * Provides tabbed interface for various event configuration options\n */\nconst EventSettings = () => {\n  const [activeTab, setActiveTab] = useState('branding');\n\n  return (\n    <div>\n      {/* Tab Navigation */}\n      <div className=\"mb-6 bg-white p-2 rounded-lg shadow flex gap-2\">\n        <button\n          className={`flex-1 py-2 px-4 rounded-md transition-colors ${\n            activeTab === 'branding' \n              ? 'bg-blue-500 text-white' \n              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n          }`}\n          onClick={() => setActiveTab('branding')}\n        >\n          <Settings size={16} className=\"inline-block mr-2\" />\n          Branding & Display\n        </button>\n        \n        <button\n          className={`flex-1 py-2 px-4 rounded-md transition-colors ${\n            activeTab === 'colors' \n              ? 'bg-blue-500 text-white' \n              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n          }`}\n          onClick={() => setActiveTab('colors')}\n        >\n          <Palette size={16} className=\"inline-block mr-2\" />\n          Visual Identifiers\n        </button>\n        \n        <button\n          className={`flex-1 py-2 px-4 rounded-md transition-colors ${\n            activeTab === 'advanced' \n              ? 'bg-blue-500 text-white' \n              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n          }`}\n          onClick={() => setActiveTab('advanced')}\n        >\n          <Coffee size={16} className=\"inline-block mr-2\" />\n          Advanced Settings\n        </button>\n      </div>\n\n      {/* Tab Content */}\n      <div>\n        {activeTab === 'branding' && (\n          <BrandingSettings />\n        )}\n        \n        {activeTab === 'colors' && (\n          <div className=\"space-y-6\">\n            <MilkColorSettings />\n            \n            {/* Future: Coffee type colors */}\n            <div className=\"bg-white shadow-md rounded-lg p-6 opacity-50\">\n              <h2 className=\"text-xl font-bold mb-4\">Coffee Type Colors</h2>\n              <p className=\"text-gray-600\">\n                Coming soon: Assign visual colors to different coffee types (Espresso, Cappuccino, Latte, etc.)\n              </p>\n            </div>\n          </div>\n        )}\n        \n        {activeTab === 'advanced' && (\n          <div className=\"bg-white shadow-md rounded-lg p-6\">\n            <h2 className=\"text-xl font-bold mb-4\">Advanced Settings</h2>\n            <p className=\"text-gray-600\">\n              Additional configuration options will be available here.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EventSettings;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Droplet\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJhNyA3IDAgMCAwIDctN2MwLTItMS0zLjktMy01LjVzLTMuNS00LTQtNi41Yy0uNSAyLjUtMiA0LjktNCA2LjVDNiAxMS4xIDUgMTMgNSAxNWE3IDcgMCAwIDAgNyA3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/droplet\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Droplet = createLucideIcon('Droplet', [\n  [\n    'path',\n    {\n      d: 'M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z',\n      key: 'c7niix',\n    },\n  ],\n]);\n\nexport default Droplet;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Square\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Square = createLucideIcon('Square', [\n  [\n    'rect',\n    { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' },\n  ],\n]);\n\nexport default Square;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Beaker\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNC41IDNoMTUiIC8+CiAgPHBhdGggZD0iTTYgM3YxNmEyIDIgMCAwIDAgMiAyaDhhMiAyIDAgMCAwIDItMlYzIiAvPgogIDxwYXRoIGQ9Ik02IDE0aDEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/beaker\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Beaker = createLucideIcon('Beaker', [\n  ['path', { d: 'M4.5 3h15', key: 'c7n0jr' }],\n  ['path', { d: 'M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3', key: 'm1uhx7' }],\n  ['path', { d: 'M6 14h12', key: '4cwo0f' }],\n]);\n\nexport default Beaker;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Candy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOS41IDcuNS0yIDJhNC45NSA0Ljk1IDAgMSAwIDcgN2wyLTJhNC45NSA0Ljk1IDAgMSAwLTctN1oiIC8+CiAgPHBhdGggZD0iTTE0IDYuNXYxMCIgLz4KICA8cGF0aCBkPSJNMTAgNy41djEwIiAvPgogIDxwYXRoIGQ9Im0xNiA3IDEtNSAxLjM3LjY4QTMgMyAwIDAgMCAxOS43IDNIMjF2MS4zYzAgLjQ2LjEuOTIuMzIgMS4zM0wyMiA3bC01IDEiIC8+CiAgPHBhdGggZD0ibTggMTctMSA1LTEuMzctLjY4QTMgMyAwIDAgMCA0LjMgMjFIM3YtMS4zYTMgMyAwIDAgMC0uMzItMS4zM0wyIDE3bDUtMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/candy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Candy = createLucideIcon('Candy', [\n  [\n    'path',\n    {\n      d: 'm9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z',\n      key: 'ue6khb',\n    },\n  ],\n  ['path', { d: 'M14 6.5v10', key: '5xnk7c' }],\n  ['path', { d: 'M10 7.5v10', key: '1uew51' }],\n  [\n    'path',\n    {\n      d: 'm16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1',\n      key: 'b9cp6k',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'm8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1',\n      key: '5lney8',\n    },\n  ],\n]);\n\nexport default Candy;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuNSAzLjVhMi4xMiAyLjEyIDAgMCAxIDMgM0w3IDE5bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    { d: 'M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z', key: 'ymcmye' },\n  ],\n]);\n\nexport default PenLine;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('X', [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n]);\n\nexport default X;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Plus, Trash2, Edit3, Save, X, Package, Coffee, Droplet, \n  Beaker, Square, Candy, Search\n} from 'lucide-react';\nimport InventoryIntegrationService from '../services/InventoryIntegrationService';\n\n/**\n * Comprehensive Inventory Management Component\n * Allows organizers to create and manage all inventory items by category\n */\nconst InventoryManagement = () => {\n  // Define inventory categories\n  const categories = {\n    milk: {\n      name: 'Milk & Dairy',\n      icon: <Droplet size={20} />,\n      color: 'blue',\n      defaultItems: [\n        { name: 'Whole Milk', description: 'Regular dairy milk' },\n        { name: 'Skim Milk', description: 'Low-fat dairy milk' },\n        { name: 'Oat Milk', description: 'Plant-based oat milk' },\n        { name: 'Almond Milk', description: 'Plant-based almond milk' },\n        { name: 'Soy Milk', description: 'Plant-based soy milk' },\n        { name: 'Coconut Milk', description: 'Plant-based coconut milk' },\n        { name: 'Macadamia Milk', description: 'Plant-based macadamia milk' },\n        { name: 'Rice Milk', description: 'Plant-based rice milk' }\n      ]\n    },\n    coffee: {\n      name: 'Coffee Types',\n      icon: <Coffee size={20} />,\n      color: 'amber',\n      defaultItems: [\n        { name: 'Espresso', description: 'Strong coffee shot' },\n        { name: 'Americano', description: 'Espresso with hot water' },\n        { name: 'Latte', description: 'Espresso with steamed milk' },\n        { name: 'Cappuccino', description: 'Espresso with foam' },\n        { name: 'Flat White', description: 'Double shot with microfoam' },\n        { name: 'Mocha', description: 'Chocolate coffee drink' },\n        { name: 'Macchiato', description: 'Espresso with milk foam' },\n        { name: 'Cortado', description: 'Equal parts espresso and warm milk' },\n        { name: 'Filter Coffee', description: 'Drip brewed coffee' },\n        { name: 'Cold Brew', description: 'Cold steeped coffee' }\n      ]\n    },\n    cups: {\n      name: 'Cups & Sizes',\n      icon: <Square size={20} />,\n      color: 'green',\n      defaultItems: [\n        { name: 'Small (8oz)', description: '240ml cup', volume: 240, shots: 1 },\n        { name: 'Medium (12oz)', description: '350ml cup', volume: 350, shots: 1 },\n        { name: 'Large (16oz)', description: '470ml cup', volume: 470, shots: 2 },\n        { name: 'Extra Large (20oz)', description: '590ml cup', volume: 590, shots: 2 },\n        { name: 'Takeaway Cup Small', description: 'Small disposable cup', volume: 240, shots: 1 },\n        { name: 'Takeaway Cup Medium', description: 'Medium disposable cup', volume: 350, shots: 1 },\n        { name: 'Takeaway Cup Large', description: 'Large disposable cup', volume: 470, shots: 2 },\n        { name: 'Ceramic Mug', description: 'Reusable ceramic mug', volume: 300, shots: 1 }\n      ],\n      additionalFields: [\n        { key: 'volume', label: 'Volume (ml)', type: 'number', required: true },\n        { key: 'shots', label: 'Espresso Shots', type: 'number', required: true }\n      ]\n    },\n    syrups: {\n      name: 'Syrups & Flavors',\n      icon: <Beaker size={20} />,\n      color: 'purple',\n      defaultItems: [\n        { name: 'Vanilla Syrup', description: 'Classic vanilla flavor' },\n        { name: 'Caramel Syrup', description: 'Sweet caramel flavor' },\n        { name: 'Hazelnut Syrup', description: 'Nutty hazelnut flavor' },\n        { name: 'Cinnamon Syrup', description: 'Warm spice flavor' },\n        { name: 'Coconut Syrup', description: 'Tropical coconut flavor' },\n        { name: 'Chocolate Syrup', description: 'Rich chocolate flavor' },\n        { name: 'Peppermint Syrup', description: 'Fresh mint flavor' },\n        { name: 'Gingerbread Syrup', description: 'Seasonal spice flavor' },\n        { name: 'Irish Cream Syrup', description: 'Creamy liqueur flavor' },\n        { name: 'Maple Syrup', description: 'Natural maple sweetener' }\n      ]\n    },\n    sweeteners: {\n      name: 'Sugars & Sweeteners',\n      icon: <Candy size={20} />,\n      color: 'pink',\n      defaultItems: [\n        { name: 'White Sugar', description: 'Regular granulated sugar' },\n        { name: 'Brown Sugar', description: 'Raw cane sugar' },\n        { name: 'Honey', description: 'Natural honey sweetener' },\n        { name: 'Stevia', description: 'Natural leaf sweetener' },\n        { name: 'Artificial Sweetener', description: 'Sugar substitute' },\n        { name: 'Agave Syrup', description: 'Plant-based sweetener' },\n        { name: 'Coconut Sugar', description: 'Natural coconut sweetener' },\n        { name: 'Maple Sugar', description: 'Natural maple sweetener' }\n      ]\n    },\n    extras: {\n      name: 'Extras & Add-ons',\n      icon: <Package size={20} />,\n      color: 'indigo',\n      defaultItems: [\n        { name: 'Extra Shot', description: 'Additional espresso shot' },\n        { name: 'Decaf Shot', description: 'Caffeine-free espresso' },\n        { name: 'Extra Hot', description: 'Higher temperature' },\n        { name: 'Extra Foam', description: 'Additional milk foam' },\n        { name: 'No Foam', description: 'Milk without foam' },\n        { name: 'Whipped Cream', description: 'Dairy whipped topping' },\n        { name: 'Cinnamon Powder', description: 'Ground cinnamon spice' },\n        { name: 'Cocoa Powder', description: 'Chocolate dusting' },\n        { name: 'Marshmallows', description: 'Sweet marshmallow topping' },\n        { name: 'Biscotti', description: 'Italian almond biscuit' }\n      ]\n    }\n  };\n\n  // State management\n  const [inventory, setInventory] = useState({});\n  const [activeCategory, setActiveCategory] = useState('milk');\n  const [editingItem, setEditingItem] = useState(null);\n  const [newItem, setNewItem] = useState({ name: '', description: '' });\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  // Reset newItem when category changes to include additional fields\n  useEffect(() => {\n    const baseItem = { name: '', description: '' };\n    const category = categories[activeCategory];\n    if (category?.additionalFields) {\n      category.additionalFields.forEach(field => {\n        baseItem[field.key] = field.type === 'number' ? 0 : '';\n      });\n    }\n    setNewItem(baseItem);\n    setShowAddForm(false);\n  }, [activeCategory]);\n\n  // Load inventory from localStorage on mount\n  useEffect(() => {\n    const savedInventory = localStorage.getItem('event_inventory');\n    if (savedInventory) {\n      try {\n        const parsed = JSON.parse(savedInventory);\n        // Validate the loaded inventory\n        const validated = {};\n        Object.keys(parsed).forEach(category => {\n          if (Array.isArray(parsed[category])) {\n            validated[category] = parsed[category].filter(item => \n              item && typeof item === 'object' && item.name\n            );\n          }\n        });\n        setInventory(validated);\n      } catch (e) {\n        console.error('Error loading saved inventory:', e);\n        localStorage.removeItem('event_inventory'); // Clear corrupted data\n        initializeDefaultInventory();\n      }\n    } else {\n      initializeDefaultInventory();\n    }\n  }, []);\n\n  // Initialize with default items\n  const initializeDefaultInventory = () => {\n    const defaultInventory = {};\n    Object.keys(categories).forEach(categoryKey => {\n      defaultInventory[categoryKey] = categories[categoryKey].defaultItems.map((item, index) => ({\n        id: `${categoryKey}_${index + 1}`,\n        ...item,\n        enabled: true,\n        category: categoryKey\n      }));\n    });\n    setInventory(defaultInventory);\n    saveInventory(defaultInventory);\n  };\n\n  // Save inventory to localStorage\n  const saveInventory = (inventoryData) => {\n    try {\n      localStorage.setItem('event_inventory', JSON.stringify(inventoryData));\n      console.log('Inventory saved successfully');\n      \n      // Notify integration service that inventory was updated\n      InventoryIntegrationService.notifyInventoryUpdated();\n    } catch (e) {\n      console.error('Error saving inventory:', e);\n    }\n  };\n\n  // Add new item\n  const addItem = () => {\n    if (!newItem.name || !newItem.name.trim()) return;\n\n    const newId = `${activeCategory}_${Date.now()}`;\n    const item = {\n      id: newId,\n      name: newItem.name.trim(),\n      description: (newItem.description || '').trim(),\n      enabled: true,\n      category: activeCategory\n    };\n    \n    // Include additional fields if defined for this category\n    const category = categories[activeCategory];\n    if (category?.additionalFields) {\n      category.additionalFields.forEach(field => {\n        if (newItem[field.key] !== undefined) {\n          item[field.key] = field.type === 'number' ? Number(newItem[field.key]) : newItem[field.key];\n        }\n      });\n    }\n\n    const updatedInventory = {\n      ...inventory,\n      [activeCategory]: [...(inventory[activeCategory] || []), item]\n    };\n\n    setInventory(updatedInventory);\n    saveInventory(updatedInventory);\n    \n    // Reset form with proper fields\n    const baseItem = { name: '', description: '' };\n    if (category?.additionalFields) {\n      category.additionalFields.forEach(field => {\n        baseItem[field.key] = field.type === 'number' ? 0 : '';\n      });\n    }\n    setNewItem(baseItem);\n    setShowAddForm(false);\n  };\n\n  // Edit item\n  const saveEdit = (itemId, updatedData) => {\n    const updatedInventory = {\n      ...inventory,\n      [activeCategory]: inventory[activeCategory].map(item =>\n        item.id === itemId ? { ...item, ...updatedData } : item\n      )\n    };\n\n    setInventory(updatedInventory);\n    saveInventory(updatedInventory);\n    setEditingItem(null);\n  };\n\n  // Delete item\n  const deleteItem = (itemId) => {\n    if (!window.confirm('Are you sure you want to delete this item?')) return;\n\n    const updatedInventory = {\n      ...inventory,\n      [activeCategory]: inventory[activeCategory].filter(item => item.id !== itemId)\n    };\n\n    setInventory(updatedInventory);\n    saveInventory(updatedInventory);\n  };\n\n  // Toggle item enabled/disabled\n  const toggleItem = (itemId) => {\n    const updatedInventory = {\n      ...inventory,\n      [activeCategory]: inventory[activeCategory].map(item =>\n        item.id === itemId ? { ...item, enabled: !item.enabled } : item\n      )\n    };\n\n    setInventory(updatedInventory);\n    saveInventory(updatedInventory);\n  };\n\n  // Filter items based on search\n  const getFilteredItems = () => {\n    const items = inventory[activeCategory] || [];\n    if (!searchTerm) return items;\n    \n    return items.filter(item => {\n      if (!item) return false;\n      const name = item.name || '';\n      const description = item.description || '';\n      const searchLower = searchTerm.toLowerCase();\n      \n      return name.toLowerCase().includes(searchLower) ||\n             description.toLowerCase().includes(searchLower);\n    });\n  };\n\n  // Get category stats\n  const getCategoryStats = (categoryKey) => {\n    const items = inventory[categoryKey] || [];\n    const enabled = items.filter(item => item.enabled).length;\n    return { total: items.length, enabled };\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800\">Inventory Management</h2>\n        <button\n          onClick={initializeDefaultInventory}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n        >\n          Reset to Defaults\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-12 gap-6\">\n        {/* Category Sidebar */}\n        <div className=\"col-span-3\">\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-700\">Categories</h3>\n          <div className=\"space-y-2\">\n            {Object.entries(categories).map(([categoryKey, category]) => {\n              const stats = getCategoryStats(categoryKey);\n              return (\n                <button\n                  key={categoryKey}\n                  onClick={() => setActiveCategory(categoryKey)}\n                  className={`w-full text-left p-3 rounded-md transition-colors ${\n                    activeCategory === categoryKey\n                      ? `bg-${category.color}-100 border border-${category.color}-300`\n                      : 'bg-gray-50 hover:bg-gray-100'\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                      <span className={`text-${category.color}-600 mr-2`}>\n                        {category.icon}\n                      </span>\n                      <span className=\"font-medium\">{category.name}</span>\n                    </div>\n                    <span className=\"text-xs text-gray-500\">\n                      {stats.enabled}/{stats.total}\n                    </span>\n                  </div>\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"col-span-9\">\n          {/* Header */}\n          <div className=\"flex justify-between items-center mb-4\">\n            <div className=\"flex items-center\">\n              <span className={`text-${categories[activeCategory].color}-600 mr-2`}>\n                {categories[activeCategory].icon}\n              </span>\n              <h3 className=\"text-xl font-semibold\">\n                {categories[activeCategory].name}\n              </h3>\n            </div>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n            >\n              <Plus size={16} className=\"mr-2\" />\n              Add Item\n            </button>\n          </div>\n\n          {/* Search */}\n          <div className=\"relative mb-4\">\n            <Search size={20} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search items...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          {/* Add Item Form */}\n          {showAddForm && (\n            <div className=\"bg-gray-50 rounded-md p-4 mb-4\">\n              <h4 className=\"text-lg font-medium mb-3\">Add New Item</h4>\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Item Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newItem.name}\n                      onChange={(e) => setNewItem({ ...newItem, name: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter item name...\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Description\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newItem.description}\n                      onChange={(e) => setNewItem({ ...newItem, description: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter description...\"\n                    />\n                  </div>\n                </div>\n                \n                {/* Additional fields for cups */}\n                {categories[activeCategory]?.additionalFields && (\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    {categories[activeCategory].additionalFields.map(field => (\n                      <div key={field.key}>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          {field.label}\n                        </label>\n                        <input\n                          type={field.type}\n                          value={newItem[field.key] || ''}\n                          onChange={(e) => setNewItem({ ...newItem, [field.key]: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder={`Enter ${field.label.toLowerCase()}...`}\n                          required={field.required}\n                        />\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              <div className=\"flex justify-end space-x-2 mt-4\">\n                <button\n                  onClick={() => {\n                    setShowAddForm(false);\n                    // Reset form with proper fields\n                    const baseItem = { name: '', description: '' };\n                    const category = categories[activeCategory];\n                    if (category?.additionalFields) {\n                      category.additionalFields.forEach(field => {\n                        baseItem[field.key] = field.type === 'number' ? 0 : '';\n                      });\n                    }\n                    setNewItem(baseItem);\n                  }}\n                  className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={addItem}\n                  className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n                >\n                  Add Item\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* Items List */}\n          <div className=\"space-y-2\">\n            {getFilteredItems().map(item => (\n              <div\n                key={item.id}\n                className={`p-4 rounded-md border ${\n                  item.enabled \n                    ? 'border-gray-200 bg-white' \n                    : 'border-gray-100 bg-gray-50 opacity-60'\n                }`}\n              >\n                {editingItem === item.id ? (\n                  <EditItemForm\n                    item={item}\n                    category={activeCategory}\n                    categories={categories}\n                    onSave={(updatedData) => saveEdit(item.id, updatedData)}\n                    onCancel={() => setEditingItem(null)}\n                  />\n                ) : (\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center space-x-3\">\n                      <label className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={item.enabled}\n                          onChange={() => toggleItem(item.id)}\n                          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                        />\n                      </label>\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{item.name}</h4>\n                        <p className=\"text-sm text-gray-600\">{item.description}</p>\n                        {/* Show additional fields for cups */}\n                        {activeCategory === 'cups' && (item.volume || item.shots) && (\n                          <div className=\"flex space-x-4 text-sm text-gray-500 mt-1\">\n                            {item.volume && <span>Volume: {item.volume}ml</span>}\n                            {item.shots && <span>Shots: {item.shots}</span>}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => setEditingItem(item.id)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-100 rounded-md\"\n                      >\n                        <Edit3 size={16} />\n                      </button>\n                      <button\n                        onClick={() => deleteItem(item.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-100 rounded-md\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n\n          {getFilteredItems().length === 0 && (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Package size={48} className=\"mx-auto mb-4 text-gray-400\" />\n              <p>No items found in this category</p>\n              {searchTerm && (\n                <p className=\"text-sm\">Try adjusting your search term</p>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Edit Item Form Component\nconst EditItemForm = ({ item, onSave, onCancel, category, categories }) => {\n  const [formData, setFormData] = useState({\n    name: item.name || '',\n    description: item.description || '',\n    volume: item.volume || 0,\n    shots: item.shots || 0\n  });\n\n  const handleSave = () => {\n    if (!formData.name || !formData.name.trim()) return;\n    \n    const updatedData = {\n      name: formData.name.trim(),\n      description: (formData.description || '').trim()\n    };\n    \n    // Include additional fields if defined for this category\n    if (categories[category]?.additionalFields) {\n      categories[category].additionalFields.forEach(field => {\n        if (formData[field.key] !== undefined) {\n          updatedData[field.key] = field.type === 'number' ? Number(formData[field.key]) : formData[field.key];\n        }\n      });\n    }\n    \n    onSave(updatedData);\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Item Name\n          </label>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Description\n          </label>\n          <input\n            type=\"text\"\n            value={formData.description}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          />\n        </div>\n      </div>\n      \n      {/* Additional fields for cups */}\n      {categories[category]?.additionalFields && (\n        <div className=\"grid grid-cols-2 gap-4\">\n          {categories[category].additionalFields.map(field => (\n            <div key={field.key}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                {field.label}\n              </label>\n              <input\n                type={field.type}\n                value={formData[field.key] || ''}\n                onChange={(e) => setFormData({ ...formData, [field.key]: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required={field.required}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n      <div className=\"flex justify-end space-x-2\">\n        <button\n          onClick={onCancel}\n          className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 flex items-center\"\n        >\n          <X size={16} className=\"mr-1\" />\n          Cancel\n        </button>\n        <button\n          onClick={handleSave}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center\"\n        >\n          <Save size={16} className=\"mr-1\" />\n          Save\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default InventoryManagement;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Package2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA5aDE4djEwYTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0yVjlaIiAvPgogIDxwYXRoIGQ9Im0zIDkgMi40NS00LjlBMiAyIDAgMCAxIDcuMjQgM2g5LjUyYTIgMiAwIDAgMSAxLjggMS4xTDIxIDkiIC8+CiAgPHBhdGggZD0iTTEyIDN2NiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/package-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Package2 = createLucideIcon('Package2', [\n  ['path', { d: 'M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z', key: '1ront0' }],\n  [\n    'path',\n    {\n      d: 'm3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9',\n      key: '19h2x1',\n    },\n  ],\n  ['path', { d: 'M12 3v6', key: '1holv5' }],\n]);\n\nexport default Package2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Minus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minus = createLucideIcon('Minus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n]);\n\nexport default Minus;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Package, Plus, Minus, Save, AlertCircle, Check,\n  Coffee, Droplet, Square, Candy, Beaker, Package2\n} from 'lucide-react';\n\n/**\n * Event Stock Management Component\n * Manages total stock levels for the entire event\n */\nconst EventStockManagement = () => {\n  const [eventStock, setEventStock] = useState({});\n  const [inventory, setInventory] = useState({});\n  const [hasChanges, setHasChanges] = useState(false);\n  const [saveMessage, setSaveMessage] = useState('');\n\n  // Category definitions with units\n  const categoryUnits = {\n    milk: { unit: 'L', defaultQuantity: 10, step: 1 },\n    coffee: { unit: 'kg', defaultQuantity: 5, step: 0.5 },\n    cups: { unit: 'units', defaultQuantity: 100, step: 50 },\n    syrups: { unit: 'bottles', defaultQuantity: 5, step: 1 },\n    sweeteners: { unit: 'units', defaultQuantity: 100, step: 10 },\n    extras: { unit: 'units', defaultQuantity: 50, step: 10 }\n  };\n\n  // Load data on mount\n  useEffect(() => {\n    loadInventory();\n    loadEventStock();\n  }, []);\n\n  // Load inventory from localStorage\n  const loadInventory = () => {\n    const savedInventory = localStorage.getItem('event_inventory');\n    if (savedInventory) {\n      try {\n        setInventory(JSON.parse(savedInventory));\n      } catch (e) {\n        console.error('Error loading inventory:', e);\n      }\n    }\n  };\n\n  // Load event stock levels\n  const loadEventStock = () => {\n    const savedStock = localStorage.getItem('event_stock_levels');\n    if (savedStock) {\n      try {\n        setEventStock(JSON.parse(savedStock));\n      } catch (e) {\n        console.error('Error loading event stock:', e);\n        initializeDefaultStock();\n      }\n    } else {\n      initializeDefaultStock();\n    }\n  };\n\n  // Initialize with default stock levels for enabled items\n  const initializeDefaultStock = () => {\n    const defaultStock = {};\n    \n    Object.entries(inventory).forEach(([category, items]) => {\n      defaultStock[category] = {};\n      items?.forEach(item => {\n        if (item.enabled) {\n          defaultStock[category][item.id] = {\n            quantity: categoryUnits[category]?.defaultQuantity || 10,\n            unit: categoryUnits[category]?.unit || 'units',\n            allocated: 0, // Track how much is allocated to stations\n            available: categoryUnits[category]?.defaultQuantity || 10\n          };\n        }\n      });\n    });\n    \n    setEventStock(defaultStock);\n  };\n\n  // Update stock quantity\n  const updateStockQuantity = (category, itemId, newQuantity) => {\n    const updatedStock = {\n      ...eventStock,\n      [category]: {\n        ...eventStock[category],\n        [itemId]: {\n          ...eventStock[category]?.[itemId],\n          quantity: Math.max(0, newQuantity),\n          available: Math.max(0, newQuantity - (eventStock[category]?.[itemId]?.allocated || 0))\n        }\n      }\n    };\n    \n    setEventStock(updatedStock);\n    setHasChanges(true);\n  };\n\n  // Save event stock levels\n  const saveEventStock = () => {\n    try {\n      localStorage.setItem('event_stock_levels', JSON.stringify(eventStock));\n      setSaveMessage('Event stock levels saved successfully!');\n      setHasChanges(false);\n      \n      // Notify other components\n      window.dispatchEvent(new CustomEvent('eventStock:updated', { \n        detail: { eventStock } \n      }));\n      \n      setTimeout(() => setSaveMessage(''), 3000);\n    } catch (e) {\n      console.error('Error saving event stock:', e);\n      setSaveMessage('Error saving stock levels');\n    }\n  };\n\n  // Calculate total allocated to stations\n  const calculateAllocated = (category, itemId) => {\n    // In a real implementation, this would sum up quantities from all stations\n    // For now, return 0 as placeholder\n    return 0;\n  };\n\n  // Get stock summary for a category\n  const getCategorySummary = (category) => {\n    const items = eventStock[category] || {};\n    let totalQuantity = 0;\n    let totalAllocated = 0;\n    let itemCount = 0;\n\n    Object.values(items).forEach(item => {\n      totalQuantity += item.quantity || 0;\n      totalAllocated += item.allocated || 0;\n      itemCount++;\n    });\n\n    return {\n      itemCount,\n      totalQuantity,\n      totalAllocated,\n      totalAvailable: totalQuantity - totalAllocated\n    };\n  };\n\n  // Get category icon\n  const getCategoryIcon = (category) => {\n    switch (category) {\n      case 'milk': return <Droplet size={20} />;\n      case 'coffee': return <Coffee size={20} />;\n      case 'cups': return <Square size={20} />;\n      case 'syrups': return <Beaker size={20} />;\n      case 'sweeteners': return <Candy size={20} />;\n      case 'extras': return <Package size={20} />;\n      default: return <Package2 size={20} />;\n    }\n  };\n\n  // Get category color\n  const getCategoryColor = (category) => {\n    const colors = {\n      milk: 'blue',\n      coffee: 'amber',\n      cups: 'green',\n      syrups: 'purple',\n      sweeteners: 'pink',\n      extras: 'indigo'\n    };\n    return colors[category] || 'gray';\n  };\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Event Stock Management</h2>\n            <p className=\"text-gray-600 mt-1\">\n              Manage total stock quantities for the entire event\n            </p>\n          </div>\n          {hasChanges && (\n            <button\n              onClick={saveEventStock}\n              className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n            >\n              <Save size={20} />\n              Save Changes\n            </button>\n          )}\n        </div>\n        \n        {saveMessage && (\n          <div className={`mt-4 p-3 rounded-md flex items-center gap-2 ${\n            saveMessage.includes('Error') \n              ? 'bg-red-100 text-red-700' \n              : 'bg-green-100 text-green-700'\n          }`}>\n            {saveMessage.includes('Error') ? <AlertCircle size={20} /> : <Check size={20} />}\n            {saveMessage}\n          </div>\n        )}\n      </div>\n\n      {/* Stock Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8\">\n        {Object.entries(inventory).map(([category, items]) => {\n          const summary = getCategorySummary(category);\n          const color = getCategoryColor(category);\n          const unit = categoryUnits[category]?.unit || 'units';\n          \n          return (\n            <div key={category} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center gap-2\">\n                  <div className={`p-2 bg-${color}-100 rounded-lg`}>\n                    {getCategoryIcon(category)}\n                  </div>\n                  <h3 className=\"font-semibold capitalize\">{category}</h3>\n                </div>\n                <span className=\"text-sm text-gray-500\">\n                  {summary.itemCount} items\n                </span>\n              </div>\n              <div className=\"space-y-1 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Total Stock:</span>\n                  <span className=\"font-medium\">{summary.totalQuantity} {unit}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Allocated:</span>\n                  <span className=\"text-orange-600\">{summary.totalAllocated} {unit}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Available:</span>\n                  <span className=\"text-green-600 font-medium\">\n                    {summary.totalAvailable} {unit}\n                  </span>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Detailed Stock Management */}\n      <div className=\"space-y-6\">\n        {Object.entries(inventory).map(([category, items]) => {\n          const enabledItems = items?.filter(item => item.enabled) || [];\n          if (enabledItems.length === 0) return null;\n          \n          const color = getCategoryColor(category);\n          const unit = categoryUnits[category]?.unit || 'units';\n          const step = categoryUnits[category]?.step || 1;\n          \n          return (\n            <div key={category} className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n              <div className={`px-6 py-4 bg-${color}-50 border-b border-${color}-200`}>\n                <div className=\"flex items-center gap-2\">\n                  {getCategoryIcon(category)}\n                  <h3 className=\"text-lg font-semibold capitalize\">{category}</h3>\n                  <span className=\"text-sm text-gray-600\">({unit})</span>\n                </div>\n              </div>\n              \n              <div className=\"p-6\">\n                <div className=\"space-y-4\">\n                  {enabledItems.map(item => {\n                    const stock = eventStock[category]?.[item.id] || {\n                      quantity: 0,\n                      allocated: 0,\n                      available: 0\n                    };\n                    \n                    return (\n                      <div key={item.id} className=\"flex items-center justify-between py-3 border-b border-gray-100 last:border-0\">\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-medium\">{item.name}</h4>\n                          <p className=\"text-sm text-gray-600\">{item.description}</p>\n                          <div className=\"flex gap-4 mt-1 text-sm\">\n                            <span className=\"text-orange-600\">\n                              Allocated: {stock.allocated} {unit}\n                            </span>\n                            <span className=\"text-green-600\">\n                              Available: {stock.available} {unit}\n                            </span>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-center gap-3\">\n                          <button\n                            onClick={() => updateStockQuantity(\n                              category, \n                              item.id, \n                              stock.quantity - step\n                            )}\n                            className=\"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300 transition-colors\"\n                          >\n                            <Minus size={16} />\n                          </button>\n                          \n                          <div className=\"text-center\">\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              step={step}\n                              value={stock.quantity}\n                              onChange={(e) => updateStockQuantity(\n                                category,\n                                item.id,\n                                parseFloat(e.target.value) || 0\n                              )}\n                              className=\"w-20 px-2 py-1 text-center border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                            />\n                            <div className=\"text-xs text-gray-500 mt-1\">{unit}</div>\n                          </div>\n                          \n                          <button\n                            onClick={() => updateStockQuantity(\n                              category, \n                              item.id, \n                              stock.quantity + step\n                            )}\n                            className=\"w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300 transition-colors\"\n                          >\n                            <Plus size={16} />\n                          </button>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default EventStockManagement;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA2LTggMTItOCAxMnMtOC02LTgtMTJhOCA4IDAgMCAxIDE2IDBaIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('MapPin', [\n  [\n    'path',\n    { d: 'M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z', key: '2oe9fu' },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n]);\n\nexport default MapPin;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Settings, Coffee, MapPin, Users, Save, Plus, Trash2, \n  Edit3, X, AlertCircle, CheckCircle\n} from 'lucide-react';\n\n/**\n * Simplified Station Settings Component\n * Manages basic station configuration without confusing session controls\n */\nconst StationSettings = ({ stations, onStationUpdate, onAddStation, onDeleteStation }) => {\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [stationData, setStationData] = useState({\n    name: '',\n    location: '',\n    status: 'active',\n    description: '',\n    maxConcurrentOrders: 3\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newStation, setNewStation] = useState({\n    name: '',\n    location: '',\n    description: '',\n    status: 'active',\n    maxConcurrentOrders: 3\n  });\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveStatus, setSaveStatus] = useState(null);\n\n  // Update station data when selection changes\n  useEffect(() => {\n    if (selectedStation) {\n      setStationData({\n        name: selectedStation.name || '',\n        location: selectedStation.location || '',\n        status: selectedStation.status || 'active',\n        description: selectedStation.description || '',\n        maxConcurrentOrders: selectedStation.maxConcurrentOrders || 3\n      });\n      setIsEditing(false);\n    }\n  }, [selectedStation]);\n\n  // Handle station save\n  const handleSave = async () => {\n    if (!selectedStation || !stationData.name.trim()) return;\n\n    setIsSaving(true);\n    setSaveStatus(null);\n\n    try {\n      const success = await onStationUpdate(selectedStation.id, stationData);\n      if (success) {\n        setSaveStatus('success');\n        setIsEditing(false);\n        setTimeout(() => setSaveStatus(null), 3000);\n      } else {\n        setSaveStatus('error');\n        setTimeout(() => setSaveStatus(null), 3000);\n      }\n    } catch (error) {\n      console.error('Error saving station:', error);\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus(null), 3000);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handle adding new station\n  const handleAddStation = async () => {\n    if (!newStation.name.trim()) return;\n\n    setIsSaving(true);\n    try {\n      const success = await onAddStation(newStation);\n      if (success) {\n        setShowAddForm(false);\n        setNewStation({\n          name: '',\n          location: '',\n          description: '',\n          status: 'active',\n          maxConcurrentOrders: 3\n        });\n        setSaveStatus('success');\n        setTimeout(() => setSaveStatus(null), 3000);\n      } else {\n        setSaveStatus('error');\n        setTimeout(() => setSaveStatus(null), 3000);\n      }\n    } catch (error) {\n      console.error('Error adding station:', error);\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus(null), 3000);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handle station deletion\n  const handleDeleteStation = async (stationId) => {\n    if (!window.confirm('Are you sure you want to delete this station? This action cannot be undone.')) {\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      const success = await onDeleteStation(stationId);\n      if (success) {\n        if (selectedStation?.id === stationId) {\n          setSelectedStation(null);\n        }\n        setSaveStatus('success');\n        setTimeout(() => setSaveStatus(null), 3000);\n      } else {\n        setSaveStatus('error');\n        setTimeout(() => setSaveStatus(null), 3000);\n      }\n    } catch (error) {\n      console.error('Error deleting station:', error);\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus(null), 3000);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800 flex items-center\">\n          <Settings className=\"mr-2\" />\n          Station Settings\n          <span className=\"ml-3 px-2 py-1 bg-green-100 text-green-800 text-sm rounded-md\">\n             New Interface\n          </span>\n        </h2>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n        >\n          <Plus size={16} className=\"mr-2\" />\n          Add Station\n        </button>\n      </div>\n\n      {/* Status Messages */}\n      {saveStatus && (\n        <div className={`mb-4 p-3 rounded-md flex items-center ${\n          saveStatus === 'success' \n            ? 'bg-green-100 text-green-800 border border-green-200' \n            : 'bg-red-100 text-red-800 border border-red-200'\n        }`}>\n          {saveStatus === 'success' ? (\n            <CheckCircle size={16} className=\"mr-2\" />\n          ) : (\n            <AlertCircle size={16} className=\"mr-2\" />\n          )}\n          {saveStatus === 'success' ? 'Changes saved successfully!' : 'Error saving changes. Please try again.'}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-12 gap-6\">\n        {/* Station List */}\n        <div className=\"col-span-4\">\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-700\">Stations</h3>\n          <div className=\"space-y-2\">\n            {stations.map(station => (\n              <div\n                key={station.id}\n                className={`p-3 rounded-md border cursor-pointer transition-colors ${\n                  selectedStation?.id === station.id\n                    ? 'border-blue-300 bg-blue-50'\n                    : 'border-gray-200 hover:bg-gray-50'\n                }`}\n                onClick={() => setSelectedStation(station)}\n              >\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-gray-900\">{station.name}</h4>\n                    {station.location && (\n                      <p className=\"text-sm text-gray-600 flex items-center mt-1\">\n                        <MapPin size={12} className=\"mr-1\" />\n                        {station.location}\n                      </p>\n                    )}\n                    <div className=\"flex items-center mt-1\">\n                      <div className={`w-2 h-2 rounded-full mr-2 ${\n                        station.status === 'active' ? 'bg-green-500' : 'bg-red-500'\n                      }`} />\n                      <span className=\"text-xs text-gray-500\">\n                        {station.status === 'active' ? 'Active' : 'Inactive'}\n                      </span>\n                    </div>\n                  </div>\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDeleteStation(station.id);\n                    }}\n                    className=\"text-red-600 hover:bg-red-100 p-1 rounded\"\n                  >\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {stations.length === 0 && (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Coffee size={48} className=\"mx-auto mb-4 text-gray-400\" />\n              <p>No stations configured</p>\n              <p className=\"text-sm\">Add your first station to get started</p>\n            </div>\n          )}\n        </div>\n\n        {/* Station Details */}\n        <div className=\"col-span-8\">\n          {selectedStation ? (\n            <div>\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-xl font-semibold\">Configure Station</h3>\n                <div className=\"flex space-x-2\">\n                  {isEditing ? (\n                    <>\n                      <button\n                        onClick={() => {\n                          setIsEditing(false);\n                          setStationData({\n                            name: selectedStation.name || '',\n                            location: selectedStation.location || '',\n                            status: selectedStation.status || 'active',\n                            description: selectedStation.description || '',\n                            maxConcurrentOrders: selectedStation.maxConcurrentOrders || 3\n                          });\n                        }}\n                        className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 flex items-center\"\n                      >\n                        <X size={16} className=\"mr-2\" />\n                        Cancel\n                      </button>\n                      <button\n                        onClick={handleSave}\n                        disabled={isSaving}\n                        className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center disabled:opacity-50\"\n                      >\n                        <Save size={16} className=\"mr-2\" />\n                        {isSaving ? 'Saving...' : 'Save Changes'}\n                      </button>\n                    </>\n                  ) : (\n                    <button\n                      onClick={() => setIsEditing(true)}\n                      className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center\"\n                    >\n                      <Edit3 size={16} className=\"mr-2\" />\n                      Edit Station\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"space-y-6\">\n                {/* Basic Information */}\n                <div className=\"bg-gray-50 rounded-md p-4\">\n                  <h4 className=\"text-lg font-medium mb-4\">Basic Information</h4>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Station Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={stationData.name}\n                        onChange={(e) => setStationData({ ...stationData, name: e.target.value })}\n                        disabled={!isEditing}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                        placeholder=\"Enter station name...\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Location\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={stationData.location}\n                        onChange={(e) => setStationData({ ...stationData, location: e.target.value })}\n                        disabled={!isEditing}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                        placeholder=\"Enter location...\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"mt-4\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Description\n                    </label>\n                    <textarea\n                      value={stationData.description}\n                      onChange={(e) => setStationData({ ...stationData, description: e.target.value })}\n                      disabled={!isEditing}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                      placeholder=\"Optional description...\"\n                    />\n                  </div>\n                </div>\n\n                {/* Operational Settings */}\n                <div className=\"bg-gray-50 rounded-md p-4\">\n                  <h4 className=\"text-lg font-medium mb-4\">Operational Settings</h4>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Status\n                      </label>\n                      <select\n                        value={stationData.status}\n                        onChange={(e) => setStationData({ ...stationData, status: e.target.value })}\n                        disabled={!isEditing}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                      >\n                        <option value=\"active\">Active</option>\n                        <option value=\"inactive\">Inactive</option>\n                        <option value=\"maintenance\">Maintenance</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Max Concurrent Orders\n                      </label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        max=\"10\"\n                        value={stationData.maxConcurrentOrders}\n                        onChange={(e) => setStationData({ ...stationData, maxConcurrentOrders: parseInt(e.target.value) || 1 })}\n                        disabled={!isEditing}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-center py-12 text-gray-500\">\n              <Settings size={48} className=\"mx-auto mb-4 text-gray-400\" />\n              <p>Select a station to configure its settings</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Add Station Form */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-xl font-semibold mb-4\">Add New Station</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Station Name *\n                </label>\n                <input\n                  type=\"text\"\n                  value={newStation.name}\n                  onChange={(e) => setNewStation({ ...newStation, name: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Enter station name...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Location\n                </label>\n                <input\n                  type=\"text\"\n                  value={newStation.location}\n                  onChange={(e) => setNewStation({ ...newStation, location: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Enter location...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Description\n                </label>\n                <textarea\n                  value={newStation.description}\n                  onChange={(e) => setNewStation({ ...newStation, description: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Optional description...\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Status\n                  </label>\n                  <select\n                    value={newStation.status}\n                    onChange={(e) => setNewStation({ ...newStation, status: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Max Orders\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"10\"\n                    value={newStation.maxConcurrentOrders}\n                    onChange={(e) => setNewStation({ ...newStation, maxConcurrentOrders: parseInt(e.target.value) || 1 })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-2 mt-6\">\n              <button\n                onClick={() => {\n                  setShowAddForm(false);\n                  setNewStation({\n                    name: '',\n                    location: '',\n                    description: '',\n                    status: 'active',\n                    maxConcurrentOrders: 3\n                  });\n                }}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleAddStation}\n                disabled={!newStation.name.trim() || isSaving}\n                className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:opacity-50\"\n              >\n                {isSaving ? 'Adding...' : 'Add Station'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StationSettings;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Circle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Circle = createLucideIcon('Circle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n]);\n\nexport default Circle;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Coffee, Settings, Check, X, Search, Filter, \n  CheckCircle, Circle, Package, Trash2, Plus, Minus\n} from 'lucide-react';\nimport InventoryIntegrationService from '../services/InventoryIntegrationService';\n\n/**\n * Station Inventory Configuration Component\n * Allows selecting which inventory items are available at each station\n */\nconst StationInventoryConfig = ({ stations }) => {\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [stationConfigs, setStationConfigs] = useState({});\n  const [stationInventory, setStationInventory] = useState({}); // Station-specific inventory with quantities\n  const [inventory, setInventory] = useState({});\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterAvailability, setFilterAvailability] = useState('all');\n\n  // Category definitions (matching InventoryManagement)\n  const categories = {\n    milk: { name: 'Milk & Dairy', color: 'blue' },\n    coffee: { name: 'Coffee Types', color: 'amber' },\n    cups: { name: 'Cups & Sizes', color: 'green' },\n    syrups: { name: 'Syrups & Flavors', color: 'purple' },\n    sweeteners: { name: 'Sugars & Sweeteners', color: 'pink' },\n    extras: { name: 'Extras & Add-ons', color: 'indigo' }\n  };\n\n  // Load data on mount\n  useEffect(() => {\n    console.log('StationInventoryConfig mounting, loading data...');\n    loadInventory();\n    loadStationConfigs();\n    loadStationInventory();\n    \n    // Cleanup function to track unmounting\n    return () => {\n      console.log('StationInventoryConfig unmounting...');\n    };\n  }, []);\n\n  // Don't auto-initialize - let user explicitly choose what's available\n  // This was causing all items to be enabled by default\n  useEffect(() => {\n    console.log('Inventory loaded, length:', Object.keys(inventory).length);\n    // Remove auto-initialization\n  }, [inventory]);\n\n  // Load inventory from localStorage\n  const loadInventory = () => {\n    const savedInventory = localStorage.getItem('event_inventory');\n    if (savedInventory) {\n      try {\n        const inventoryData = JSON.parse(savedInventory);\n        setInventory(inventoryData);\n      } catch (e) {\n        console.error('Error loading inventory:', e);\n      }\n    }\n  };\n\n  // Load station configurations\n  const loadStationConfigs = () => {\n    const savedConfigs = localStorage.getItem('station_inventory_configs');\n    console.log('Loading station configs from localStorage:', savedConfigs);\n    if (savedConfigs) {\n      try {\n        const parsed = JSON.parse(savedConfigs);\n        console.log('Parsed station configs:', parsed);\n        setStationConfigs(parsed);\n      } catch (e) {\n        console.error('Error loading station configs:', e);\n      }\n    } else {\n      console.log('No saved station configs found');\n    }\n  };\n\n  // Load station inventory (quantities)\n  const loadStationInventory = () => {\n    const savedInventory = localStorage.getItem('station_inventory_quantities');\n    console.log('Loading station inventory quantities from localStorage:', savedInventory);\n    if (savedInventory) {\n      try {\n        const parsed = JSON.parse(savedInventory);\n        console.log('Parsed station inventory quantities:', parsed);\n        setStationInventory(parsed);\n      } catch (e) {\n        console.error('Error loading station inventory:', e);\n      }\n    } else {\n      console.log('No saved station inventory quantities found');\n    }\n  };\n\n  // Initialize station configurations for all stations\n  const initializeStationConfigs = () => {\n    console.log('initializeStationConfigs called, current configs:', stationConfigs);\n    \n    // Only initialize if configs are truly empty\n    const hasAnyConfig = Object.keys(stationConfigs).some(stationId => {\n      const config = stationConfigs[stationId];\n      return config && Object.keys(config).length > 0;\n    });\n    \n    if (hasAnyConfig) {\n      console.log('Configs already exist, skipping initialization');\n      return;\n    }\n    \n    // Create configurations for stations 1, 2, and 3 if they don't exist\n    const stationsToInitialize = ['1', '2', '3'];\n    let needsUpdate = false;\n    let updatedConfigs = { ...stationConfigs };\n\n    stationsToInitialize.forEach(stationId => {\n      if (!updatedConfigs[stationId] || Object.keys(updatedConfigs[stationId]).length === 0) {\n        console.log(`Initializing configuration for station ${stationId}`);\n        // Default: all enabled items are available\n        const defaultConfig = {};\n        Object.keys(inventory).forEach(category => {\n          defaultConfig[category] = {};\n          inventory[category]?.forEach(item => {\n            if (item.enabled) {\n              defaultConfig[category][item.id] = true;\n            }\n          });\n        });\n        updatedConfigs[stationId] = defaultConfig;\n        needsUpdate = true;\n      }\n    });\n\n    if (needsUpdate) {\n      console.log('Saving initialized station configurations:', updatedConfigs);\n      saveStationConfigs(updatedConfigs);\n    } else {\n      console.log('No initialization needed');\n    }\n  };\n\n  // Save station configurations\n  const saveStationConfigs = (configs) => {\n    try {\n      // Validate before saving\n      const configString = JSON.stringify(configs);\n      console.log('Saving to localStorage:', configString);\n      \n      localStorage.setItem('station_inventory_configs', configString);\n      setStationConfigs(configs);\n      \n      // Verify it was saved correctly\n      const savedConfigs = localStorage.getItem('station_inventory_configs');\n      console.log('Verified saved configs:', savedConfigs);\n      \n      // Notify integration service that station configuration was updated\n      InventoryIntegrationService.notifyStationConfigUpdated();\n    } catch (e) {\n      console.error('Error saving station configs:', e);\n    }\n  };\n\n  // Save station inventory quantities\n  const saveStationInventory = (inventory) => {\n    try {\n      const inventoryString = JSON.stringify(inventory);\n      console.log('Saving station inventory quantities to localStorage:', inventoryString);\n      localStorage.setItem('station_inventory_quantities', inventoryString);\n      setStationInventory(inventory);\n      console.log('Station inventory quantities saved successfully');\n      \n      // Verify it was saved correctly\n      const savedInventory = localStorage.getItem('station_inventory_quantities');\n      console.log('Verified saved inventory quantities:', savedInventory);\n      \n      // Don't auto-sync - it's overwriting configurations\n      // InventoryIntegrationService.syncInventoryToStations();\n      console.log('Skipping auto-sync to prevent config loss');\n    } catch (e) {\n      console.error('Error saving station inventory:', e);\n    }\n  };\n\n  // Get station inventory for a specific station and item\n  const getStationItemQuantity = (stationId, category, itemId) => {\n    // Ensure stationId is a string for consistency\n    const stationIdStr = String(stationId);\n    return stationInventory[stationIdStr]?.[category]?.[itemId]?.quantity || 0;\n  };\n\n  // Update station inventory quantity\n  const updateStationItemQuantity = (stationId, category, itemId, newQuantity) => {\n    // Ensure stationId is a string for consistency\n    const stationIdStr = String(stationId);\n    \n    // Ensure the nested structure exists\n    const updatedInventory = { ...stationInventory };\n    \n    // Initialize station if it doesn't exist\n    if (!updatedInventory[stationIdStr]) {\n      updatedInventory[stationIdStr] = {};\n    }\n    \n    // Initialize category if it doesn't exist\n    if (!updatedInventory[stationIdStr][category]) {\n      updatedInventory[stationIdStr][category] = {};\n    }\n    \n    // Initialize item if it doesn't exist\n    if (!updatedInventory[stationIdStr][category][itemId]) {\n      updatedInventory[stationIdStr][category][itemId] = {};\n    }\n    \n    // Update the quantity\n    updatedInventory[stationIdStr][category][itemId].quantity = Math.max(0, newQuantity);\n    \n    console.log(`Updated quantity for item ${itemId} in category ${category} at station ${stationIdStr} to ${newQuantity}`);\n    \n    saveStationInventory(updatedInventory);\n  };\n\n  // Remove item from station\n  const removeItemFromStation = (stationId, category, itemId) => {\n    // Ensure stationId is a string for consistency\n    const stationIdStr = String(stationId);\n    \n    // Remove from config\n    const currentConfig = getStationConfig(stationIdStr);\n    const updatedConfig = {\n      ...currentConfig,\n      [category]: {\n        ...currentConfig[category]\n      }\n    };\n    delete updatedConfig[category][itemId];\n\n    const updatedConfigs = {\n      ...stationConfigs,\n      [stationIdStr]: updatedConfig\n    };\n    saveStationConfigs(updatedConfigs);\n\n    // Remove from inventory\n    const updatedInventory = { ...stationInventory };\n    if (updatedInventory[stationIdStr]?.[category]?.[itemId]) {\n      delete updatedInventory[stationIdStr][category][itemId];\n      saveStationInventory(updatedInventory);\n    }\n  };\n\n  // Get station config - return empty if not configured\n  const getStationConfig = (stationId) => {\n    // Ensure stationId is a string for consistency\n    const stationIdStr = String(stationId);\n    if (!stationConfigs[stationIdStr]) {\n      // Return empty config - don't auto-enable everything\n      return {};\n    }\n    return stationConfigs[stationIdStr];\n  };\n\n  // Toggle item availability for station\n  const toggleItemForStation = (stationId, category, itemId) => {\n    // Ensure stationId is a string for consistency\n    const stationIdStr = String(stationId);\n    console.log(`Toggling item ${itemId} in category ${category} for station ${stationIdStr}`);\n    \n    const currentConfig = getStationConfig(stationIdStr);\n    const isCurrentlyAvailable = currentConfig[category]?.[itemId] || false;\n    \n    console.log(`Current availability: ${isCurrentlyAvailable}, setting to: ${!isCurrentlyAvailable}`);\n    \n    const updatedConfig = {\n      ...currentConfig,\n      [category]: {\n        ...currentConfig[category],\n        [itemId]: !isCurrentlyAvailable\n      }\n    };\n\n    const updatedConfigs = {\n      ...stationConfigs,\n      [stationIdStr]: updatedConfig\n    };\n\n    // Validate the structure before saving\n    console.log('Updated config for station:', stationIdStr, updatedConfig);\n    console.log('Full configs to save:', JSON.stringify(updatedConfigs, null, 2));\n    \n    saveStationConfigs(updatedConfigs);\n\n    // If we're adding the item, initialize with default quantity\n    if (!isCurrentlyAvailable) {\n      const item = inventory[category]?.find(i => i.id === itemId);\n      if (item) {\n        // Set default quantity based on category\n        const defaultQuantity = category === 'milk' ? 5 : \n                               category === 'coffee' ? 2 : \n                               category === 'cups' ? 50 : 10;\n        console.log(`Setting default quantity ${defaultQuantity} for new item ${item.name} (${itemId}) in category ${category}`);\n        updateStationItemQuantity(stationId, category, itemId, defaultQuantity);\n      }\n    }\n  };\n\n  // Set all items in category for station\n  const setAllItemsInCategory = (stationId, category, available) => {\n    const currentConfig = getStationConfig(stationId);\n    const categoryItems = {};\n    \n    inventory[category]?.forEach(item => {\n      if (item.enabled) {\n        categoryItems[item.id] = available;\n      }\n    });\n\n    const updatedConfig = {\n      ...currentConfig,\n      [category]: categoryItems\n    };\n\n    const updatedConfigs = {\n      ...stationConfigs,\n      [stationId]: updatedConfig\n    };\n\n    saveStationConfigs(updatedConfigs);\n  };\n\n  // Get all items across all categories for filtering\n  const getAllItems = () => {\n    const allItems = [];\n    Object.keys(inventory).forEach(category => {\n      inventory[category]?.forEach(item => {\n        if (item.enabled) {\n          allItems.push({\n            ...item,\n            category,\n            categoryName: categories[category]?.name || category\n          });\n        }\n      });\n    });\n    return allItems;\n  };\n\n  // Filter items based on search and filters\n  const getFilteredItems = () => {\n    let items = getAllItems();\n\n    // Filter by search term\n    if (searchTerm) {\n      items = items.filter(item =>\n        item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.categoryName.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Filter by category\n    if (filterCategory !== 'all') {\n      items = items.filter(item => item.category === filterCategory);\n    }\n\n    // Filter by availability\n    if (filterAvailability !== 'all' && selectedStation) {\n      const stationConfig = getStationConfig(selectedStation.id);\n      items = items.filter(item => {\n        const isAvailable = stationConfig[item.category]?.[item.id] || false;\n        return filterAvailability === 'available' ? isAvailable : !isAvailable;\n      });\n    }\n\n    return items;\n  };\n\n  // Get station stats\n  const getStationStats = (stationId) => {\n    const config = getStationConfig(stationId);\n    let totalAvailable = 0;\n    let totalItems = 0;\n\n    Object.keys(inventory).forEach(category => {\n      inventory[category]?.forEach(item => {\n        if (item.enabled) {\n          totalItems++;\n          if (config[category]?.[item.id]) {\n            totalAvailable++;\n          }\n        }\n      });\n    });\n\n    return { available: totalAvailable, total: totalItems };\n  };\n\n  // Copy config from another station\n  const copyConfigFromStation = (fromStationId, toStationId) => {\n    const fromConfig = getStationConfig(fromStationId);\n    const updatedConfigs = {\n      ...stationConfigs,\n      [toStationId]: JSON.parse(JSON.stringify(fromConfig))\n    };\n    saveStationConfigs(updatedConfigs);\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800\">Station Inventory Configuration</h2>\n      </div>\n      \n      <div className=\"grid grid-cols-12 gap-6\">\n        {/* Station Selector */}\n        <div className=\"col-span-3\">\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-700\">Select Station</h3>\n          <div className=\"space-y-2\">\n            {stations.map(station => {\n              const stats = getStationStats(station.id);\n              return (\n                <button\n                  key={station.id}\n                  onClick={() => setSelectedStation(station)}\n                  className={`w-full text-left p-3 rounded-md transition-colors ${\n                    selectedStation?.id === station.id\n                      ? 'bg-blue-100 border border-blue-300'\n                      : 'bg-gray-50 hover:bg-gray-100'\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <div className=\"font-medium\">{station.name}</div>\n                      {station.location && (\n                        <div className=\"text-sm text-gray-500\">{station.location}</div>\n                      )}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      {stats.available}/{stats.total}\n                    </div>\n                  </div>\n                </button>\n              );\n            })}\n          </div>\n          \n          {selectedStation && (\n            <div className=\"mt-4\">\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Quick Actions</h4>\n              <div className=\"space-y-2\">\n                <select\n                  onChange={(e) => {\n                    if (e.target.value) {\n                      copyConfigFromStation(parseInt(e.target.value), selectedStation.id);\n                      e.target.value = '';\n                    }\n                  }}\n                  className=\"w-full text-sm px-2 py-1 border border-gray-300 rounded\"\n                >\n                  <option value=\"\">Copy from station...</option>\n                  {stations\n                    .filter(s => s.id !== selectedStation.id)\n                    .map(station => (\n                      <option key={station.id} value={station.id}>\n                        {station.name}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Main Content */}\n        <div className=\"col-span-9\">\n          {selectedStation ? (\n            <>\n              {/* Header */}\n              <div className=\"flex justify-between items-center mb-4\">\n                <div className=\"flex items-center\">\n                  <Coffee className=\"mr-2 text-blue-600\" />\n                  <h3 className=\"text-xl font-semibold\">\n                    Configure {selectedStation.name}\n                  </h3>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-sm text-gray-500\">\n                    {(() => {\n                      const stats = getStationStats(selectedStation.id);\n                      return `${stats.available} of ${stats.total} items available`;\n                    })()}\n                  </div>\n                  <button\n                    onClick={() => {\n                      console.log('Manual sync triggered');\n                      InventoryIntegrationService.forceSyncAllStations();\n                    }}\n                    className=\"px-3 py-1 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n                    title=\"Sync configurations to barista stations\"\n                  >\n                    Sync to Stations\n                  </button>\n                </div>\n              </div>\n\n              {/* Filters */}\n              <div className=\"grid grid-cols-3 gap-4 mb-6\">\n                <div className=\"relative\">\n                  <Search size={20} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search items...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                <select\n                  value={filterCategory}\n                  onChange={(e) => setFilterCategory(e.target.value)}\n                  className=\"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"all\">All Categories</option>\n                  {Object.entries(categories).map(([key, category]) => (\n                    <option key={key} value={key}>{category.name}</option>\n                  ))}\n                </select>\n                <select\n                  value={filterAvailability}\n                  onChange={(e) => setFilterAvailability(e.target.value)}\n                  className=\"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"all\">All Items</option>\n                  <option value=\"available\">Available Only</option>\n                  <option value=\"unavailable\">Unavailable Only</option>\n                </select>\n              </div>\n\n              {/* Category Quick Actions */}\n              <div className=\"bg-gray-50 rounded-md p-4 mb-4\">\n                <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Category Quick Actions</h4>\n                <div className=\"grid grid-cols-3 gap-2\">\n                  {Object.entries(categories).map(([categoryKey, category]) => {\n                    const categoryItems = inventory[categoryKey]?.filter(item => item.enabled) || [];\n                    const config = getStationConfig(selectedStation.id);\n                    const availableCount = categoryItems.filter(item => \n                      config[categoryKey]?.[item.id]\n                    ).length;\n\n                    return (\n                      <div key={categoryKey} className=\"flex items-center justify-between p-2 bg-white rounded border\">\n                        <span className=\"text-sm font-medium\">{category.name}</span>\n                        <div className=\"flex space-x-1\">\n                          <span className=\"text-xs text-gray-500\">\n                            {availableCount}/{categoryItems.length}\n                          </span>\n                          <button\n                            onClick={() => setAllItemsInCategory(selectedStation.id, categoryKey, true)}\n                            className=\"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600\"\n                          >\n                            All\n                          </button>\n                          <button\n                            onClick={() => setAllItemsInCategory(selectedStation.id, categoryKey, false)}\n                            className=\"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600\"\n                          >\n                            None\n                          </button>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* Items List */}\n              <div className=\"space-y-2\">\n                {getFilteredItems().map(item => {\n                  const stationConfig = getStationConfig(selectedStation.id);\n                  const isAvailable = stationConfig[item.category]?.[item.id] || false;\n                  \n                  // Debug log for specific items\n                  if (item.name === 'Latte' || item.name === 'Small' || item.name === 'Medium') {\n                    console.log(`Item ${item.name} (${item.id}) availability for station ${selectedStation.id}:`, isAvailable, 'Config:', stationConfig[item.category]);\n                  }\n                  const currentQuantity = getStationItemQuantity(selectedStation.id, item.category, item.id);\n                  \n                  // Debug quantity loading for specific items\n                  if (item.name.includes('Latte') || item.name.includes('Small')) {\n                    const stationIdStr = String(selectedStation.id);\n                    console.log(`Getting quantity for ${item.name} (${item.id}) at station ${selectedStation.id}:`, {\n                      stationId: selectedStation.id,\n                      stationIdStr,\n                      fullInventory: stationInventory,\n                      stationInventory: stationInventory[stationIdStr],\n                      categoryData: stationInventory[stationIdStr]?.[item.category],\n                      itemData: stationInventory[stationIdStr]?.[item.category]?.[item.id],\n                      currentQuantity\n                    });\n                  }\n                  \n                  return (\n                    <div\n                      key={item.id}\n                      className=\"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50\"\n                    >\n                      <div className=\"flex items-center space-x-3\">\n                        <button\n                          onClick={() => toggleItemForStation(selectedStation.id, item.category, item.id)}\n                          className={`p-2 rounded-md border-2 transition-colors ${\n                            isAvailable \n                              ? 'bg-green-50 border-green-500 text-green-600 hover:bg-green-100' \n                              : 'bg-gray-50 border-gray-300 text-gray-400 hover:bg-gray-100 hover:border-gray-400'\n                          }`}\n                          title={isAvailable ? 'Click to disable for this station' : 'Click to enable for this station'}\n                        >\n                          {isAvailable ? <CheckCircle size={18} /> : <Circle size={18} />}\n                        </button>\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-medium text-gray-900\">{item.name}</h4>\n                          <p className=\"text-sm text-gray-600\">{item.description}</p>\n                          {isAvailable && (\n                            <div className=\"mt-1 flex items-center space-x-2\">\n                              <span className=\"text-xs text-gray-500\">Quantity:</span>\n                              <div className=\"flex items-center space-x-1\">\n                                <button\n                                  onClick={() => updateStationItemQuantity(\n                                    selectedStation.id, \n                                    item.category, \n                                    item.id, \n                                    currentQuantity - 1\n                                  )}\n                                  disabled={currentQuantity <= 0}\n                                  className=\"w-6 h-6 flex items-center justify-center text-xs bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n                                >\n                                  <Minus size={12} />\n                                </button>\n                                <input\n                                  type=\"number\"\n                                  min=\"0\"\n                                  value={currentQuantity}\n                                  onChange={(e) => updateStationItemQuantity(\n                                    selectedStation.id,\n                                    item.category,\n                                    item.id,\n                                    parseInt(e.target.value) || 0\n                                  )}\n                                  className=\"w-16 px-1 py-0.5 text-xs text-center border border-gray-300 rounded\"\n                                />\n                                <button\n                                  onClick={() => updateStationItemQuantity(\n                                    selectedStation.id,\n                                    item.category,\n                                    item.id,\n                                    currentQuantity + 1\n                                  )}\n                                  className=\"w-6 h-6 flex items-center justify-center text-xs bg-gray-200 rounded hover:bg-gray-300\"\n                                >\n                                  <Plus size={12} />\n                                </button>\n                                <span className=\"text-xs text-gray-500 ml-2\">\n                                  {item.unit || (item.category === 'milk' ? 'L' : \n                                              item.category === 'coffee' ? 'kg' : 'units')}\n                                </span>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${\n                          categories[item.category] \n                            ? `bg-${categories[item.category].color}-100 text-${categories[item.category].color}-800`\n                            : 'bg-gray-100 text-gray-800'\n                        }`}>\n                          {item.categoryName}\n                        </span>\n                        {isAvailable && (\n                          <button\n                            onClick={() => removeItemFromStation(selectedStation.id, item.category, item.id)}\n                            className=\"p-1 text-red-500 hover:bg-red-100 rounded\"\n                            title=\"Remove from station\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        )}\n                        <div className={`w-3 h-3 rounded-full ${\n                          isAvailable ? 'bg-green-500' : 'bg-gray-300'\n                        }`} />\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n\n              {getFilteredItems().length === 0 && (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <Package size={48} className=\"mx-auto mb-4 text-gray-400\" />\n                  <p>No items found</p>\n                  {searchTerm && (\n                    <p className=\"text-sm\">Try adjusting your search or filters</p>\n                  )}\n                </div>\n              )}\n            </>\n          ) : (\n            <div className=\"text-center py-12 text-gray-500\">\n              <Settings size={48} className=\"mx-auto mb-4 text-gray-400\" />\n              <p>Select a station to configure its available inventory</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StationInventoryConfig;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PauseCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjE1IiB5Mj0iOSIgLz4KICA8bGluZSB4MT0iMTQiIHgyPSIxNCIgeTE9IjE1IiB5Mj0iOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pause-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PauseCircle = createLucideIcon('PauseCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '10', x2: '10', y1: '15', y2: '9', key: 'c1nkhi' }],\n  ['line', { x1: '14', x2: '14', y1: '15', y2: '9', key: 'h65svq' }],\n]);\n\nexport default PauseCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('Lock', [\n  [\n    'rect',\n    {\n      width: '18',\n      height: '11',\n      x: '3',\n      y: '11',\n      rx: '2',\n      ry: '2',\n      key: '1w4ew1',\n    },\n  ],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n]);\n\nexport default Lock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Unlock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgOS45LTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/unlock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Unlock = createLucideIcon('Unlock', [\n  [\n    'rect',\n    {\n      width: '18',\n      height: '11',\n      x: '3',\n      y: '11',\n      rx: '2',\n      ry: '2',\n      key: '1w4ew1',\n    },\n  ],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 9.9-1', key: '1mm8w8' }],\n]);\n\nexport default Unlock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PlayCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWdvbiBwb2ludHM9IjEwIDggMTYgMTIgMTAgMTYgMTAgOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/play-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PlayCircle = createLucideIcon('PlayCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polygon', { points: '10 8 16 12 10 16 10 8', key: '1cimsy' }],\n]);\n\nexport default PlayCircle;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Calendar, Clock, Plus, Trash2, Users, Coffee, Lock, Unlock, AlertTriangle,\n  PlayCircle, PauseCircle, Bell, Timer, Shield, UserCheck, ChevronLeft,\n  ChevronRight, MessageSquare, Activity, RefreshCw, Settings, AlertCircle,\n  CheckCircle, XCircle, User, Star, Award\n} from 'lucide-react';\nimport ScheduleService from '../services/ScheduleService';\nimport StationsService from '../services/StationsService';\nimport MessageService from '../services/MessageService';\n\n/**\n * Enhanced Schedule Management Component for Organiser Interface\n * Comprehensive event schedule management with timeline visualization,\n * station control, session management, and real-time controls\n */\nconst EnhancedScheduleManagement = () => {\n  // Core state\n  const [sessions, setSessions] = useState([]);\n  const [stations, setStations] = useState([]);\n  const [baristas, setBaristas] = useState([]);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  \n  // UI state\n  const [activeTab, setActiveTab] = useState('timeline');\n  const [showAddSession, setShowAddSession] = useState(false);\n  const [showAssignBarista, setShowAssignBarista] = useState(false);\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [selectedStation, setSelectedStation] = useState(null);\n  \n  // Real-time state\n  const [sessionStatuses, setSessionStatuses] = useState({});\n  const [stationLocks, setStationLocks] = useState({});\n  const [preOrderWindows, setPreOrderWindows] = useState({});\n  const [emergencyOverride, setEmergencyOverride] = useState(false);\n  \n  // Timeline ref for auto-scrolling\n  const timelineRef = useRef(null);\n  \n  // Update current time every minute\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 60000);\n    return () => clearInterval(timer);\n  }, []);\n  \n  // Load initial data\n  useEffect(() => {\n    loadStations();\n    loadBaristas();\n    loadSessions();\n    loadSessionStatuses();\n  }, [selectedDate]);\n  \n  // Auto-scroll timeline to current time\n  useEffect(() => {\n    if (timelineRef.current && activeTab === 'timeline') {\n      const currentHour = currentTime.getHours();\n      const scrollPosition = (currentHour - 6) * 120; // Assuming 120px per hour\n      timelineRef.current.scrollLeft = Math.max(0, scrollPosition - 200);\n    }\n  }, [currentTime, activeTab]);\n  \n  // Load stations\n  const loadStations = async () => {\n    try {\n      const response = await StationsService.getStations();\n      if (response && response.stations) {\n        setStations(response.stations);\n        \n        // Initialize station locks from localStorage\n        const savedLocks = localStorage.getItem('station_locks');\n        if (savedLocks) {\n          setStationLocks(JSON.parse(savedLocks));\n        }\n      }\n    } catch (error) {\n      console.error('Error loading stations:', error);\n      // Fallback to localStorage\n      const savedStations = localStorage.getItem('coffee_cue_stations');\n      if (savedStations) {\n        setStations(JSON.parse(savedStations));\n      }\n    }\n  };\n  \n  // Load baristas\n  const loadBaristas = () => {\n    const savedUsers = localStorage.getItem('coffee_system_users');\n    if (savedUsers) {\n      const allUsers = JSON.parse(savedUsers);\n      const baristasAndOrganizers = allUsers.filter(user => \n        user.active && (user.role === 'barista' || user.role === 'organizer')\n      );\n      setBaristas(baristasAndOrganizers);\n    }\n  };\n  \n  // Load sessions for selected date\n  const loadSessions = () => {\n    const savedSessions = localStorage.getItem('event_sessions');\n    if (savedSessions) {\n      const allSessions = JSON.parse(savedSessions);\n      const dateSessions = allSessions.filter(session => \n        session.date === selectedDate\n      );\n      setSessions(dateSessions.sort((a, b) => a.startTime.localeCompare(b.startTime)));\n    }\n  };\n  \n  // Load session statuses\n  const loadSessionStatuses = () => {\n    const savedStatuses = localStorage.getItem('session_statuses');\n    if (savedStatuses) {\n      setSessionStatuses(JSON.parse(savedStatuses));\n    }\n  };\n  \n  // Save sessions\n  const saveSessions = (newSessions) => {\n    const allSessions = JSON.parse(localStorage.getItem('event_sessions') || '[]');\n    const otherSessions = allSessions.filter(s => s.date !== selectedDate);\n    const updatedSessions = [...otherSessions, ...newSessions];\n    \n    localStorage.setItem('event_sessions', JSON.stringify(updatedSessions));\n    setSessions(newSessions.sort((a, b) => a.startTime.localeCompare(b.startTime)));\n    \n    // Trigger update event\n    window.dispatchEvent(new CustomEvent('sessions:updated', { \n      detail: { sessions: updatedSessions } \n    }));\n  };\n  \n  // Create new session\n  const createSession = (sessionData) => {\n    const newSession = {\n      id: Date.now(),\n      ...sessionData,\n      date: selectedDate,\n      status: 'scheduled',\n      preOrderWindow: 15, // Default 15 mins\n      baristaPrep: sessionData.type === 'keynote' ? 60 : 30, // 1hr for first session, 30 mins for others\n      assignedBaristas: [],\n      createdAt: new Date().toISOString()\n    };\n    \n    const updatedSessions = [...sessions, newSession];\n    saveSessions(updatedSessions);\n    setShowAddSession(false);\n  };\n  \n  // Update session\n  const updateSession = (sessionId, updates) => {\n    const updatedSessions = sessions.map(session => \n      session.id === sessionId ? { ...session, ...updates } : session\n    );\n    saveSessions(updatedSessions);\n  };\n  \n  // Delete session\n  const deleteSession = (sessionId) => {\n    if (window.confirm('Are you sure you want to delete this session?')) {\n      const updatedSessions = sessions.filter(s => s.id !== sessionId);\n      saveSessions(updatedSessions);\n    }\n  };\n  \n  // Toggle station lock\n  const toggleStationLock = async (stationId) => {\n    const newLocks = {\n      ...stationLocks,\n      [stationId]: !stationLocks[stationId]\n    };\n    \n    setStationLocks(newLocks);\n    localStorage.setItem('station_locks', JSON.stringify(newLocks));\n    \n    // Notify stations\n    const message = newLocks[stationId] ? \n      'Station locked - no new orders' : \n      'Station unlocked - accepting orders';\n    \n    await MessageService.broadcastToStations({\n      type: 'station_lock_update',\n      stationId,\n      locked: newLocks[stationId],\n      message\n    });\n  };\n  \n  // Emergency override - unlock all stations\n  const activateEmergencyOverride = async () => {\n    setEmergencyOverride(true);\n    \n    // Unlock all stations\n    const unlockedStations = {};\n    stations.forEach(station => {\n      unlockedStations[station.id] = false;\n    });\n    \n    setStationLocks(unlockedStations);\n    localStorage.setItem('station_locks', JSON.stringify(unlockedStations));\n    \n    // Notify all stations\n    await MessageService.broadcastToStations({\n      type: 'emergency_override',\n      message: 'EMERGENCY: All stations unlocked by organizer'\n    });\n    \n    // Auto-disable after 30 minutes\n    setTimeout(() => {\n      setEmergencyOverride(false);\n    }, 30 * 60 * 1000);\n  };\n  \n  // Update session status\n  const updateSessionStatus = (sessionId, status) => {\n    const newStatuses = {\n      ...sessionStatuses,\n      [sessionId]: {\n        status,\n        updatedAt: new Date().toISOString()\n      }\n    };\n    \n    setSessionStatuses(newStatuses);\n    localStorage.setItem('session_statuses', JSON.stringify(newStatuses));\n    \n    // Update the session itself\n    updateSession(sessionId, { status });\n  };\n  \n  // Extend session time\n  const extendSessionTime = (sessionId, minutes) => {\n    const session = sessions.find(s => s.id === sessionId);\n    if (!session) return;\n    \n    const [hours, mins] = session.endTime.split(':').map(Number);\n    const endDate = new Date();\n    endDate.setHours(hours, mins + minutes);\n    \n    const newEndTime = `${String(endDate.getHours()).padStart(2, '0')}:${String(endDate.getMinutes()).padStart(2, '0')}`;\n    \n    updateSession(sessionId, { \n      endTime: newEndTime,\n      extended: true,\n      extensionMinutes: (session.extensionMinutes || 0) + minutes\n    });\n    \n    // Notify baristas\n    MessageService.broadcastToStations({\n      type: 'session_extended',\n      sessionId,\n      sessionName: session.name,\n      newEndTime,\n      extensionMinutes: minutes\n    });\n  };\n  \n  // Assign barista to station for session\n  const assignBaristaToStation = (sessionId, baristaId, stationId) => {\n    const session = sessions.find(s => s.id === sessionId);\n    if (!session) return;\n    \n    const assignment = {\n      baristaId,\n      stationId,\n      assignedAt: new Date().toISOString()\n    };\n    \n    const updatedAssignments = [\n      ...(session.assignedBaristas || []).filter(a => \n        a.baristaId !== baristaId && a.stationId !== stationId\n      ),\n      assignment\n    ];\n    \n    updateSession(sessionId, { assignedBaristas: updatedAssignments });\n  };\n  \n  // Get current and upcoming sessions\n  const getCurrentAndUpcomingSessions = () => {\n    const now = new Date();\n    const currentTimeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;\n    \n    return sessions.filter(session => {\n      return session.endTime >= currentTimeStr;\n    }).slice(0, 3);\n  };\n  \n  // Calculate timeline hours\n  const timelineHours = Array.from({ length: 15 }, (_, i) => i + 6); // 6 AM to 8 PM\n  \n  // Get position on timeline\n  const getTimelinePosition = (timeStr) => {\n    const [hours, minutes] = timeStr.split(':').map(Number);\n    const totalMinutes = (hours - 6) * 60 + minutes;\n    return (totalMinutes / 60) * 120; // 120px per hour\n  };\n  \n  // Get session width on timeline\n  const getSessionWidth = (startTime, endTime) => {\n    const start = getTimelinePosition(startTime);\n    const end = getTimelinePosition(endTime);\n    return end - start;\n  };\n  \n  // Get barista skill level icon\n  const getSkillIcon = (experience) => {\n    switch (experience) {\n      case 'expert':\n        return <Award className=\"w-4 h-4 text-yellow-500\" />;\n      case 'intermediate':\n        return <Star className=\"w-4 h-4 text-blue-500\" />;\n      default:\n        return <User className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n  \n  return (\n    <div className=\"bg-white rounded-lg shadow-lg\">\n      {/* Header */}\n      <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex justify-between items-center\">\n          <h2 className=\"text-2xl font-bold text-gray-800 flex items-center\">\n            <Calendar size={28} className=\"mr-3 text-amber-600\" />\n            Enhanced Schedule Management\n          </h2>\n          \n          <div className=\"flex items-center space-x-4\">\n            {/* Date selector */}\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() => {\n                  const date = new Date(selectedDate);\n                  date.setDate(date.getDate() - 1);\n                  setSelectedDate(date.toISOString().split('T')[0]);\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded\"\n              >\n                <ChevronLeft size={20} />\n              </button>\n              \n              <input\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                className=\"px-3 py-2 border border-gray-300 rounded-md\"\n              />\n              \n              <button\n                onClick={() => {\n                  const date = new Date(selectedDate);\n                  date.setDate(date.getDate() + 1);\n                  setSelectedDate(date.toISOString().split('T')[0]);\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded\"\n              >\n                <ChevronRight size={20} />\n              </button>\n            </div>\n            \n            {/* Emergency override */}\n            {emergencyOverride ? (\n              <div className=\"px-4 py-2 bg-red-100 text-red-700 rounded-lg flex items-center\">\n                <Shield size={20} className=\"mr-2\" />\n                Emergency Override Active\n              </div>\n            ) : (\n              <button\n                onClick={() => {\n                  if (window.confirm('Activate emergency override? This will unlock ALL stations immediately.')) {\n                    activateEmergencyOverride();\n                  }\n                }}\n                className=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg flex items-center\"\n              >\n                <Shield size={20} className=\"mr-2\" />\n                Emergency Override\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Tabs */}\n        <div className=\"mt-6 flex space-x-4 border-b border-gray-200\">\n          <button\n            onClick={() => setActiveTab('timeline')}\n            className={`pb-2 px-4 ${activeTab === 'timeline' ? 'border-b-2 border-amber-500 text-amber-600' : 'text-gray-600'}`}\n          >\n            Timeline View\n          </button>\n          <button\n            onClick={() => setActiveTab('stations')}\n            className={`pb-2 px-4 ${activeTab === 'stations' ? 'border-b-2 border-amber-500 text-amber-600' : 'text-gray-600'}`}\n          >\n            Station Control\n          </button>\n          <button\n            onClick={() => setActiveTab('sessions')}\n            className={`pb-2 px-4 ${activeTab === 'sessions' ? 'border-b-2 border-amber-500 text-amber-600' : 'text-gray-600'}`}\n          >\n            Session Management\n          </button>\n          <button\n            onClick={() => setActiveTab('assignments')}\n            className={`pb-2 px-4 ${activeTab === 'assignments' ? 'border-b-2 border-amber-500 text-amber-600' : 'text-gray-600'}`}\n          >\n            Barista Assignments\n          </button>\n        </div>\n      </div>\n      \n      {/* Content */}\n      <div className=\"p-6\">\n        {/* Timeline View */}\n        {activeTab === 'timeline' && (\n          <div>\n            <div className=\"mb-4 flex justify-between items-center\">\n              <h3 className=\"text-lg font-semibold\">Event Timeline</h3>\n              <button\n                onClick={() => setShowAddSession(true)}\n                className=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center\"\n              >\n                <Plus size={20} className=\"mr-2\" />\n                Add Session\n              </button>\n            </div>\n            \n            {/* Timeline */}\n            <div className=\"relative overflow-x-auto\" ref={timelineRef}>\n              <div className=\"relative\" style={{ width: `${timelineHours.length * 120}px`, height: '400px' }}>\n                {/* Hour markers */}\n                <div className=\"absolute top-0 left-0 right-0 h-8 border-b border-gray-300 flex\">\n                  {timelineHours.map(hour => (\n                    <div key={hour} className=\"w-30 text-center text-sm text-gray-600\" style={{ width: '120px' }}>\n                      {hour}:00\n                    </div>\n                  ))}\n                </div>\n                \n                {/* Current time indicator */}\n                <div\n                  className=\"absolute top-8 bottom-0 w-0.5 bg-red-500 z-20\"\n                  style={{ left: `${getTimelinePosition(`${currentTime.getHours()}:${currentTime.getMinutes()}`)}px` }}\n                >\n                  <div className=\"absolute -top-2 -left-3 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center\">\n                    <Clock size={12} className=\"text-white\" />\n                  </div>\n                </div>\n                \n                {/* Sessions */}\n                {sessions.map((session, index) => {\n                  const sessionStatus = sessionStatuses[session.id];\n                  const isActive = sessionStatus?.status === 'active';\n                  const isPaused = sessionStatus?.status === 'paused';\n                  const isRunningLate = sessionStatus?.status === 'running_late';\n                  \n                  return (\n                    <div\n                      key={session.id}\n                      className={`absolute rounded-lg p-3 cursor-pointer transition-all ${\n                        isActive ? 'bg-green-100 border-2 border-green-500' :\n                        isPaused ? 'bg-yellow-100 border-2 border-yellow-500' :\n                        isRunningLate ? 'bg-red-100 border-2 border-red-500' :\n                        'bg-blue-100 border-2 border-blue-300'\n                      }`}\n                      style={{\n                        left: `${getTimelinePosition(session.startTime)}px`,\n                        width: `${getSessionWidth(session.startTime, session.endTime)}px`,\n                        top: `${60 + (index % 5) * 60}px`,\n                        height: '50px'\n                      }}\n                      onClick={() => setSelectedSession(session)}\n                    >\n                      <div className=\"flex items-center justify-between h-full\">\n                        <div className=\"flex-1\">\n                          <div className=\"font-semibold text-sm truncate\">{session.name}</div>\n                          <div className=\"text-xs text-gray-600\">\n                            {session.startTime} - {session.endTime}\n                          </div>\n                        </div>\n                        {isActive && <Activity size={16} className=\"text-green-600 animate-pulse\" />}\n                        {isPaused && <PauseCircle size={16} className=\"text-yellow-600\" />}\n                        {isRunningLate && <AlertCircle size={16} className=\"text-red-600\" />}\n                      </div>\n                      \n                      {/* Pre-order window indicator */}\n                      <div\n                        className=\"absolute top-0 bottom-0 bg-orange-200 opacity-50 rounded-l-lg\"\n                        style={{\n                          right: '100%',\n                          width: `${(session.preOrderWindow / 60) * 120}px`\n                        }}\n                      />\n                      \n                      {/* Barista prep time indicator */}\n                      <div\n                        className=\"absolute top-0 bottom-0 bg-purple-200 opacity-50 rounded-l-lg\"\n                        style={{\n                          right: '100%',\n                          width: `${(session.baristaPrep / 60) * 120}px`\n                        }}\n                      />\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            \n            {/* Legend */}\n            <div className=\"mt-4 flex items-center space-x-6 text-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-blue-100 border border-blue-300 rounded mr-2\" />\n                <span>Scheduled Session</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-orange-200 rounded mr-2\" />\n                <span>Pre-order Window</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-purple-200 rounded mr-2\" />\n                <span>Barista Prep Time</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-green-100 border-2 border-green-500 rounded mr-2\" />\n                <span>Active</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-red-100 border-2 border-red-500 rounded mr-2\" />\n                <span>Running Late</span>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Station Control */}\n        {activeTab === 'stations' && (\n          <div>\n            <div className=\"mb-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Station Control Panel</h3>\n              <p className=\"text-gray-600\">Lock/unlock stations to control order flow during breaks</p>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {stations.map(station => {\n                const isLocked = stationLocks[station.id];\n                const hasActiveBarista = sessions.some(s => \n                  s.assignedBaristas?.some(a => a.stationId === station.id)\n                );\n                \n                return (\n                  <div\n                    key={station.id}\n                    className={`p-4 rounded-lg border-2 ${\n                      isLocked ? 'bg-red-50 border-red-300' : 'bg-green-50 border-green-300'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <h4 className=\"font-semibold flex items-center\">\n                        <Coffee size={20} className=\"mr-2\" />\n                        {station.name || `Station ${station.id}`}\n                      </h4>\n                      <button\n                        onClick={() => toggleStationLock(station.id)}\n                        className={`p-2 rounded-lg ${\n                          isLocked ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'\n                        }`}\n                      >\n                        {isLocked ? <Lock size={20} /> : <Unlock size={20} />}\n                      </button>\n                    </div>\n                    \n                    <div className=\"space-y-1 text-sm\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-gray-600\">Status:</span>\n                        <span className={`font-medium ${isLocked ? 'text-red-600' : 'text-green-600'}`}>\n                          {isLocked ? 'Locked' : 'Open'}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-gray-600\">Barista:</span>\n                        <span className={hasActiveBarista ? 'text-green-600' : 'text-gray-500'}>\n                          {hasActiveBarista ? 'Assigned' : 'None'}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    {isLocked && (\n                      <div className=\"mt-3 text-xs text-red-600 bg-red-100 p-2 rounded\">\n                        Station locked - not accepting new orders\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n            \n            <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <h4 className=\"font-semibold text-blue-800 mb-2\">Quick Actions</h4>\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => {\n                    const locked = {};\n                    stations.forEach(s => locked[s.id] = true);\n                    setStationLocks(locked);\n                    localStorage.setItem('station_locks', JSON.stringify(locked));\n                  }}\n                  className=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg\"\n                >\n                  Lock All Stations\n                </button>\n                <button\n                  onClick={() => {\n                    const unlocked = {};\n                    stations.forEach(s => unlocked[s.id] = false);\n                    setStationLocks(unlocked);\n                    localStorage.setItem('station_locks', JSON.stringify(unlocked));\n                  }}\n                  className=\"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg\"\n                >\n                  Unlock All Stations\n                </button>\n                <button\n                  onClick={() => {\n                    // Keep one station open (first available)\n                    const locked = {};\n                    stations.forEach((s, i) => locked[s.id] = i !== 0);\n                    setStationLocks(locked);\n                    localStorage.setItem('station_locks', JSON.stringify(locked));\n                  }}\n                  className=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg\"\n                >\n                  Quiet Period Mode\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Session Management */}\n        {activeTab === 'sessions' && (\n          <div>\n            <div className=\"mb-4 flex justify-between items-center\">\n              <h3 className=\"text-lg font-semibold\">Real-time Session Control</h3>\n              <button\n                onClick={() => setShowAddSession(true)}\n                className=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center\"\n              >\n                <Plus size={20} className=\"mr-2\" />\n                Add Session\n              </button>\n            </div>\n            \n            {/* Current and upcoming sessions */}\n            <div className=\"space-y-4\">\n              {getCurrentAndUpcomingSessions().map(session => {\n                const sessionStatus = sessionStatuses[session.id];\n                const isActive = sessionStatus?.status === 'active';\n                const isPaused = sessionStatus?.status === 'paused';\n                const isRunningLate = sessionStatus?.status === 'running_late';\n                \n                return (\n                  <div\n                    key={session.id}\n                    className={`p-6 rounded-lg border-2 ${\n                      isActive ? 'bg-green-50 border-green-300' :\n                      isPaused ? 'bg-yellow-50 border-yellow-300' :\n                      isRunningLate ? 'bg-red-50 border-red-300' :\n                      'bg-gray-50 border-gray-300'\n                    }`}\n                  >\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <h4 className=\"text-xl font-semibold mb-2\">{session.name}</h4>\n                        <div className=\"flex items-center space-x-4 text-sm text-gray-600 mb-4\">\n                          <span className=\"flex items-center\">\n                            <Clock size={16} className=\"mr-1\" />\n                            {session.startTime} - {session.endTime}\n                          </span>\n                          <span className=\"flex items-center\">\n                            <Users size={16} className=\"mr-1\" />\n                            {session.assignedBaristas?.length || 0} baristas\n                          </span>\n                          {session.extended && (\n                            <span className=\"text-orange-600\">\n                              Extended by {session.extensionMinutes} mins\n                            </span>\n                          )}\n                        </div>\n                        \n                        {/* Status controls */}\n                        <div className=\"flex items-center space-x-3\">\n                          {!isActive && !isPaused && !isRunningLate && (\n                            <button\n                              onClick={() => updateSessionStatus(session.id, 'active')}\n                              className=\"px-3 py-1 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center text-sm\"\n                            >\n                              <PlayCircle size={16} className=\"mr-1\" />\n                              Start\n                            </button>\n                          )}\n                          \n                          {isActive && (\n                            <>\n                              <button\n                                onClick={() => updateSessionStatus(session.id, 'paused')}\n                                className=\"px-3 py-1 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg flex items-center text-sm\"\n                              >\n                                <PauseCircle size={16} className=\"mr-1\" />\n                                Pause\n                              </button>\n                              <button\n                                onClick={() => updateSessionStatus(session.id, 'running_late')}\n                                className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg flex items-center text-sm\"\n                              >\n                                <AlertCircle size={16} className=\"mr-1\" />\n                                Running Late\n                              </button>\n                            </>\n                          )}\n                          \n                          {(isPaused || isRunningLate) && (\n                            <button\n                              onClick={() => updateSessionStatus(session.id, 'active')}\n                              className=\"px-3 py-1 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center text-sm\"\n                            >\n                              <PlayCircle size={16} className=\"mr-1\" />\n                              Resume\n                            </button>\n                          )}\n                          \n                          {/* Quick extend buttons */}\n                          <div className=\"flex items-center space-x-2 ml-4 pl-4 border-l border-gray-300\">\n                            <span className=\"text-sm text-gray-600\">Extend:</span>\n                            <button\n                              onClick={() => extendSessionTime(session.id, 5)}\n                              className=\"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm\"\n                            >\n                              +5m\n                            </button>\n                            <button\n                              onClick={() => extendSessionTime(session.id, 10)}\n                              className=\"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm\"\n                            >\n                              +10m\n                            </button>\n                            <button\n                              onClick={() => extendSessionTime(session.id, 15)}\n                              className=\"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm\"\n                            >\n                              +15m\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Quick actions */}\n                      <div className=\"flex flex-col space-y-2 ml-4\">\n                        <button\n                          onClick={() => {\n                            MessageService.broadcastToStations({\n                              type: 'session_alert',\n                              sessionId: session.id,\n                              sessionName: session.name,\n                              message: `Alert: ${session.name} update`\n                            });\n                          }}\n                          className=\"p-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg\"\n                          title=\"Send alert to all stations\"\n                        >\n                          <Bell size={20} />\n                        </button>\n                        <button\n                          onClick={() => deleteSession(session.id)}\n                          className=\"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg\"\n                          title=\"Delete session\"\n                        >\n                          <Trash2 size={20} />\n                        </button>\n                      </div>\n                    </div>\n                    \n                    {/* Pre-order control */}\n                    <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-4\">\n                          <span className=\"text-sm font-medium\">Pre-orders:</span>\n                          <button\n                            onClick={() => {\n                              const newWindows = { ...preOrderWindows };\n                              newWindows[session.id] = !preOrderWindows[session.id];\n                              setPreOrderWindows(newWindows);\n                            }}\n                            className={`px-3 py-1 rounded-lg text-sm ${\n                              preOrderWindows[session.id] ? \n                              'bg-green-500 text-white' : \n                              'bg-gray-300 text-gray-700'\n                            }`}\n                          >\n                            {preOrderWindows[session.id] ? 'Open' : 'Closed'}\n                          </button>\n                          <span className=\"text-sm text-gray-600\">\n                            Window: {session.preOrderWindow} mins before session\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n              \n              {getCurrentAndUpcomingSessions().length === 0 && (\n                <div className=\"text-center py-12 text-gray-500\">\n                  <Clock size={48} className=\"mx-auto mb-4 text-gray-400\" />\n                  <p>No current or upcoming sessions</p>\n                </div>\n              )}\n            </div>\n            \n            {/* Communication panel */}\n            <div className=\"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg\">\n              <h4 className=\"font-semibold text-purple-800 mb-3 flex items-center\">\n                <MessageSquare size={20} className=\"mr-2\" />\n                Quick Communication\n              </h4>\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => {\n                    const message = prompt('Enter message for all stations:');\n                    if (message) {\n                      MessageService.broadcastToStations({\n                        type: 'organizer_message',\n                        message,\n                        priority: 'normal'\n                      });\n                    }\n                  }}\n                  className=\"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg\"\n                >\n                  Broadcast Message\n                </button>\n                <button\n                  onClick={() => {\n                    MessageService.broadcastToStations({\n                      type: 'session_update',\n                      message: 'Session times have been updated. Please check schedule.',\n                      priority: 'high'\n                    });\n                  }}\n                  className=\"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg\"\n                >\n                  Alert: Schedule Change\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Barista Assignments */}\n        {activeTab === 'assignments' && (\n          <div>\n            <div className=\"mb-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Barista Assignment Matrix</h3>\n              <p className=\"text-gray-600\">Assign baristas to stations for each session</p>\n            </div>\n            \n            {sessions.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-500\">\n                <Users size={48} className=\"mx-auto mb-4 text-gray-400\" />\n                <p>No sessions scheduled for {new Date(selectedDate).toLocaleDateString()}</p>\n                <button\n                  onClick={() => setShowAddSession(true)}\n                  className=\"mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg\"\n                >\n                  Add Session\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-6\">\n                {sessions.map(session => (\n                  <div key={session.id} className=\"border border-gray-200 rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 className=\"font-semibold\">{session.name}</h4>\n                        <span className=\"text-sm text-gray-600\">\n                          {session.startTime} - {session.endTime}\n                        </span>\n                      </div>\n                      <button\n                        onClick={() => {\n                          setSelectedSession(session);\n                          setShowAssignBarista(true);\n                        }}\n                        className=\"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm\"\n                      >\n                        Assign Barista\n                      </button>\n                    </div>\n                    \n                    {/* Station grid */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                      {stations.map(station => {\n                        const assignment = session.assignedBaristas?.find(a => \n                          a.stationId === station.id\n                        );\n                        const barista = assignment ? \n                          baristas.find(b => b.id === assignment.baristaId) : null;\n                        \n                        return (\n                          <div\n                            key={station.id}\n                            className={`p-3 rounded-lg border ${\n                              assignment ? 'bg-green-50 border-green-300' : 'bg-gray-50 border-gray-300'\n                            }`}\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div className=\"flex items-center\">\n                                <Coffee size={16} className=\"mr-2 text-gray-600\" />\n                                <span className=\"font-medium text-sm\">\n                                  {station.name || `Station ${station.id}`}\n                                </span>\n                              </div>\n                              {assignment && (\n                                <button\n                                  onClick={() => {\n                                    const updatedAssignments = session.assignedBaristas.filter(\n                                      a => a.stationId !== station.id\n                                    );\n                                    updateSession(session.id, { \n                                      assignedBaristas: updatedAssignments \n                                    });\n                                  }}\n                                  className=\"text-red-500 hover:text-red-700\"\n                                >\n                                  <XCircle size={16} />\n                                </button>\n                              )}\n                            </div>\n                            \n                            {barista ? (\n                              <div className=\"mt-2 flex items-center\">\n                                {getSkillIcon(barista.experience)}\n                                <span className=\"ml-2 text-sm\">{barista.fullName}</span>\n                              </div>\n                            ) : (\n                              <div className=\"mt-2 text-sm text-gray-500\">\n                                No barista assigned\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n      \n      {/* Add Session Modal */}\n      {showAddSession && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add New Session</h3>\n            \n            <form\n              onSubmit={(e) => {\n                e.preventDefault();\n                const formData = new FormData(e.target);\n                createSession({\n                  name: formData.get('name'),\n                  type: formData.get('type'),\n                  startTime: formData.get('startTime'),\n                  endTime: formData.get('endTime'),\n                  preOrderWindow: parseInt(formData.get('preOrderWindow')),\n                  baristaPrep: parseInt(formData.get('baristaPrep'))\n                });\n              }}\n            >\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Session Name\n                  </label>\n                  <input\n                    name=\"name\"\n                    type=\"text\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"e.g., Morning Keynote\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Session Type\n                  </label>\n                  <select\n                    name=\"type\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"keynote\">Keynote</option>\n                    <option value=\"break\">Break</option>\n                    <option value=\"lunch\">Lunch</option>\n                    <option value=\"workshop\">Workshop</option>\n                    <option value=\"networking\">Networking</option>\n                  </select>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Start Time\n                    </label>\n                    <input\n                      name=\"startTime\"\n                      type=\"time\"\n                      required\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      End Time\n                    </label>\n                    <input\n                      name=\"endTime\"\n                      type=\"time\"\n                      required\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Pre-order Window (mins)\n                    </label>\n                    <input\n                      name=\"preOrderWindow\"\n                      type=\"number\"\n                      defaultValue=\"15\"\n                      min=\"5\"\n                      max=\"60\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Barista Prep (mins)\n                    </label>\n                    <input\n                      name=\"baristaPrep\"\n                      type=\"number\"\n                      defaultValue=\"30\"\n                      min=\"15\"\n                      max=\"120\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"mt-6 flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddSession(false)}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n                >\n                  Add Session\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n      \n      {/* Assign Barista Modal */}\n      {showAssignBarista && selectedSession && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">\n              Assign Barista to {selectedSession.name}\n            </h3>\n            \n            <form\n              onSubmit={(e) => {\n                e.preventDefault();\n                const formData = new FormData(e.target);\n                assignBaristaToStation(\n                  selectedSession.id,\n                  formData.get('baristaId'),\n                  formData.get('stationId')\n                );\n                setShowAssignBarista(false);\n              }}\n            >\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Select Barista\n                  </label>\n                  <select\n                    name=\"baristaId\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"\">Choose barista...</option>\n                    {baristas.map(barista => (\n                      <option key={barista.id} value={barista.id}>\n                        {barista.fullName} - {barista.experience}\n                        {barista.specialization && ` (${barista.specialization})`}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Assign to Station\n                  </label>\n                  <select\n                    name=\"stationId\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"\">Choose station...</option>\n                    {stations.map(station => {\n                      const isAssigned = selectedSession.assignedBaristas?.some(\n                        a => a.stationId === station.id\n                      );\n                      return (\n                        <option \n                          key={station.id} \n                          value={station.id}\n                          disabled={isAssigned}\n                        >\n                          {station.name || `Station ${station.id}`}\n                          {isAssigned && ' (Already assigned)'}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n              </div>\n              \n              <div className=\"mt-6 flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAssignBarista(false)}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n                >\n                  Assign\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n      \n      {/* Selected Session Details Modal */}\n      {selectedSession && !showAssignBarista && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n          onClick={() => setSelectedSession(null)}\n        >\n          <div \n            className=\"bg-white rounded-lg p-6 w-full max-w-2xl\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">{selectedSession.name}</h3>\n              <button\n                onClick={() => setSelectedSession(null)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <XCircle size={24} />\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <span className=\"text-sm text-gray-600\">Time:</span>\n                  <p className=\"font-medium\">\n                    {selectedSession.startTime} - {selectedSession.endTime}\n                  </p>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-600\">Type:</span>\n                  <p className=\"font-medium capitalize\">{selectedSession.type}</p>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-600\">Pre-order Window:</span>\n                  <p className=\"font-medium\">{selectedSession.preOrderWindow} minutes</p>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-600\">Barista Prep Time:</span>\n                  <p className=\"font-medium\">{selectedSession.baristaPrep} minutes</p>\n                </div>\n              </div>\n              \n              <div>\n                <h4 className=\"font-medium mb-2\">Assigned Baristas</h4>\n                {selectedSession.assignedBaristas?.length > 0 ? (\n                  <div className=\"space-y-2\">\n                    {selectedSession.assignedBaristas.map((assignment, index) => {\n                      const barista = baristas.find(b => b.id === assignment.baristaId);\n                      const station = stations.find(s => s.id === assignment.stationId);\n                      \n                      return (\n                        <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                          <div className=\"flex items-center\">\n                            {getSkillIcon(barista?.experience)}\n                            <span className=\"ml-2\">{barista?.fullName || 'Unknown'}</span>\n                            <span className=\"mx-2 text-gray-500\"></span>\n                            <span>{station?.name || `Station ${assignment.stationId}`}</span>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                ) : (\n                  <p className=\"text-gray-500\">No baristas assigned yet</p>\n                )}\n              </div>\n              \n              <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n                <button\n                  onClick={() => {\n                    setShowAssignBarista(true);\n                  }}\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n                >\n                  Assign Barista\n                </button>\n                <button\n                  onClick={() => deleteSession(selectedSession.id)}\n                  className=\"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\"\n                >\n                  Delete Session\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EnhancedScheduleManagement;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('Info', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n]);\n\nexport default Info;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Coffee, Plus, Minus, Edit2, Save, X, Search, \n  ChevronDown, ChevronRight, Info, Settings,\n  CheckCircle, Circle, Trash2, Copy, Globe, Monitor\n} from 'lucide-react';\nimport useStations from '../hooks/useStations';\n\n// Menu version for auto-updates\nconst MENU_VERSION = \"2.0\";\n\n// Default coffee menu with all common types\nconst defaultCoffeeMenu = {\n  // Espresso-Based Drinks\n  \"espresso\": {\n    id: \"espresso\",\n    name: \"Espresso\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Single or double shot of concentrated coffee\",\n    requiresMilk: false,\n    sizes: {\n      \"single\": {\n        enabled: true,\n        name: \"Single\",\n        shots: 1,\n        milkRatio: 0,\n        waterRatio: 0,\n        cupSize: \"small-8oz\",\n        price: 3.50\n      },\n      \"double\": {\n        enabled: true,\n        name: \"Double\",\n        shots: 2,\n        milkRatio: 0,\n        waterRatio: 0,\n        cupSize: \"small-8oz\",\n        price: 4.00\n      }\n    },\n    instructions: \"Grind 7-9g for single, 14-18g for double. Extract 25-30 seconds.\",\n    customizable: {\n      extraShot: true,\n      decaf: true\n    }\n  },\n  \"long-black\": {\n    id: \"long-black\",\n    name: \"Long Black\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso with hot water\",\n    requiresMilk: false,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 0,\n        waterRatio: 120, // ml\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 0,\n        waterRatio: 240,\n        cupSize: \"medium-12oz\"\n      }\n    },\n    instructions: \"Add hot water first, then float espresso on top to preserve crema.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      strength: true\n    }\n  },\n  \"cappuccino\": {\n    id: \"cappuccino\",\n    name: \"Cappuccino\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso with steamed milk and thick foam\",\n    requiresMilk: true,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 1,\n        milkRatio: 120,\n        foamThickness: \"thick\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 180,\n        foamThickness: \"thick\",\n        cupSize: \"medium-12oz\"\n      }\n    },\n    instructions: \"1/3 espresso, 1/3 steamed milk, 1/3 foam. Dust with chocolate if requested.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true,\n      chocolate: true\n    }\n  },\n  \"latte\": {\n    id: \"latte\",\n    name: \"Latte\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso with steamed milk and thin foam layer\",\n    requiresMilk: true,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 1,\n        milkRatio: 220,\n        foamThickness: \"thin\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 340,\n        foamThickness: \"thin\",\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 450,\n        foamThickness: \"thin\",\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Steam milk to 65C with microfoam. Pour steadily for latte art.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true,\n      temperature: true,\n      syrup: true\n    }\n  },\n  \"flat-white\": {\n    id: \"flat-white\",\n    name: \"Flat White\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso with steamed milk and microfoam\",\n    requiresMilk: true,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 160,\n        foamThickness: \"micro\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 240,\n        foamThickness: \"micro\",\n        cupSize: \"medium-12oz\"\n      }\n    },\n    instructions: \"Double ristretto shots. Steam milk to create velvety microfoam.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true\n    }\n  },\n  \"macchiato\": {\n    id: \"macchiato\",\n    name: \"Macchiato\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso 'marked' with a dollop of foamed milk\",\n    requiresMilk: true,\n    sizes: {\n      \"single\": {\n        enabled: true,\n        name: \"Single\",\n        shots: 1,\n        milkRatio: 15,\n        foamThickness: \"dollop\",\n        cupSize: \"small-8oz\"\n      },\n      \"double\": {\n        enabled: true,\n        name: \"Double\",\n        shots: 2,\n        milkRatio: 30,\n        foamThickness: \"dollop\",\n        cupSize: \"small-8oz\"\n      }\n    },\n    instructions: \"Pull espresso, add small dollop of foamed milk on top.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true\n    }\n  },\n  \"piccolo\": {\n    id: \"piccolo\",\n    name: \"Piccolo Latte\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Single shot espresso with steamed milk in a small glass\",\n    requiresMilk: true,\n    sizes: {\n      \"standard\": {\n        enabled: true,\n        name: \"Standard\",\n        shots: 1,\n        milkRatio: 90,\n        foamThickness: \"thin\",\n        cupSize: \"piccolo-glass\"\n      }\n    },\n    instructions: \"Single ristretto shot in 90ml glass, topped with steamed milk.\",\n    customizable: {\n      decaf: true,\n      milkType: true\n    }\n  },\n  \"cortado\": {\n    id: \"cortado\",\n    name: \"Cortado\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Equal parts espresso and steamed milk\",\n    requiresMilk: true,\n    sizes: {\n      \"standard\": {\n        enabled: true,\n        name: \"Standard\",\n        shots: 2,\n        milkRatio: 60,\n        foamThickness: \"minimal\",\n        cupSize: \"cortado-glass\"\n      }\n    },\n    instructions: \"1:1 ratio of espresso to milk. Serve in gibraltar glass.\",\n    customizable: {\n      decaf: true,\n      milkType: true\n    }\n  },\n  \"mocha\": {\n    id: \"mocha\",\n    name: \"Mocha\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso with chocolate and steamed milk\",\n    requiresMilk: true,\n    requiresExtra: [\"chocolate-powder\", \"chocolate-syrup\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 1,\n        milkRatio: 200,\n        chocolateRatio: 30,\n        foamThickness: \"medium\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 300,\n        chocolateRatio: 45,\n        foamThickness: \"medium\",\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 400,\n        chocolateRatio: 60,\n        foamThickness: \"medium\",\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Add chocolate to cup, pull shots over chocolate, add steamed milk.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true,\n      whippedCream: true,\n      syrup: true\n    }\n  },\n  \"affogato\": {\n    id: \"affogato\",\n    name: \"Affogato\",\n    category: \"espresso-based\",\n    enabled: true,\n    description: \"Espresso poured over vanilla ice cream\",\n    requiresMilk: false,\n    requiresExtra: [\"ice-cream\"],\n    sizes: {\n      \"standard\": {\n        enabled: true,\n        name: \"Standard\",\n        shots: 1,\n        iceCreamScoops: 1,\n        cupSize: \"dessert-glass\"\n      },\n      \"double\": {\n        enabled: true,\n        name: \"Double\",\n        shots: 2,\n        iceCreamScoops: 2,\n        cupSize: \"dessert-glass\"\n      }\n    },\n    instructions: \"Place ice cream in glass/cup, pour hot espresso over top. Serve immediately.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      liqueur: true\n    }\n  },\n  \n  // Milk-Based Variations\n  \"hot-chocolate\": {\n    id: \"hot-chocolate\",\n    name: \"Hot Chocolate\",\n    category: \"milk-based\",\n    enabled: true,\n    description: \"Rich chocolate drink with steamed milk\",\n    requiresMilk: true,\n    requiresExtra: [\"chocolate-powder\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 240,\n        chocolateRatio: 30,\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 360,\n        chocolateRatio: 45,\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 480,\n        chocolateRatio: 60,\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Mix chocolate powder with small amount of hot milk, then add remaining steamed milk.\",\n    customizable: {\n      marshmallows: true,\n      whippedCream: true,\n      milkType: true,\n      temperature: true\n    }\n  },\n  \"babycino\": {\n    id: \"babycino\",\n    name: \"Babycino\",\n    category: \"milk-based\",\n    enabled: true,\n    description: \"Warm frothy milk for kids\",\n    requiresMilk: true,\n    sizes: {\n      \"kids\": {\n        enabled: true,\n        name: \"Kids Size\",\n        shots: 0,\n        milkRatio: 120,\n        foamThickness: \"extra-thick\",\n        cupSize: \"kids-cup\"\n      }\n    },\n    instructions: \"Steam milk to 50C (cooler than adult drinks). Create extra thick foam. Dust with chocolate.\",\n    customizable: {\n      chocolate: true,\n      marshmallows: true,\n      temperature: true\n    }\n  },\n  \"turmeric-latte\": {\n    id: \"turmeric-latte\",\n    name: \"Turmeric Latte\",\n    category: \"milk-based\",\n    enabled: true,\n    description: \"Golden milk with turmeric and spices\",\n    requiresMilk: true,\n    requiresExtra: [\"turmeric-powder\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 240,\n        turmericRatio: 5, // grams\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 360,\n        turmericRatio: 7,\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 480,\n        turmericRatio: 10,\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Mix turmeric powder with spices, add small amount of hot milk to form paste, then add remaining steamed milk.\",\n    customizable: {\n      milkType: true,\n      honey: true,\n      ginger: true,\n      cinnamon: true,\n      temperature: true\n    }\n  },\n  \"chai-latte\": {\n    id: \"chai-latte\",\n    name: \"Chai Latte\",\n    category: \"milk-based\",\n    enabled: true,\n    description: \"Spiced tea with steamed milk\",\n    requiresMilk: true,\n    requiresExtra: [\"chai-concentrate\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 0,\n        chaiRatio: 120,\n        milkRatio: 120,\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 0,\n        chaiRatio: 180,\n        milkRatio: 180,\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 0,\n        chaiRatio: 240,\n        milkRatio: 240,\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"1:1 ratio chai concentrate to steamed milk. Can add espresso for 'dirty chai'.\",\n    customizable: {\n      dirtyOption: true, // Add espresso shot\n      milkType: true,\n      honey: true,\n      cinnamon: true\n    }\n  },\n  \"matcha-latte\": {\n    id: \"matcha-latte\",\n    name: \"Matcha Latte\",\n    category: \"milk-based\",\n    enabled: true,\n    description: \"Matcha green tea with steamed milk\",\n    requiresMilk: true,\n    requiresExtra: [\"matcha-powder\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        matchaGrams: 2,\n        milkRatio: 240,\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        matchaGrams: 3,\n        milkRatio: 360,\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        matchaGrams: 4,\n        milkRatio: 480,\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Whisk matcha with small amount of hot water, add steamed milk.\",\n    customizable: {\n      milkType: true,\n      sweetener: true,\n      temperature: true\n    }\n  },\n  \n  // Filter/Drip Coffee\n  \"filter-coffee\": {\n    id: \"filter-coffee\",\n    name: \"Filter Coffee\",\n    category: \"filter-drip\",\n    enabled: true,\n    description: \"Regular brewed coffee\",\n    requiresMilk: false,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        coffeeRatio: 240,\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        coffeeRatio: 360,\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        coffeeRatio: 480,\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Brew at 92-96C, ratio 1:15 to 1:17 coffee to water.\",\n    customizable: {\n      strength: true,\n      milk: true,\n      sugar: true\n    }\n  },\n  \"cold-brew\": {\n    id: \"cold-brew\",\n    name: \"Cold Brew\",\n    category: \"filter-drip\",\n    enabled: true,\n    description: \"Coffee steeped in cold water for 12-24 hours\",\n    requiresMilk: false,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        coldBrewRatio: 200,\n        waterRatio: 40,\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        coldBrewRatio: 300,\n        waterRatio: 60,\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        coldBrewRatio: 400,\n        waterRatio: 80,\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Serve over ice. Can dilute concentrate with water or milk.\",\n    customizable: {\n      milk: true,\n      syrup: true,\n      ice: true\n    }\n  },\n  \n  // Cold Variations\n  \"iced-latte\": {\n    id: \"iced-latte\",\n    name: \"Iced Latte\",\n    category: \"cold-drinks\",\n    enabled: true,\n    description: \"Cold latte over ice\",\n    requiresMilk: true,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 1,\n        milkRatio: 200,\n        iceRatio: \"full\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 300,\n        iceRatio: \"full\",\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 400,\n        iceRatio: \"full\",\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Fill cup with ice, add espresso, top with cold milk.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true,\n      syrup: true,\n      lessIce: true\n    }\n  },\n  \"iced-chocolate\": {\n    id: \"iced-chocolate\",\n    name: \"Iced Chocolate\",\n    category: \"cold-drinks\",\n    enabled: true,\n    description: \"Cold chocolate drink over ice\",\n    requiresMilk: true,\n    requiresExtra: [\"chocolate-powder\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 220,\n        chocolateRatio: 30,\n        iceRatio: \"full\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 320,\n        chocolateRatio: 45,\n        iceRatio: \"full\",\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 0,\n        milkRatio: 420,\n        chocolateRatio: 60,\n        iceRatio: \"full\",\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Mix chocolate powder with small amount of hot milk to dissolve, add cold milk, pour over ice.\",\n    customizable: {\n      whippedCream: true,\n      milkType: true,\n      marshmallows: true,\n      lessIce: true,\n      syrup: true\n    }\n  },\n  \"iced-cappuccino\": {\n    id: \"iced-cappuccino\",\n    name: \"Iced Cappuccino\",\n    category: \"cold-drinks\",\n    enabled: true,\n    description: \"Cold cappuccino over ice with foam\",\n    requiresMilk: true,\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 1,\n        milkRatio: 180,\n        foamRatio: 60,\n        iceRatio: \"full\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 250,\n        foamRatio: 80,\n        iceRatio: \"full\",\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 350,\n        foamRatio: 100,\n        iceRatio: \"full\",\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Pull shots over ice, add cold milk, top with cold foam. Dust with chocolate if desired.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true,\n      chocolate: true,\n      lessIce: true\n    }\n  },\n  \"iced-mocha\": {\n    id: \"iced-mocha\",\n    name: \"Iced Mocha\",\n    category: \"cold-drinks\",\n    enabled: true,\n    description: \"Cold mocha over ice\",\n    requiresMilk: true,\n    requiresExtra: [\"chocolate-powder\"],\n    sizes: {\n      \"small\": {\n        enabled: true,\n        shots: 1,\n        milkRatio: 200,\n        chocolateRatio: 30,\n        iceRatio: \"full\",\n        cupSize: \"small-8oz\"\n      },\n      \"medium\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 300,\n        chocolateRatio: 45,\n        iceRatio: \"full\",\n        cupSize: \"medium-12oz\"\n      },\n      \"large\": {\n        enabled: true,\n        shots: 2,\n        milkRatio: 400,\n        chocolateRatio: 60,\n        iceRatio: \"full\",\n        cupSize: \"large-16oz\"\n      }\n    },\n    instructions: \"Mix chocolate with small amount of hot milk, add espresso, cold milk, pour over ice.\",\n    customizable: {\n      extraShot: true,\n      decaf: true,\n      milkType: true,\n      whippedCream: true,\n      lessIce: true,\n      syrup: true\n    }\n  }\n};\n\n// Category display configuration\nconst categoryConfig = {\n  \"espresso-based\": { \n    name: \"Espresso Based\", \n    color: \"amber\",\n    description: \"Traditional espresso drinks\" \n  },\n  \"milk-based\": { \n    name: \"Milk Based Variations\", \n    color: \"blue\",\n    description: \"Non-coffee milk drinks\" \n  },\n  \"filter-drip\": { \n    name: \"Filter & Drip Coffee\", \n    color: \"brown\",\n    description: \"Brewed coffee options\" \n  },\n  \"cold-drinks\": { \n    name: \"Cold Drinks\", \n    color: \"cyan\",\n    description: \"Iced and cold options\" \n  },\n  \"custom\": { \n    name: \"Custom Drinks\", \n    color: \"purple\",\n    description: \"Your custom creations\" \n  }\n};\n\nconst MenuManagement = () => {\n  const { stations } = useStations();\n  const [menuItems, setMenuItems] = useState({});\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [expandedItems, setExpandedItems] = useState({});\n  const [editingItem, setEditingItem] = useState(null);\n  const [showAddDrink, setShowAddDrink] = useState(false);\n  const [availableCups, setAvailableCups] = useState([]);\n  const [showAddSize, setShowAddSize] = useState(null); // drinkId when adding new size\n  const [globalMenuEnabled, setGlobalMenuEnabled] = useState(true); // Global toggle for station restrictions\n  \n  // Load menu and cups on mount\n  useEffect(() => {\n    loadMenu();\n    loadAvailableCups();\n    // Load global menu setting\n    const savedGlobalMenu = localStorage.getItem('global_menu_enabled');\n    if (savedGlobalMenu !== null) {\n      setGlobalMenuEnabled(savedGlobalMenu === 'true');\n    }\n  }, []);\n  \n  // Load menu from localStorage or use defaults\n  const loadMenu = () => {\n    const savedMenu = localStorage.getItem('event_menu');\n    const savedVersion = localStorage.getItem('event_menu_version');\n    \n    // Check if we need to update the menu\n    if (savedMenu && savedVersion === MENU_VERSION) {\n      try {\n        const parsedMenu = JSON.parse(savedMenu);\n        // Ensure all menu items have stationAvailability\n        Object.keys(parsedMenu).forEach(drinkId => {\n          if (!parsedMenu[drinkId].stationAvailability) {\n            parsedMenu[drinkId].stationAvailability = {};\n          }\n        });\n        setMenuItems(parsedMenu);\n      } catch (e) {\n        console.error('Error loading menu:', e);\n        initializeDefaultMenu();\n      }\n    } else {\n      // First time or version mismatch - use default menu\n      console.log('Loading new menu version:', MENU_VERSION);\n      initializeDefaultMenu();\n    }\n  };\n  \n  // Initialize default menu with station availability\n  const initializeDefaultMenu = () => {\n    const menuWithStations = { ...defaultCoffeeMenu };\n    Object.keys(menuWithStations).forEach(drinkId => {\n      menuWithStations[drinkId].stationAvailability = {};\n    });\n    setMenuItems(menuWithStations);\n    localStorage.setItem('event_menu', JSON.stringify(menuWithStations));\n    localStorage.setItem('event_menu_version', MENU_VERSION);\n  };\n  \n  // Load available cups from inventory\n  const loadAvailableCups = () => {\n    const inventory = localStorage.getItem('event_inventory');\n    if (inventory) {\n      try {\n        const inventoryData = JSON.parse(inventory);\n        const cups = inventoryData.cups || [];\n        // Add some default options if no cups in inventory\n        const defaultCups = [\n          { id: 'small-8oz', name: 'Small (8oz)', enabled: true },\n          { id: 'medium-12oz', name: 'Medium (12oz)', enabled: true },\n          { id: 'large-16oz', name: 'Large (16oz)', enabled: true },\n          { id: 'extra-large-20oz', name: 'Extra Large (20oz)', enabled: true }\n        ];\n        setAvailableCups(cups.length > 0 ? cups.filter(c => c.enabled) : defaultCups);\n      } catch (e) {\n        console.error('Error loading cups:', e);\n      }\n    }\n  };\n  \n  // Save menu to localStorage\n  const saveMenu = (menu) => {\n    localStorage.setItem('event_menu', JSON.stringify(menu));\n    localStorage.setItem('event_menu_version', MENU_VERSION);\n    setMenuItems(menu);\n  };\n  \n  // Toggle global menu enabled\n  const toggleGlobalMenu = () => {\n    const newValue = !globalMenuEnabled;\n    setGlobalMenuEnabled(newValue);\n    localStorage.setItem('global_menu_enabled', String(newValue));\n  };\n  \n  // Toggle drink enabled/disabled\n  const toggleDrinkEnabled = (drinkId) => {\n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: {\n        ...menuItems[drinkId],\n        enabled: !menuItems[drinkId].enabled\n      }\n    };\n    saveMenu(updatedMenu);\n  };\n  \n  // Toggle station availability for a drink\n  const toggleStationAvailability = (drinkId, stationId) => {\n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: {\n        ...menuItems[drinkId],\n        stationAvailability: {\n          ...menuItems[drinkId].stationAvailability,\n          [stationId]: !menuItems[drinkId].stationAvailability?.[stationId]\n        }\n      }\n    };\n    saveMenu(updatedMenu);\n  };\n  \n  // Toggle size enabled/disabled\n  const toggleSizeEnabled = (drinkId, sizeKey) => {\n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: {\n        ...menuItems[drinkId],\n        sizes: {\n          ...menuItems[drinkId].sizes,\n          [sizeKey]: {\n            ...menuItems[drinkId].sizes[sizeKey],\n            enabled: !menuItems[drinkId].sizes[sizeKey].enabled\n          }\n        }\n      }\n    };\n    saveMenu(updatedMenu);\n  };\n  \n  // Update drink details\n  const updateDrinkDetails = (drinkId, updates) => {\n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: {\n        ...menuItems[drinkId],\n        ...updates\n      }\n    };\n    saveMenu(updatedMenu);\n  };\n  \n  // Update size details\n  const updateSizeDetails = (drinkId, sizeKey, updates) => {\n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: {\n        ...menuItems[drinkId],\n        sizes: {\n          ...menuItems[drinkId].sizes,\n          [sizeKey]: {\n            ...menuItems[drinkId].sizes[sizeKey],\n            ...updates\n          }\n        }\n      }\n    };\n    saveMenu(updatedMenu);\n  };\n  \n  // Add new size to drink\n  const addSizeToDrink = (drinkId, sizeData) => {\n    const sizeKey = sizeData.name.toLowerCase().replace(/\\s+/g, '-');\n    const drink = menuItems[drinkId];\n    \n    const newSize = {\n      enabled: true,\n      name: sizeData.name,\n      shots: sizeData.shots || (drink.requiresMilk ? 2 : 1),\n      cupSize: sizeData.cupSize,\n      ...(drink.requiresMilk && { milkRatio: sizeData.milkRatio || 300 }),\n      ...(drink.id === 'long-black' && { waterRatio: sizeData.waterRatio || 200 })\n    };\n    \n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: {\n        ...menuItems[drinkId],\n        sizes: {\n          ...menuItems[drinkId].sizes,\n          [sizeKey]: newSize\n        }\n      }\n    };\n    saveMenu(updatedMenu);\n    setShowAddSize(null);\n  };\n  \n  // Delete size from drink\n  const deleteSizeFromDrink = (drinkId, sizeKey) => {\n    // Don't allow deleting if it's the only size\n    const sizeCount = Object.keys(menuItems[drinkId].sizes).length;\n    if (sizeCount <= 1) {\n      alert('Cannot delete the only size. Each drink must have at least one size option.');\n      return;\n    }\n    \n    if (window.confirm('Are you sure you want to delete this size?')) {\n      const updatedMenu = {\n        ...menuItems,\n        [drinkId]: {\n          ...menuItems[drinkId],\n          sizes: Object.fromEntries(\n            Object.entries(menuItems[drinkId].sizes).filter(([key]) => key !== sizeKey)\n          )\n        }\n      };\n      saveMenu(updatedMenu);\n    }\n  };\n  \n  // Add custom drink\n  const addCustomDrink = (drinkData) => {\n    const drinkId = drinkData.name.toLowerCase().replace(/\\s+/g, '-');\n    const newDrink = {\n      id: drinkId,\n      name: drinkData.name,\n      category: 'custom',\n      enabled: true,\n      description: drinkData.description,\n      requiresMilk: drinkData.requiresMilk,\n      sizes: {\n        small: {\n          enabled: true,\n          shots: drinkData.defaultShots || 1,\n          milkRatio: drinkData.requiresMilk ? 220 : 0,\n          cupSize: \"small-8oz\"\n        }\n      },\n      instructions: drinkData.instructions || '',\n      customizable: {\n        extraShot: true,\n        decaf: true,\n        milkType: drinkData.requiresMilk\n      }\n    };\n    \n    const updatedMenu = {\n      ...menuItems,\n      [drinkId]: newDrink\n    };\n    saveMenu(updatedMenu);\n    setShowAddDrink(false);\n  };\n  \n  // Delete drink (any drink can now be deleted)\n  const deleteDrink = (drinkId) => {\n    if (window.confirm(`Are you sure you want to delete ${menuItems[drinkId].name}? This cannot be undone.`)) {\n      const updatedMenu = { ...menuItems };\n      delete updatedMenu[drinkId];\n      saveMenu(updatedMenu);\n    }\n  };\n  \n  // Filter drinks\n  const getFilteredDrinks = () => {\n    return Object.values(menuItems).filter(drink => {\n      const matchesSearch = drink.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                          drink.description.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesCategory = filterCategory === 'all' || drink.category === filterCategory;\n      return matchesSearch && matchesCategory;\n    });\n  };\n  \n  // Group drinks by category\n  const getDrinksByCategory = () => {\n    const filtered = getFilteredDrinks();\n    const grouped = {};\n    \n    filtered.forEach(drink => {\n      if (!grouped[drink.category]) {\n        grouped[drink.category] = [];\n      }\n      grouped[drink.category].push(drink);\n    });\n    \n    return grouped;\n  };\n  \n  // Restore default menu\n  const restoreDefaultMenu = () => {\n    if (window.confirm('This will restore the default menu and overwrite any custom drinks. Are you sure?')) {\n      initializeDefaultMenu();\n      loadAvailableCups(); // Reload cups in case inventory changed\n    }\n  };\n  \n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800\">Menu Management</h2>\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={restoreDefaultMenu}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 flex items-center\"\n            title=\"Restore default menu\"\n          >\n            <Settings size={20} className=\"mr-2\" />\n            Restore Defaults\n          </button>\n          <button\n            onClick={() => setShowAddDrink(true)}\n            className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 flex items-center\"\n          >\n            <Plus size={20} className=\"mr-2\" />\n            Add Custom Drink\n          </button>\n        </div>\n      </div>\n      \n      {/* Search and Filters */}\n      <div className=\"grid grid-cols-2 gap-4 mb-6\">\n        <div className=\"relative\">\n          <Search size={20} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search drinks...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n        <select\n          value={filterCategory}\n          onChange={(e) => setFilterCategory(e.target.value)}\n          className=\"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">All Categories</option>\n          {Object.entries(categoryConfig).map(([key, config]) => (\n            <option key={key} value={key}>{config.name}</option>\n          ))}\n        </select>\n      </div>\n      \n      {/* Global Menu Toggle */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <Globe size={24} className=\"text-blue-600\" />\n            <div>\n              <h3 className=\"font-semibold text-gray-800\">Station Menu Configuration</h3>\n              <p className=\"text-sm text-gray-600\">\n                {globalMenuEnabled \n                  ? \"All menu items are available at all stations\" \n                  : \"Menu items can be restricted to specific stations\"}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={toggleGlobalMenu}\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n              globalMenuEnabled ? 'bg-blue-600' : 'bg-gray-300'\n            }`}\n          >\n            <span\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition ${\n                globalMenuEnabled ? 'translate-x-6' : 'translate-x-1'\n              }`}\n            />\n          </button>\n        </div>\n        {!globalMenuEnabled && stations && stations.length > 0 && (\n          <div className=\"mt-3 text-sm text-gray-600 bg-white rounded p-3\">\n            <p className=\"font-medium mb-1\">Available stations:</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {stations.map(station => (\n                <span key={station.id} className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                  {station.name || `Station ${station.id}`}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-4 gap-4 mb-6\">\n        <div className=\"bg-gray-50 p-4 rounded-md\">\n          <div className=\"text-2xl font-bold text-gray-800\">\n            {Object.keys(menuItems).length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Total Drinks</div>\n        </div>\n        <div className=\"bg-green-50 p-4 rounded-md\">\n          <div className=\"text-2xl font-bold text-green-600\">\n            {Object.values(menuItems).filter(d => d.enabled).length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Active Drinks</div>\n        </div>\n        <div className=\"bg-blue-50 p-4 rounded-md\">\n          <div className=\"text-2xl font-bold text-blue-600\">\n            {Object.values(menuItems).filter(d => d.requiresMilk).length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Milk-Based</div>\n        </div>\n        <div className=\"bg-purple-50 p-4 rounded-md\">\n          <div className=\"text-2xl font-bold text-purple-600\">\n            {Object.values(menuItems).filter(d => d.category === 'custom').length}\n          </div>\n          <div className=\"text-sm text-gray-600\">Custom Drinks</div>\n        </div>\n      </div>\n      \n      {/* Drinks by Category */}\n      {Object.entries(getDrinksByCategory()).map(([category, drinks]) => (\n        <div key={category} className=\"mb-8\">\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-700 flex items-center\">\n            <Coffee className={`mr-2 text-${categoryConfig[category]?.color || 'gray'}-600`} />\n            {categoryConfig[category]?.name || category}\n            <span className=\"ml-2 text-sm text-gray-500\">\n              ({drinks.length} drinks)\n            </span>\n          </h3>\n          \n          <div className=\"space-y-2\">\n            {drinks.map(drink => (\n              <div key={drink.id} className=\"border border-gray-200 rounded-lg\">\n                {/* Drink Header */}\n                <div className=\"p-4 flex items-center justify-between hover:bg-gray-50\">\n                  <div className=\"flex items-center space-x-3\">\n                    <button\n                      onClick={() => toggleDrinkEnabled(drink.id)}\n                      className={`p-2 rounded-md border-2 transition-colors ${\n                        drink.enabled \n                          ? 'bg-green-50 border-green-500 text-green-600' \n                          : 'bg-gray-50 border-gray-300 text-gray-400'\n                      }`}\n                    >\n                      {drink.enabled ? <CheckCircle size={18} /> : <Circle size={18} />}\n                    </button>\n                    \n                    <div className=\"flex-1\">\n                      <h4 className={`font-medium ${!drink.enabled ? 'text-gray-400' : 'text-gray-900'}`}>\n                        {drink.name}\n                      </h4>\n                      <p className=\"text-sm text-gray-600\">{drink.description}</p>\n                      {drink.requiresMilk && (\n                        <span className=\"text-xs text-blue-600\">Requires milk</span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={() => setExpandedItems({\n                        ...expandedItems,\n                        [drink.id]: !expandedItems[drink.id]\n                      })}\n                      className=\"p-2 text-gray-500 hover:bg-gray-100 rounded\"\n                    >\n                      {expandedItems[drink.id] ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\n                    </button>\n                    \n                    <button\n                      onClick={() => deleteDrink(drink.id)}\n                      className=\"p-2 text-red-500 hover:bg-red-100 rounded\"\n                      title=\"Delete this drink\"\n                    >\n                      <Trash2 size={18} />\n                    </button>\n                  </div>\n                </div>\n                \n                {/* Expanded Details */}\n                {expandedItems[drink.id] && (\n                  <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\n                    {/* Instructions */}\n                    <div className=\"mb-4\">\n                      <label className=\"text-sm font-medium text-gray-700 flex items-center mb-2\">\n                        <Info size={16} className=\"mr-1\" />\n                        Preparation Instructions\n                      </label>\n                      <textarea\n                        value={drink.instructions}\n                        onChange={(e) => updateDrinkDetails(drink.id, { instructions: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n                        rows=\"2\"\n                        placeholder=\"Enter preparation instructions...\"\n                      />\n                    </div>\n                    \n                    {/* Sizes */}\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h5 className=\"text-sm font-medium text-gray-700\">Size Configurations</h5>\n                        <button\n                          onClick={() => setShowAddSize(drink.id)}\n                          className=\"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 flex items-center\"\n                        >\n                          <Plus size={14} className=\"mr-1\" />\n                          Add Size\n                        </button>\n                      </div>\n                      \n                      <div className=\"space-y-3\">\n                        {Object.entries(drink.sizes).map(([sizeKey, size]) => (\n                          <div key={sizeKey} className=\"bg-white p-3 rounded border border-gray-200\">\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <div className=\"flex items-center\">\n                                <button\n                                  onClick={() => toggleSizeEnabled(drink.id, sizeKey)}\n                                  className={`p-1 rounded border-2 mr-2 transition-colors ${\n                                    size.enabled \n                                      ? 'bg-green-50 border-green-500 text-green-600' \n                                      : 'bg-gray-50 border-gray-300 text-gray-400'\n                                  }`}\n                                >\n                                  {size.enabled ? <CheckCircle size={14} /> : <Circle size={14} />}\n                                </button>\n                                <input\n                                  type=\"text\"\n                                  value={size.name || sizeKey.charAt(0).toUpperCase() + sizeKey.slice(1)}\n                                  onChange={(e) => updateSizeDetails(drink.id, sizeKey, { name: e.target.value })}\n                                  className=\"font-medium bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 focus:outline-none\"\n                                />\n                              </div>\n                              <div className=\"flex items-center space-x-2\">\n                                <select\n                                  value={size.cupSize}\n                                  onChange={(e) => updateSizeDetails(drink.id, sizeKey, { cupSize: e.target.value })}\n                                  className=\"text-sm px-2 py-1 border border-gray-300 rounded\"\n                                >\n                                  {availableCups.map(cup => (\n                                    <option key={cup.id} value={cup.id}>{cup.name}</option>\n                                  ))}\n                                </select>\n                                {Object.keys(drink.sizes).length > 1 && (\n                                  <button\n                                    onClick={() => deleteSizeFromDrink(drink.id, sizeKey)}\n                                    className=\"p-1 text-red-500 hover:bg-red-100 rounded\"\n                                  >\n                                    <Trash2 size={14} />\n                                  </button>\n                                )}\n                              </div>\n                            </div>\n                            \n                            {size.enabled && (\n                              <div className=\"grid grid-cols-3 gap-2 text-sm\">\n                                {size.shots !== undefined && (\n                                  <div>\n                                    <label className=\"text-gray-600\">Shots</label>\n                                    <input\n                                      type=\"number\"\n                                      min=\"0\"\n                                      max=\"4\"\n                                      value={size.shots}\n                                      onChange={(e) => updateSizeDetails(drink.id, sizeKey, { \n                                        shots: parseInt(e.target.value) || 0 \n                                      })}\n                                      className=\"w-full px-2 py-1 border border-gray-300 rounded\"\n                                    />\n                                  </div>\n                                )}\n                                \n                                {size.milkRatio !== undefined && (\n                                  <div>\n                                    <label className=\"text-gray-600\">Milk (ml)</label>\n                                    <input\n                                      type=\"number\"\n                                      min=\"0\"\n                                      value={size.milkRatio}\n                                      onChange={(e) => updateSizeDetails(drink.id, sizeKey, { \n                                        milkRatio: parseInt(e.target.value) || 0 \n                                      })}\n                                      className=\"w-full px-2 py-1 border border-gray-300 rounded\"\n                                    />\n                                  </div>\n                                )}\n                                \n                                {size.waterRatio !== undefined && (\n                                  <div>\n                                    <label className=\"text-gray-600\">Water (ml)</label>\n                                    <input\n                                      type=\"number\"\n                                      min=\"0\"\n                                      value={size.waterRatio}\n                                      onChange={(e) => updateSizeDetails(drink.id, sizeKey, { \n                                        waterRatio: parseInt(e.target.value) || 0 \n                                      })}\n                                      className=\"w-full px-2 py-1 border border-gray-300 rounded\"\n                                    />\n                                  </div>\n                                )}\n                                \n                                {size.price !== undefined && (\n                                  <div>\n                                    <label className=\"text-gray-600\">Price ($)</label>\n                                    <input\n                                      type=\"number\"\n                                      min=\"0\"\n                                      step=\"0.50\"\n                                      value={size.price}\n                                      onChange={(e) => updateSizeDetails(drink.id, sizeKey, { \n                                        price: parseFloat(e.target.value) || 0 \n                                      })}\n                                      className=\"w-full px-2 py-1 border border-gray-300 rounded\"\n                                    />\n                                  </div>\n                                )}\n                              </div>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                    \n                    {/* Station Availability - Only show when global menu is disabled */}\n                    {!globalMenuEnabled && stations && stations.length > 0 && (\n                      <div className=\"mb-4\">\n                        <h5 className=\"text-sm font-medium text-gray-700 mb-2 flex items-center\">\n                          <Monitor size={16} className=\"mr-1\" />\n                          Station Availability\n                        </h5>\n                        <div className=\"bg-yellow-50 border border-yellow-200 rounded p-3 mb-3\">\n                          <p className=\"text-xs text-yellow-800\">\n                            Select which stations can make this drink. If no stations are selected, this drink will be available at all stations.\n                          </p>\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          {stations.map(station => {\n                            const isAvailable = drink.stationAvailability?.[station.id] !== false;\n                            return (\n                              <label key={station.id} className=\"flex items-center p-2 border rounded hover:bg-gray-50\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={isAvailable}\n                                  onChange={() => toggleStationAvailability(drink.id, station.id)}\n                                  className=\"mr-2\"\n                                />\n                                <span className=\"text-sm text-gray-700\">\n                                  {station.name || `Station ${station.id}`}\n                                </span>\n                              </label>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    )}\n                    \n                    {/* Customization Options */}\n                    <div>\n                      <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Customization Options</h5>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {Object.entries(drink.customizable || {})\n                          .filter(([option]) => !['sweetener', 'sugar', 'honey'].includes(option)) // Filter out sweetener options\n                          .map(([option, enabled]) => (\n                          <label key={option} className=\"flex items-center\">\n                            <input\n                              type=\"checkbox\"\n                              checked={enabled}\n                              onChange={(e) => updateDrinkDetails(drink.id, {\n                                customizable: {\n                                  ...drink.customizable,\n                                  [option]: e.target.checked\n                                }\n                              })}\n                              className=\"mr-2\"\n                            />\n                            <span className=\"text-sm text-gray-700\">\n                              {option.replace(/([A-Z])/g, ' $1').trim()}\n                            </span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n      \n      {/* Add Size Modal */}\n      {showAddSize && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add Size to {menuItems[showAddSize]?.name}</h3>\n            \n            <form onSubmit={(e) => {\n              e.preventDefault();\n              const formData = new FormData(e.target);\n              addSizeToDrink(showAddSize, {\n                name: formData.get('name'),\n                cupSize: formData.get('cupSize'),\n                shots: parseInt(formData.get('shots')) || 1,\n                milkRatio: parseInt(formData.get('milkRatio')) || 0,\n                waterRatio: parseInt(formData.get('waterRatio')) || 0\n              });\n            }}>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Size Name\n                  </label>\n                  <input\n                    name=\"name\"\n                    type=\"text\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"e.g., Extra Large\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Cup Size\n                  </label>\n                  <select\n                    name=\"cupSize\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    {availableCups.map(cup => (\n                      <option key={cup.id} value={cup.id}>{cup.name}</option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Default Shots\n                  </label>\n                  <input\n                    name=\"shots\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue=\"2\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n                \n                {menuItems[showAddSize]?.requiresMilk && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Milk Amount (ml)\n                    </label>\n                    <input\n                      name=\"milkRatio\"\n                      type=\"number\"\n                      min=\"0\"\n                      defaultValue=\"400\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                )}\n                \n                {menuItems[showAddSize]?.id === 'long-black' && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Water Amount (ml)\n                    </label>\n                    <input\n                      name=\"waterRatio\"\n                      type=\"number\"\n                      min=\"0\"\n                      defaultValue=\"300\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddSize(null)}\n                  className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n                >\n                  Add Size\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n      \n      {/* Add Custom Drink Modal */}\n      {showAddDrink && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add Custom Drink</h3>\n            \n            <form onSubmit={(e) => {\n              e.preventDefault();\n              const formData = new FormData(e.target);\n              addCustomDrink({\n                name: formData.get('name'),\n                description: formData.get('description'),\n                requiresMilk: formData.get('requiresMilk') === 'true',\n                defaultShots: parseInt(formData.get('defaultShots')) || 1,\n                instructions: formData.get('instructions')\n              });\n            }}>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Drink Name\n                  </label>\n                  <input\n                    name=\"name\"\n                    type=\"text\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"e.g., Turmeric Latte\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Description\n                  </label>\n                  <input\n                    name=\"description\"\n                    type=\"text\"\n                    required\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"e.g., Golden milk with turmeric and spices\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Requires Milk?\n                  </label>\n                  <select\n                    name=\"requiresMilk\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"false\">No</option>\n                    <option value=\"true\">Yes</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Default Shots (if coffee-based)\n                  </label>\n                  <input\n                    name=\"defaultShots\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue=\"1\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Instructions (optional)\n                  </label>\n                  <textarea\n                    name=\"instructions\"\n                    rows=\"2\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"How to prepare this drink...\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddDrink(false)}\n                  className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n                >\n                  Add Drink\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MenuManagement;","import React, { useState, useEffect } from 'react';\nimport { \n  Coffee, Users, Clock, TrendingUp, Calendar, Settings, \n  LogOut, MessageSquare, Bell, BarChart, Layers, Sliders,\n  FileText, UserPlus, Activity, Brain, Zap, LineChart,\n  Radio, Shield, Package, ArrowLeft\n} from 'lucide-react';\n\nimport GroupOrdersTab from './GroupOrdersTab';\nimport AllOrdersTab from './AllOrdersTab';\nimport UserManagementTab from './UserManagementTab';\nimport EnhancedLiveOperationsDashboard from './EnhancedLiveOperationsDashboard';\nimport QueuePsychologyIntelligence from './QueuePsychologyIntelligence';\nimport EventLifecycleManagement from './EventLifecycleManagement';\nimport AnalyticsDashboard from './AnalyticsDashboard';\nimport EnhancedCommunicationHub from './EnhancedCommunicationHub';\nimport PredictiveIntelligence from './PredictiveIntelligence';\nimport EventSettings from './EventSettings';\nimport InventoryManagement from './InventoryManagement';\nimport EventStockManagement from './EventStockManagement';\nimport StationSettings from './StationSettings';\nimport StationInventoryConfig from './StationInventoryConfig';\nimport EnhancedScheduleManagement from './EnhancedScheduleManagement';\nimport MenuManagement from './MenuManagement';\nimport InventoryIntegrationService from '../services/InventoryIntegrationService';\nimport StationsService from '../services/StationsService';\nimport OrderDataService from '../services/OrderDataService';\nimport { useAppMode } from '../context/AppContext';\nimport useStations from '../hooks/useStations';\nimport brandingConfig from '../config/brandingConfig';\n\n/**\n * Organiser Interface Component\n * Main interface for event organizers and admins\n */\nconst OrganiserInterface = () => {\n  const { appMode } = useAppMode();\n  const { stations, loading } = useStations();\n  \n  // Navigation state\n  const [activeSection, setActiveSection] = useState('dashboard'); // Default to Live Ops Dashboard\n  const [stationTab, setStationTab] = useState(() => {\n    // Force new interface by clearing any old tab state\n    const newVersion = '2.0';\n    const savedVersion = localStorage.getItem('organiser_interface_version');\n    if (savedVersion !== newVersion) {\n      localStorage.setItem('organiser_interface_version', newVersion);\n      localStorage.removeItem('organiser_active_section');\n      localStorage.removeItem('organiser_station_tab');\n    }\n    return 'settings'; // Always start with settings tab\n  });\n  \n  // UI state\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  \n  // Load stations when component mounts\n  useEffect(() => {\n    // Stations are loaded by the useStations hook\n    console.log('Organiser Interface mounted');\n    \n    // Initialize inventory integration service\n    InventoryIntegrationService.initializeStockServiceIntegration();\n  }, []);\n  \n  return (\n    <div className=\"min-h-screen bg-gray-100 flex\">\n      {/* Sidebar */}\n      <div className={`bg-white shadow-lg ${sidebarOpen ? 'w-64' : 'w-20'} transition-all duration-300 flex flex-col`}>\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center\">\n              <button \n                className=\"mr-2 p-1 rounded hover:bg-gray-200\"\n                onClick={() => window.history.back()}\n                title=\"Back to Home\"\n              >\n                <ArrowLeft size={20} />\n              </button>\n              <h1 className={`font-bold text-gray-800 ${sidebarOpen ? 'text-xl' : 'text-sm'}`}>\n                {sidebarOpen ? brandingConfig.adminPanelTitle : brandingConfig.shortName.split(' ').map(word => word[0]).join('')}\n              </h1>\n            </div>\n            <button \n              onClick={() => setSidebarOpen(!sidebarOpen)} \n              className=\"text-gray-500 hover:text-gray-800\"\n            >\n              {sidebarOpen ? '' : ''}\n            </button>\n          </div>\n        </div>\n        \n        <nav className=\"flex-1 px-2 py-4\">\n          <div className=\"space-y-1\">\n            {/* Live Operations Dashboard */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'dashboard' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('dashboard')}\n            >\n              <Activity size={20} className=\"mr-3\" />\n              {sidebarOpen && <span> Live Ops</span>}\n            </button>\n            \n            {/* Stations */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'stations' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => {\n                setActiveSection('stations');\n                setStationTab('settings');\n              }}\n            >\n              <Coffee size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Stations</span>}\n            </button>\n            \n            {/* Queue Psychology */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'queuePsychology' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('queuePsychology')}\n            >\n              <Brain size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Queue AI</span>}\n            </button>\n            \n            {/* Event Lifecycle */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'eventLifecycle' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('eventLifecycle')}\n            >\n              <Zap size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Event Phases</span>}\n            </button>\n            \n            {/* Orders */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'orders' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('orders')}\n            >\n              <Clock size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Orders</span>}\n            </button>\n            \n            {/* Group Orders */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'groupOrders' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('groupOrders')}\n            >\n              <FileText size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Group Orders</span>}\n            </button>\n            \n            {/* Users */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'users' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('users')}\n            >\n              <Users size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Users</span>}\n            </button>\n            \n            {/* Schedule */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'schedule' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('schedule')}\n            >\n              <Calendar size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Schedule</span>}\n            </button>\n            \n            {/* Analytics Dashboard */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'analytics' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('analytics')}\n            >\n              <LineChart size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Analytics</span>}\n            </button>\n            \n            {/* Communication Hub */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'communication' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('communication')}\n            >\n              <Radio size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Comms Hub</span>}\n            </button>\n            \n            {/* Predictive Intelligence */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'predictive' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('predictive')}\n            >\n              <Shield size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>AI Predict</span>}\n            </button>\n            \n            {/* Messages */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'messages' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('messages')}\n            >\n              <MessageSquare size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Messages</span>}\n            </button>\n            \n            {/* Settings */}\n            <button\n              className={`w-full flex items-center px-3 py-2 rounded-md ${\n                activeSection === 'settings' \n                  ? 'bg-amber-100 text-amber-800' \n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              onClick={() => setActiveSection('settings')}\n            >\n              <Settings size={20} className=\"mr-3\" />\n              {sidebarOpen && <span>Settings</span>}\n            </button>\n          </div>\n        </nav>\n        \n        <div className=\"p-4 border-t border-gray-200\">\n          <button className=\"flex items-center text-gray-700 w-full\">\n            <LogOut size={20} className=\"mr-3\" />\n            {sidebarOpen && <span>Log out</span>}\n          </button>\n        </div>\n      </div>\n      \n      {/* Main content */}\n      <div className=\"flex-1 overflow-auto\">\n        <header className=\"bg-white shadow-sm p-4 flex justify-between items-center\">\n          <h1 className=\"text-xl font-bold text-gray-800\">\n            {activeSection === 'dashboard' && ' Live Operations Command Center'}\n            {activeSection === 'stations' && 'Station Management'}\n            {activeSection === 'queuePsychology' && 'Queue Psychology & Customer Intelligence'}\n            {activeSection === 'eventLifecycle' && 'Event Lifecycle Management'}\n            {activeSection === 'analytics' && ' Real-Time Analytics Dashboard'}\n            {activeSection === 'communication' && ' Communication Hub'}\n            {activeSection === 'predictive' && ' Predictive Intelligence & Resilience'}\n            {activeSection === 'orders' && 'All Orders Overview'}\n            {activeSection === 'users' && 'User Management'}\n            {activeSection === 'schedule' && 'Event Schedule'}\n            {activeSection === 'messages' && 'Message Center'}\n            {activeSection === 'settings' && 'System Settings'}\n          </h1>\n          \n          <div className=\"flex items-center space-x-4\">\n            <button className=\"text-gray-500 hover:text-gray-800 relative\">\n              <Bell size={20} />\n              <span className=\"absolute top-0 right-0 bg-red-500 rounded-full w-2 h-2\"></span>\n            </button>\n            <div className=\"h-8 w-8 rounded-full bg-amber-200 flex items-center justify-center\">\n              <span className=\"text-amber-800 font-medium\">A</span>\n            </div>\n          </div>\n        </header>\n        \n        <main className=\"p-6\">\n          {/* Dashboard */}\n          {activeSection === 'dashboard' && (\n            <EnhancedLiveOperationsDashboard />\n          )}\n          \n          {/* Queue Psychology */}\n          {activeSection === 'queuePsychology' && (\n            <QueuePsychologyIntelligence />\n          )}\n          \n          {/* Event Lifecycle */}\n          {activeSection === 'eventLifecycle' && (\n            <EventLifecycleManagement />\n          )}\n          \n          {/* Stations */}\n          {activeSection === 'stations' && (\n            <div>\n              {/* Tab Navigation */}\n              <div className=\"mb-6 bg-white p-2 rounded-lg shadow flex\">\n                <button\n                  className={`flex-1 py-2 px-4 rounded-md ${stationTab === 'settings' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n                  onClick={() => setStationTab('settings')}\n                >\n                  <Settings size={16} className=\"inline-block mr-1\" />\n                  Station Settings\n                </button>\n                <button\n                  className={`flex-1 py-2 px-4 rounded-md ${stationTab === 'inventory' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n                  onClick={() => setStationTab('inventory')}\n                >\n                  <Package size={16} className=\"inline-block mr-1\" />\n                  Event Inventory\n                </button>\n                <button\n                  className={`flex-1 py-2 px-4 rounded-md ${stationTab === 'stock' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n                  onClick={() => setStationTab('stock')}\n                >\n                  <Package size={16} className=\"inline-block mr-1\" />\n                  Event Stock\n                </button>\n                <button\n                  className={`flex-1 py-2 px-4 rounded-md ${stationTab === 'config' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n                  onClick={() => setStationTab('config')}\n                >\n                  <Coffee size={16} className=\"inline-block mr-1\" />\n                  Station Inventory\n                </button>\n                <button\n                  className={`flex-1 py-2 px-4 rounded-md ${stationTab === 'menu' ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\n                  onClick={() => setStationTab('menu')}\n                >\n                  <Coffee size={16} className=\"inline-block mr-1\" />\n                  Menu Items\n                </button>\n              </div>\n              \n              {/* Tab Content */}\n              {stationTab === 'settings' && (\n                <StationSettings \n                  stations={stations}\n                  onStationUpdate={async (stationId, stationData) => {\n                    try {\n                      // Update station via API\n                      console.log('Updating station:', stationId, stationData);\n                      // TODO: Implement actual API call\n                      return true;\n                    } catch (error) {\n                      console.error('Error updating station:', error);\n                      return false;\n                    }\n                  }}\n                  onAddStation={async (stationData) => {\n                    try {\n                      // Add station via API\n                      console.log('Adding station:', stationData);\n                      // TODO: Implement actual API call\n                      return true;\n                    } catch (error) {\n                      console.error('Error adding station:', error);\n                      return false;\n                    }\n                  }}\n                  onDeleteStation={async (stationId) => {\n                    try {\n                      // Delete station via API\n                      console.log('Deleting station:', stationId);\n                      // TODO: Implement actual API call\n                      return true;\n                    } catch (error) {\n                      console.error('Error deleting station:', error);\n                      return false;\n                    }\n                  }}\n                />\n              )}\n              \n              {stationTab === 'inventory' && (\n                <InventoryManagement />\n              )}\n              \n              {stationTab === 'stock' && (\n                <EventStockManagement />\n              )}\n              \n              {stationTab === 'config' && (\n                <StationInventoryConfig stations={stations} />\n              )}\n              \n              {stationTab === 'menu' && (\n                <MenuManagement />\n              )}\n            </div>\n          )}\n          \n          {/* Orders Overview Section */}\n          {activeSection === 'orders' && (\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <AllOrdersTab />\n            </div>\n          )}\n          \n          {/* Group Orders Section */}\n          {activeSection === 'groupOrders' && (\n            <div className=\"bg-white rounded-lg shadow\">\n              <GroupOrdersTab \n                onSubmitGroupOrders={(groupOrder) => {\n                  // Handle group order submission\n                  const result = OrderDataService.submitGroupOrder(groupOrder);\n                  return result;\n                }} \n              />\n            </div>\n          )}\n          \n          {/* Analytics Dashboard */}\n          {activeSection === 'analytics' && (\n            <AnalyticsDashboard />\n          )}\n          \n          {/* Communication Hub */}\n          {activeSection === 'communication' && (\n            <EnhancedCommunicationHub />\n          )}\n          \n          {/* Predictive Intelligence */}\n          {activeSection === 'predictive' && (\n            <PredictiveIntelligence />\n          )}\n          \n          {/* User Management */}\n          {activeSection === 'users' && (\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <UserManagementTab />\n            </div>\n          )}\n          \n          {/* Settings - Branding */}\n          {activeSection === 'settings' && (\n            <EventSettings />\n          )}\n          \n          {/* Schedule Management */}\n          {activeSection === 'schedule' && (\n            <EnhancedScheduleManagement />\n          )}\n          \n          {/* Messages */}\n          {activeSection === 'messages' && (\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h2 className=\"text-xl font-semibold mb-4\">Message Center</h2>\n              <p className=\"text-gray-600\">Message center functionality coming soon.</p>\n            </div>\n          )}\n          \n          {/* Placeholder for other sections */}\n          {activeSection !== 'dashboard' && \n           activeSection !== 'stations' && \n           activeSection !== 'groupOrders' &&\n           activeSection !== 'queuePsychology' &&\n           activeSection !== 'eventLifecycle' &&\n           activeSection !== 'analytics' &&\n           activeSection !== 'communication' &&\n           activeSection !== 'predictive' &&\n           activeSection !== 'settings' &&\n           activeSection !== 'schedule' &&\n           activeSection !== 'orders' &&\n           activeSection !== 'users' &&\n           activeSection !== 'messages' && (\n            <div className=\"bg-white rounded-lg shadow p-6\">\n              <h2 className=\"text-xl font-semibold mb-4\">{activeSection.charAt(0).toUpperCase() + activeSection.slice(1)}</h2>\n              <p className=\"text-gray-600\">This section is under development.</p>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default OrganiserInterface;","// components/Organiser.js\nimport React from 'react';\nimport EnhancedOrganizerInterface from './EnhancedOrganizerInterface';\nimport OrganiserInterface from './OrganiserInterface';\nimport AuthService from '../services/AuthService';\n\nconst Organiser = () => {\n  // Force use of the new improved interface (with proper inventory management)\n  // Clear any old preference to use enhanced interface\n  localStorage.removeItem('use_enhanced_organizer');\n  \n  const handleLogout = () => {\n    AuthService.logout();\n    window.location.href = '/login';\n  };\n  \n  // Always use the new OrganiserInterface with the improved station/inventory management\n  return <OrganiserInterface />;\n};\n\nexport default Organiser;","// components/ApiNotificationBanner.js\nimport React, { useState, useEffect } from 'react';\nimport OrderDataService from '../services/OrderDataService';\n\n/**\n * ApiNotificationBanner shows status about the API connection and automatically detects\n * authentication issues and connection problems without requiring props\n */\nconst ApiNotificationBanner = () => {\n  const [visible, setVisible] = useState(true);\n  const [status, setStatus] = useState({\n    useFallbackData: false,\n    authErrorRefreshNeeded: false,\n    connectionStatus: 'online'\n  });\n  \n  // Check status every 5 seconds\n  useEffect(() => {\n    const checkStatus = () => {\n      setStatus({\n        useFallbackData: localStorage.getItem('use_fallback_data') === 'true',\n        authErrorRefreshNeeded: localStorage.getItem('auth_error_refresh_needed') === 'true',\n        connectionStatus: localStorage.getItem('coffee_connection_status') || 'online'\n      });\n    };\n    \n    // Check immediately\n    checkStatus();\n    \n    // Then set up interval\n    const interval = setInterval(checkStatus, 5000);\n    \n    // Listen for auth recovery events\n    const handleAuthRecovered = () => {\n      setStatus(prev => ({\n        ...prev,\n        authErrorRefreshNeeded: false,\n        useFallbackData: false\n      }));\n    };\n    \n    // Listen for order refresh events to update status\n    const handleRefreshOrders = () => {\n      checkStatus();\n    };\n    \n    window.addEventListener('app:authRecovered', handleAuthRecovered);\n    window.addEventListener('app:refreshOrders', handleRefreshOrders);\n    \n    return () => {\n      clearInterval(interval);\n      window.removeEventListener('app:authRecovered', handleAuthRecovered);\n      window.removeEventListener('app:refreshOrders', handleRefreshOrders);\n    };\n  }, []);\n  \n  // If not visible or no issues, don't render anything\n  if (!visible || (!status.useFallbackData && !status.authErrorRefreshNeeded && status.connectionStatus !== 'offline')) {\n    return null;\n  }\n  \n  // Handle refresh/reconnect button click\n  const handleRefreshOrReconnect = () => {\n    if (status.authErrorRefreshNeeded) {\n      // Clear JWT error caches and reset auth error counters\n      localStorage.removeItem('jwt_error_endpoints');\n      localStorage.setItem('auth_error_count', '0');\n      localStorage.removeItem('auth_error_refresh_needed');\n      \n      // Try to exit fallback mode\n      localStorage.setItem('use_fallback_data', 'false');\n      \n      // Refresh the page to ensure clean state\n      window.location.reload();\n    } else {\n      // Try to reconnect to the server via OrderDataService\n      OrderDataService.checkConnection().then(isConnected => {\n        if (isConnected) {\n          // If connection successful, refresh orders\n          window.dispatchEvent(new CustomEvent('app:refreshOrders'));\n          \n          // If we were in fallback mode, try to exit\n          if (status.useFallbackData) {\n            localStorage.setItem('use_fallback_data', 'false');\n            setStatus(prev => ({\n              ...prev,\n              useFallbackData: false\n            }));\n          }\n        }\n      });\n    }\n  };\n  \n  // Determine banner content based on status\n  let title, message, buttonText, colorScheme;\n  \n  if (status.authErrorRefreshNeeded) {\n    title = 'Authentication Error';\n    message = 'Could not connect to backend service. Using sample data instead.';\n    buttonText = 'Reconnect';\n    colorScheme = {\n      container: 'bg-red-600 text-white',\n      button: 'bg-white text-red-600 hover:bg-red-100'\n    };\n  } else if (status.useFallbackData) {\n    title = 'Fallback Mode Active';\n    message = 'Using sample data. Could not connect to backend service.';\n    buttonText = 'Try Reconnect';\n    colorScheme = {\n      container: 'bg-yellow-500 text-white',\n      button: 'bg-white text-yellow-700 hover:bg-yellow-100'\n    };\n  } else if (status.connectionStatus === 'offline') {\n    title = 'Connection Issue';\n    message = 'Connection to server lost. Using cached data.';\n    buttonText = 'Refresh';\n    colorScheme = {\n      container: 'bg-orange-500 text-white',\n      button: 'bg-white text-orange-700 hover:bg-orange-100'\n    };\n  }\n  \n  return (\n    <div className={`fixed top-0 left-0 right-0 ${colorScheme.container} p-3 z-50 shadow-md`}>\n      <div className=\"max-w-7xl mx-auto flex items-center justify-between\">\n        <div>\n          <p className=\"font-semibold\">{title}</p>\n          <p className=\"text-sm opacity-90\">{message}</p>\n        </div>\n        \n        <div className=\"flex items-center\">\n          <button\n            onClick={handleRefreshOrReconnect}\n            className={`${colorScheme.button} px-3 py-1 rounded-md text-sm font-medium mr-3 transition-colors`}\n          >\n            {buttonText}\n          </button>\n          \n          <button\n            onClick={() => setVisible(false)}\n            className=\"text-white opacity-75 hover:opacity-100 transition-opacity\"\n            aria-label=\"Dismiss\"\n          >\n            <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\"></path>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ApiNotificationBanner;","import React, { useState, useEffect } from 'react';\nimport { Coffee, Check, Clock, ArrowLeft, AlertTriangle, RefreshCw, MapPin } from 'lucide-react';\nimport { useSearchParams } from 'react-router-dom';\nimport ApiNotificationBanner from './ApiNotificationBanner';\nimport OrderDataService from '../services/OrderDataService';\nimport StationsService from '../services/StationsService';\nimport SettingsService from '../services/SettingsService';\nimport { useSettings } from '../hooks/useSettings';\n\nconst DisplayScreen = () => {\n  // Get station ID from URL query parameters\n  const [searchParams] = useSearchParams();\n  const stationId = searchParams.get('station');\n  \n  // Use settings hook to get display settings\n  const { settings } = useSettings();\n  \n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [stations, setStations] = useState([]);\n  const [currentStation, setCurrentStation] = useState(null);\n  \n  // Get display settings from settings or use defaults\n  const displaySettings = settings?.displaySettings || {\n    eventName: 'ANZCA ASM 2025',\n    organizationName: 'Australian and New Zealand College of Anaesthetists',\n    headerColor: '#1e40af',\n    customMessage: 'Enjoy your coffee!',\n    smsNumber: '+61 123 456 789',\n    showSponsor: false,\n    sponsorName: '',\n    sponsorMessage: ''\n  };\n  \n  // Combine settings with station-specific info\n  const [config, setConfig] = useState({\n    system_name: 'Coffee Cue',\n    event_name: displaySettings.eventName,\n    sms_number: displaySettings.smsNumber,\n    sponsor: {\n      enabled: displaySettings.showSponsor,\n      name: displaySettings.sponsorName,\n      message: displaySettings.sponsorMessage\n    },\n    wait_time: settings?.waitTimeWarning || 15,\n    header_color: displaySettings.headerColor,\n    custom_message: displaySettings.customMessage\n  });\n  \n  const [orders, setOrders] = useState({\n    inProgress: [],\n    ready: []\n  });\n  \n  const [connected, setConnected] = useState(false);\n  const [lastUpdated, setLastUpdated] = useState(new Date());\n\n  // Update config when settings change\n  useEffect(() => {\n    if (settings && settings.displaySettings) {\n      setConfig({\n        system_name: 'Coffee Cue',\n        event_name: settings.displaySettings.eventName,\n        sms_number: settings.displaySettings.smsNumber,\n        sponsor: {\n          enabled: settings.displaySettings.showSponsor,\n          name: settings.displaySettings.sponsorName,\n          message: settings.displaySettings.sponsorMessage\n        },\n        wait_time: settings.waitTimeWarning || 15,\n        header_color: settings.displaySettings.headerColor,\n        custom_message: settings.displaySettings.customMessage\n      });\n    }\n  }, [settings]);\n\n  // Load stations first\n  useEffect(() => {\n    const loadStations = async () => {\n      try {\n        console.log('Loading stations for display screen');\n        const stationsResponse = await StationsService.getStations();\n        \n        if (stationsResponse && stationsResponse.length > 0) {\n          console.log('Loaded stations:', stationsResponse);\n          setStations(stationsResponse);\n          \n          // If a stationId is provided in the URL\n          if (stationId) {\n            // Special case for 'all' stations view\n            if (stationId === 'all') {\n              console.log('Using \"all stations\" view');\n              // Create a virtual \"all\" station\n              const allStationsVirtual = {\n                id: 'all',\n                name: 'All Stations',\n                status: 'active'\n              };\n              setCurrentStation(allStationsVirtual);\n            } else {\n              // Try to find the specified station (convert to number for proper comparison)\n              console.log(`Looking for station with ID ${stationId} in URL param`);\n              console.log('Available stations:', stationsResponse.map(s => `${s.name} (ID: ${s.id}, type: ${typeof s.id})`));\n              \n              // Convert to number for comparison\n              const numericStationId = typeof stationId === 'string' ? parseInt(stationId, 10) : stationId;\n              \n              const station = stationsResponse.find(s => \n                s.id === numericStationId || // numeric match\n                s.id === stationId || // exact match\n                (typeof s.id === 'number' && typeof stationId === 'string' && s.id.toString() === stationId) // string comparison\n              );\n              \n              if (station) {\n                console.log('Found station from URL parameter:', station);\n                setCurrentStation(station);\n              } else {\n                console.warn(`Station with ID ${stationId} not found, using first station`);\n                setCurrentStation(stationsResponse[0]);\n              }\n            }\n          } else {\n            // If no stationId provided, use the first station\n            console.log('No station ID provided, using first station:', stationsResponse[0]);\n            setCurrentStation(stationsResponse[0]);\n          }\n          \n          setConnected(true);\n        } else {\n          throw new Error('No stations found');\n        }\n      } catch (err) {\n        console.error('Error loading stations:', err);\n        setError('Failed to load stations: ' + (err.message || 'Unknown error'));\n        setConnected(false);\n      }\n    };\n    \n    loadStations();\n  }, [stationId]);\n  \n  // Load orders for the current station\n  useEffect(() => {\n    if (!currentStation) return;\n    \n    const loadOrdersForStation = async () => {\n      setLoading(true);\n      try {\n        console.log(`Loading orders for station: ${currentStation.name} (ID: ${currentStation.id}, Type: ${typeof currentStation.id})`);\n        \n        let inProgressOrders, completedOrders;\n        \n        // Special handling for \"all\" stations view\n        if (currentStation.id === 'all') {\n          // For \"all\" view, get all orders without filtering by station\n          inProgressOrders = await OrderDataService.getInProgressOrders();\n          completedOrders = await OrderDataService.getCompletedOrders();\n        } else {\n          // For a specific station, filter by station ID\n          // Ensure station ID is properly converted to number for consistency\n          const stationId = typeof currentStation.id === 'string' && currentStation.id !== 'all' \n            ? parseInt(currentStation.id, 10) \n            : currentStation.id;\n          \n          console.log(`Fetching orders for station ID: ${stationId} (original: ${currentStation.id}, type: ${typeof currentStation.id})`);\n          inProgressOrders = await OrderDataService.getInProgressOrders(stationId);\n          completedOrders = await OrderDataService.getCompletedOrders(stationId);\n        }\n        \n        console.log('In-progress orders:', inProgressOrders);\n        console.log('Completed orders:', completedOrders);\n        \n        // Format orders for display\n        const formattedOrders = {\n          inProgress: inProgressOrders.map(order => ({\n            id: order.id,\n            order_number: order.orderNumber || order.id,\n            customerName: order.customerName || 'Customer',\n            displayPhone: order.phoneNumber ? order.phoneNumber.slice(-4) : 'xxxx',\n            coffeeType: order.coffeeType || 'Coffee',\n            milkType: order.milkType || 'Regular milk',\n            status: 'in-progress',\n            stationId: order.stationId || order.station_id // Include station ID for display\n          })),\n          ready: completedOrders.map(order => ({\n            id: order.id,\n            order_number: order.orderNumber || order.id,\n            customerName: order.customerName || 'Customer',\n            displayPhone: order.phoneNumber ? order.phoneNumber.slice(-4) : 'xxxx',\n            coffeeType: order.coffeeType || 'Coffee',\n            milkType: order.milkType || 'Regular milk',\n            status: 'completed',\n            stationId: order.stationId || order.station_id // Include station ID for display\n          }))\n        };\n        \n        setOrders(formattedOrders);\n        setLastUpdated(new Date());\n        setConnected(true);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error loading orders for station:', err);\n        setError('Failed to load orders: ' + (err.message || 'Unknown error'));\n        setConnected(false);\n        setLoading(false);\n      }\n    };\n    \n    loadOrdersForStation();\n    \n    // Set up auto-refresh every 20 seconds\n    const refreshInterval = setInterval(() => {\n      loadOrdersForStation();\n    }, 20000);\n    \n    return () => clearInterval(refreshInterval);\n  }, [currentStation]);\n\n  const handleBackClick = () => {\n    window.location.href = '/';\n  };\n  \n  // Modified manual refresh to use our services\n  const handleManualRefresh = async () => {\n    if (!currentStation) return;\n    \n    setLoading(true);\n    try {\n      let inProgressOrders, completedOrders;\n      \n      // Special handling for \"all\" stations view\n      if (currentStation.id === 'all') {\n        // For \"all\" view, get all orders without filtering by station\n        inProgressOrders = await OrderDataService.getInProgressOrders();\n        completedOrders = await OrderDataService.getCompletedOrders();\n      } else {\n        // For a specific station, filter by station ID\n        // Ensure station ID is properly converted to number for consistency\n        const stationId = typeof currentStation.id === 'string' && currentStation.id !== 'all' \n          ? parseInt(currentStation.id, 10) \n          : currentStation.id;\n        \n        console.log(`Manual refresh for station ID: ${stationId} (original type: ${typeof currentStation.id})`);\n        inProgressOrders = await OrderDataService.getInProgressOrders(stationId);\n        completedOrders = await OrderDataService.getCompletedOrders(stationId);\n      }\n      \n      // Format orders for display\n      const formattedOrders = {\n        inProgress: inProgressOrders.map(order => ({\n          id: order.id,\n          order_number: order.orderNumber || order.id,\n          customerName: order.customerName || 'Customer',\n          displayPhone: order.phoneNumber ? order.phoneNumber.slice(-4) : 'xxxx',\n          coffeeType: order.coffeeType || 'Coffee',\n          milkType: order.milkType || 'Regular milk',\n          status: 'in-progress',\n          stationId: order.stationId || order.station_id // Include station ID for display\n        })),\n        ready: completedOrders.map(order => ({\n          id: order.id,\n          order_number: order.orderNumber || order.id,\n          customerName: order.customerName || 'Customer',\n          displayPhone: order.phoneNumber ? order.phoneNumber.slice(-4) : 'xxxx',\n          coffeeType: order.coffeeType || 'Coffee',\n          milkType: order.milkType || 'Regular milk',\n          status: 'completed',\n          stationId: order.stationId || order.station_id // Include station ID for display\n        }))\n      };\n      \n      setOrders(formattedOrders);\n      setLastUpdated(new Date());\n      setConnected(true);\n      setLoading(false);\n    } catch (err) {\n      console.error('Error manually refreshing orders:', err);\n      setConnected(false);\n      setLoading(false);\n    }\n  };\n  \n  // Function to change the selected station\n  const handleStationChange = (stationId) => {\n    console.log(`Station change requested: ${stationId} (type: ${typeof stationId})`);\n    \n    // Special handling for \"all\" stations\n    if (stationId === 'all') {\n      const allStationsVirtual = {\n        id: 'all',\n        name: 'All Stations',\n        status: 'active'\n      };\n      setCurrentStation(allStationsVirtual);\n      \n      // Update URL with 'all' station parameter\n      const newSearchParams = new URLSearchParams(searchParams);\n      newSearchParams.set('station', 'all');\n      window.history.pushState({}, '', `${window.location.pathname}?${newSearchParams.toString()}`);\n      return;\n    }\n    \n    // Convert to number for comparison if it's a string\n    const numericStationId = typeof stationId === 'string' ? parseInt(stationId, 10) : stationId;\n    console.log(`Looking for station with ID ${numericStationId} (converted from ${stationId})`);\n    \n    // Log all stations for debugging\n    console.log('Available stations:', stations.map(s => `${s.name} (ID: ${s.id}, type: ${typeof s.id})`));\n    \n    // Try to find with both string and numeric IDs to ensure match\n    const station = stations.find(s => \n      s.id === numericStationId || // numeric match\n      s.id === stationId || // exact match\n      (typeof s.id === 'number' && typeof stationId === 'string' && s.id.toString() === stationId) // string comparison\n    );\n    \n    if (station) {\n      console.log(`Found matching station: ${station.name} (ID: ${station.id})`);\n      setCurrentStation(station);\n      \n      // Update URL with the new station ID without page reload\n      const newSearchParams = new URLSearchParams(searchParams);\n      newSearchParams.set('station', station.id.toString()); // Use toString for consistency\n      window.history.pushState({}, '', `${window.location.pathname}?${newSearchParams.toString()}`);\n    } else {\n      console.error(`No station found with ID: ${stationId}`);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex flex-col\">\n      {/* Header */}\n      <header style={{ backgroundColor: config.header_color || '#1e40af' }} className=\"text-white p-4\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center\">\n            <button \n              onClick={handleBackClick}\n              className=\"mr-4 p-2 rounded-full hover:bg-opacity-80 transition-colors\"\n              style={{ backgroundColor: `${config.header_color}99` || '#1e40af99' }}\n            >\n              <ArrowLeft size={24} />\n            </button>\n            <Coffee size={32} className=\"mr-2\" />\n            <h1 className=\"text-3xl font-bold\">{config.system_name}</h1>\n          </div>\n          <div className=\"text-2xl font-light flex items-center\">\n            {config.event_name}\n          </div>\n        </div>\n      </header>\n\n      {/* Connection Status */}\n      {!connected && (\n        <div className=\"bg-red-500 text-white p-2 text-center\">\n          <div className=\"container mx-auto flex items-center justify-center\">\n            <AlertTriangle size={20} className=\"mr-2\" />\n            <span>Not connected to backend API. Order data may be outdated.</span>\n          </div>\n        </div>\n      )}\n\n      {/* Station Information and Selector */}\n      <div className=\"bg-white border-b shadow-sm\">\n        <div className=\"container mx-auto py-4 px-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex flex-col\">\n              <div className=\"flex items-center\">\n                <MapPin size={24} className=\"text-gray-500 mr-2\" />\n                <h2 className=\"text-2xl font-bold text-gray-800\">\n                  {currentStation \n                    ? `${currentStation.name} ${currentStation.location ? `- ${currentStation.location}` : ''}`\n                    : \"Select a station\"\n                  }\n                </h2>\n              </div>\n              \n              {/* Station Selector */}\n              {stations.length > 1 && (\n                <div className=\"mt-2\">\n                  <label htmlFor=\"station-select\" className=\"text-sm text-gray-500 mr-2\">Select Station:</label>\n                  <select \n                    id=\"station-select\"\n                    value={currentStation?.id || ''}\n                    onChange={(e) => handleStationChange(e.target.value)}\n                    className=\"border rounded px-2 py-1 text-gray-700\"\n                  >\n                    {/* Add \"All Stations\" option */}\n                    <option value=\"all\">All Stations</option>\n                    \n                    {stations.map(station => (\n                      <option key={station.id} value={station.id}>\n                        {station.name} {station.location ? `(${station.location})` : ''}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"text-lg mr-4\">\n                <span className=\"text-gray-500\">Last Updated:</span> <span className=\"font-bold\">{lastUpdated.toLocaleTimeString()}</span>\n              </div>\n              <button \n                onClick={handleManualRefresh} \n                className=\"p-2 rounded-full bg-blue-50 text-blue-500 hover:bg-blue-100\"\n                disabled={loading || !currentStation}\n              >\n                <RefreshCw size={20} className={loading ? \"animate-spin\" : \"\"} />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <main className=\"flex-grow container mx-auto p-4 grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Notification Banner (only shown if there's an error or not connected) */}\n        {(error || !connected) && (\n          <div className=\"md:col-span-2 mb-2\">\n            <ApiNotificationBanner \n              title=\"Display Screen API Connection Issue\" \n              message={error || \"Unable to connect to the backend API. The display screen requires a connection to show real-time order data.\"}\n            />\n          </div>\n        )}\n\n        {/* In Progress Orders */}\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\n          <div className=\"bg-amber-500 text-white p-4\">\n            <div className=\"flex items-center\">\n              <Clock size={24} className=\"mr-2\" />\n              <h2 className=\"text-xl font-bold\">In Progress</h2>\n            </div>\n          </div>\n          \n          <div className=\"divide-y divide-gray-200\">\n            {loading ? (\n              <div className=\"p-6 flex flex-col items-center justify-center text-gray-500\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-600 mb-4\"></div>\n                <p>Loading orders...</p>\n              </div>\n            ) : orders.inProgress.length > 0 ? (\n              orders.inProgress.map(order => (\n                <div key={order.id} className=\"p-4 flex justify-between items-center animate-pulse\">\n                  <div>\n                    <div className=\"flex items-center\">\n                      <Coffee size={20} className=\"text-amber-500 mr-2\" />\n                      <span className=\"font-bold text-xl\">{order.order_number}</span>\n                    </div>\n                    <div className=\"mt-1 text-gray-600\">\n                      For: {order.customerName} (xx{order.displayPhone})\n                    </div>\n                    <div className=\"text-gray-500\">{order.coffeeType}</div>\n                  </div>\n                  <div className=\"bg-amber-100 text-amber-800 px-4 py-2 rounded-full font-medium\">\n                    Preparing\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"p-6 flex flex-col items-center justify-center text-gray-500\">\n                <Coffee size={48} className=\"mb-4 text-gray-300\" />\n                <p className=\"text-lg font-medium mb-2\">No orders in progress</p>\n                <p className=\"text-sm\">Orders being prepared will appear here</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Ready Orders */}\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\n          <div className=\"bg-green-600 text-white p-4\">\n            <div className=\"flex items-center\">\n              <Check size={24} className=\"mr-2\" />\n              <h2 className=\"text-xl font-bold\">Ready for Pickup</h2>\n            </div>\n          </div>\n          \n          <div className=\"divide-y divide-gray-200\">\n            {loading ? (\n              <div className=\"p-6 flex flex-col items-center justify-center text-gray-500\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600 mb-4\"></div>\n                <p>Loading orders...</p>\n              </div>\n            ) : orders.ready.length > 0 ? (\n              orders.ready.map(order => (\n                <div key={order.id} className=\"p-4 flex justify-between items-center\">\n                  <div>\n                    <div className=\"flex items-center\">\n                      <Coffee size={20} className=\"text-green-500 mr-2\" />\n                      <span className=\"font-bold text-xl\">{order.order_number}</span>\n                    </div>\n                    <div className=\"mt-1 text-gray-600\">\n                      For: {order.customerName} (xx{order.displayPhone})\n                    </div>\n                    <div className=\"text-gray-500\">{order.coffeeType}</div>\n                  </div>\n                  <div className=\"bg-green-100 text-green-800 px-4 py-2 rounded-full font-medium\">\n                    Ready\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"p-6 flex flex-col items-center justify-center text-gray-500\">\n                <Check size={48} className=\"mb-4 text-gray-300\" />\n                <p className=\"text-lg font-medium mb-2\">No orders ready for pickup</p>\n                <p className=\"text-sm\">Ready orders will appear here</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n\n      {/* Promotional Footer */}\n      <footer style={{ backgroundColor: config.header_color || '#1e40af' }} className=\"text-white py-4\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center\">\n            <div className=\"mb-4 md:mb-0 text-center md:text-left\">\n              <h3 className=\"text-xl font-bold\">Order your coffee via SMS!</h3>\n              <p className=\"text-blue-100\">Text your order to: {config.sms_number}</p>\n            </div>\n            <div className=\"text-center md:text-right\">\n              {config.sponsor.enabled ? (\n                <div className=\"text-xl font-bold\">{config.sponsor.name}: {config.sponsor.message}</div>\n              ) : (\n                <div className=\"text-xl font-bold\">Coffee service proudly provided</div>\n              )}\n              <div className=\"text-blue-100 text-lg\">{config.custom_message || \"Enjoy your coffee!\"}</div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default DisplayScreen;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Loader\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTgiIHkyPSIyMiIgLz4KICA8bGluZSB4MT0iNC45MyIgeDI9IjcuNzYiIHkxPSI0LjkzIiB5Mj0iNy43NiIgLz4KICA8bGluZSB4MT0iMTYuMjQiIHgyPSIxOS4wNyIgeTE9IjE2LjI0IiB5Mj0iMTkuMDciIC8+CiAgPGxpbmUgeDE9IjIiIHgyPSI2IiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTgiIHgyPSIyMiIgeTE9IjEyIiB5Mj0iMTIiIC8+CiAgPGxpbmUgeDE9IjQuOTMiIHgyPSI3Ljc2IiB5MT0iMTkuMDciIHkyPSIxNi4yNCIgLz4KICA8bGluZSB4MT0iMTYuMjQiIHgyPSIxOS4wNyIgeTE9IjcuNzYiIHkyPSI0LjkzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/loader\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Loader = createLucideIcon('Loader', [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '6', key: 'gza1u7' }],\n  ['line', { x1: '12', x2: '12', y1: '18', y2: '22', key: '1qhbu9' }],\n  ['line', { x1: '4.93', x2: '7.76', y1: '4.93', y2: '7.76', key: 'xae44r' }],\n  [\n    'line',\n    { x1: '16.24', x2: '19.07', y1: '16.24', y2: '19.07', key: 'bxnmvf' },\n  ],\n  ['line', { x1: '2', x2: '6', y1: '12', y2: '12', key: '89khin' }],\n  ['line', { x1: '18', x2: '22', y1: '12', y2: '12', key: 'pb8tfm' }],\n  ['line', { x1: '4.93', x2: '7.76', y1: '19.07', y2: '16.24', key: '1uxjnu' }],\n  ['line', { x1: '16.24', x2: '19.07', y1: '7.76', y2: '4.93', key: '6duxfx' }],\n]);\n\nexport default Loader;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Coffee, Monitor, ArrowLeft, Loader } from 'lucide-react';\nimport StationsService from '../services/StationsService';\n\nconst DisplaySelector = () => {\n  const navigate = useNavigate();\n  const [stations, setStations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Load stations on component mount\n  useEffect(() => {\n    const loadStations = async () => {\n      try {\n        setLoading(true);\n        const stationsResponse = await StationsService.getStations();\n        \n        if (stationsResponse && stationsResponse.length > 0) {\n          console.log('Loaded stations for display selector:', stationsResponse);\n          setStations(stationsResponse);\n        } else {\n          setError('No stations found. Please create stations first in the Organiser interface.');\n        }\n      } catch (err) {\n        console.error('Error loading stations:', err);\n        setError('Failed to load stations: ' + (err.message || 'Unknown error'));\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadStations();\n  }, []);\n\n  // Go to display screen for a specific station\n  const goToDisplayForStation = (stationId) => {\n    navigate(`/display?station=${stationId}`);\n  };\n\n  // Go back to landing page\n  const goBack = () => {\n    navigate('/');\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-blue-600 text-white p-4\">\n        <div className=\"container mx-auto flex items-center\">\n          <button \n            onClick={goBack}\n            className=\"mr-4 p-2 rounded-full hover:bg-blue-700 transition-colors\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <div className=\"flex items-center\">\n            <Monitor size={32} className=\"mr-2\" />\n            <h1 className=\"text-2xl font-bold\">Display Screen Selector</h1>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"flex-grow container mx-auto p-6\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Select a Station Display</h2>\n            <p className=\"text-gray-600 mb-6\">\n              Choose a barista station to view its display screen. Each display shows the orders in progress and ready for pickup at that station.\n            </p>\n            \n            {/* Error Message */}\n            {error && (\n              <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6\">\n                <p>{error}</p>\n              </div>\n            )}\n            \n            {/* Loading State */}\n            {loading ? (\n              <div className=\"flex justify-center items-center p-12\">\n                <Loader size={40} className=\"animate-spin text-blue-600\" />\n                <span className=\"ml-3 text-gray-600\">Loading stations...</span>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {stations.map(station => (\n                  <div \n                    key={station.id}\n                    className=\"border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer\"\n                    onClick={() => goToDisplayForStation(station.id)}\n                  >\n                    <div className=\"flex items-start\">\n                      <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3\">\n                        <Coffee size={20} className=\"text-blue-600\" />\n                      </div>\n                      <div>\n                        <h3 className=\"font-bold text-gray-800\">{station.name}</h3>\n                        <p className=\"text-sm text-gray-600\">{station.location || 'No location specified'}</p>\n                        <p className=\"mt-2 text-xs\">\n                          <span className={`inline-block rounded-full px-2 py-1 ${station.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                            {station.status === 'active' ? 'Active' : 'Inactive'}\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                \n                {/* All Stations Option */}\n                <div \n                  className=\"border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer\"\n                  onClick={() => goToDisplayForStation('all')}\n                >\n                  <div className=\"flex items-start\">\n                    <div className=\"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-3\">\n                      <Monitor size={20} className=\"text-purple-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-bold text-gray-800\">All Stations</h3>\n                      <p className=\"text-sm text-gray-600\">Combined display of all station orders</p>\n                      <p className=\"mt-2 text-xs\">\n                        <span className=\"inline-block rounded-full px-2 py-1 bg-purple-100 text-purple-800\">\n                          Overview\n                        </span>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"text-center text-gray-500 text-sm\">\n            <p>Displays will automatically refresh every 20 seconds. You can also manually refresh using the button on the display screen.</p>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default DisplaySelector;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Terminal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSI0IDE3IDEwIDExIDQgNSIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIyMCIgeTE9IjE5IiB5Mj0iMTkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/terminal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Terminal = createLucideIcon('Terminal', [\n  ['polyline', { points: '4 17 10 11 4 5', key: 'akl6gq' }],\n  ['line', { x1: '12', x2: '20', y1: '19', y2: '19', key: 'q2wloq' }],\n]);\n\nexport default Terminal;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Crown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMiA0IDMgMTJoMTRsMy0xMi02IDctNC03LTQgNy02LTd6bTMgMTZoMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/crown\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Crown = createLucideIcon('Crown', [\n  ['path', { d: 'm2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14', key: 'zkxr6b' }],\n]);\n\nexport default Crown;\n","import React, { useState, useEffect } from 'react';\nimport { \n  MessageSquare, Send, Users, Crown, Clock, Calendar,\n  Coffee, CheckCircle, AlertCircle, Info, Package,\n  Activity, Settings, Play, RefreshCw, Phone, Globe\n} from 'lucide-react';\nimport ApiService from '../services/ApiService';\nimport OrderDataService from '../services/OrderDataService';\nimport StationsService from '../services/StationsService';\n\nconst SMSTestSimulator = () => {\n  // Test Configuration\n  const [testConfig, setTestConfig] = useState({\n    // Customer Details\n    customerPhone: '+1234567890',\n    customerName: 'Test Customer',\n    isVIP: false,\n    isGroupOrder: false,\n    groupSize: 1,\n    language: 'en',\n    \n    // Order Details\n    orderType: 'coffee',\n    coffeeType: 'latte',\n    size: 'medium',\n    milkType: 'almond',\n    extras: [],\n    quantity: 1,\n    specialInstructions: '',\n    \n    // System Configuration\n    testDateTime: (() => {\n      const now = new Date();\n      const year = now.getFullYear();\n      const month = String(now.getMonth() + 1).padStart(2, '0');\n      const day = String(now.getDate()).padStart(2, '0');\n      const hours = String(now.getHours()).padStart(2, '0');\n      const minutes = String(now.getMinutes()).padStart(2, '0');\n      return `${year}-${month}-${day}T${hours}:${minutes}`;\n    })(),\n    simulateDelay: true,\n    delaySeconds: 2,\n    testStockLevels: 'normal', // 'normal', 'low', 'critical', 'out'\n    activeStations: 'all', // 'all', 'some', 'none'\n    selectedStations: [],\n    \n    // Event Settings\n    eventName: 'Test Event',\n    eventPhase: 'peak', // 'opening', 'normal', 'peak', 'closing'\n    queueLength: 5,\n    estimatedWaitTime: 15\n  });\n  \n  // Test Results\n  const [testResults, setTestResults] = useState({\n    stages: [],\n    currentStage: null,\n    isRunning: false,\n    success: false,\n    error: null\n  });\n  \n  // Available Options\n  const [menuItems, setMenuItems] = useState([]);\n  const [stations, setStations] = useState([]);\n  const [availableMilk, setAvailableMilk] = useState([]);\n  const [smsSettings, setSmsSettings] = useState({});\n  \n  // Load initial data\n  useEffect(() => {\n    loadTestData();\n  }, []);\n  \n  const loadTestData = async () => {\n    try {\n      // Load stations\n      const stationsData = await StationsService.getStations();\n      setStations(stationsData || []);\n      \n      // Load menu items\n      const savedMenu = localStorage.getItem('event_menu');\n      if (savedMenu) {\n        const menu = JSON.parse(savedMenu);\n        setMenuItems(Object.values(menu).filter(item => item.enabled));\n      }\n      \n      // Load available milk types from inventory\n      const inventory = localStorage.getItem('event_inventory');\n      if (inventory) {\n        const inv = JSON.parse(inventory);\n        setAvailableMilk(inv.milk?.filter(m => m.enabled) || []);\n      }\n      \n      // Load SMS settings\n      const settings = localStorage.getItem('sms_settings');\n      if (settings) {\n        setSmsSettings(JSON.parse(settings));\n      }\n    } catch (error) {\n      console.error('Error loading test data:', error);\n    }\n  };\n  \n  // Add test stage result\n  const addTestStage = (stage, status, details) => {\n    setTestResults(prev => ({\n      ...prev,\n      stages: [...prev.stages, {\n        stage,\n        status, // 'running', 'success', 'warning', 'error'\n        details,\n        timestamp: new Date() // Store as Date object for local display\n      }],\n      currentStage: stage\n    }));\n  };\n  \n  // Simulate SMS order flow\n  const runSMSTest = async () => {\n    setTestResults({\n      stages: [],\n      currentStage: null,\n      isRunning: true,\n      success: false,\n      error: null\n    });\n    \n    try {\n      // Stage 1: SMS Reception\n      addTestStage('SMS Reception', 'running', 'Simulating incoming SMS...');\n      await simulateDelay();\n      \n      const smsContent = buildSMSContent();\n      addTestStage('SMS Reception', 'success', {\n        from: testConfig.customerPhone,\n        message: smsContent,\n        timestamp: testConfig.testDateTime\n      });\n      \n      // Stage 2: Parse SMS\n      addTestStage('SMS Parsing', 'running', 'Parsing order details...');\n      await simulateDelay();\n      \n      const parsedOrder = parseSMSOrder(smsContent);\n      addTestStage('SMS Parsing', 'success', {\n        parsed: parsedOrder,\n        confidence: '95%'\n      });\n      \n      // Stage 3: Check Customer Status\n      addTestStage('Customer Verification', 'running', 'Checking customer status...');\n      await simulateDelay();\n      \n      addTestStage('Customer Verification', 'success', {\n        isVIP: testConfig.isVIP,\n        previousOrders: Math.floor(Math.random() * 50),\n        loyaltyPoints: Math.floor(Math.random() * 1000)\n      });\n      \n      // Stage 4: Check Stock Availability\n      addTestStage('Stock Check', 'running', 'Verifying inventory levels...');\n      await simulateDelay();\n      \n      const stockStatus = checkStockAvailability();\n      addTestStage('Stock Check', stockStatus.hasStock ? 'success' : 'warning', stockStatus);\n      \n      // Stage 5: Station Selection\n      addTestStage('Station Assignment', 'running', 'Finding available stations...');\n      await simulateDelay();\n      \n      const stationAssignment = await assignStation();\n      addTestStage('Station Assignment', stationAssignment.assigned ? 'success' : 'error', stationAssignment);\n      \n      if (!stationAssignment.assigned) {\n        throw new Error('No stations available to handle order');\n      }\n      \n      // Stage 6: Create Order\n      addTestStage('Order Creation', 'running', 'Creating order in system...');\n      await simulateDelay();\n      \n      const order = await createTestOrder(parsedOrder, stationAssignment.stationId);\n      addTestStage('Order Creation', 'success', {\n        orderId: order.id,\n        orderNumber: order.orderNumber,\n        status: 'pending'\n      });\n      \n      // Stage 7: Send Confirmation SMS\n      addTestStage('SMS Confirmation', 'running', 'Sending confirmation to customer...');\n      await simulateDelay();\n      \n      const confirmationSMS = buildConfirmationSMS(order);\n      addTestStage('SMS Confirmation', 'success', {\n        to: testConfig.customerPhone,\n        message: confirmationSMS,\n        language: testConfig.language\n      });\n      \n      // Stage 8: Station Notification\n      addTestStage('Station Notification', 'running', 'Notifying assigned station...');\n      await simulateDelay();\n      \n      addTestStage('Station Notification', 'success', {\n        stationId: stationAssignment.stationId,\n        stationName: stationAssignment.stationName,\n        notificationType: 'websocket',\n        priority: testConfig.isVIP ? 'high' : 'normal'\n      });\n      \n      // Stage 9: Queue Management\n      addTestStage('Queue Management', 'running', 'Calculating wait time...');\n      await simulateDelay();\n      \n      const queueInfo = calculateQueueInfo();\n      addTestStage('Queue Management', 'success', queueInfo);\n      \n      // Stage 10: Test Complete\n      setTestResults(prev => ({\n        ...prev,\n        isRunning: false,\n        success: true,\n        currentStage: null\n      }));\n      \n    } catch (error) {\n      console.error('Test failed:', error);\n      addTestStage('Test Failed', 'error', error.message);\n      setTestResults(prev => ({\n        ...prev,\n        isRunning: false,\n        success: false,\n        error: error.message,\n        currentStage: null\n      }));\n    }\n  };\n  \n  // Helper: Simulate delay\n  const simulateDelay = () => {\n    if (!testConfig.simulateDelay) return Promise.resolve();\n    return new Promise(resolve => setTimeout(resolve, testConfig.delaySeconds * 1000));\n  };\n  \n  // Helper: Build SMS content\n  const buildSMSContent = () => {\n    const { coffeeType, size, milkType, quantity, specialInstructions } = testConfig;\n    let message = `${quantity > 1 ? quantity + ' ' : ''}${size} ${milkType} ${coffeeType}`;\n    \n    if (testConfig.extras.length > 0) {\n      message += ` with ${testConfig.extras.join(', ')}`;\n    }\n    \n    if (specialInstructions) {\n      message += `. ${specialInstructions}`;\n    }\n    \n    if (testConfig.isGroupOrder) {\n      message = `GROUP ${testConfig.groupSize}: ${message}`;\n    }\n    \n    return message;\n  };\n  \n  // Helper: Parse SMS order\n  const parseSMSOrder = (smsContent) => {\n    return {\n      customerPhone: testConfig.customerPhone,\n      customerName: testConfig.customerName,\n      items: [{\n        type: testConfig.coffeeType,\n        size: testConfig.size,\n        milk: testConfig.milkType,\n        extras: testConfig.extras,\n        quantity: testConfig.quantity\n      }],\n      isGroup: testConfig.isGroupOrder,\n      groupSize: testConfig.groupSize,\n      isVIP: testConfig.isVIP,\n      specialInstructions: testConfig.specialInstructions,\n      parsedAt: new Date().toISOString()\n    };\n  };\n  \n  // Helper: Check stock availability\n  const checkStockAvailability = () => {\n    const stockLevel = testConfig.testStockLevels;\n    const items = {\n      coffee: stockLevel === 'out' ? 0 : stockLevel === 'critical' ? 0.5 : stockLevel === 'low' ? 2 : 5,\n      milk: {\n        [testConfig.milkType]: stockLevel === 'out' ? 0 : stockLevel === 'critical' ? 0.2 : stockLevel === 'low' ? 1 : 5\n      },\n      cups: {\n        [testConfig.size]: stockLevel === 'out' ? 0 : stockLevel === 'critical' ? 5 : stockLevel === 'low' ? 20 : 100\n      }\n    };\n    \n    const hasStock = items.coffee > 0 && items.milk[testConfig.milkType] > 0 && items.cups[testConfig.size] > 0;\n    \n    return {\n      hasStock,\n      items,\n      warnings: stockLevel === 'low' || stockLevel === 'critical' ? [`${stockLevel} stock levels`] : []\n    };\n  };\n  \n  // Helper: Assign station\n  const assignStation = async () => {\n    let availableStations = stations;\n    \n    if (testConfig.activeStations === 'some') {\n      availableStations = stations.filter(s => testConfig.selectedStations.includes(s.id));\n    } else if (testConfig.activeStations === 'none') {\n      availableStations = [];\n    }\n    \n    // Filter by capabilities\n    availableStations = availableStations.filter(station => {\n      // Check if station can make the drink\n      return station.isActive && !station.isMaintenance;\n    });\n    \n    if (availableStations.length === 0) {\n      return { assigned: false, reason: 'No stations available' };\n    }\n    \n    // Simple load balancing - pick station with least orders\n    const selectedStation = availableStations[0];\n    \n    return {\n      assigned: true,\n      stationId: selectedStation.id,\n      stationName: selectedStation.name,\n      currentLoad: Math.floor(Math.random() * 10),\n      estimatedPrepTime: 3 + Math.floor(Math.random() * 5)\n    };\n  };\n  \n  // Helper: Create test order\n  const createTestOrder = async (parsedOrder, stationId) => {\n    const order = {\n      id: `TEST-${Date.now()}`,\n      orderNumber: `T${Math.floor(Math.random() * 1000).toString().padStart(3, '0')}`,\n      customerPhone: parsedOrder.customerPhone,\n      customerName: parsedOrder.customerName,\n      items: parsedOrder.items,\n      status: 'pending',\n      stationId: stationId,\n      isVIP: parsedOrder.isVIP,\n      isGroup: parsedOrder.isGroup,\n      groupSize: parsedOrder.groupSize,\n      createdAt: testConfig.testDateTime,\n      estimatedCompletionTime: new Date(Date.now() + testConfig.estimatedWaitTime * 60000).toISOString()\n    };\n    \n    // In a real implementation, this would call OrderDataService.createOrder()\n    return order;\n  };\n  \n  // Helper: Build confirmation SMS\n  const buildConfirmationSMS = (order) => {\n    const messages = {\n      en: `Order ${order.orderNumber} confirmed! Estimated wait: ${testConfig.estimatedWaitTime} mins. We'll SMS when ready.`,\n      es: `Pedido ${order.orderNumber} confirmado! Espera estimada: ${testConfig.estimatedWaitTime} mins. Te avisaremos por SMS.`,\n      fr: `Commande ${order.orderNumber} confirme! Attente estime: ${testConfig.estimatedWaitTime} mins. SMS  la fin.`\n    };\n    \n    return messages[testConfig.language] || messages.en;\n  };\n  \n  // Helper: Calculate queue info\n  const calculateQueueInfo = () => {\n    const baseWait = testConfig.estimatedWaitTime;\n    const eventMultiplier = {\n      opening: 0.5,\n      normal: 1,\n      peak: 1.5,\n      closing: 0.8\n    };\n    \n    const adjustedWait = Math.round(baseWait * eventMultiplier[testConfig.eventPhase]);\n    \n    return {\n      queueLength: testConfig.queueLength,\n      position: testConfig.queueLength + 1,\n      estimatedWaitTime: adjustedWait,\n      eventPhase: testConfig.eventPhase,\n      rushStatus: testConfig.eventPhase === 'peak' ? 'high' : 'normal'\n    };\n  };\n  \n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800 flex items-center\">\n          <MessageSquare className=\"mr-3 text-blue-600\" />\n          SMS Order Test Simulator\n        </h2>\n        <button\n          onClick={runSMSTest}\n          disabled={testResults.isRunning}\n          className={`px-6 py-2 rounded-md flex items-center ${\n            testResults.isRunning \n              ? 'bg-gray-300 cursor-not-allowed' \n              : 'bg-green-500 hover:bg-green-600 text-white'\n          }`}\n        >\n          {testResults.isRunning ? (\n            <>\n              <RefreshCw className=\"mr-2 animate-spin\" size={20} />\n              Running Test...\n            </>\n          ) : (\n            <>\n              <Play className=\"mr-2\" size={20} />\n              Run Test\n            </>\n          )}\n        </button>\n      </div>\n      \n      <div className=\"grid grid-cols-2 gap-6\">\n        {/* Test Configuration */}\n        <div className=\"space-y-6\">\n          {/* Customer Configuration */}\n          <div className=\"bg-gray-50 p-4 rounded-lg\">\n            <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n              <Users className=\"mr-2 text-gray-600\" size={20} />\n              Customer Configuration\n            </h3>\n            \n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Phone Number\n                </label>\n                <input\n                  type=\"tel\"\n                  value={testConfig.customerPhone}\n                  onChange={(e) => setTestConfig({...testConfig, customerPhone: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Customer Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={testConfig.customerName}\n                  onChange={(e) => setTestConfig({...testConfig, customerName: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n              </div>\n              \n              <div className=\"flex items-center space-x-4\">\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={testConfig.isVIP}\n                    onChange={(e) => setTestConfig({...testConfig, isVIP: e.target.checked})}\n                    className=\"mr-2\"\n                  />\n                  <Crown className=\"mr-1 text-yellow-500\" size={16} />\n                  VIP Customer\n                </label>\n                \n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={testConfig.isGroupOrder}\n                    onChange={(e) => setTestConfig({...testConfig, isGroupOrder: e.target.checked})}\n                    className=\"mr-2\"\n                  />\n                  Group Order\n                </label>\n              </div>\n              \n              {testConfig.isGroupOrder && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Group Size\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"2\"\n                    value={testConfig.groupSize}\n                    onChange={(e) => setTestConfig({...testConfig, groupSize: parseInt(e.target.value) || 2})}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n              )}\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  <Globe className=\"inline mr-1\" size={16} />\n                  Language\n                </label>\n                <select\n                  value={testConfig.language}\n                  onChange={(e) => setTestConfig({...testConfig, language: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  <option value=\"en\">English</option>\n                  <option value=\"es\">Spanish</option>\n                  <option value=\"fr\">French</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          \n          {/* Order Configuration */}\n          <div className=\"bg-gray-50 p-4 rounded-lg\">\n            <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n              <Coffee className=\"mr-2 text-gray-600\" size={20} />\n              Order Details\n            </h3>\n            \n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Coffee Type\n                </label>\n                <select\n                  value={testConfig.coffeeType}\n                  onChange={(e) => setTestConfig({...testConfig, coffeeType: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  {menuItems.map(item => (\n                    <option key={item.id} value={item.id}>{item.name}</option>\n                  ))}\n                </select>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Size\n                  </label>\n                  <select\n                    value={testConfig.size}\n                    onChange={(e) => setTestConfig({...testConfig, size: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"small\">Small</option>\n                    <option value=\"medium\">Medium</option>\n                    <option value=\"large\">Large</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Quantity\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    value={testConfig.quantity}\n                    onChange={(e) => setTestConfig({...testConfig, quantity: parseInt(e.target.value) || 1})}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Milk Type\n                </label>\n                <select\n                  value={testConfig.milkType}\n                  onChange={(e) => setTestConfig({...testConfig, milkType: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  {availableMilk.map(milk => (\n                    <option key={milk.id} value={milk.name.toLowerCase()}>\n                      {milk.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Special Instructions\n                </label>\n                <textarea\n                  value={testConfig.specialInstructions}\n                  onChange={(e) => setTestConfig({...testConfig, specialInstructions: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  rows=\"2\"\n                  placeholder=\"e.g., Extra hot, no foam...\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* System Configuration */}\n          <div className=\"bg-gray-50 p-4 rounded-lg\">\n            <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n              <Settings className=\"mr-2 text-gray-600\" size={20} />\n              System Configuration\n            </h3>\n            \n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  <Calendar className=\"inline mr-1\" size={16} />\n                  Test Date/Time (Local)\n                </label>\n                <input\n                  type=\"datetime-local\"\n                  value={(() => {\n                    // Convert ISO string back to local datetime-local format\n                    const date = new Date(testConfig.testDateTime);\n                    const year = date.getFullYear();\n                    const month = String(date.getMonth() + 1).padStart(2, '0');\n                    const day = String(date.getDate()).padStart(2, '0');\n                    const hours = String(date.getHours()).padStart(2, '0');\n                    const minutes = String(date.getMinutes()).padStart(2, '0');\n                    return `${year}-${month}-${day}T${hours}:${minutes}`;\n                  })()}\n                  onChange={(e) => {\n                    // Keep the local time as entered without timezone conversion\n                    const localDate = e.target.value;\n                    setTestConfig({...testConfig, testDateTime: localDate});\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  <Package className=\"inline mr-1\" size={16} />\n                  Stock Levels\n                </label>\n                <select\n                  value={testConfig.testStockLevels}\n                  onChange={(e) => setTestConfig({...testConfig, testStockLevels: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  <option value=\"normal\">Normal</option>\n                  <option value=\"low\">Low</option>\n                  <option value=\"critical\">Critical</option>\n                  <option value=\"out\">Out of Stock</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Active Stations\n                </label>\n                <select\n                  value={testConfig.activeStations}\n                  onChange={(e) => setTestConfig({...testConfig, activeStations: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  <option value=\"all\">All Stations</option>\n                  <option value=\"some\">Selected Stations</option>\n                  <option value=\"none\">No Stations</option>\n                </select>\n              </div>\n              \n              {testConfig.activeStations === 'some' && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Select Stations\n                  </label>\n                  <div className=\"space-y-2 max-h-32 overflow-y-auto border border-gray-200 rounded p-2\">\n                    {stations.map(station => (\n                      <label key={station.id} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={testConfig.selectedStations.includes(station.id)}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setTestConfig({\n                                ...testConfig,\n                                selectedStations: [...testConfig.selectedStations, station.id]\n                              });\n                            } else {\n                              setTestConfig({\n                                ...testConfig,\n                                selectedStations: testConfig.selectedStations.filter(id => id !== station.id)\n                              });\n                            }\n                          }}\n                          className=\"mr-2\"\n                        />\n                        {station.name}\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              )}\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Event Phase\n                </label>\n                <select\n                  value={testConfig.eventPhase}\n                  onChange={(e) => setTestConfig({...testConfig, eventPhase: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  <option value=\"opening\">Opening (Low Traffic)</option>\n                  <option value=\"normal\">Normal</option>\n                  <option value=\"peak\">Peak Hours</option>\n                  <option value=\"closing\">Closing</option>\n                </select>\n              </div>\n              \n              <div className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"simulateDelay\"\n                  checked={testConfig.simulateDelay}\n                  onChange={(e) => setTestConfig({...testConfig, simulateDelay: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <label htmlFor=\"simulateDelay\" className=\"text-sm text-gray-700\">\n                  Simulate Processing Delays ({testConfig.delaySeconds}s per stage)\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Test Results */}\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <Activity className=\"mr-2 text-gray-600\" size={20} />\n            Test Results\n          </h3>\n          \n          {testResults.stages.length === 0 ? (\n            <div className=\"text-center py-12 text-gray-500\">\n              <MessageSquare size={48} className=\"mx-auto mb-4 text-gray-300\" />\n              <p>Configure test parameters and click \"Run Test\" to begin</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3 max-h-[600px] overflow-y-auto\">\n              {testResults.stages.map((stage, index) => (\n                <div\n                  key={index}\n                  className={`p-3 rounded-md border ${\n                    stage.status === 'running' ? 'bg-blue-50 border-blue-200' :\n                    stage.status === 'success' ? 'bg-green-50 border-green-200' :\n                    stage.status === 'warning' ? 'bg-yellow-50 border-yellow-200' :\n                    stage.status === 'error' ? 'bg-red-50 border-red-200' :\n                    'bg-gray-50 border-gray-200'\n                  }`}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start\">\n                      {stage.status === 'running' && <RefreshCw className=\"mr-2 mt-0.5 animate-spin text-blue-500\" size={16} />}\n                      {stage.status === 'success' && <CheckCircle className=\"mr-2 mt-0.5 text-green-500\" size={16} />}\n                      {stage.status === 'warning' && <AlertCircle className=\"mr-2 mt-0.5 text-yellow-500\" size={16} />}\n                      {stage.status === 'error' && <AlertCircle className=\"mr-2 mt-0.5 text-red-500\" size={16} />}\n                      \n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium text-gray-800\">{stage.stage}</h4>\n                        {typeof stage.details === 'string' ? (\n                          <p className=\"text-sm text-gray-600 mt-1\">{stage.details}</p>\n                        ) : (\n                          <div className=\"text-sm text-gray-600 mt-1\">\n                            <pre className=\"whitespace-pre-wrap font-mono text-xs bg-white bg-opacity-50 p-2 rounded mt-1\">\n                              {JSON.stringify(stage.details, null, 2)}\n                            </pre>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    <span className=\"text-xs text-gray-500\">\n                      {stage.timestamp.toLocaleTimeString()}\n                    </span>\n                  </div>\n                </div>\n              ))}\n              \n              {testResults.success && (\n                <div className=\"mt-4 p-4 bg-green-100 border border-green-300 rounded-md\">\n                  <h4 className=\"font-semibold text-green-800 flex items-center\">\n                    <CheckCircle className=\"mr-2\" size={20} />\n                    Test Completed Successfully\n                  </h4>\n                  <p className=\"text-sm text-green-700 mt-1\">\n                    All stages passed. The order would be successfully processed.\n                  </p>\n                </div>\n              )}\n              \n              {testResults.error && (\n                <div className=\"mt-4 p-4 bg-red-100 border border-red-300 rounded-md\">\n                  <h4 className=\"font-semibold text-red-800 flex items-center\">\n                    <AlertCircle className=\"mr-2\" size={20} />\n                    Test Failed\n                  </h4>\n                  <p className=\"text-sm text-red-700 mt-1\">{testResults.error}</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Test Summary */}\n      {testResults.stages.length > 0 && !testResults.isRunning && (\n        <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n          <h4 className=\"font-semibold text-blue-800 mb-2\">Test Summary</h4>\n          <div className=\"grid grid-cols-4 gap-4 text-sm\">\n            <div>\n              <span className=\"text-gray-600\">Total Stages:</span>\n              <span className=\"ml-2 font-medium\">{testResults.stages.length}</span>\n            </div>\n            <div>\n              <span className=\"text-gray-600\">Successful:</span>\n              <span className=\"ml-2 font-medium text-green-600\">\n                {testResults.stages.filter(s => s.status === 'success').length}\n              </span>\n            </div>\n            <div>\n              <span className=\"text-gray-600\">Warnings:</span>\n              <span className=\"ml-2 font-medium text-yellow-600\">\n                {testResults.stages.filter(s => s.status === 'warning').length}\n              </span>\n            </div>\n            <div>\n              <span className=\"text-gray-600\">Errors:</span>\n              <span className=\"ml-2 font-medium text-red-600\">\n                {testResults.stages.filter(s => s.status === 'error').length}\n              </span>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SMSTestSimulator;","import React, { useState, useEffect } from 'react';\nimport { \n  Activity, AlertTriangle, Coffee, Clock, TrendingUp, \n  Users, DollarSign, CheckCircle, XCircle, RefreshCw \n} from 'lucide-react';\nimport useOrders from '../../hooks/useOrders';\nimport useStations from '../../hooks/useStations';\n\nconst DashboardTab = () => {\n  console.log('DashboardTab component loaded');\n  const { pendingOrders, inProgressOrders, completedOrders } = useOrders();\n  const { stations } = useStations();\n  \n  const [metrics, setMetrics] = useState({\n    totalOrders: 0,\n    activeOrders: 0,\n    avgWaitTime: 0,\n    errorRate: 0,\n    revenue: 0,\n    ordersPerHour: 0,\n    systemUptime: 99.8,\n    customerSatisfaction: 4.5\n  });\n  \n  const [alerts, setAlerts] = useState([\n    { id: 1, type: 'warning', message: 'High queue at Station 1', time: '2 min ago' },\n    { id: 2, type: 'error', message: 'Station 3 offline', time: '5 min ago' },\n    { id: 3, type: 'success', message: 'Backup completed successfully', time: '1 hour ago' }\n  ]);\n  \n  useEffect(() => {\n    // Calculate metrics\n    const totalOrders = (pendingOrders?.length || 0) + \n                       (inProgressOrders?.length || 0) + \n                       (completedOrders?.length || 0);\n    const activeOrders = (pendingOrders?.length || 0) + (inProgressOrders?.length || 0);\n    \n    setMetrics(prev => ({\n      ...prev,\n      totalOrders,\n      activeOrders\n    }));\n  }, [pendingOrders, inProgressOrders, completedOrders]);\n  \n  const getAlertIcon = (type) => {\n    switch (type) {\n      case 'error': return <XCircle className=\"w-5 h-5 text-red-500\" />;\n      case 'warning': return <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />;\n      case 'success': return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      default: return <Activity className=\"w-5 h-5 text-blue-500\" />;\n    }\n  };\n  \n  return (\n    <div className=\"p-6\">\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n        <h2 className=\"text-xl font-bold text-blue-800\"> Dashboard Tab</h2>\n        <p className=\"text-blue-600\">System overview and real-time metrics</p>\n      </div>\n      {/* System Status Bar */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4 mb-6 flex items-center justify-between\">\n        <div className=\"flex items-center space-x-6\">\n          <div className=\"flex items-center\">\n            <div className=\"w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse\"></div>\n            <span className=\"font-semibold\">System Status: Online</span>\n          </div>\n          <div className=\"text-sm text-gray-600\">\n            Uptime: {metrics.systemUptime}%\n          </div>\n          <div className=\"text-sm text-gray-600\">\n            Last Update: {new Date().toLocaleTimeString()}\n          </div>\n        </div>\n        <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n          <RefreshCw className=\"w-5 h-5\" />\n        </button>\n      </div>\n      \n      {/* Metrics Grid */}\n      <div className=\"grid grid-cols-4 gap-4 mb-6\">\n        <MetricCard\n          title=\"Active Orders\"\n          value={metrics.activeOrders}\n          icon={<Coffee className=\"w-6 h-6 text-orange-600\" />}\n          trend=\"+12%\"\n          trendUp={true}\n        />\n        <MetricCard\n          title=\"Avg Wait Time\"\n          value={`${metrics.avgWaitTime} min`}\n          icon={<Clock className=\"w-6 h-6 text-blue-600\" />}\n          trend=\"-2 min\"\n          trendUp={false}\n        />\n        <MetricCard\n          title=\"Error Rate\"\n          value={`${metrics.errorRate}%`}\n          icon={<AlertTriangle className=\"w-6 h-6 text-red-600\" />}\n          trend=\"0%\"\n          trendUp={false}\n        />\n        <MetricCard\n          title=\"Today's Revenue\"\n          value={`$${metrics.revenue.toLocaleString()}`}\n          icon={<DollarSign className=\"w-6 h-6 text-green-600\" />}\n          trend=\"+8%\"\n          trendUp={true}\n        />\n      </div>\n      \n      {/* Alerts and Quick Actions */}\n      <div className=\"grid grid-cols-2 gap-6\">\n        {/* Recent Alerts */}\n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <h3 className=\"font-semibold text-lg mb-4 flex items-center\">\n            <AlertTriangle className=\"w-5 h-5 mr-2\" />\n            Recent Alerts\n          </h3>\n          <div className=\"space-y-3\">\n            {alerts.map(alert => (\n              <div key={alert.id} className=\"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded\">\n                {getAlertIcon(alert.type)}\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-medium\">{alert.message}</p>\n                  <p className=\"text-xs text-gray-500\">{alert.time}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n          <button className=\"mt-4 text-sm text-blue-600 hover:text-blue-800\">\n            View All Alerts \n          </button>\n        </div>\n        \n        {/* Quick Actions */}\n        <div className=\"bg-white rounded-lg shadow-sm p-4\">\n          <h3 className=\"font-semibold text-lg mb-4\">Quick Actions</h3>\n          <div className=\"grid grid-cols-2 gap-3\">\n            <QuickActionButton\n              label=\"Pause All Orders\"\n              icon={<Activity className=\"w-5 h-5\" />}\n              color=\"red\"\n              onClick={() => console.log('Pause all orders')}\n            />\n            <QuickActionButton\n              label=\"Broadcast Message\"\n              icon={<Users className=\"w-5 h-5\" />}\n              color=\"blue\"\n              onClick={() => console.log('Broadcast message')}\n            />\n            <QuickActionButton\n              label=\"Restart Services\"\n              icon={<RefreshCw className=\"w-5 h-5\" />}\n              color=\"yellow\"\n              onClick={() => console.log('Restart services')}\n            />\n            <QuickActionButton\n              label=\"Emergency Stop\"\n              icon={<XCircle className=\"w-5 h-5\" />}\n              color=\"red\"\n              onClick={() => console.log('Emergency stop')}\n            />\n          </div>\n        </div>\n      </div>\n      \n      {/* Live Order Flow */}\n      <div className=\"mt-6 bg-white rounded-lg shadow-sm p-4\">\n        <h3 className=\"font-semibold text-lg mb-4\">Live Order Flow</h3>\n        <div className=\"grid grid-cols-3 gap-4\">\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-orange-600\">{pendingOrders?.length || 0}</div>\n            <div className=\"text-sm text-gray-600\">Pending</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-blue-600\">{inProgressOrders?.length || 0}</div>\n            <div className=\"text-sm text-gray-600\">In Progress</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-green-600\">{completedOrders?.length || 0}</div>\n            <div className=\"text-sm text-gray-600\">Completed Today</div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Station Status */}\n      <div className=\"mt-6 bg-white rounded-lg shadow-sm p-4\">\n        <h3 className=\"font-semibold text-lg mb-4\">Station Status</h3>\n        <div className=\"grid grid-cols-4 gap-4\">\n          {stations?.map(station => (\n            <div key={station.id} className=\"border rounded-lg p-3\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"font-medium\">Station {station.id}</span>\n                <div className={`w-2 h-2 rounded-full ${\n                  station.status === 'active' ? 'bg-green-500' : 'bg-red-500'\n                }`}></div>\n              </div>\n              <div className=\"text-sm text-gray-600\">\n                <div>Queue: {station.queueLength || 0}</div>\n                <div>Wait: {station.waitTime || 10} min</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst MetricCard = ({ title, value, icon, trend, trendUp }) => (\n  <div className=\"bg-white rounded-lg shadow-sm p-4\">\n    <div className=\"flex items-center justify-between mb-2\">\n      {icon}\n      <span className={`text-sm ${trendUp ? 'text-green-600' : 'text-red-600'}`}>\n        {trend}\n      </span>\n    </div>\n    <div className=\"text-2xl font-bold\">{value}</div>\n    <div className=\"text-sm text-gray-600\">{title}</div>\n  </div>\n);\n\nconst QuickActionButton = ({ label, icon, color, onClick }) => {\n  const colorClasses = {\n    red: 'bg-red-100 hover:bg-red-200 text-red-700',\n    blue: 'bg-blue-100 hover:bg-blue-200 text-blue-700',\n    yellow: 'bg-yellow-100 hover:bg-yellow-200 text-yellow-700',\n    green: 'bg-green-100 hover:bg-green-200 text-green-700'\n  };\n  \n  return (\n    <button\n      onClick={onClick}\n      className={`p-3 rounded-lg transition-colors ${colorClasses[color]} flex flex-col items-center space-y-2`}\n    >\n      {icon}\n      <span className=\"text-xs font-medium\">{label}</span>\n    </button>\n  );\n};\n\nexport default DashboardTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Server\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iOCIgeD0iMiIgeT0iMiIgcng9IjIiIHJ5PSIyIiAvPgogIDxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSI4IiB4PSIyIiB5PSIxNCIgcng9IjIiIHJ5PSIyIiAvPgogIDxsaW5lIHgxPSI2IiB4Mj0iNi4wMSIgeTE9IjYiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSI2IiB4Mj0iNi4wMSIgeTE9IjE4IiB5Mj0iMTgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/server\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Server = createLucideIcon('Server', [\n  [\n    'rect',\n    {\n      width: '20',\n      height: '8',\n      x: '2',\n      y: '2',\n      rx: '2',\n      ry: '2',\n      key: 'ngkwjq',\n    },\n  ],\n  [\n    'rect',\n    {\n      width: '20',\n      height: '8',\n      x: '2',\n      y: '14',\n      rx: '2',\n      ry: '2',\n      key: 'iecqi9',\n    },\n  ],\n  ['line', { x1: '6', x2: '6.01', y1: '6', y2: '6', key: '16zg32' }],\n  ['line', { x1: '6', x2: '6.01', y1: '18', y2: '18', key: 'nzw8ys' }],\n]);\n\nexport default Server;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Database\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8ZWxsaXBzZSBjeD0iMTIiIGN5PSI1IiByeD0iOSIgcnk9IjMiIC8+CiAgPHBhdGggZD0iTTMgNVYxOUE5IDMgMCAwIDAgMjEgMTlWNSIgLz4KICA8cGF0aCBkPSJNMyAxMkE5IDMgMCAwIDAgMjEgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/database\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Database = createLucideIcon('Database', [\n  ['ellipse', { cx: '12', cy: '5', rx: '9', ry: '3', key: 'msslwz' }],\n  ['path', { d: 'M3 5V19A9 3 0 0 0 21 19V5', key: '1wlel7' }],\n  ['path', { d: 'M3 12A9 3 0 0 0 21 12', key: 'mv7ke4' }],\n]);\n\nexport default Database;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name HardDrive\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMjIiIHgyPSIyIiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8cGF0aCBkPSJNNS40NSA1LjExIDIgMTJ2NmEyIDIgMCAwIDAgMiAyaDE2YTIgMiAwIDAgMCAyLTJ2LTZsLTMuNDUtNi44OUEyIDIgMCAwIDAgMTYuNzYgNEg3LjI0YTIgMiAwIDAgMC0xLjc5IDEuMTF6IiAvPgogIDxsaW5lIHgxPSI2IiB4Mj0iNi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iMTAuMDEiIHkxPSIxNiIgeTI9IjE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/hard-drive\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst HardDrive = createLucideIcon('HardDrive', [\n  ['line', { x1: '22', x2: '2', y1: '12', y2: '12', key: '1y58io' }],\n  [\n    'path',\n    {\n      d: 'M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z',\n      key: 'oot6mr',\n    },\n  ],\n  ['line', { x1: '6', x2: '6.01', y1: '16', y2: '16', key: 'sgf278' }],\n  ['line', { x1: '10', x2: '10.01', y1: '16', y2: '16', key: '1l4acy' }],\n]);\n\nexport default HardDrive;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Cpu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB4PSI0IiB5PSI0IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIiAvPgogIDxyZWN0IHg9IjkiIHk9IjkiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIC8+CiAgPHBhdGggZD0iTTE1IDJ2MiIgLz4KICA8cGF0aCBkPSJNMTUgMjB2MiIgLz4KICA8cGF0aCBkPSJNMiAxNWgyIiAvPgogIDxwYXRoIGQ9Ik0yIDloMiIgLz4KICA8cGF0aCBkPSJNMjAgMTVoMiIgLz4KICA8cGF0aCBkPSJNMjAgOWgyIiAvPgogIDxwYXRoIGQ9Ik05IDJ2MiIgLz4KICA8cGF0aCBkPSJNOSAyMHYyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/cpu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Cpu = createLucideIcon('Cpu', [\n  [\n    'rect',\n    { x: '4', y: '4', width: '16', height: '16', rx: '2', key: '1vbyd7' },\n  ],\n  ['rect', { x: '9', y: '9', width: '6', height: '6', key: 'o3kz5p' }],\n  ['path', { d: 'M15 2v2', key: '13l42r' }],\n  ['path', { d: 'M15 20v2', key: '15mkzm' }],\n  ['path', { d: 'M2 15h2', key: '1gxd5l' }],\n  ['path', { d: 'M2 9h2', key: '1bbxkp' }],\n  ['path', { d: 'M20 15h2', key: '19e6y8' }],\n  ['path', { d: 'M20 9h2', key: '19tzq7' }],\n  ['path', { d: 'M9 2v2', key: '165o2o' }],\n  ['path', { d: 'M9 20v2', key: 'i2bqo8' }],\n]);\n\nexport default Cpu;\n","import React, { useState, useEffect } from 'react';\nimport { \n  Server, Database, Wifi, MessageSquare, Activity, \n  HardDrive, Cpu, MemoryStick, Globe, CheckCircle, \n  XCircle, AlertTriangle, RefreshCw \n} from 'lucide-react';\n\nconst SystemHealthTab = () => {\n  const [components, setComponents] = useState([\n    {\n      id: 'api',\n      name: 'API Server',\n      icon: <Server className=\"w-6 h-6\" />,\n      status: 'healthy',\n      metrics: {\n        'Response Time': '45ms',\n        'Error Rate': '0.01%',\n        'Uptime': '72h 15m',\n        'Requests/min': '342'\n      }\n    },\n    {\n      id: 'database',\n      name: 'PostgreSQL Database',\n      icon: <Database className=\"w-6 h-6\" />,\n      status: 'healthy',\n      metrics: {\n        'Connections': '12/100',\n        'Query Time': '3ms',\n        'Size': '1.2GB',\n        'Cache Hit Rate': '94%'\n      }\n    },\n    {\n      id: 'twilio',\n      name: 'SMS Gateway (Twilio)',\n      icon: <MessageSquare className=\"w-6 h-6\" />,\n      status: 'healthy',\n      metrics: {\n        'Balance': '$123.45',\n        'Messages Today': '3,421',\n        'Delivery Rate': '99.2%',\n        'Avg Response': '1.2s'\n      }\n    },\n    {\n      id: 'websocket',\n      name: 'WebSocket Server',\n      icon: <Wifi className=\"w-6 h-6\" />,\n      status: 'healthy',\n      metrics: {\n        'Active Connections': '87',\n        'Messages/sec': '125',\n        'Memory Usage': '234MB',\n        'CPU Usage': '12%'\n      }\n    },\n    {\n      id: 'redis',\n      name: 'Redis Cache',\n      icon: <HardDrive className=\"w-6 h-6\" />,\n      status: 'warning',\n      metrics: {\n        'Memory': '450MB/512MB',\n        'Hit Rate': '89%',\n        'Keys': '10,234',\n        'Evictions': '42'\n      },\n      warning: 'Memory usage high'\n    },\n    {\n      id: 'nginx',\n      name: 'Load Balancer',\n      icon: <Globe className=\"w-6 h-6\" />,\n      status: 'healthy',\n      metrics: {\n        'Active Connections': '234',\n        'Requests/sec': '450',\n        'Bandwidth': '12.3 MB/s',\n        'SSL Handshakes': '98/s'\n      }\n    }\n  ]);\n  \n  const [autoRefresh, setAutoRefresh] = useState(true);\n  const [lastUpdate, setLastUpdate] = useState(new Date());\n  \n  useEffect(() => {\n    if (!autoRefresh) return;\n    \n    const interval = setInterval(() => {\n      // Simulate health check\n      checkSystemHealth();\n      setLastUpdate(new Date());\n    }, 5000);\n    \n    return () => clearInterval(interval);\n  }, [autoRefresh]);\n  \n  const checkSystemHealth = async () => {\n    // In real implementation, this would call the API\n    console.log('Checking system health...');\n  };\n  \n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'healthy':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      case 'warning':\n        return <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />;\n      case 'error':\n        return <XCircle className=\"w-5 h-5 text-red-500\" />;\n      default:\n        return <Activity className=\"w-5 h-5 text-gray-500\" />;\n    }\n  };\n  \n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'healthy': return 'border-green-500 bg-green-50';\n      case 'warning': return 'border-yellow-500 bg-yellow-50';\n      case 'error': return 'border-red-500 bg-red-50';\n      default: return 'border-gray-500 bg-gray-50';\n    }\n  };\n  \n  const handleRestart = (componentId) => {\n    if (window.confirm(`Are you sure you want to restart ${componentId}?`)) {\n      console.log(`Restarting ${componentId}...`);\n      // API call to restart component\n    }\n  };\n  \n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-2xl font-bold\">System Health Monitor</h2>\n        <div className=\"flex items-center space-x-4\">\n          <span className=\"text-sm text-gray-600\">\n            Last update: {lastUpdate.toLocaleTimeString()}\n          </span>\n          <label className=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              checked={autoRefresh}\n              onChange={(e) => setAutoRefresh(e.target.checked)}\n              className=\"mr-2\"\n            />\n            <span className=\"text-sm\">Auto-refresh</span>\n          </label>\n          <button\n            onClick={checkSystemHealth}\n            className=\"p-2 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors\"\n          >\n            <RefreshCw className=\"w-5 h-5 text-blue-600\" />\n          </button>\n        </div>\n      </div>\n      \n      {/* System Overview */}\n      <div className=\"grid grid-cols-4 gap-4 mb-6\">\n        <OverviewCard label=\"Total Health Score\" value=\"98%\" status=\"healthy\" />\n        <OverviewCard label=\"Active Incidents\" value=\"1\" status=\"warning\" />\n        <OverviewCard label=\"System Load\" value=\"42%\" status=\"healthy\" />\n        <OverviewCard label=\"Network Latency\" value=\"12ms\" status=\"healthy\" />\n      </div>\n      \n      {/* Components Grid */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        {components.map(component => (\n          <ComponentCard\n            key={component.id}\n            component={component}\n            getStatusIcon={getStatusIcon}\n            getStatusColor={getStatusColor}\n            onRestart={() => handleRestart(component.id)}\n          />\n        ))}\n      </div>\n      \n      {/* System Resources */}\n      <div className=\"mt-6 bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"font-semibold text-lg mb-4 flex items-center\">\n          <Cpu className=\"w-5 h-5 mr-2\" />\n          System Resources\n        </h3>\n        <div className=\"grid grid-cols-3 gap-6\">\n          <ResourceMeter\n            label=\"CPU Usage\"\n            value={24}\n            max={100}\n            unit=\"%\"\n            color=\"blue\"\n          />\n          <ResourceMeter\n            label=\"Memory Usage\"\n            value={6.2}\n            max={16}\n            unit=\"GB\"\n            color=\"green\"\n          />\n          <ResourceMeter\n            label=\"Disk Usage\"\n            value={45}\n            max={100}\n            unit=\"GB\"\n            color=\"purple\"\n          />\n        </div>\n      </div>\n      \n      {/* Recent Health Events */}\n      <div className=\"mt-6 bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"font-semibold text-lg mb-4\">Recent Health Events</h3>\n        <div className=\"space-y-2\">\n          <HealthEvent\n            time=\"2 min ago\"\n            type=\"warning\"\n            message=\"Redis memory usage exceeded 85% threshold\"\n            component=\"Redis Cache\"\n          />\n          <HealthEvent\n            time=\"15 min ago\"\n            type=\"success\"\n            message=\"Database backup completed successfully\"\n            component=\"PostgreSQL\"\n          />\n          <HealthEvent\n            time=\"1 hour ago\"\n            type=\"error\"\n            message=\"API server restarted due to high memory usage\"\n            component=\"API Server\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst OverviewCard = ({ label, value, status }) => {\n  const statusColors = {\n    healthy: 'text-green-600',\n    warning: 'text-yellow-600',\n    error: 'text-red-600'\n  };\n  \n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-4\">\n      <div className=\"text-sm text-gray-600 mb-1\">{label}</div>\n      <div className={`text-2xl font-bold ${statusColors[status]}`}>{value}</div>\n    </div>\n  );\n};\n\nconst ComponentCard = ({ component, getStatusIcon, getStatusColor, onRestart }) => (\n  <div className={`border-2 rounded-lg p-4 ${getStatusColor(component.status)}`}>\n    <div className=\"flex items-center justify-between mb-3\">\n      <div className=\"flex items-center space-x-3\">\n        {component.icon}\n        <h3 className=\"font-semibold\">{component.name}</h3>\n      </div>\n      <div className=\"flex items-center space-x-2\">\n        {getStatusIcon(component.status)}\n        <button\n          onClick={onRestart}\n          className=\"p-1 hover:bg-gray-200 rounded transition-colors\"\n          title=\"Restart component\"\n        >\n          <RefreshCw className=\"w-4 h-4\" />\n        </button>\n      </div>\n    </div>\n    \n    {component.warning && (\n      <div className=\"mb-3 p-2 bg-yellow-100 rounded text-sm text-yellow-800\">\n        {component.warning}\n      </div>\n    )}\n    \n    <div className=\"grid grid-cols-2 gap-2 text-sm\">\n      {Object.entries(component.metrics).map(([key, value]) => (\n        <div key={key}>\n          <span className=\"text-gray-600\">{key}:</span>\n          <span className=\"font-medium ml-1\">{value}</span>\n        </div>\n      ))}\n    </div>\n  </div>\n);\n\nconst ResourceMeter = ({ label, value, max, unit, color }) => {\n  const percentage = (value / max) * 100;\n  const colorClasses = {\n    blue: 'bg-blue-500',\n    green: 'bg-green-500',\n    purple: 'bg-purple-500'\n  };\n  \n  return (\n    <div>\n      <div className=\"flex justify-between mb-1\">\n        <span className=\"text-sm font-medium\">{label}</span>\n        <span className=\"text-sm text-gray-600\">\n          {value}{unit} / {max}{unit}\n        </span>\n      </div>\n      <div className=\"w-full bg-gray-200 rounded-full h-2\">\n        <div\n          className={`h-full rounded-full ${colorClasses[color]}`}\n          style={{ width: `${percentage}%` }}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst HealthEvent = ({ time, type, message, component }) => {\n  const typeIcons = {\n    success: <CheckCircle className=\"w-4 h-4 text-green-500\" />,\n    warning: <AlertTriangle className=\"w-4 h-4 text-yellow-500\" />,\n    error: <XCircle className=\"w-4 h-4 text-red-500\" />\n  };\n  \n  return (\n    <div className=\"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded\">\n      {typeIcons[type]}\n      <div className=\"flex-1\">\n        <p className=\"text-sm\">{message}</p>\n        <p className=\"text-xs text-gray-500\">{component}  {time}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default SystemHealthTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TestTube\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAydjE3LjVjMCAxLjQtMS4xIDIuNS0yLjUgMi41aDBjLTEuNCAwLTIuNS0xLjEtMi41LTIuNVYyIiAvPgogIDxwYXRoIGQ9Ik04LjUgMmg3IiAvPgogIDxwYXRoIGQ9Ik0xNC41IDE2aC01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/test-tube\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TestTube = createLucideIcon('TestTube', [\n  [\n    'path',\n    {\n      d: 'M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2',\n      key: '187lwq',\n    },\n  ],\n  ['path', { d: 'M8.5 2h7', key: 'csnxdl' }],\n  ['path', { d: 'M14.5 16h-5', key: '1ox875' }],\n]);\n\nexport default TestTube;\n","import React, { useState } from 'react';\nimport { \n  MessageSquare, Phone, Send, AlertTriangle, \n  CheckCircle, Settings, DollarSign, TestTube,\n  FileText, Users, Search, Filter\n} from 'lucide-react';\n\nconst CommunicationsTab = () => {\n  const [activeSection, setActiveSection] = useState('overview');\n  const [twilioConfig, setTwilioConfig] = useState({\n    phoneNumber: '+61 XXX XXX XXX',\n    accountSid: 'AC***hidden***',\n    authToken: '***hidden***',\n    messagingServiceSid: 'MG***hidden***',\n    balance: 123.45,\n    monthlyMessages: 45231,\n    status: 'active'\n  });\n  \n  const [testSmsForm, setTestSmsForm] = useState({\n    to: '',\n    message: 'Test message from Expresso Support'\n  });\n  \n  const [messageTemplates, setMessageTemplates] = useState([\n    { id: 1, name: 'Welcome Message', content: 'Welcome to {event_name}! \\nWhat\\'s your first name?' },\n    { id: 2, name: 'Order Confirmation', content: ' Order #{order_number} confirmed!\\nWe\\'re finding the shortest queue for you.' },\n    { id: 3, name: 'Order Ready', content: ' Your order #{order_number} is ready!\\nPickup at Station {station_id}' },\n    { id: 4, name: 'System Maintenance', content: ' System maintenance in progress. Orders temporarily paused. Back soon!' }\n  ]);\n  \n  const [recentSms, setRecentSms] = useState([\n    { id: 1, phone: '+61 4XX XXX 123', message: 'Large oat latte', direction: 'in', time: '2 min ago', status: 'processed' },\n    { id: 2, phone: '+61 4XX XXX 456', message: ' Order #A123 confirmed!', direction: 'out', time: '3 min ago', status: 'delivered' },\n    { id: 3, phone: '+61 4XX XXX 789', message: 'STATUS', direction: 'in', time: '5 min ago', status: 'processed' },\n    { id: 4, phone: '+61 4XX XXX 789', message: 'Your order is being prepared...', direction: 'out', time: '5 min ago', status: 'delivered' }\n  ]);\n  \n  const handleTestSms = () => {\n    console.log('Sending test SMS:', testSmsForm);\n    // API call to send test SMS\n  };\n  \n  const handleUpdateTwilioConfig = () => {\n    console.log('Updating Twilio config...');\n    // API call to update config\n  };\n  \n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-2xl font-bold\">Communications Center</h2>\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={() => setActiveSection('overview')}\n            className={`px-4 py-2 rounded-lg ${activeSection === 'overview' ? 'bg-blue-600 text-white' : 'bg-gray-100'}`}\n          >\n            Overview\n          </button>\n          <button\n            onClick={() => setActiveSection('twilio')}\n            className={`px-4 py-2 rounded-lg ${activeSection === 'twilio' ? 'bg-blue-600 text-white' : 'bg-gray-100'}`}\n          >\n            Twilio Config\n          </button>\n          <button\n            onClick={() => setActiveSection('templates')}\n            className={`px-4 py-2 rounded-lg ${activeSection === 'templates' ? 'bg-blue-600 text-white' : 'bg-gray-100'}`}\n          >\n            Templates\n          </button>\n          <button\n            onClick={() => setActiveSection('history')}\n            className={`px-4 py-2 rounded-lg ${activeSection === 'history' ? 'bg-blue-600 text-white' : 'bg-gray-100'}`}\n          >\n            History\n          </button>\n        </div>\n      </div>\n      \n      {/* Overview Section */}\n      {activeSection === 'overview' && (\n        <div className=\"space-y-6\">\n          {/* Stats */}\n          <div className=\"grid grid-cols-4 gap-4\">\n            <StatCard\n              icon={<MessageSquare className=\"w-6 h-6 text-blue-600\" />}\n              label=\"Messages Today\"\n              value=\"3,421\"\n            />\n            <StatCard\n              icon={<CheckCircle className=\"w-6 h-6 text-green-600\" />}\n              label=\"Delivery Rate\"\n              value=\"99.2%\"\n            />\n            <StatCard\n              icon={<DollarSign className=\"w-6 h-6 text-yellow-600\" />}\n              label=\"Balance\"\n              value={`$${twilioConfig.balance}`}\n            />\n            <StatCard\n              icon={<AlertTriangle className=\"w-6 h-6 text-red-600\" />}\n              label=\"Failed\"\n              value=\"12\"\n            />\n          </div>\n          \n          {/* Test SMS */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <h3 className=\"font-semibold text-lg mb-4 flex items-center\">\n              <TestTube className=\"w-5 h-5 mr-2\" />\n              Send Test SMS\n            </h3>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <input\n                type=\"tel\"\n                placeholder=\"Phone number\"\n                value={testSmsForm.to}\n                onChange={(e) => setTestSmsForm({ ...testSmsForm, to: e.target.value })}\n                className=\"px-4 py-2 border rounded-lg\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Message\"\n                value={testSmsForm.message}\n                onChange={(e) => setTestSmsForm({ ...testSmsForm, message: e.target.value })}\n                className=\"px-4 py-2 border rounded-lg\"\n              />\n            </div>\n            <button\n              onClick={handleTestSms}\n              className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center\"\n            >\n              <Send className=\"w-4 h-4 mr-2\" />\n              Send Test Message\n            </button>\n          </div>\n          \n          {/* Recent Activity */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <h3 className=\"font-semibold text-lg mb-4\">Recent SMS Activity</h3>\n            <div className=\"space-y-2\">\n              {recentSms.map(sms => (\n                <SmsRow key={sms.id} sms={sms} />\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Twilio Configuration */}\n      {activeSection === 'twilio' && (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <h3 className=\"font-semibold text-lg mb-6 flex items-center\">\n            <Settings className=\"w-5 h-5 mr-2\" />\n            Twilio Configuration\n          </h3>\n          \n          <div className=\"space-y-4\">\n            <ConfigField\n              label=\"Phone Number\"\n              value={twilioConfig.phoneNumber}\n              editable={false}\n            />\n            <ConfigField\n              label=\"Account SID\"\n              value={twilioConfig.accountSid}\n              sensitive={true}\n            />\n            <ConfigField\n              label=\"Auth Token\"\n              value={twilioConfig.authToken}\n              sensitive={true}\n            />\n            <ConfigField\n              label=\"Messaging Service SID\"\n              value={twilioConfig.messagingServiceSid}\n              sensitive={true}\n            />\n            \n            <div className=\"pt-4 border-t\">\n              <button\n                onClick={handleUpdateTwilioConfig}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Update Configuration\n              </button>\n              <button className=\"ml-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\">\n                Test Connection\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Message Templates */}\n      {activeSection === 'templates' && (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"font-semibold text-lg flex items-center\">\n              <FileText className=\"w-5 h-5 mr-2\" />\n              Message Templates\n            </h3>\n            <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n              Add Template\n            </button>\n          </div>\n          \n          <div className=\"space-y-4\">\n            {messageTemplates.map(template => (\n              <TemplateCard key={template.id} template={template} />\n            ))}\n          </div>\n        </div>\n      )}\n      \n      {/* SMS History */}\n      {activeSection === 'history' && (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"font-semibold text-lg\">SMS History</h3>\n            <div className=\"flex space-x-2\">\n              <button className=\"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\">\n                <Search className=\"w-5 h-5\" />\n              </button>\n              <button className=\"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\">\n                <Filter className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"border-b\">\n                <tr>\n                  <th className=\"text-left py-2\">Time</th>\n                  <th className=\"text-left py-2\">Phone</th>\n                  <th className=\"text-left py-2\">Message</th>\n                  <th className=\"text-left py-2\">Direction</th>\n                  <th className=\"text-left py-2\">Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {recentSms.map(sms => (\n                  <tr key={sms.id} className=\"border-b hover:bg-gray-50\">\n                    <td className=\"py-2\">{sms.time}</td>\n                    <td className=\"py-2\">{sms.phone}</td>\n                    <td className=\"py-2\">{sms.message}</td>\n                    <td className=\"py-2\">\n                      {sms.direction === 'in' ? (\n                        <span className=\"text-blue-600\">Inbound</span>\n                      ) : (\n                        <span className=\"text-green-600\">Outbound</span>\n                      )}\n                    </td>\n                    <td className=\"py-2\">\n                      <span className={`px-2 py-1 rounded-full text-xs ${\n                        sms.status === 'delivered' ? 'bg-green-100 text-green-800' :\n                        sms.status === 'processed' ? 'bg-blue-100 text-blue-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {sms.status}\n                      </span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst StatCard = ({ icon, label, value }) => (\n  <div className=\"bg-white rounded-lg shadow-sm p-4\">\n    <div className=\"flex items-center justify-between mb-2\">\n      {icon}\n      <span className=\"text-2xl font-bold\">{value}</span>\n    </div>\n    <div className=\"text-sm text-gray-600\">{label}</div>\n  </div>\n);\n\nconst ConfigField = ({ label, value, sensitive, editable = true }) => (\n  <div>\n    <label className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>\n    <input\n      type={sensitive ? \"password\" : \"text\"}\n      value={value}\n      readOnly={!editable}\n      className=\"w-full px-4 py-2 border rounded-lg bg-gray-50\"\n    />\n  </div>\n);\n\nconst SmsRow = ({ sms }) => (\n  <div className=\"flex items-center justify-between p-3 hover:bg-gray-50 rounded\">\n    <div className=\"flex items-center space-x-3\">\n      {sms.direction === 'in' ? (\n        <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n          <MessageSquare className=\"w-4 h-4 text-blue-600\" />\n        </div>\n      ) : (\n        <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n          <Send className=\"w-4 h-4 text-green-600\" />\n        </div>\n      )}\n      <div>\n        <p className=\"font-medium\">{sms.phone}</p>\n        <p className=\"text-sm text-gray-600\">{sms.message}</p>\n      </div>\n    </div>\n    <div className=\"text-right\">\n      <p className=\"text-sm text-gray-500\">{sms.time}</p>\n      <p className=\"text-xs text-gray-400\">{sms.status}</p>\n    </div>\n  </div>\n);\n\nconst TemplateCard = ({ template }) => (\n  <div className=\"border rounded-lg p-4 hover:bg-gray-50\">\n    <div className=\"flex items-center justify-between mb-2\">\n      <h4 className=\"font-medium\">{template.name}</h4>\n      <div className=\"flex space-x-2\">\n        <button className=\"text-blue-600 hover:text-blue-800\">Edit</button>\n        <button className=\"text-red-600 hover:text-red-800\">Delete</button>\n      </div>\n    </div>\n    <p className=\"text-sm text-gray-600 whitespace-pre-wrap\">{template.content}</p>\n  </div>\n);\n\nexport default CommunicationsTab;","import React from 'react';\n\nexport const Card = ({ className = '', children, ...props }) => (\n  <div className={`bg-white rounded-lg shadow-sm border ${className}`} {...props}>\n    {children}\n  </div>\n);\n\nexport const CardHeader = ({ className = '', children, ...props }) => (\n  <div className={`px-6 py-4 border-b ${className}`} {...props}>\n    {children}\n  </div>\n);\n\nexport const CardTitle = ({ className = '', children, ...props }) => (\n  <h3 className={`text-lg font-semibold ${className}`} {...props}>\n    {children}\n  </h3>\n);\n\nexport const CardContent = ({ className = '', children, ...props }) => (\n  <div className={`px-6 py-4 ${className}`} {...props}>\n    {children}\n  </div>\n);","import React from 'react';\n\nconst variants = {\n  default: 'bg-blue-600 text-white hover:bg-blue-700',\n  destructive: 'bg-red-600 text-white hover:bg-red-700',\n  outline: 'border border-gray-300 bg-white hover:bg-gray-50',\n  secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300',\n  ghost: 'hover:bg-gray-100',\n  link: 'text-blue-600 underline-offset-4 hover:underline'\n};\n\nconst sizes = {\n  default: 'px-4 py-2',\n  sm: 'px-3 py-1 text-sm',\n  lg: 'px-6 py-3',\n  icon: 'p-2'\n};\n\nexport const Button = ({ \n  className = '', \n  variant = 'default', \n  size = 'default',\n  disabled = false,\n  children, \n  ...props \n}) => (\n  <button\n    className={`\n      inline-flex items-center justify-center rounded-md font-medium \n      transition-colors focus-visible:outline-none focus-visible:ring-2 \n      focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\n      ${variants[variant]} ${sizes[size]} ${className}\n    `}\n    disabled={disabled}\n    {...props}\n  >\n    {children}\n  </button>\n);","import React from 'react';\n\nconst variants = {\n  default: 'bg-gray-100 text-gray-800',\n  secondary: 'bg-gray-100 text-gray-900',\n  success: 'bg-green-100 text-green-800',\n  destructive: 'bg-red-100 text-red-800',\n  warning: 'bg-yellow-100 text-yellow-800',\n  outline: 'border border-gray-200'\n};\n\nexport const Badge = ({ \n  className = '', \n  variant = 'default', \n  children, \n  ...props \n}) => (\n  <span\n    className={`\n      inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium\n      ${variants[variant]} ${className}\n    `}\n    {...props}\n  >\n    {children}\n  </span>\n);","import React from 'react';\n\nexport const Switch = ({ checked = false, onCheckedChange, disabled = false, className = '' }) => {\n  return (\n    <button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={checked}\n      disabled={disabled}\n      className={`\n        relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 \n        focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\n        ${checked ? 'bg-blue-600' : 'bg-gray-200'}\n        ${className}\n      `}\n      onClick={() => onCheckedChange && onCheckedChange(!checked)}\n    >\n      <span className=\"sr-only\">Toggle</span>\n      <span\n        className={`\n          ${checked ? 'translate-x-6' : 'translate-x-1'}\n          inline-block h-4 w-4 transform rounded-full bg-white transition\n        `}\n      />\n    </button>\n  );\n};","import React from 'react';\n\nexport const Input = ({ className = '', ...props }) => (\n  <input\n    className={`\n      flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 \n      text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm \n      file:font-medium placeholder:text-gray-500 focus-visible:outline-none \n      focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 \n      disabled:cursor-not-allowed disabled:opacity-50\n      ${className}\n    `}\n    {...props}\n  />\n);","import React from 'react';\n\nexport const Textarea = ({ className = '', ...props }) => (\n  <textarea\n    className={`\n      flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 \n      text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none \n      focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 \n      disabled:cursor-not-allowed disabled:opacity-50\n      ${className}\n    `}\n    {...props}\n  />\n);","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RotateCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTktOWMyLjUyIDAgNC45MyAxIDYuNzQgMi43NEwyMSA4IiAvPgogIDxwYXRoIGQ9Ik0yMSAzdjVoLTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/rotate-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCw = createLucideIcon('RotateCw', [\n  [\n    'path',\n    { d: 'M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8', key: '1p45f6' },\n  ],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n]);\n\nexport default RotateCw;\n","import React, { useState, useEffect } from 'react';\nimport useStations from '../hooks/useStations';\n\nconst StationMenuAssignment = () => {\n  const { stations, updateStation } = useStations();\n  const [menuItems, setMenuItems] = useState({});\n  const [stationMenus, setStationMenus] = useState({});\n  const [expandedStations, setExpandedStations] = useState({});\n\n  // Load menu items from localStorage\n  useEffect(() => {\n    const savedMenu = localStorage.getItem('coffeeMenu');\n    if (savedMenu) {\n      try {\n        const menu = JSON.parse(savedMenu);\n        setMenuItems(menu);\n      } catch (error) {\n        console.error('Error loading coffee menu:', error);\n      }\n    }\n  }, []);\n\n  // Load station menu assignments from localStorage\n  useEffect(() => {\n    const savedAssignments = localStorage.getItem('stationMenuAssignments');\n    if (savedAssignments) {\n      try {\n        setStationMenus(JSON.parse(savedAssignments));\n      } catch (error) {\n        console.error('Error loading station menu assignments:', error);\n      }\n    } else if (stations && stations.length > 0 && Object.keys(menuItems).length > 0) {\n      // Initialize with all items enabled for all stations\n      const initialAssignments = {};\n      stations.forEach(station => {\n        initialAssignments[station.id] = {};\n        Object.keys(menuItems).forEach(itemId => {\n          initialAssignments[station.id][itemId] = {\n            enabled: true,\n            availableSizes: Object.keys(menuItems[itemId]?.sizes || {})\n          };\n        });\n      });\n      setStationMenus(initialAssignments);\n    }\n  }, [stations, menuItems]);\n\n  // Save to localStorage whenever assignments change\n  useEffect(() => {\n    if (Object.keys(stationMenus).length > 0) {\n      localStorage.setItem('stationMenuAssignments', JSON.stringify(stationMenus));\n      \n      // Dispatch event for other components\n      window.dispatchEvent(new CustomEvent('stationMenus:updated', { \n        detail: { stationMenus } \n      }));\n    }\n  }, [stationMenus]);\n\n  const toggleStation = (stationId) => {\n    setExpandedStations(prev => ({\n      ...prev,\n      [stationId]: !prev[stationId]\n    }));\n  };\n\n  const toggleMenuItem = (stationId, itemId) => {\n    setStationMenus(prev => {\n      const updated = { ...prev };\n      if (!updated[stationId]) {\n        updated[stationId] = {};\n      }\n      if (!updated[stationId][itemId]) {\n        updated[stationId][itemId] = {\n          enabled: true,\n          availableSizes: Object.keys(menuItems[itemId]?.sizes || {})\n        };\n      } else {\n        updated[stationId][itemId] = {\n          ...updated[stationId][itemId],\n          enabled: !updated[stationId][itemId].enabled\n        };\n      }\n      return updated;\n    });\n  };\n\n  const toggleSize = (stationId, itemId, size) => {\n    setStationMenus(prev => {\n      const updated = { ...prev };\n      if (!updated[stationId]?.[itemId]) {\n        return prev;\n      }\n      \n      const currentSizes = updated[stationId][itemId].availableSizes || [];\n      if (currentSizes.includes(size)) {\n        updated[stationId][itemId].availableSizes = currentSizes.filter(s => s !== size);\n      } else {\n        updated[stationId][itemId].availableSizes = [...currentSizes, size];\n      }\n      \n      return updated;\n    });\n  };\n\n  const toggleAllItems = (stationId, enabled) => {\n    setStationMenus(prev => {\n      const updated = { ...prev };\n      updated[stationId] = {};\n      Object.keys(menuItems).forEach(itemId => {\n        updated[stationId][itemId] = {\n          enabled,\n          availableSizes: enabled ? Object.keys(menuItems[itemId]?.sizes || {}) : []\n        };\n      });\n      return updated;\n    });\n  };\n\n  const getStationCapabilities = (station) => {\n    const capabilities = [];\n    if (station.capabilities?.coffeeTypes?.length > 0) {\n      capabilities.push(`Coffee: ${station.capabilities.coffeeTypes.join(', ')}`);\n    }\n    if (station.capabilities?.milkOptions?.length > 0) {\n      capabilities.push(`Milk: ${station.capabilities.milkOptions.join(', ')}`);\n    }\n    return capabilities;\n  };\n\n  const getEnabledCount = (stationId) => {\n    const stationMenu = stationMenus[stationId] || {};\n    return Object.values(stationMenu).filter(item => item.enabled).length;\n  };\n\n  const getCategoryDrinks = (category) => {\n    return Object.entries(menuItems).filter(([_, item]) => \n      item.category === category && item.enabled\n    );\n  };\n\n  const categories = [\n    { id: 'espresso-based', name: 'Espresso Based' },\n    { id: 'milk-based', name: 'Milk Based' },\n    { id: 'cold-drinks', name: 'Cold Drinks' },\n    { id: 'tea', name: 'Tea' },\n    { id: 'non-coffee', name: 'Non-Coffee' }\n  ];\n\n  const cupSizeLabels = {\n    'small-8oz': '8oz',\n    'regular-12oz': '12oz',\n    'large-16oz': '16oz'\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <h3 className=\"font-medium text-blue-900 mb-2\">Station Menu Assignment</h3>\n        <p className=\"text-sm text-blue-700\">\n          Configure which drinks each station can make. This affects what customers can order\n          based on available stations and their capabilities.\n        </p>\n      </div>\n\n      {!stations || stations.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500\">\n          No stations available. Add stations to configure their menus.\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {stations.map(station => (\n            <div key={station.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n              <div \n                className=\"p-4 cursor-pointer hover:bg-gray-50\"\n                onClick={() => toggleStation(station.id)}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium text-gray-900\">\n                      {station.name}\n                      <span className={`ml-2 px-2 py-1 text-xs rounded-full ${\n                        station.status === 'active' \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-gray-100 text-gray-600'\n                      }`}>\n                        {station.status}\n                      </span>\n                    </h4>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      {getStationCapabilities(station).join('  ')}\n                    </div>\n                    <div className=\"text-sm text-gray-500 mt-1\">\n                      {getEnabledCount(station.id)} of {Object.keys(menuItems).length} items enabled\n                    </div>\n                  </div>\n                  <svg\n                    className={`w-5 h-5 text-gray-400 transition-transform ${\n                      expandedStations[station.id] ? 'rotate-180' : ''\n                    }`}\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </div>\n\n              {expandedStations[station.id] && (\n                <div className=\"border-t border-gray-200 p-4\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h5 className=\"font-medium text-gray-700\">Available Menu Items</h5>\n                    <div className=\"space-x-2\">\n                      <button\n                        onClick={() => toggleAllItems(station.id, true)}\n                        className=\"text-sm text-blue-600 hover:text-blue-800\"\n                      >\n                        Enable All\n                      </button>\n                      <button\n                        onClick={() => toggleAllItems(station.id, false)}\n                        className=\"text-sm text-red-600 hover:text-red-800\"\n                      >\n                        Disable All\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-6\">\n                    {categories.map(category => {\n                      const drinks = getCategoryDrinks(category.id);\n                      if (drinks.length === 0) return null;\n\n                      return (\n                        <div key={category.id}>\n                          <h6 className=\"text-sm font-medium text-gray-600 mb-2\">\n                            {category.name}\n                          </h6>\n                          <div className=\"space-y-2\">\n                            {drinks.map(([itemId, item]) => {\n                              const isEnabled = stationMenus[station.id]?.[itemId]?.enabled;\n                              const availableSizes = stationMenus[station.id]?.[itemId]?.availableSizes || [];\n\n                              return (\n                                <div key={itemId} className=\"border border-gray-200 rounded-lg p-3\">\n                                  <div className=\"flex items-center justify-between\">\n                                    <label className=\"flex items-center cursor-pointer\">\n                                      <input\n                                        type=\"checkbox\"\n                                        checked={isEnabled || false}\n                                        onChange={() => toggleMenuItem(station.id, itemId)}\n                                        className=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                      />\n                                      <span className={`font-medium ${isEnabled ? 'text-gray-900' : 'text-gray-500'}`}>\n                                        {item.name}\n                                      </span>\n                                    </label>\n                                  </div>\n\n                                  {isEnabled && item.sizes && Object.keys(item.sizes).length > 1 && (\n                                    <div className=\"mt-2 ml-7\">\n                                      <div className=\"text-sm text-gray-600 mb-1\">Available sizes:</div>\n                                      <div className=\"flex flex-wrap gap-2\">\n                                        {Object.entries(item.sizes).map(([size, sizeConfig]) => {\n                                          if (!sizeConfig.enabled) return null;\n                                          const isSelected = availableSizes.includes(size);\n                                          return (\n                                            <button\n                                              key={size}\n                                              onClick={() => toggleSize(station.id, itemId, size)}\n                                              className={`px-3 py-1 text-sm rounded-full transition-colors ${\n                                                isSelected\n                                                  ? 'bg-blue-100 text-blue-700 border border-blue-300'\n                                                  : 'bg-gray-100 text-gray-600 border border-gray-300'\n                                              }`}\n                                            >\n                                              {cupSizeLabels[sizeConfig.cupSize] || size}\n                                            </button>\n                                          );\n                                        })}\n                                      </div>\n                                    </div>\n                                  )}\n                                </div>\n                              );\n                            })}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StationMenuAssignment;","import React, { useState, useEffect, useCallback } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Button } from '../ui/button';\nimport { Badge } from '../ui/badge';\nimport { Switch } from '../ui/switch';\nimport { Input } from '../ui/input';\nimport { Textarea } from '../ui/textarea';\nimport { \n  Settings, \n  RefreshCw, \n  Power, \n  AlertCircle,\n  Coffee,\n  Users,\n  Clock,\n  Send,\n  Bell,\n  MessageSquare,\n  Pause,\n  Play,\n  RotateCw\n} from 'lucide-react';\nimport ApiServiceClass from '../../services/ApiService';\nimport SettingsService from '../../services/SettingsService';\nimport StationsService from '../../services/StationsService';\nimport StationMenuAssignment from '../StationMenuAssignment';\nimport MenuManagement from '../MenuManagement';\n\n// Create an instance of ApiService\nconst ApiService = new ApiServiceClass();\n\nconst OperationsTab = () => {\n  console.log('OperationsTab component loaded');\n  const [stations, setStations] = useState([]);\n  const [orderQueue, setOrderQueue] = useState([]);\n  const [waitTime, setWaitTime] = useState(5);\n  const [systemMode, setSystemMode] = useState('live');\n  const [eventSettings, setEventSettings] = useState({\n    vipEnabled: false,\n    groupOrdersEnabled: true,\n    walkInEnabled: true,\n    maxOrderSize: 5\n  });\n  const [announcement, setAnnouncement] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadOperationalData();\n    const interval = setInterval(loadOperationalData, 30000); // Refresh every 30 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  const loadOperationalData = async () => {\n    try {\n      // Load stations data first (this works)\n      const stationsData = await StationsService.getStations();\n      setStations(stationsData);\n      \n      // Try to load orders, but handle failure gracefully\n      try {\n        const ordersData = await ApiService.get('/api/orders/pending');\n        setOrderQueue(ordersData || []);\n      } catch (orderError) {\n        console.warn('Could not load pending orders:', orderError);\n        // Use empty array if orders endpoint fails\n        setOrderQueue([]);\n      }\n      \n      // Load settings\n      try {\n        const settings = await SettingsService.getSettings();\n        setWaitTime(settings.estimatedWaitTime || 5);\n        setSystemMode(settings.systemMode || 'live');\n        setEventSettings({\n          vipEnabled: settings.vipEnabled || false,\n          groupOrdersEnabled: settings.groupOrdersEnabled || true,\n          walkInEnabled: settings.walkInEnabled || true,\n          maxOrderSize: settings.maxOrderSize || 5\n        });\n      } catch (settingsError) {\n        console.warn('Could not load settings:', settingsError);\n        // Use defaults\n      }\n    } catch (error) {\n      console.error('Error loading operational data:', error);\n    }\n  };\n\n  const handleStationAction = async (stationId, action) => {\n    setLoading(true);\n    try {\n      switch (action) {\n        case 'restart':\n          await ApiService.post(`/api/stations/${stationId}/restart`);\n          break;\n        case 'toggle':\n          await ApiService.post(`/api/stations/${stationId}/toggle`);\n          break;\n        case 'clear':\n          await ApiService.post(`/api/stations/${stationId}/clear-queue`);\n          break;\n        default:\n          break;\n      }\n      await loadOperationalData();\n    } catch (error) {\n      console.error(`Error performing ${action} on station ${stationId}:`, error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateWaitTime = async () => {\n    try {\n      await SettingsService.updateWaitTime(waitTime);\n    } catch (error) {\n      console.error('Error updating wait time:', error);\n    }\n  };\n\n  const updateEventSetting = async (setting, value) => {\n    try {\n      const updatedSettings = { ...eventSettings, [setting]: value };\n      setEventSettings(updatedSettings);\n      await SettingsService.updateSettings(updatedSettings);\n    } catch (error) {\n      console.error('Error updating event setting:', error);\n    }\n  };\n\n  const sendAnnouncement = async () => {\n    if (!announcement.trim()) return;\n    \n    try {\n      await ApiService.post('/api/messages/announcement', { \n        message: announcement,\n        type: 'system_announcement'\n      });\n      setAnnouncement('');\n    } catch (error) {\n      console.error('Error sending announcement:', error);\n    }\n  };\n\n  const clearAllQueues = async () => {\n    if (!window.confirm('Are you sure you want to clear ALL station queues? This cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      await ApiService.post('/api/stations/clear-all-queues');\n      await loadOperationalData();\n    } catch (error) {\n      console.error('Error clearing all queues:', error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-6\">\n        <h2 className=\"text-xl font-bold text-green-800\"> Operations Tab</h2>\n        <p className=\"text-green-600\">Station management and queue control</p>\n      </div>\n      {/* Station Management */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <span className=\"flex items-center gap-2\">\n              <Coffee className=\"h-5 w-5\" />\n              Station Management\n            </span>\n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={clearAllQueues}\n              className=\"text-red-600\"\n            >\n              Clear All Queues\n            </Button>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {stations.map(station => (\n              <div key={station.id} className=\"border rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h3 className=\"font-medium\">{station.name}</h3>\n                  <Badge variant={station.is_active ? 'success' : 'secondary'}>\n                    {station.is_active ? 'Active' : 'Inactive'}\n                  </Badge>\n                </div>\n                \n                <div className=\"text-sm text-gray-600 mb-3\">\n                  <p>Queue: {station.queue_count || 0} orders</p>\n                  <p>Current: {station.current_order || 'None'}</p>\n                  <p>Barista: {station.barista_name || 'Unassigned'}</p>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => handleStationAction(station.id, 'toggle')}\n                    disabled={loading}\n                  >\n                    {station.is_active ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => handleStationAction(station.id, 'restart')}\n                    disabled={loading}\n                  >\n                    <RotateCw className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => handleStationAction(station.id, 'clear')}\n                    disabled={loading}\n                    className=\"text-red-600\"\n                  >\n                    Clear\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Queue Management */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Users className=\"h-5 w-5\" />\n            Queue Management\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <h3 className=\"font-medium mb-2\">Current Wait Time</h3>\n              <div className=\"flex items-center gap-2\">\n                <Input\n                  type=\"number\"\n                  value={waitTime}\n                  onChange={(e) => setWaitTime(parseInt(e.target.value) || 5)}\n                  className=\"w-20\"\n                  min=\"1\"\n                  max=\"60\"\n                />\n                <span>minutes</span>\n                <Button size=\"sm\" onClick={updateWaitTime}>\n                  Update\n                </Button>\n              </div>\n            </div>\n\n            <div>\n              <h3 className=\"font-medium mb-2\">Queue Status</h3>\n              <div className=\"space-y-1 text-sm\">\n                <p>Total Orders: {orderQueue.length}</p>\n                <p>VIP Orders: {orderQueue.filter(o => o.is_vip).length}</p>\n                <p>Group Orders: {orderQueue.filter(o => o.order_type === 'group').length}</p>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Event Settings */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"h-5 w-5\" />\n            Event Settings\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <label className=\"text-sm font-medium\">VIP Orders</label>\n              <Switch\n                checked={eventSettings.vipEnabled}\n                onCheckedChange={(checked) => updateEventSetting('vipEnabled', checked)}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <label className=\"text-sm font-medium\">Group Orders</label>\n              <Switch\n                checked={eventSettings.groupOrdersEnabled}\n                onCheckedChange={(checked) => updateEventSetting('groupOrdersEnabled', checked)}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <label className=\"text-sm font-medium\">Walk-in Orders</label>\n              <Switch\n                checked={eventSettings.walkInEnabled}\n                onCheckedChange={(checked) => updateEventSetting('walkInEnabled', checked)}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <label className=\"text-sm font-medium\">Max Order Size</label>\n              <Input\n                type=\"number\"\n                value={eventSettings.maxOrderSize}\n                onChange={(e) => updateEventSetting('maxOrderSize', parseInt(e.target.value) || 5)}\n                className=\"w-20\"\n                min=\"1\"\n                max=\"10\"\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* System Announcements */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bell className=\"h-5 w-5\" />\n            System Announcements\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            <Textarea\n              placeholder=\"Type your announcement here...\"\n              value={announcement}\n              onChange={(e) => setAnnouncement(e.target.value)}\n              rows={3}\n            />\n            <div className=\"flex justify-end gap-2\">\n              <Button \n                variant=\"outline\"\n                onClick={() => setAnnouncement('')}\n              >\n                Clear\n              </Button>\n              <Button \n                onClick={sendAnnouncement}\n                disabled={!announcement.trim()}\n              >\n                <Send className=\"h-4 w-4 mr-2\" />\n                Send to All Stations\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Menu Management */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Coffee className=\"h-5 w-5\" />\n            Menu Management\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <MenuManagement />\n        </CardContent>\n      </Card>\n\n      {/* Station Menu Assignment */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"h-5 w-5\" />\n            Station Menu Configuration\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <StationMenuAssignment />\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default OperationsTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Key\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI3LjUiIGN5PSIxNS41IiByPSI1LjUiIC8+CiAgPHBhdGggZD0ibTIxIDItOS42IDkuNiIgLz4KICA8cGF0aCBkPSJtMTUuNSA3LjUgMyAzTDIyIDdsLTMtMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/key\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Key = createLucideIcon('Key', [\n  ['circle', { cx: '7.5', cy: '15.5', r: '5.5', key: 'yqb3hr' }],\n  ['path', { d: 'm21 2-9.6 9.6', key: '1j0ho8' }],\n  ['path', { d: 'm15.5 7.5 3 3L22 7l-3-3', key: '1rn1fs' }],\n]);\n\nexport default Key;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('UserX', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n]);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNiAxMSAxOCAxMyAyMiA5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('UserCheck', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['polyline', { points: '16 11 18 13 22 9', key: '1pwet4' }],\n]);\n\nexport default UserCheck;\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Button } from '../ui/button';\nimport { Badge } from '../ui/badge';\nimport { Input } from '../ui/input';\nimport { Select } from '../ui/select';\nimport { \n  Users, \n  UserPlus, \n  Edit, \n  Trash2, \n  Key,\n  Shield,\n  Search,\n  Filter,\n  Download,\n  UserCheck,\n  UserX\n} from 'lucide-react';\nimport ApiServiceClass from '../../services/ApiService';\n\n// Create an instance of ApiService\nconst ApiService = new ApiServiceClass();\n\nconst UsersAccessTab = () => {\n  const [users, setUsers] = useState([]);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [roles, setRoles] = useState(['admin', 'organizer', 'barista', 'support']);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState('all');\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  \n  const [newUser, setNewUser] = useState({\n    username: '',\n    email: '',\n    role: 'barista',\n    password: ''\n  });\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  useEffect(() => {\n    filterUsers();\n  }, [users, searchTerm, filterRole]);\n\n  const loadUsers = async () => {\n    try {\n      const response = await ApiService.get('/api/users');\n      setUsers(response.data || []);\n    } catch (error) {\n      console.error('Error loading users:', error);\n    }\n  };\n\n  const filterUsers = () => {\n    let filtered = users;\n    \n    if (searchTerm) {\n      filtered = filtered.filter(user => \n        user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.email?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n    \n    if (filterRole !== 'all') {\n      filtered = filtered.filter(user => user.role === filterRole);\n    }\n    \n    setFilteredUsers(filtered);\n  };\n\n  const handleAddUser = async () => {\n    if (!newUser.username || !newUser.password) return;\n    \n    setLoading(true);\n    try {\n      await ApiService.post('/api/users', newUser);\n      await loadUsers();\n      setShowAddUser(false);\n      setNewUser({ username: '', email: '', role: 'barista', password: '' });\n    } catch (error) {\n      console.error('Error adding user:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateUser = async (userId, updates) => {\n    setLoading(true);\n    try {\n      await ApiService.put(`/api/users/${userId}`, updates);\n      await loadUsers();\n      setEditingUser(null);\n    } catch (error) {\n      console.error('Error updating user:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteUser = async (userId) => {\n    if (!window.confirm('Are you sure you want to delete this user?')) return;\n    \n    setLoading(true);\n    try {\n      await ApiService.delete(`/api/users/${userId}`);\n      await loadUsers();\n    } catch (error) {\n      console.error('Error deleting user:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResetPassword = async (userId) => {\n    if (!window.confirm('Reset password for this user?')) return;\n    \n    setLoading(true);\n    try {\n      const response = await ApiService.post(`/api/users/${userId}/reset-password`);\n      alert(`New password: ${response.data.newPassword}`);\n    } catch (error) {\n      console.error('Error resetting password:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleUserStatus = async (userId, currentStatus) => {\n    setLoading(true);\n    try {\n      await ApiService.post(`/api/users/${userId}/toggle-status`, {\n        is_active: !currentStatus\n      });\n      await loadUsers();\n    } catch (error) {\n      console.error('Error toggling user status:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportUsers = () => {\n    const csv = [\n      ['Username', 'Email', 'Role', 'Status', 'Last Login'],\n      ...filteredUsers.map(user => [\n        user.username,\n        user.email || '',\n        user.role,\n        user.is_active ? 'Active' : 'Inactive',\n        user.last_login || 'Never'\n      ])\n    ].map(row => row.join(',')).join('\\n');\n    \n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'users_export.csv';\n    a.click();\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* User Management Header */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <span className=\"flex items-center gap-2\">\n              <Users className=\"h-5 w-5\" />\n              User Management\n            </span>\n            <div className=\"flex gap-2\">\n              <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={exportUsers}\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                Export\n              </Button>\n              <Button \n                size=\"sm\"\n                onClick={() => setShowAddUser(true)}\n              >\n                <UserPlus className=\"h-4 w-4 mr-2\" />\n                Add User\n              </Button>\n            </div>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {/* Search and Filter */}\n          <div className=\"flex gap-4 mb-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input\n                placeholder=\"Search users...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <select\n              value={filterRole}\n              onChange={(e) => setFilterRole(e.target.value)}\n              className=\"px-3 py-2 border rounded-md\"\n            >\n              <option value=\"all\">All Roles</option>\n              {roles.map(role => (\n                <option key={role} value={role}>\n                  {role.charAt(0).toUpperCase() + role.slice(1)}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Users Table */}\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"border-b\">\n                <tr>\n                  <th className=\"text-left p-2\">Username</th>\n                  <th className=\"text-left p-2\">Email</th>\n                  <th className=\"text-left p-2\">Role</th>\n                  <th className=\"text-left p-2\">Status</th>\n                  <th className=\"text-left p-2\">Last Login</th>\n                  <th className=\"text-left p-2\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredUsers.map(user => (\n                  <tr key={user.id} className=\"border-b hover:bg-gray-50\">\n                    <td className=\"p-2\">\n                      {editingUser === user.id ? (\n                        <Input\n                          value={user.username}\n                          onChange={(e) => {\n                            const updated = users.map(u => \n                              u.id === user.id ? { ...u, username: e.target.value } : u\n                            );\n                            setUsers(updated);\n                          }}\n                          className=\"w-32\"\n                        />\n                      ) : (\n                        user.username\n                      )}\n                    </td>\n                    <td className=\"p-2\">\n                      {editingUser === user.id ? (\n                        <Input\n                          value={user.email || ''}\n                          onChange={(e) => {\n                            const updated = users.map(u => \n                              u.id === user.id ? { ...u, email: e.target.value } : u\n                            );\n                            setUsers(updated);\n                          }}\n                          className=\"w-48\"\n                        />\n                      ) : (\n                        user.email || '-'\n                      )}\n                    </td>\n                    <td className=\"p-2\">\n                      {editingUser === user.id ? (\n                        <select\n                          value={user.role}\n                          onChange={(e) => {\n                            const updated = users.map(u => \n                              u.id === user.id ? { ...u, role: e.target.value } : u\n                            );\n                            setUsers(updated);\n                          }}\n                          className=\"px-2 py-1 border rounded\"\n                        >\n                          {roles.map(role => (\n                            <option key={role} value={role}>\n                              {role.charAt(0).toUpperCase() + role.slice(1)}\n                            </option>\n                          ))}\n                        </select>\n                      ) : (\n                        <Badge variant=\"secondary\">\n                          {user.role}\n                        </Badge>\n                      )}\n                    </td>\n                    <td className=\"p-2\">\n                      <Badge variant={user.is_active ? 'success' : 'secondary'}>\n                        {user.is_active ? 'Active' : 'Inactive'}\n                      </Badge>\n                    </td>\n                    <td className=\"p-2 text-sm text-gray-600\">\n                      {user.last_login ? new Date(user.last_login).toLocaleDateString() : 'Never'}\n                    </td>\n                    <td className=\"p-2\">\n                      <div className=\"flex gap-1\">\n                        {editingUser === user.id ? (\n                          <>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleUpdateUser(user.id, {\n                                username: user.username,\n                                email: user.email,\n                                role: user.role\n                              })}\n                              disabled={loading}\n                            >\n                              Save\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => {\n                                setEditingUser(null);\n                                loadUsers();\n                              }}\n                            >\n                              Cancel\n                            </Button>\n                          </>\n                        ) : (\n                          <>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => setEditingUser(user.id)}\n                            >\n                              <Edit className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleResetPassword(user.id)}\n                              disabled={loading}\n                            >\n                              <Key className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => toggleUserStatus(user.id, user.is_active)}\n                              disabled={loading}\n                            >\n                              {user.is_active ? \n                                <UserX className=\"h-4 w-4\" /> : \n                                <UserCheck className=\"h-4 w-4\" />\n                              }\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleDeleteUser(user.id)}\n                              disabled={loading}\n                              className=\"text-red-600\"\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Add User Modal */}\n      {showAddUser && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center justify-between\">\n              Add New User\n              <Button \n                variant=\"ghost\" \n                size=\"sm\"\n                onClick={() => setShowAddUser(false)}\n              >\n                \n              </Button>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Username</label>\n                <Input\n                  value={newUser.username}\n                  onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\n                  placeholder=\"Enter username\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Email</label>\n                <Input\n                  type=\"email\"\n                  value={newUser.email}\n                  onChange={(e) => setNewUser({ ...newUser, email: e.target.value })}\n                  placeholder=\"Enter email (optional)\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Password</label>\n                <Input\n                  type=\"password\"\n                  value={newUser.password}\n                  onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\n                  placeholder=\"Enter password\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Role</label>\n                <select\n                  value={newUser.role}\n                  onChange={(e) => setNewUser({ ...newUser, role: e.target.value })}\n                  className=\"w-full px-3 py-2 border rounded-md\"\n                >\n                  {roles.map(role => (\n                    <option key={role} value={role}>\n                      {role.charAt(0).toUpperCase() + role.slice(1)}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"flex justify-end gap-2\">\n                <Button \n                  variant=\"outline\"\n                  onClick={() => setShowAddUser(false)}\n                >\n                  Cancel\n                </Button>\n                <Button \n                  onClick={handleAddUser}\n                  disabled={loading || !newUser.username || !newUser.password}\n                >\n                  Add User\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Access Control */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5\" />\n            Access Control\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {roles.map(role => (\n                <div key={role} className=\"border rounded-lg p-4\">\n                  <h3 className=\"font-medium mb-2 capitalize\">{role}</h3>\n                  <div className=\"space-y-1 text-sm text-gray-600\">\n                    <p>Active Users: {users.filter(u => u.role === role && u.is_active).length}</p>\n                    <p>Total Users: {users.filter(u => u.role === role).length}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default UsersAccessTab;","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Textarea } from '../ui/textarea';\nimport { Badge } from '../ui/badge';\nimport { Switch } from '../ui/switch';\nimport { \n  Settings, \n  Palette, \n  Type,\n  Image,\n  Save,\n  RotateCcw,\n  Download,\n  Upload,\n  Globe,\n  MessageSquare,\n  Bell,\n  Coffee,\n  Smartphone\n} from 'lucide-react';\nimport ApiServiceClass from '../../services/ApiService';\nimport SettingsService from '../../services/SettingsService';\n\n// Create an instance of ApiService\nconst ApiService = new ApiServiceClass();\n\nconst ConfigurationTab = () => {\n  const [config, setConfig] = useState({\n    // Branding\n    eventName: '',\n    organizationName: '',\n    primaryColor: '#4F46E5',\n    secondaryColor: '#10B981',\n    logoUrl: '',\n    \n    // Messages\n    welcomeMessage: '',\n    orderConfirmationMessage: '',\n    orderReadyMessage: '',\n    \n    // System Settings\n    autoLogoutMinutes: 30,\n    maxOrdersPerCustomer: 5,\n    orderTimeout: 120,\n    enableSounds: true,\n    enableNotifications: true,\n    \n    // Menu Configuration\n    coffeeTypes: [],\n    milkOptions: [],\n    defaultCoffeeType: 'latte',\n    defaultMilkType: 'full',\n    \n    // SMS Settings\n    twilioPhoneNumber: '',\n    smsEnabled: true,\n    smsPrefix: 'Coffee Cue:',\n    maxSmsLength: 160\n  });\n  \n  const [unsavedChanges, setUnsavedChanges] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadConfiguration();\n  }, []);\n\n  const loadConfiguration = async () => {\n    try {\n      const settings = await SettingsService.getSettings();\n      setConfig({\n        ...config,\n        ...settings\n      });\n    } catch (error) {\n      console.error('Error loading configuration:', error);\n    }\n  };\n\n  const handleConfigChange = (section, field, value) => {\n    setConfig(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    setUnsavedChanges(true);\n  };\n\n  const handleArrayChange = (field, index, value) => {\n    const updated = [...config[field]];\n    updated[index] = value;\n    setConfig(prev => ({\n      ...prev,\n      [field]: updated\n    }));\n    setUnsavedChanges(true);\n  };\n\n  const addArrayItem = (field, defaultValue = '') => {\n    setConfig(prev => ({\n      ...prev,\n      [field]: [...prev[field], defaultValue]\n    }));\n    setUnsavedChanges(true);\n  };\n\n  const removeArrayItem = (field, index) => {\n    setConfig(prev => ({\n      ...prev,\n      [field]: prev[field].filter((_, i) => i !== index)\n    }));\n    setUnsavedChanges(true);\n  };\n\n  const saveConfiguration = async () => {\n    setLoading(true);\n    try {\n      await SettingsService.updateSettings(config);\n      setUnsavedChanges(false);\n      alert('Configuration saved successfully!');\n    } catch (error) {\n      console.error('Error saving configuration:', error);\n      alert('Failed to save configuration');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetConfiguration = () => {\n    if (!window.confirm('Are you sure you want to reset to default configuration?')) {\n      return;\n    }\n    loadConfiguration();\n    setUnsavedChanges(false);\n  };\n\n  const exportConfiguration = () => {\n    const blob = new Blob([JSON.stringify(config, null, 2)], { \n      type: 'application/json' \n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `coffeecue_config_${new Date().toISOString().split('T')[0]}.json`;\n    a.click();\n  };\n\n  const importConfiguration = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const imported = JSON.parse(e.target.result);\n        setConfig(prev => ({\n          ...prev,\n          ...imported\n        }));\n        setUnsavedChanges(true);\n      } catch (error) {\n        alert('Invalid configuration file');\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Configuration Header */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <span className=\"flex items-center gap-2\">\n              <Settings className=\"h-5 w-5\" />\n              System Configuration\n            </span>\n            <div className=\"flex items-center gap-2\">\n              {unsavedChanges && (\n                <Badge variant=\"warning\">Unsaved Changes</Badge>\n              )}\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={exportConfiguration}\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                Export\n              </Button>\n              <label className=\"cursor-pointer\">\n                <input\n                  type=\"file\"\n                  accept=\".json\"\n                  onChange={importConfiguration}\n                  className=\"hidden\"\n                />\n                <Button variant=\"outline\" size=\"sm\" as=\"span\">\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  Import\n                </Button>\n              </label>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={resetConfiguration}\n              >\n                <RotateCcw className=\"h-4 w-4 mr-2\" />\n                Reset\n              </Button>\n              <Button\n                size=\"sm\"\n                onClick={saveConfiguration}\n                disabled={loading || !unsavedChanges}\n              >\n                <Save className=\"h-4 w-4 mr-2\" />\n                Save\n              </Button>\n            </div>\n          </CardTitle>\n        </CardHeader>\n      </Card>\n\n      {/* Branding Configuration */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Palette className=\"h-5 w-5\" />\n            Branding & Appearance\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Event Name</label>\n              <Input\n                value={config.eventName}\n                onChange={(e) => handleConfigChange('branding', 'eventName', e.target.value)}\n                placeholder=\"TechConf 2024\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Organization</label>\n              <Input\n                value={config.organizationName}\n                onChange={(e) => handleConfigChange('branding', 'organizationName', e.target.value)}\n                placeholder=\"Coffee Cue Inc.\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Primary Color</label>\n              <div className=\"flex gap-2\">\n                <Input\n                  type=\"color\"\n                  value={config.primaryColor}\n                  onChange={(e) => handleConfigChange('branding', 'primaryColor', e.target.value)}\n                  className=\"w-20\"\n                />\n                <Input\n                  value={config.primaryColor}\n                  onChange={(e) => handleConfigChange('branding', 'primaryColor', e.target.value)}\n                  placeholder=\"#4F46E5\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Secondary Color</label>\n              <div className=\"flex gap-2\">\n                <Input\n                  type=\"color\"\n                  value={config.secondaryColor}\n                  onChange={(e) => handleConfigChange('branding', 'secondaryColor', e.target.value)}\n                  className=\"w-20\"\n                />\n                <Input\n                  value={config.secondaryColor}\n                  onChange={(e) => handleConfigChange('branding', 'secondaryColor', e.target.value)}\n                  placeholder=\"#10B981\"\n                />\n              </div>\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium mb-1\">Logo URL</label>\n              <Input\n                value={config.logoUrl}\n                onChange={(e) => handleConfigChange('branding', 'logoUrl', e.target.value)}\n                placeholder=\"https://example.com/logo.png\"\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Message Templates */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <MessageSquare className=\"h-5 w-5\" />\n            Message Templates\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Welcome Message</label>\n              <Textarea\n                value={config.welcomeMessage}\n                onChange={(e) => handleConfigChange('messages', 'welcomeMessage', e.target.value)}\n                placeholder=\"Welcome to Coffee Cue! Text your coffee order to get started.\"\n                rows={2}\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Order Confirmation</label>\n              <Textarea\n                value={config.orderConfirmationMessage}\n                onChange={(e) => handleConfigChange('messages', 'orderConfirmationMessage', e.target.value)}\n                placeholder=\"Thanks! Your order #{orderNumber} has been received. Estimated wait: {waitTime} minutes.\"\n                rows={2}\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Order Ready</label>\n              <Textarea\n                value={config.orderReadyMessage}\n                onChange={(e) => handleConfigChange('messages', 'orderReadyMessage', e.target.value)}\n                placeholder=\"Your coffee is ready! Please collect order #{orderNumber} from {stationName}.\"\n                rows={2}\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Menu Configuration */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Coffee className=\"h-5 w-5\" />\n            Menu Configuration\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Coffee Types</label>\n              <div className=\"space-y-2\">\n                {(config.coffeeTypes || []).map((type, index) => (\n                  <div key={index} className=\"flex gap-2\">\n                    <Input\n                      value={type}\n                      onChange={(e) => handleArrayChange('coffeeTypes', index, e.target.value)}\n                      placeholder=\"e.g., Latte\"\n                    />\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => removeArrayItem('coffeeTypes', index)}\n                    >\n                      Remove\n                    </Button>\n                  </div>\n                ))}\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => addArrayItem('coffeeTypes')}\n                >\n                  Add Coffee Type\n                </Button>\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Milk Options</label>\n              <div className=\"space-y-2\">\n                {(config.milkOptions || []).map((option, index) => (\n                  <div key={index} className=\"flex gap-2\">\n                    <Input\n                      value={option}\n                      onChange={(e) => handleArrayChange('milkOptions', index, e.target.value)}\n                      placeholder=\"e.g., Oat\"\n                    />\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => removeArrayItem('milkOptions', index)}\n                    >\n                      Remove\n                    </Button>\n                  </div>\n                ))}\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => addArrayItem('milkOptions')}\n                >\n                  Add Milk Option\n                </Button>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Default Coffee</label>\n                <select\n                  value={config.defaultCoffeeType}\n                  onChange={(e) => handleConfigChange('menu', 'defaultCoffeeType', e.target.value)}\n                  className=\"w-full px-3 py-2 border rounded-md\"\n                >\n                  {(config.coffeeTypes || []).map(type => (\n                    <option key={type} value={type.toLowerCase()}>\n                      {type}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Default Milk</label>\n                <select\n                  value={config.defaultMilkType}\n                  onChange={(e) => handleConfigChange('menu', 'defaultMilkType', e.target.value)}\n                  className=\"w-full px-3 py-2 border rounded-md\"\n                >\n                  {(config.milkOptions || []).map(option => (\n                    <option key={option} value={option.toLowerCase()}>\n                      {option}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* System Settings */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Globe className=\"h-5 w-5\" />\n            System Settings\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Auto Logout (minutes)</label>\n                <Input\n                  type=\"number\"\n                  value={config.autoLogoutMinutes}\n                  onChange={(e) => handleConfigChange('system', 'autoLogoutMinutes', parseInt(e.target.value) || 30)}\n                  min=\"5\"\n                  max=\"120\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Max Orders per Customer</label>\n                <Input\n                  type=\"number\"\n                  value={config.maxOrdersPerCustomer}\n                  onChange={(e) => handleConfigChange('system', 'maxOrdersPerCustomer', parseInt(e.target.value) || 5)}\n                  min=\"1\"\n                  max=\"20\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Order Timeout (seconds)</label>\n                <Input\n                  type=\"number\"\n                  value={config.orderTimeout}\n                  onChange={(e) => handleConfigChange('system', 'orderTimeout', parseInt(e.target.value) || 120)}\n                  min=\"30\"\n                  max=\"600\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <label className=\"text-sm font-medium\">Enable Sound Effects</label>\n                <Switch\n                  checked={config.enableSounds}\n                  onCheckedChange={(checked) => handleConfigChange('system', 'enableSounds', checked)}\n                />\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <label className=\"text-sm font-medium\">Enable Notifications</label>\n                <Switch\n                  checked={config.enableNotifications}\n                  onCheckedChange={(checked) => handleConfigChange('system', 'enableNotifications', checked)}\n                />\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* SMS Configuration */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Smartphone className=\"h-5 w-5\" />\n            SMS Configuration\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <label className=\"text-sm font-medium\">SMS Enabled</label>\n              <Switch\n                checked={config.smsEnabled}\n                onCheckedChange={(checked) => handleConfigChange('sms', 'smsEnabled', checked)}\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Twilio Phone Number</label>\n                <Input\n                  value={config.twilioPhoneNumber}\n                  onChange={(e) => handleConfigChange('sms', 'twilioPhoneNumber', e.target.value)}\n                  placeholder=\"+1234567890\"\n                  disabled={!config.smsEnabled}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">SMS Prefix</label>\n                <Input\n                  value={config.smsPrefix}\n                  onChange={(e) => handleConfigChange('sms', 'smsPrefix', e.target.value)}\n                  placeholder=\"Coffee Cue:\"\n                  disabled={!config.smsEnabled}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Max SMS Length</label>\n                <Input\n                  type=\"number\"\n                  value={config.maxSmsLength}\n                  onChange={(e) => handleConfigChange('sms', 'maxSmsLength', parseInt(e.target.value) || 160)}\n                  min=\"50\"\n                  max=\"320\"\n                  disabled={!config.smsEnabled}\n                />\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default ConfigurationTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bug\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgeD0iOCIgeT0iNiIgcng9IjQiIC8+CiAgPHBhdGggZD0ibTE5IDctMyAyIiAvPgogIDxwYXRoIGQ9Im01IDcgMyAyIiAvPgogIDxwYXRoIGQ9Im0xOSAxOS0zLTIiIC8+CiAgPHBhdGggZD0ibTUgMTkgMy0yIiAvPgogIDxwYXRoIGQ9Ik0yMCAxM2gtNCIgLz4KICA8cGF0aCBkPSJNNCAxM2g0IiAvPgogIDxwYXRoIGQ9Im0xMCA0IDEgMiIgLz4KICA8cGF0aCBkPSJtMTQgNC0xIDIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bug\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bug = createLucideIcon('Bug', [\n  [\n    'rect',\n    { width: '8', height: '14', x: '8', y: '6', rx: '4', key: 'hq8nra' },\n  ],\n  ['path', { d: 'm19 7-3 2', key: 'fmg8ec' }],\n  ['path', { d: 'm5 7 3 2', key: 'dkxqes' }],\n  ['path', { d: 'm19 19-3-2', key: '1hbhi4' }],\n  ['path', { d: 'm5 19 3-2', key: 'dvt2ee' }],\n  ['path', { d: 'M20 13h-4', key: '1agfp2' }],\n  ['path', { d: 'M4 13h4', key: '1bwh8b' }],\n  ['path', { d: 'm10 4 1 2', key: '1pot59' }],\n  ['path', { d: 'm14 4-1 2', key: 'm8sn0o' }],\n]);\n\nexport default Bug;\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Button } from '../ui/button';\nimport { Badge } from '../ui/badge';\nimport { Textarea } from '../ui/textarea';\nimport { \n  Activity, \n  Terminal, \n  Database,\n  Wifi,\n  Server,\n  HardDrive,\n  Clock,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  Download,\n  RefreshCw,\n  Play,\n  FileText,\n  Bug,\n  MessageSquare\n} from 'lucide-react';\nimport ApiServiceClass from '../../services/ApiService';\n\n// Create an instance of ApiService\nconst ApiService = new ApiServiceClass();\n\nconst DiagnosticsTab = () => {\n  const [diagnostics, setDiagnostics] = useState({\n    api: { status: 'checking', message: '' },\n    database: { status: 'checking', message: '' },\n    websocket: { status: 'checking', message: '' },\n    sms: { status: 'checking', message: '' },\n    storage: { status: 'checking', message: '' },\n    network: { status: 'checking', message: '' }\n  });\n  \n  const [logs, setLogs] = useState([]);\n  const [performanceMetrics, setPerformanceMetrics] = useState({\n    apiResponseTime: 0,\n    dbQueryTime: 0,\n    memoryUsage: 0,\n    cpuUsage: 0\n  });\n  \n  const [testResults, setTestResults] = useState([]);\n  const [runningTest, setRunningTest] = useState(false);\n  const [selectedTest, setSelectedTest] = useState('all');\n\n  useEffect(() => {\n    runDiagnostics();\n    loadSystemLogs();\n    const interval = setInterval(() => {\n      updatePerformanceMetrics();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const runDiagnostics = async () => {\n    // API Health Check\n    try {\n      const start = Date.now();\n      await ApiService.get('/api/health');\n      const responseTime = Date.now() - start;\n      setDiagnostics(prev => ({\n        ...prev,\n        api: { \n          status: responseTime < 1000 ? 'healthy' : 'warning', \n          message: `Response time: ${responseTime}ms` \n        }\n      }));\n    } catch (error) {\n      setDiagnostics(prev => ({\n        ...prev,\n        api: { status: 'error', message: error.message }\n      }));\n    }\n\n    // Database Check\n    try {\n      const dbCheck = await ApiService.get('/api/diagnostics/database');\n      setDiagnostics(prev => ({\n        ...prev,\n        database: { \n          status: dbCheck?.status || 'error', \n          message: dbCheck?.message || 'Unknown status'\n        }\n      }));\n    } catch (error) {\n      setDiagnostics(prev => ({\n        ...prev,\n        database: { status: 'error', message: 'Database unreachable' }\n      }));\n    }\n\n    // WebSocket Check\n    try {\n      // For now, just check if WebSocket is available\n      if (typeof WebSocket !== 'undefined') {\n        setDiagnostics(prev => ({\n          ...prev,\n          websocket: { status: 'warning', message: 'WebSocket available but not tested' }\n        }));\n      } else {\n        setDiagnostics(prev => ({\n          ...prev,\n          websocket: { status: 'error', message: 'WebSocket not supported' }\n        }));\n      }\n    } catch (error) {\n      setDiagnostics(prev => ({\n        ...prev,\n        websocket: { status: 'error', message: error.message }\n      }));\n    }\n\n    // SMS Service Check\n    try {\n      const smsCheck = await ApiService.get('/api/diagnostics/sms');\n      setDiagnostics(prev => ({\n        ...prev,\n        sms: { \n          status: smsCheck?.status || 'error', \n          message: smsCheck?.message || 'SMS status unknown'\n        }\n      }));\n    } catch (error) {\n      setDiagnostics(prev => ({\n        ...prev,\n        sms: { status: 'warning', message: 'SMS service check failed' }\n      }));\n    }\n\n    // Storage Check\n    const storageUsed = JSON.stringify(localStorage).length;\n    const storageStatus = storageUsed < 4000000 ? 'healthy' : 'warning';\n    setDiagnostics(prev => ({\n      ...prev,\n      storage: { \n        status: storageStatus, \n        message: `Using ${(storageUsed / 1024).toFixed(2)} KB` \n      }\n    }));\n\n    // Network Check\n    setDiagnostics(prev => ({\n      ...prev,\n      network: { \n        status: navigator.onLine ? 'healthy' : 'error', \n        message: navigator.onLine ? 'Online' : 'Offline' \n      }\n    }));\n  };\n\n  const loadSystemLogs = async () => {\n    try {\n      const response = await ApiService.get('/api/diagnostics/logs?limit=50');\n      // The response IS the data array directly\n      setLogs(Array.isArray(response) ? response : []);\n    } catch (error) {\n      console.error('Error loading logs:', error);\n      setLogs([]);\n    }\n  };\n\n  const updatePerformanceMetrics = async () => {\n    try {\n      const metrics = await ApiService.get('/api/diagnostics/performance');\n      // The response IS the metrics object directly\n      setPerformanceMetrics(metrics || {\n        apiResponseTime: 0,\n        dbQueryTime: 0,\n        memoryUsage: 0,\n        cpuUsage: 0\n      });\n    } catch (error) {\n      console.error('Error loading performance metrics:', error);\n    }\n  };\n\n  const runSystemTest = async (testType) => {\n    setRunningTest(true);\n    setTestResults([]);\n    \n    try {\n      const response = await ApiService.post('/api/diagnostics/test', { \n        type: testType \n      });\n      // The response should have a results property directly\n      setTestResults(response?.results || []);\n    } catch (error) {\n      setTestResults([{\n        test: 'Error',\n        status: 'failed',\n        message: error.message\n      }]);\n    } finally {\n      setRunningTest(false);\n    }\n  };\n\n  const downloadLogs = () => {\n    const logContent = logs.map(log => \n      `[${log?.timestamp || 'Unknown'}] ${log?.level || 'INFO'}: ${log?.message || 'No message'}`\n    ).join('\\n');\n    \n    const blob = new Blob([logContent], { type: 'text/plain' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `system_logs_${new Date().toISOString().split('T')[0]}.txt`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'healthy':\n      case 'passed':\n        return <CheckCircle className=\"h-5 w-5 text-green-500\" />;\n      case 'warning':\n        return <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />;\n      case 'error':\n      case 'failed':\n        return <XCircle className=\"h-5 w-5 text-red-500\" />;\n      default:\n        return <Clock className=\"h-5 w-5 text-gray-400 animate-spin\" />;\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const variants = {\n      healthy: 'success',\n      warning: 'warning',\n      error: 'destructive',\n      checking: 'secondary',\n      passed: 'success',\n      failed: 'destructive'\n    };\n    return variants[status] || 'secondary';\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* System Status */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <span className=\"flex items-center gap-2\">\n              <Activity className=\"h-5 w-5\" />\n              System Status\n            </span>\n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={runDiagnostics}\n            >\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              Refresh\n            </Button>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {Object.entries(diagnostics).map(([service, info]) => (\n              <div key={service} className=\"border rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    {service === 'api' && <Server className=\"h-4 w-4\" />}\n                    {service === 'database' && <Database className=\"h-4 w-4\" />}\n                    {service === 'websocket' && <Wifi className=\"h-4 w-4\" />}\n                    {service === 'sms' && <MessageSquare className=\"h-4 w-4\" />}\n                    {service === 'storage' && <HardDrive className=\"h-4 w-4\" />}\n                    {service === 'network' && <Wifi className=\"h-4 w-4\" />}\n                    <span className=\"font-medium capitalize\">{service}</span>\n                  </div>\n                  {getStatusIcon(info.status)}\n                </div>\n                <Badge variant={getStatusBadge(info.status)} className=\"mb-2\">\n                  {info.status}\n                </Badge>\n                <p className=\"text-sm text-gray-600\">{info.message}</p>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Performance Metrics */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Activity className=\"h-5 w-5\" />\n            Performance Metrics\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"text-center\">\n              <p className=\"text-2xl font-bold\">{performanceMetrics.apiResponseTime}ms</p>\n              <p className=\"text-sm text-gray-600\">API Response</p>\n            </div>\n            <div className=\"text-center\">\n              <p className=\"text-2xl font-bold\">{performanceMetrics.dbQueryTime}ms</p>\n              <p className=\"text-sm text-gray-600\">DB Query</p>\n            </div>\n            <div className=\"text-center\">\n              <p className=\"text-2xl font-bold\">{performanceMetrics.memoryUsage}%</p>\n              <p className=\"text-sm text-gray-600\">Memory Usage</p>\n            </div>\n            <div className=\"text-center\">\n              <p className=\"text-2xl font-bold\">{performanceMetrics.cpuUsage}%</p>\n              <p className=\"text-sm text-gray-600\">CPU Usage</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* System Tests */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bug className=\"h-5 w-5\" />\n            System Tests\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex gap-2\">\n              <select\n                value={selectedTest}\n                onChange={(e) => setSelectedTest(e.target.value)}\n                className=\"px-3 py-2 border rounded-md\"\n                disabled={runningTest}\n              >\n                <option value=\"all\">All Tests</option>\n                <option value=\"api\">API Tests</option>\n                <option value=\"database\">Database Tests</option>\n                <option value=\"authentication\">Auth Tests</option>\n                <option value=\"orders\">Order Flow Tests</option>\n                <option value=\"stations\">Station Tests</option>\n              </select>\n              <Button\n                onClick={() => runSystemTest(selectedTest)}\n                disabled={runningTest}\n              >\n                <Play className=\"h-4 w-4 mr-2\" />\n                {runningTest ? 'Running...' : 'Run Tests'}\n              </Button>\n            </div>\n\n            {testResults.length > 0 && (\n              <div className=\"border rounded-lg p-4 max-h-96 overflow-y-auto\">\n                <h3 className=\"font-medium mb-2\">Test Results</h3>\n                <div className=\"space-y-2\">\n                  {testResults.map((result, index) => (\n                    <div key={index} className=\"flex items-center justify-between\">\n                      <span className=\"text-sm\">{result?.test || 'Unknown test'}</span>\n                      <div className=\"flex items-center gap-2\">\n                        {getStatusIcon(result?.status || 'error')}\n                        <Badge variant={getStatusBadge(result?.status || 'error')}>\n                          {result?.status || 'error'}\n                        </Badge>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* System Logs */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <span className=\"flex items-center gap-2\">\n              <Terminal className=\"h-5 w-5\" />\n              System Logs\n            </span>\n            <div className=\"flex gap-2\">\n              <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={loadSystemLogs}\n              >\n                <RefreshCw className=\"h-4 w-4 mr-2\" />\n                Refresh\n              </Button>\n              <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={downloadLogs}\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                Download\n              </Button>\n            </div>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm max-h-96 overflow-y-auto\">\n            {logs.length === 0 ? (\n              <p className=\"text-gray-400\">No logs available</p>\n            ) : (\n              logs.map((log, index) => (\n                <div key={index} className={`mb-1 ${\n                  log?.level === 'ERROR' ? 'text-red-400' :\n                  log?.level === 'WARN' ? 'text-yellow-400' :\n                  'text-gray-300'\n                }`}>\n                  [{log?.timestamp || 'Unknown'}] {log?.level || 'INFO'}: {log?.message || 'No message'}\n                </div>\n              ))\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default DiagnosticsTab;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name StopCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSI2IiB4PSI5IiB5PSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/stop-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst StopCircle = createLucideIcon('StopCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['rect', { width: '6', height: '6', x: '9', y: '9', key: '1wrtvo' }],\n]);\n\nexport default StopCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Power\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTguMzYgNi42NGE5IDkgMCAxIDEtMTIuNzMgMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSIxMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/power\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Power = createLucideIcon('Power', [\n  ['path', { d: 'M18.36 6.64a9 9 0 1 1-12.73 0', key: 'phirl6' }],\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '12', key: 'aemgbe' }],\n]);\n\nexport default Power;\n","import React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Button } from '../ui/button';\nimport { Badge } from '../ui/badge';\nimport { Input } from '../ui/input';\nimport { Textarea } from '../ui/textarea';\nimport { \n  AlertTriangle, \n  Power,\n  RefreshCw,\n  Database,\n  Users,\n  Coffee,\n  MessageSquare,\n  Shield,\n  Download,\n  Upload,\n  Trash2,\n  StopCircle,\n  PlayCircle,\n  Lock,\n  Unlock\n} from 'lucide-react';\nimport ApiServiceClass from '../../services/ApiService';\n\n// Create an instance of ApiService\nconst ApiService = new ApiServiceClass();\n\nconst EmergencyTab = () => {\n  const [emergencyMode, setEmergencyMode] = useState(false);\n  const [systemLocked, setSystemLocked] = useState(false);\n  const [confirmations, setConfirmations] = useState({});\n  const [actionLog, setActionLog] = useState([]);\n  const [backupStatus, setBackupStatus] = useState(null);\n\n  const requireConfirmation = (action, callback) => {\n    const confirmKey = `confirm_${Date.now()}`;\n    setConfirmations(prev => ({\n      ...prev,\n      [confirmKey]: {\n        action,\n        callback,\n        timestamp: Date.now()\n      }\n    }));\n    return confirmKey;\n  };\n\n  const executeAction = async (confirmKey) => {\n    const confirmation = confirmations[confirmKey];\n    if (!confirmation) return;\n\n    try {\n      await confirmation.callback();\n      logAction(confirmation.action, 'success');\n    } catch (error) {\n      logAction(confirmation.action, 'failed', error.message);\n    } finally {\n      setConfirmations(prev => {\n        const updated = { ...prev };\n        delete updated[confirmKey];\n        return updated;\n      });\n    }\n  };\n\n  const cancelConfirmation = (confirmKey) => {\n    setConfirmations(prev => {\n      const updated = { ...prev };\n      delete updated[confirmKey];\n      return updated;\n    });\n  };\n\n  const logAction = (action, status, details = '') => {\n    setActionLog(prev => [{\n      action,\n      status,\n      details,\n      timestamp: new Date().toISOString(),\n      user: 'support_admin' // Would come from auth context\n    }, ...prev.slice(0, 49)]); // Keep last 50 actions\n  };\n\n  // Emergency Actions\n  const stopAllOperations = () => {\n    requireConfirmation('Stop All Operations', async () => {\n      await ApiService.post('/api/emergency/stop-all');\n      setEmergencyMode(true);\n    });\n  };\n\n  const resumeOperations = () => {\n    requireConfirmation('Resume Operations', async () => {\n      await ApiService.post('/api/emergency/resume');\n      setEmergencyMode(false);\n    });\n  };\n\n  const clearAllQueues = () => {\n    requireConfirmation('Clear ALL Order Queues', async () => {\n      await ApiService.post('/api/emergency/clear-queues');\n    });\n  };\n\n  const resetAllStations = () => {\n    requireConfirmation('Reset All Stations', async () => {\n      await ApiService.post('/api/emergency/reset-stations');\n    });\n  };\n\n  const lockSystem = () => {\n    requireConfirmation('Lock System', async () => {\n      await ApiService.post('/api/emergency/lock-system');\n      setSystemLocked(true);\n    });\n  };\n\n  const unlockSystem = () => {\n    requireConfirmation('Unlock System', async () => {\n      await ApiService.post('/api/emergency/unlock-system');\n      setSystemLocked(false);\n    });\n  };\n\n  const createBackup = async () => {\n    try {\n      setBackupStatus('creating');\n      const response = await ApiService.post('/api/emergency/backup');\n      setBackupStatus('completed');\n      logAction('Create Backup', 'success', response.data.filename);\n      \n      // Download backup\n      const blob = new Blob([JSON.stringify(response.data.backup)], { \n        type: 'application/json' \n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = response.data.filename;\n      a.click();\n    } catch (error) {\n      setBackupStatus('failed');\n      logAction('Create Backup', 'failed', error.message);\n    }\n  };\n\n  const restoreFromBackup = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    requireConfirmation('Restore from Backup', async () => {\n      const formData = new FormData();\n      formData.append('backup', file);\n      await ApiService.post('/api/emergency/restore', formData);\n    });\n  };\n\n  const purgeOldData = () => {\n    requireConfirmation('Purge Old Data (>30 days)', async () => {\n      await ApiService.post('/api/emergency/purge-data', { \n        olderThan: 30 \n      });\n    });\n  };\n\n  const resetDatabase = () => {\n    requireConfirmation('RESET ENTIRE DATABASE', async () => {\n      const confirmation = prompt('Type \"RESET DATABASE\" to confirm this action:');\n      if (confirmation !== 'RESET DATABASE') {\n        throw new Error('Confirmation text did not match');\n      }\n      await ApiService.post('/api/emergency/reset-database');\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Emergency Status */}\n      <Card className={emergencyMode ? 'border-red-500' : ''}>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            <span className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-red-500\" />\n              Emergency Controls\n            </span>\n            <div className=\"flex items-center gap-2\">\n              {emergencyMode && (\n                <Badge variant=\"destructive\" className=\"animate-pulse\">\n                  EMERGENCY MODE ACTIVE\n                </Badge>\n              )}\n              {systemLocked && (\n                <Badge variant=\"warning\">\n                  SYSTEM LOCKED\n                </Badge>\n              )}\n            </div>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n            <p className=\"text-sm text-red-800\">\n              <strong>WARNING:</strong> These controls can significantly impact system operations. \n              Use only in emergency situations. All actions are logged and require confirmation.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Quick Actions */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Quick Emergency Actions</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Button\n              variant=\"destructive\"\n              className=\"h-20\"\n              onClick={emergencyMode ? resumeOperations : stopAllOperations}\n              disabled={Object.keys(confirmations).length > 0}\n            >\n              {emergencyMode ? (\n                <>\n                  <PlayCircle className=\"h-6 w-6 mr-2\" />\n                  Resume All Operations\n                </>\n              ) : (\n                <>\n                  <StopCircle className=\"h-6 w-6 mr-2\" />\n                  Stop All Operations\n                </>\n              )}\n            </Button>\n\n            <Button\n              variant=\"destructive\"\n              className=\"h-20\"\n              onClick={systemLocked ? unlockSystem : lockSystem}\n              disabled={Object.keys(confirmations).length > 0}\n            >\n              {systemLocked ? (\n                <>\n                  <Unlock className=\"h-6 w-6 mr-2\" />\n                  Unlock System\n                </>\n              ) : (\n                <>\n                  <Lock className=\"h-6 w-6 mr-2\" />\n                  Lock System\n                </>\n              )}\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* System Reset Options */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <RefreshCw className=\"h-5 w-5\" />\n            System Reset Options\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start text-red-600\"\n              onClick={clearAllQueues}\n              disabled={Object.keys(confirmations).length > 0}\n            >\n              <Coffee className=\"h-4 w-4 mr-2\" />\n              Clear All Order Queues\n            </Button>\n            \n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start text-red-600\"\n              onClick={resetAllStations}\n              disabled={Object.keys(confirmations).length > 0}\n            >\n              <Power className=\"h-4 w-4 mr-2\" />\n              Reset All Stations\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start text-red-600\"\n              onClick={purgeOldData}\n              disabled={Object.keys(confirmations).length > 0}\n            >\n              <Trash2 className=\"h-4 w-4 mr-2\" />\n              Purge Old Data (&gt;30 days)\n            </Button>\n\n            <Button\n              variant=\"destructive\"\n              className=\"w-full justify-start\"\n              onClick={resetDatabase}\n              disabled={Object.keys(confirmations).length > 0}\n            >\n              <Database className=\"h-4 w-4 mr-2\" />\n              RESET ENTIRE DATABASE\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Backup & Restore */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Database className=\"h-5 w-5\" />\n            Backup & Restore\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex gap-2\">\n              <Button\n                onClick={createBackup}\n                disabled={backupStatus === 'creating'}\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                {backupStatus === 'creating' ? 'Creating...' : 'Create Backup'}\n              </Button>\n              \n              <label className=\"cursor-pointer\">\n                <input\n                  type=\"file\"\n                  accept=\".json\"\n                  onChange={restoreFromBackup}\n                  className=\"hidden\"\n                  disabled={Object.keys(confirmations).length > 0}\n                />\n                <Button variant=\"outline\" as=\"span\">\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  Restore from Backup\n                </Button>\n              </label>\n            </div>\n            \n            {backupStatus === 'completed' && (\n              <p className=\"text-sm text-green-600\">Backup created successfully</p>\n            )}\n            {backupStatus === 'failed' && (\n              <p className=\"text-sm text-red-600\">Backup failed</p>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Confirmations */}\n      {Object.entries(confirmations).map(([key, confirm]) => (\n        <Card key={key} className=\"border-yellow-500\">\n          <CardHeader>\n            <CardTitle className=\"text-yellow-700\">Confirm Action</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"mb-4\">\n              Are you sure you want to: <strong>{confirm.action}</strong>?\n            </p>\n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"destructive\"\n                onClick={() => executeAction(key)}\n              >\n                Yes, Proceed\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={() => cancelConfirmation(key)}\n              >\n                Cancel\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n\n      {/* Action Log */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5\" />\n            Emergency Action Log\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"max-h-64 overflow-y-auto\">\n            {actionLog.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No emergency actions taken</p>\n            ) : (\n              <div className=\"space-y-2\">\n                {actionLog.map((entry, index) => (\n                  <div key={index} className=\"border-b pb-2 last:border-0\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"font-medium\">{entry.action}</span>\n                      <Badge variant={entry.status === 'success' ? 'success' : 'destructive'}>\n                        {entry.status}\n                      </Badge>\n                    </div>\n                    <div className=\"text-sm text-gray-600\">\n                      <p>{new Date(entry.timestamp).toLocaleString()}</p>\n                      <p>By: {entry.user}</p>\n                      {entry.details && <p>Details: {entry.details}</p>}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default EmergencyTab;","import React, { useState, useEffect } from 'react';\nimport { \n  Activity, Settings, Users, MessageSquare, Terminal, AlertTriangle,\n  Coffee, RefreshCw, BarChart3, Phone, ArrowLeft\n} from 'lucide-react';\n\nimport ErrorMonitoring from './ErrorMonitoring';\nimport SettingsService from '../services/SettingsService';\nimport SMSTestSimulator from './SMSTestSimulator';\n\n// Import tab components directly (no lazy loading for now)\nimport DashboardTab from './support-tabs/DashboardTab';\nimport SystemHealthTab from './support-tabs/SystemHealthTab';\nimport CommunicationsTab from './support-tabs/CommunicationsTab';\nimport OperationsTab from './support-tabs/OperationsTab';\nimport UsersAccessTab from './support-tabs/UsersAccessTab';\nimport ConfigurationTab from './support-tabs/ConfigurationTab';\nimport DiagnosticsTab from './support-tabs/DiagnosticsTab';\nimport EmergencyTab from './support-tabs/EmergencyTab';\n\nconst SupportInterface = () => {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [systemHealth, setSystemHealth] = useState({\n    appVersion: '1.2.0',\n    lastUpdated: new Date()\n  });\n\n  // Load system settings on mount and clear old errors\n  useEffect(() => {\n    // Clear old error logs that might be causing the persistent error display\n    localStorage.removeItem('coffee_system_errors');\n    localStorage.removeItem('supportErrors');\n    localStorage.removeItem('errorLog');\n    \n    const loadSettings = async () => {\n      try {\n        const settings = await SettingsService.getSettings();\n        console.log('Settings loaded:', settings);\n      } catch (error) {\n        console.error('Error loading system settings:', error);\n      }\n    };\n    loadSettings();\n  }, []);\n\n  const tabs = [\n    { id: 'dashboard', label: 'Dashboard', icon: BarChart3, component: DashboardTab },\n    { id: 'operations', label: 'Operations', icon: Settings, component: OperationsTab },\n    { id: 'health', label: 'Health', icon: Activity, component: SystemHealthTab },\n    { id: 'communications', label: 'Comms', icon: MessageSquare, component: CommunicationsTab },\n    { id: 'sms-test', label: 'SMS Test', icon: Phone, component: SMSTestSimulator },\n    { id: 'users', label: 'Users', icon: Users, component: UsersAccessTab },\n    { id: 'config', label: 'Config', icon: Settings, component: ConfigurationTab },\n    { id: 'diagnostics', label: 'Diagnose', icon: Terminal, component: DiagnosticsTab },\n    { id: 'emergency', label: 'Emergency', icon: AlertTriangle, component: EmergencyTab }\n  ];\n\n  const activeTabInfo = tabs.find(tab => tab.id === activeTab) || tabs[0];\n  const ActiveComponent = activeTabInfo.component;\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* Sidebar Navigation */}\n      <div className=\"w-20 bg-indigo-800 text-white flex flex-col items-center py-6 shadow-lg\">\n        <div className=\"mb-8\">\n          <Coffee size={32} className=\"text-white\" />\n          <div className=\"text-xs mt-1 font-medium\">Support</div>\n        </div>\n        \n        <nav className=\"flex flex-col items-center space-y-4 flex-grow\">\n          {tabs.map(tab => {\n            const Icon = tab.icon;\n            const isActive = activeTab === tab.id;\n            const bgColor = tab.id === 'emergency' ? \n              (isActive ? 'bg-red-700' : 'bg-red-600 hover:bg-red-700') : \n              (isActive ? 'bg-indigo-700' : 'hover:bg-indigo-700');\n            \n            return (\n              <button\n                key={tab.id}\n                className={`p-3 rounded-xl transition-colors ${bgColor}`}\n                onClick={() => {\n                  console.log('Switching to tab:', tab.id);\n                  setActiveTab(tab.id);\n                }}\n                title={tab.label}\n              >\n                <Icon size={24} />\n                <span className=\"text-xs mt-1 block\">{tab.label}</span>\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n      \n      {/* Main Content Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Header */}\n        <div className=\"bg-white shadow-sm px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <button \n              className=\"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n              onClick={() => window.location.href = '/'}\n              title=\"Back to Home\"\n            >\n              <ArrowLeft size={20} />\n            </button>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-800\">\n                Support Interface - {activeTabInfo.label}\n              </h1>\n              <p className=\"text-sm text-gray-600\">\n                System monitoring and management tools (Active: {activeTab})\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-sm text-gray-600\">\n              Last update: {systemHealth.lastUpdated.toLocaleTimeString()}\n            </div>\n            <button\n              onClick={() => window.location.reload()}\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n              title=\"Refresh\"\n            >\n              <RefreshCw size={20} />\n            </button>\n          </div>\n        </div>\n        \n        {/* Tab Content */}\n        <div className=\"flex-1 overflow-auto\">\n          <div key={activeTab}>\n            <ActiveComponent />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SupportInterface;","// utils/offlineDataHelper.js\n\n/**\n * Utility functions for managing offline data and fallback mode\n * Enhanced to handle authentication errors and JWT token issues\n */\nexport const OfflineDataHelper = {\n  /**\n   * Prepares offline data for fallback mode\n   * This initializes sample data in localStorage if not already set\n   */\n  prepareOfflineData: () => {\n    console.log('Preparing offline fallback data');\n    \n    // Initialize sample pending orders\n    if (!localStorage.getItem('fallback_pending_orders')) {\n      localStorage.setItem('fallback_pending_orders', JSON.stringify([\n        {\n          id: 'fb-p-1',\n          orderNumber: 'O-1001',\n          customerName: 'Alex Johnson',\n          phoneNumber: '+61412345678',\n          coffeeType: 'Latte',\n          milkType: 'Regular',\n          sugar: '1 sugar',\n          extraHot: false,\n          status: 'pending',\n          createdAt: new Date(Date.now() - 10 * 60000).toISOString(),\n          waitTime: 10,\n          stationId: 1\n        },\n        {\n          id: 'fb-p-2',\n          orderNumber: 'O-1002',\n          customerName: 'Jamie Smith',\n          phoneNumber: '+61423456789',\n          coffeeType: 'Cappuccino',\n          milkType: 'Almond',\n          sugar: 'No sugar',\n          extraHot: true,\n          status: 'pending',\n          createdAt: new Date(Date.now() - 5 * 60000).toISOString(),\n          waitTime: 5,\n          stationId: 1\n        },\n        {\n          id: 'fb-p-3',\n          orderNumber: 'O-1003',\n          customerName: 'Taylor Wilson',\n          phoneNumber: '+61434567890',\n          coffeeType: 'Flat White',\n          milkType: 'Skim',\n          sugar: '2 sugars',\n          extraHot: false,\n          status: 'pending',\n          createdAt: new Date(Date.now() - 2 * 60000).toISOString(),\n          waitTime: 2,\n          stationId: 1\n        }\n      ]));\n    }\n    \n    // Initialize sample in-progress orders\n    if (!localStorage.getItem('fallback_in_progress_orders')) {\n      localStorage.setItem('fallback_in_progress_orders', JSON.stringify([\n        {\n          id: 'fb-ip-1',\n          orderNumber: 'O-1000',\n          customerName: 'Sam Taylor',\n          phoneNumber: '+61445678901',\n          coffeeType: 'Mocha',\n          milkType: 'Regular',\n          sugar: 'No sugar',\n          extraHot: false,\n          status: 'in-progress',\n          createdAt: new Date(Date.now() - 15 * 60000).toISOString(),\n          startedAt: new Date(Date.now() - 3 * 60000).toISOString(),\n          waitTime: 15,\n          stationId: 1\n        }\n      ]));\n    }\n    \n    // Initialize sample completed orders\n    if (!localStorage.getItem('fallback_completed_orders')) {\n      localStorage.setItem('fallback_completed_orders', JSON.stringify([\n        {\n          id: 'fb-c-1',\n          orderNumber: 'O-999',\n          customerName: 'Jordan Lee',\n          phoneNumber: '+61456789012',\n          coffeeType: 'Espresso',\n          milkType: 'None',\n          sugar: 'No sugar',\n          extraHot: false,\n          status: 'completed',\n          createdAt: new Date(Date.now() - 25 * 60000).toISOString(),\n          startedAt: new Date(Date.now() - 20 * 60000).toISOString(),\n          completedAt: new Date(Date.now() - 18 * 60000).toISOString(),\n          stationId: 1\n        },\n        {\n          id: 'fb-c-2',\n          orderNumber: 'O-998',\n          customerName: 'Casey Jones',\n          phoneNumber: '+61467890123',\n          coffeeType: 'Americano',\n          milkType: 'Regular',\n          sugar: '1 sugar',\n          extraHot: true,\n          status: 'completed',\n          createdAt: new Date(Date.now() - 35 * 60000).toISOString(),\n          startedAt: new Date(Date.now() - 30 * 60000).toISOString(),\n          completedAt: new Date(Date.now() - 28 * 60000).toISOString(),\n          stationId: 1\n        }\n      ]));\n    }\n    \n    // Initialize sample stock data\n    if (!localStorage.getItem('fallback_stock_data')) {\n      localStorage.setItem('fallback_stock_data', JSON.stringify({\n        milk: [\n          {\n            id: 'milk_regular',\n            name: 'Regular Milk',\n            amount: 3.5,\n            capacity: 5,\n            unit: 'L',\n            status: 'good'\n          },\n          {\n            id: 'milk_skim',\n            name: 'Skim Milk',\n            amount: 2,\n            capacity: 3,\n            unit: 'L',\n            status: 'good'\n          },\n          {\n            id: 'milk_almond',\n            name: 'Almond Milk',\n            amount: 1.2,\n            capacity: 2,\n            unit: 'L',\n            status: 'low'\n          }\n        ],\n        coffee: [\n          {\n            id: 'coffee_house',\n            name: 'House Blend',\n            amount: 1.2,\n            capacity: 2,\n            unit: 'kg',\n            status: 'good'\n          },\n          {\n            id: 'coffee_decaf',\n            name: 'Decaf Blend',\n            amount: 0.5,\n            capacity: 1,\n            unit: 'kg',\n            status: 'low'\n          }\n        ],\n        cups: [\n          {\n            id: 'cups_small',\n            name: 'Small Cups',\n            amount: 25,\n            capacity: 50,\n            unit: 'pcs',\n            status: 'good'\n          },\n          {\n            id: 'cups_medium',\n            name: 'Medium Cups',\n            amount: 30,\n            capacity: 50,\n            unit: 'pcs',\n            status: 'good'\n          },\n          {\n            id: 'cups_large',\n            name: 'Large Cups',\n            amount: 15,\n            capacity: 50,\n            unit: 'pcs',\n            status: 'low'\n          }\n        ]\n      }));\n    }\n    \n    // Mark fallback data as available\n    localStorage.setItem('fallback_data_available', 'true');\n    \n    console.log('Fallback data prepared and ready for offline use');\n  },\n  \n  /**\n   * Checks if fallback mode is enabled\n   * @returns {boolean} - True if fallback mode is enabled\n   */\n  isFallbackModeEnabled: () => {\n    return localStorage.getItem('use_fallback_data') === 'true';\n  },\n  \n  /**\n   * Enables fallback mode with proper auth error handling\n   */\n  enableFallbackMode: () => {\n    // Set fallback flags\n    localStorage.setItem('use_fallback_data', 'true');\n    localStorage.setItem('auth_error_refresh_needed', 'true');\n    localStorage.setItem('demo_mode_enabled', 'true');\n    \n    // Reset error counters\n    localStorage.removeItem('auth_error_count');\n    \n    // Set connection status to indicate offline mode\n    localStorage.setItem('coffee_connection_status', 'offline');\n    \n    // Prepare offline data if not already done\n    if (localStorage.getItem('fallback_data_available') !== 'true') {\n      OfflineDataHelper.prepareOfflineData();\n    }\n    \n    // Create valid JWT token with proper subject field\n    OfflineDataHelper.createValidDummyToken();\n    \n    // Dispatch event to notify app of fallback mode\n    window.dispatchEvent(new CustomEvent('fallback_mode_enabled'));\n    \n    console.log('Fallback mode enabled with sample data');\n  },\n  \n  /**\n   * Disables fallback mode\n   */\n  disableFallbackMode: () => {\n    // Remove fallback flags\n    localStorage.removeItem('use_fallback_data');\n    localStorage.removeItem('auth_error_refresh_needed');\n    localStorage.removeItem('demo_mode_enabled');\n    \n    // Set connection status back to online\n    localStorage.setItem('coffee_connection_status', 'online');\n    \n    // Remove dummy tokens\n    localStorage.removeItem('coffee_system_token');\n    localStorage.removeItem('coffee_auth_token');\n    localStorage.removeItem('jwt_token');\n    localStorage.removeItem('auth_token');\n    \n    // Reset error counts\n    localStorage.removeItem('auth_error_count');\n    \n    // Dispatch event\n    window.dispatchEvent(new CustomEvent('fallback_mode_disabled'));\n    console.log('Fallback mode disabled');\n  },\n  \n  /**\n   * Gets fallback orders data\n   * @param {string} type - Type of orders (pending, in_progress, completed)\n   * @returns {Array} - Array of orders\n   */\n  getFallbackOrders: (type) => {\n    const key = `fallback_${type}_orders`;\n    try {\n      return JSON.parse(localStorage.getItem(key)) || [];\n    } catch (error) {\n      console.error(`Error parsing fallback ${type} orders:`, error);\n      return [];\n    }\n  },\n  \n  /**\n   * Saves fallback orders data\n   * @param {string} type - Type of orders (pending, in_progress, completed)\n   * @param {Array} orders - Array of orders to save\n   */\n  saveFallbackOrders: (type, orders) => {\n    const key = `fallback_${type}_orders`;\n    localStorage.setItem(key, JSON.stringify(orders));\n  },\n\n  /**\n   * Create a valid JWT token with proper subject field\n   * This helps resolve the \"Subject must be a string\" error\n   * @returns {string} The created token\n   */\n  createValidDummyToken: () => {\n    // Create header part\n    const header = {\n      alg: 'HS256',\n      typ: 'JWT'\n    };\n    \n    // Create payload with proper sub field as string\n    const now = Math.floor(Date.now() / 1000);\n    const payload = {\n      sub: 'demo_user', // Must be a string\n      name: 'Demo User',\n      role: 'barista',\n      stations: [1, 2, 3],\n      iat: now,\n      exp: now + (24 * 60 * 60), // 24 hours from now\n      permissions: ['manage_orders', 'view_stations']\n    };\n    \n    // Base64 encode parts\n    const headerB64 = btoa(JSON.stringify(header)).replace(/=/g, '');\n    const payloadB64 = btoa(JSON.stringify(payload)).replace(/=/g, '');\n    \n    // Create a dummy signature\n    const signature = 'valid_signature_for_offline_demo_mode';\n    \n    // Create and store the token\n    const validToken = `${headerB64}.${payloadB64}.${signature}`;\n    localStorage.setItem('coffee_system_token', validToken);\n    \n    // Add to other storages for compatibility\n    localStorage.setItem('coffee_auth_token', validToken);\n    localStorage.setItem('jwt_token', validToken);\n    localStorage.setItem('auth_token', validToken);\n    \n    console.log('Created and stored valid dummy token for offline/demo mode');\n    return validToken;\n  },\n  \n  /**\n   * Check if token has the proper subject field type (string)\n   * @returns {boolean} True if token has valid subject field\n   */\n  hasValidTokenSubject: () => {\n    const token = localStorage.getItem('coffee_system_token');\n    if (!token) return false;\n    \n    try {\n      // Extract payload\n      const parts = token.split('.');\n      if (parts.length !== 3) return false;\n      \n      const payload = JSON.parse(atob(parts[1]));\n      \n      // Check if sub exists and is a string\n      return typeof payload.sub === 'string';\n    } catch (error) {\n      console.error('Error validating token subject:', error);\n      return false;\n    }\n  },\n  \n  /**\n   * Fix token subject field if needed\n   * @returns {boolean} True if fixed or already valid\n   */\n  fixTokenSubjectIfNeeded: () => {\n    if (OfflineDataHelper.hasValidTokenSubject()) {\n      return true; // Already valid\n    }\n    \n    // Create a new valid token\n    OfflineDataHelper.createValidDummyToken();\n    return true;\n  }\n};\n\nexport default OfflineDataHelper;","// src/components/auth/LoginPage.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport AuthService from '../../services/AuthService';\nimport OfflineDataHelper from '../../utils/offlineDataHelper';\n\nconst LoginPage = ({ onLoginSuccess }) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showFallbackOption, setShowFallbackOption] = useState(false);\n  const [tokenError, setTokenError] = useState(null);\n  \n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Get the intended destination from location state or query parameters\n  // First check location state (React Router), then URL query params, then default to barista view\n  const getRedirectPath = () => {\n    // Check for location state first (set by React Router)\n    if (location.state?.from) {\n      return location.state.from;\n    }\n    \n    // Check URL query parameters\n    const params = new URLSearchParams(window.location.search);\n    const redirectPath = params.get('redirect');\n    if (redirectPath) {\n      return redirectPath;\n    }\n    \n    // Default to barista view\n    return '/barista';\n  };\n  \n  const from = getRedirectPath();\n  \n  // Check for existing token errors on mount\n  useEffect(() => {\n    const checkTokenValidity = async () => {\n      // Only run if we have a token\n      if (AuthService.getToken()) {\n        const validationResult = AuthService.validateToken();\n        \n        if (!validationResult.isValid) {\n          setTokenError(validationResult.error);\n          setShowFallbackOption(true);\n          setError(`Token error detected: ${validationResult.error}`);\n        }\n      }\n    };\n    \n    checkTokenValidity();\n  }, []);\n  \n  // Handle enabling fallback mode\n  const handleEnableFallback = () => {\n    OfflineDataHelper.enableFallbackMode();\n    navigate('/barista', { replace: true });\n  };\n  \n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    \n    try {\n      await AuthService.login(username, password);\n      \n      // Call the onLoginSuccess callback if provided\n      if (onLoginSuccess) {\n        onLoginSuccess();\n      }\n      \n      // Navigate to the intended destination\n      navigate(from, { replace: true });\n    } catch (err) {\n      console.error('Login failed:', err);\n      \n      // Check if this is a token-related error\n      const errorMessage = err.message || 'Login failed. Please check your credentials.';\n      setError(errorMessage);\n      \n      // If error message suggests token issues, show fallback option\n      if (\n        errorMessage.toLowerCase().includes('token') ||\n        errorMessage.toLowerCase().includes('signature') ||\n        errorMessage.toLowerCase().includes('authentication')\n      ) {\n        setTokenError(errorMessage);\n        setShowFallbackOption(true);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-card\">\n        <div className=\"login-header\">\n          <h2>Coffee Cue System</h2>\n          <p>ANZCA ASM 2025 Cairns</p>\n        </div>\n        \n        <div className=\"login-body\">\n          <h3>Log In</h3>\n          \n          {error && (\n            <div className=\"error-message\">\n              {error}\n              \n              {showFallbackOption && (\n                <div className=\"fallback-option\">\n                  <p>Would you like to use offline mode with sample data?</p>\n                  <button \n                    onClick={handleEnableFallback} \n                    className=\"fallback-button\"\n                  >\n                    Enable Fallback Mode\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n          \n          <form onSubmit={handleLogin}>\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">Username</label>\n              <input\n                id=\"username\"\n                type=\"text\"\n                placeholder=\"Username\"\n                autoComplete=\"username\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"Password\"\n                autoComplete=\"current-password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            \n            <div className=\"form-actions\">\n              <button\n                type=\"submit\"\n                className={`login-button ${loading ? 'loading' : ''}`}\n                disabled={loading}\n              >\n                {loading ? 'Logging in...' : 'Sign In'}\n              </button>\n              <a\n                className=\"forgot-password\"\n                href=\"#\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  alert('Please contact an administrator to reset your password.');\n                }}\n              >\n                Forgot Password?\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n      \n      {/* Add some basic styling */}\n      <style>{`\n        .login-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          min-height: 100vh;\n          background-color: #f5f5f5;\n        }\n        \n        .login-card {\n          width: 100%;\n          max-width: 400px;\n          background: white;\n          border-radius: 8px;\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n          overflow: hidden;\n        }\n        \n        .login-header {\n          background-color: #8B4513;\n          color: white;\n          padding: 20px;\n          text-align: center;\n        }\n        \n        .login-header h2 {\n          margin: 0;\n          font-size: 24px;\n        }\n        \n        .login-header p {\n          margin: 5px 0 0;\n          opacity: 0.8;\n        }\n        \n        .login-body {\n          padding: 20px;\n        }\n        \n        .login-body h3 {\n          margin-top: 0;\n          margin-bottom: 20px;\n          color: #333;\n        }\n        \n        .error-message {\n          background-color: #FEE;\n          border: 1px solid #F88;\n          color: #C00;\n          padding: 10px;\n          border-radius: 4px;\n          margin-bottom: 15px;\n        }\n        \n        .form-group {\n          margin-bottom: 15px;\n        }\n        \n        .form-group label {\n          display: block;\n          margin-bottom: 5px;\n          font-weight: bold;\n          color: #555;\n        }\n        \n        .form-group input {\n          width: 100%;\n          padding: 10px;\n          border: 1px solid #DDD;\n          border-radius: 4px;\n          font-size: 16px;\n        }\n        \n        .form-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-top: 20px;\n        }\n        \n        .login-button {\n          background-color: #8B4513;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 16px;\n          font-weight: bold;\n        }\n        \n        .login-button:hover {\n          background-color: #704214;\n        }\n        \n        .login-button.loading {\n          opacity: 0.7;\n          cursor: not-allowed;\n        }\n        \n        .forgot-password {\n          color: #8B4513;\n          text-decoration: none;\n          font-size: 14px;\n        }\n        \n        .forgot-password:hover {\n          text-decoration: underline;\n        }\n        \n        .fallback-option {\n          margin-top: 10px;\n          padding-top: 10px;\n          border-top: 1px solid #FAA;\n        }\n        \n        .fallback-button {\n          background-color: #F90;\n          color: white;\n          border: none;\n          padding: 8px 12px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          margin-top: 8px;\n          font-weight: bold;\n          width: 100%;\n        }\n        \n        .fallback-button:hover {\n          background-color: #E80;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default LoginPage;","// components/auth/AuthGuard.js\nimport React, { useEffect, useState } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport AuthService from '../../services/AuthService';\n\n/**\n * AuthGuard component that provides role-based access control\n * @param {Object} props - Component props\n * @param {Array} props.requiredRoles - Array of roles that are allowed to access the route\n * @param {React.ReactNode} props.children - Child components to render if authenticated\n * @param {string} [props.redirectPath='/login'] - Path to redirect to if not authenticated\n */\nconst AuthGuard = ({ requiredRoles = [], children, redirectPath = '/login' }) => {\n  const location = useLocation();\n  const [authState, setAuthState] = useState({\n    isChecking: true,\n    isAuthenticated: false,\n    hasRequiredRole: false,\n  });\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        // Check if authenticated and token is valid\n        const isAuthenticated = await AuthService.handleAuthentication();\n        \n        // If not authenticated, no need to check roles\n        if (!isAuthenticated) {\n          setAuthState({\n            isChecking: false,\n            isAuthenticated: false,\n            hasRequiredRole: false,\n          });\n          return;\n        }\n        \n        // Get current user\n        const currentUser = AuthService.getCurrentUser();\n        \n        // Check if user has required role (if any roles specified)\n        let hasRequiredRole = true;\n        if (requiredRoles.length > 0) {\n          hasRequiredRole = currentUser && requiredRoles.includes(currentUser.role);\n        }\n        \n        setAuthState({\n          isChecking: false,\n          isAuthenticated,\n          hasRequiredRole,\n        });\n      } catch (error) {\n        console.error('Auth check error:', error);\n        setAuthState({\n          isChecking: false,\n          isAuthenticated: false,\n          hasRequiredRole: false,\n        });\n      }\n    };\n\n    checkAuth();\n  }, [requiredRoles, location.pathname]);\n\n  // Show loading indicator while checking authentication\n  if (authState.isChecking) {\n    return <div className=\"flex justify-center items-center h-screen\">Verifying access...</div>;\n  }\n\n  // Redirect if not authenticated or doesn't have the required role\n  if (!authState.isAuthenticated) {\n    // Redirect to login with the current location\n    return <Navigate to={redirectPath} state={{ from: location.pathname }} replace />;\n  }\n\n  // If authenticated but doesn't have the required role\n  if (!authState.hasRequiredRole) {\n    // Redirect to unauthorized page (or could be dashboard with limited access)\n    return <Navigate to=\"/unauthorized\" state={{ requiredRoles }} replace />;\n  }\n\n  // If everything is OK, render the children\n  return children;\n};\n\nexport default AuthGuard;","// components/auth/UnauthorizedPage.js\nimport React from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport AuthService from '../../services/AuthService';\nimport LogoutButton from '../LogoutButton';\n\n/**\n * Unauthorized access page displayed when a user doesn't have the required role\n */\nconst UnauthorizedPage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const currentUser = AuthService.getCurrentUser();\n  \n  // Get required roles from location state, if available\n  const requiredRoles = location.state?.requiredRoles || [];\n  \n  // Handle logout\n  const handleLogout = () => {\n    AuthService.logout();\n  };\n  \n  // Handle going back\n  const handleGoBack = () => {\n    navigate(-1);\n  };\n\n  // Determine landing page based on user role\n  const getLandingPage = () => {\n    if (!currentUser) return '/';\n    \n    switch (currentUser.role) {\n      case 'admin':\n        return '/admin';\n      case 'staff':\n      case 'event_organizer':\n        return '/organiser';\n      case 'barista':\n        return '/barista';\n      case 'support':\n        return '/support';\n      default:\n        return '/';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n      <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full\">\n        <div className=\"text-center mb-6\">\n          <div className=\"bg-red-100 text-red-600 p-3 rounded-full inline-flex items-center justify-center w-16 h-16 mb-4\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n            </svg>\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Access Denied</h1>\n          <p className=\"text-gray-600 mt-2\">\n            You don't have permission to access this page.\n          </p>\n        </div>\n        \n        {requiredRoles.length > 0 && (\n          <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\n            <p className=\"text-sm text-gray-700 mb-2\">Required roles:</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {requiredRoles.map(role => (\n                <span key={role} className=\"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm\">\n                  {role}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        {currentUser && (\n          <div className=\"text-center text-gray-700 mb-6\">\n            <p>You are signed in as:</p>\n            <p className=\"font-medium\">{currentUser.username}</p>\n            <p className=\"text-sm\">Role: {currentUser.role}</p>\n          </div>\n        )}\n        \n        <div className=\"flex flex-col space-y-3\">\n          <Link \n            to={getLandingPage()} \n            className=\"bg-amber-600 text-white py-2 px-4 rounded hover:bg-amber-700 text-center\"\n          >\n            Go to Dashboard\n          </Link>\n          \n          <button \n            onClick={handleGoBack}\n            className=\"bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300\"\n          >\n            Go Back\n          </button>\n          \n          <LogoutButton \n            showIcon={true} \n            showText={true}\n            className=\"justify-center py-2 px-4 w-full\"\n            confirmLogout={false}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UnauthorizedPage;","import React from 'react';\nimport { AlertTriangle, X, RefreshCw, Coffee } from 'lucide-react';\n\n/**\n * Error Boundary Component for Graceful Degradation\n * Catches JavaScript errors and provides fallback UI with user controls\n */\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      isDismissed: false,\n      retryCount: 0\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Log the error for monitoring\n    this.logError(error, errorInfo);\n    \n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    });\n  }\n\n  logError = (error, errorInfo) => {\n    const errorData = {\n      timestamp: new Date().toISOString(),\n      component: this.props.componentName || 'Unknown Component',\n      error: {\n        message: error.message,\n        stack: error.stack,\n        name: error.name\n      },\n      errorInfo: errorInfo,\n      userAgent: navigator.userAgent,\n      url: window.location.href,\n      userId: localStorage.getItem('coffee_system_user') || 'anonymous',\n      retryCount: this.state.retryCount\n    };\n\n    // Store error for support monitoring\n    try {\n      const existingErrors = JSON.parse(localStorage.getItem('coffee_system_errors') || '[]');\n      existingErrors.push(errorData);\n      \n      // Keep only last 50 errors to prevent localStorage bloat\n      if (existingErrors.length > 50) {\n        existingErrors.splice(0, existingErrors.length - 50);\n      }\n      \n      localStorage.setItem('coffee_system_errors', JSON.stringify(existingErrors));\n      \n      // Also log to console for debugging\n      console.error('Error Boundary caught error:', errorData);\n      \n      // If available, send to backend error tracking\n      if (window.errorTrackingService) {\n        window.errorTrackingService.logError(errorData);\n      }\n    } catch (storageError) {\n      console.error('Failed to store error data:', storageError);\n    }\n  };\n\n  handleDismiss = () => {\n    this.setState({ isDismissed: true });\n  };\n\n  handleRetry = () => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      isDismissed: false,\n      retryCount: this.state.retryCount + 1\n    });\n  };\n\n  handleReload = () => {\n    window.location.reload();\n  };\n\n  render() {\n    if (this.state.hasError && !this.state.isDismissed) {\n      const { fallbackComponent: FallbackComponent, componentName } = this.props;\n      \n      return (\n        <div className=\"relative\">\n          {/* Error Notification Banner */}\n          <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-4 relative\">\n            <div className=\"flex items-start\">\n              <div className=\"flex-shrink-0\">\n                <AlertTriangle className=\"h-5 w-5 text-red-400\" />\n              </div>\n              <div className=\"ml-3 flex-1\">\n                <h3 className=\"text-sm font-medium text-red-800\">\n                  Component Error: {componentName || 'Unknown Component'}\n                </h3>\n                <div className=\"mt-2 text-sm text-red-700\">\n                  <p>\n                    Something went wrong with this part of the interface. \n                    {this.state.retryCount > 0 && ` (Retry attempt: ${this.state.retryCount})`}\n                  </p>\n                  {this.props.showErrorDetails && (\n                    <details className=\"mt-2 bg-red-100 p-2 rounded text-xs\">\n                      <summary className=\"cursor-pointer font-medium\">Technical Details</summary>\n                      <pre className=\"mt-1 whitespace-pre-wrap\">\n                        {this.state.error?.message}\n                      </pre>\n                    </details>\n                  )}\n                </div>\n                <div className=\"mt-4 flex space-x-2\">\n                  <button\n                    onClick={this.handleRetry}\n                    className=\"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center\"\n                  >\n                    <RefreshCw size={14} className=\"mr-1\" />\n                    Try Again\n                  </button>\n                  <button\n                    onClick={this.handleReload}\n                    className=\"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700\"\n                  >\n                    Reload Page\n                  </button>\n                </div>\n              </div>\n              <div className=\"ml-auto pl-3\">\n                <button\n                  onClick={this.handleDismiss}\n                  className=\"bg-red-200 rounded-md p-1.5 text-red-500 hover:bg-red-300 focus:outline-none\"\n                >\n                  <X size={16} />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Fallback Component or Basic UI */}\n          {FallbackComponent ? (\n            <FallbackComponent error={this.state.error} onRetry={this.handleRetry} />\n          ) : (\n            <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center\">\n              <Coffee size={48} className=\"mx-auto mb-4 text-amber-600\" />\n              <h3 className=\"text-lg font-medium text-amber-800 mb-2\">\n                Service Temporarily Unavailable\n              </h3>\n              <p className=\"text-amber-700 mb-4\">\n                This part of the coffee ordering system is experiencing issues. \n                Other features should still work normally.\n              </p>\n              <button\n                onClick={this.handleRetry}\n                className=\"bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700\"\n              >\n                Try Again\n              </button>\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    // If dismissed or no error, render children normally\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","import React, { useState } from 'react';\nimport { Coffee, Clock, User, AlertTriangle } from 'lucide-react';\n\n/**\n * Basic Barista Interface - Fallback for when main interface fails\n * Provides essential functionality to keep coffee service running\n */\nconst BasicBaristaInterface = ({ error, onRetry }) => {\n  const [orders, setOrders] = useState([]);\n  const [newOrder, setNewOrder] = useState({ customer: '', coffee: '', notes: '' });\n\n  const addOrder = () => {\n    if (newOrder.customer && newOrder.coffee) {\n      const order = {\n        id: Date.now(),\n        customer: newOrder.customer,\n        coffee: newOrder.coffee,\n        notes: newOrder.notes,\n        status: 'pending',\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setOrders([...orders, order]);\n      setNewOrder({ customer: '', coffee: '', notes: '' });\n    }\n  };\n\n  const completeOrder = (orderId) => {\n    setOrders(orders.filter(order => order.id !== orderId));\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\n      <div className=\"flex items-center mb-4\">\n        <AlertTriangle className=\"text-amber-500 mr-2\" size={24} />\n        <h2 className=\"text-xl font-bold text-gray-800\">Emergency Barista Mode</h2>\n        <button\n          onClick={onRetry}\n          className=\"ml-auto bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600\"\n        >\n          Try Full Interface\n        </button>\n      </div>\n      \n      <div className=\"bg-amber-50 border border-amber-200 rounded p-3 mb-6\">\n        <p className=\"text-amber-800 text-sm\">\n          The main barista interface is temporarily unavailable. \n          Use this basic interface to continue taking orders manually.\n        </p>\n      </div>\n\n      {/* Simple Order Form */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <h3 className=\"font-semibold mb-3 flex items-center\">\n            <User size={18} className=\"mr-2\" />\n            New Order\n          </h3>\n          <div className=\"space-y-3\">\n            <input\n              type=\"text\"\n              placeholder=\"Customer Name\"\n              value={newOrder.customer}\n              onChange={(e) => setNewOrder({...newOrder, customer: e.target.value})}\n              className=\"w-full p-2 border rounded\"\n            />\n            <select\n              value={newOrder.coffee}\n              onChange={(e) => setNewOrder({...newOrder, coffee: e.target.value})}\n              className=\"w-full p-2 border rounded\"\n            >\n              <option value=\"\">Select Coffee Type</option>\n              <option value=\"Espresso\">Espresso</option>\n              <option value=\"Americano\">Americano</option>\n              <option value=\"Latte\">Latte</option>\n              <option value=\"Cappuccino\">Cappuccino</option>\n              <option value=\"Flat White\">Flat White</option>\n              <option value=\"Mocha\">Mocha</option>\n            </select>\n            <input\n              type=\"text\"\n              placeholder=\"Special requests (optional)\"\n              value={newOrder.notes}\n              onChange={(e) => setNewOrder({...newOrder, notes: e.target.value})}\n              className=\"w-full p-2 border rounded\"\n            />\n            <button\n              onClick={addOrder}\n              className=\"w-full bg-green-600 text-white p-2 rounded hover:bg-green-700\"\n            >\n              Add to Queue\n            </button>\n          </div>\n        </div>\n\n        {/* Order Queue */}\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <h3 className=\"font-semibold mb-3 flex items-center\">\n            <Clock size={18} className=\"mr-2\" />\n            Order Queue ({orders.length})\n          </h3>\n          {orders.length === 0 ? (\n            <p className=\"text-gray-500 text-center py-4\">No pending orders</p>\n          ) : (\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n              {orders.map(order => (\n                <div key={order.id} className=\"bg-white p-3 rounded border\">\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-medium\">{order.customer}</h4>\n                      <p className=\"text-sm text-gray-600\">{order.coffee}</p>\n                      {order.notes && (\n                        <p className=\"text-xs text-gray-500 mt-1\">{order.notes}</p>\n                      )}\n                      <p className=\"text-xs text-gray-400 mt-1\">{order.timestamp}</p>\n                    </div>\n                    <button\n                      onClick={() => completeOrder(order.id)}\n                      className=\"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600\"\n                    >\n                      Complete\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Instructions */}\n      <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded p-4\">\n        <h4 className=\"font-medium text-blue-800 mb-2\">Emergency Mode Instructions:</h4>\n        <ul className=\"text-sm text-blue-700 space-y-1\">\n          <li> Use this interface to manually track orders</li>\n          <li> Check with support staff for system status updates</li>\n          <li> Consider backup procedures for payment processing</li>\n          <li> Click \"Try Full Interface\" periodically to check if system is restored</li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default BasicBaristaInterface;","import React, { useEffect, useState, useCallback } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LandingPage from './components/LandingPage';\nimport BaristaInterface from './components/BaristaInterface';\nimport Organiser from './components/Organiser';\nimport DisplayScreen from './components/DisplayScreen';\nimport DisplaySelector from './components/DisplaySelector';\nimport SupportInterface from './components/SupportInterface';\nimport LoginPage from './components/auth/LoginPage';\nimport AuthService from './services/AuthService';\nimport { AppProvider } from './context/AppContext';\nimport AuthGuard from './components/auth/AuthGuard';\nimport UnauthorizedPage from './components/auth/UnauthorizedPage';\nimport OfflineDataHelper from './utils/offlineDataHelper';\nimport ApiNotificationBanner from './components/ApiNotificationBanner';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport BasicBaristaInterface from './components/fallbacks/BasicBaristaInterface';\n\n// Simple API Test Component\nconst ApiTestComponent = ({ apiStatus, onFallbackToggle }) => {\n  const [testResults, setTestResults] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState(\n    apiStatus?.isConnected ? 'connected' : apiStatus?.fallbackEnabled ? 'fallback' : 'unknown'\n  );\n\n  // Test API connection\n  const testApiConnection = async () => {\n    setIsLoading(true);\n    setConnectionStatus('checking');\n    \n    try {\n      const response = await fetch('/api/test');\n      if (response.ok) {\n        const data = await response.json();\n        setTestResults(data);\n        setConnectionStatus('connected');\n      } else if (response.status === 422) {\n        // Likely a JWT signature verification failure\n        setTestResults({ \n          error: `Failed with status: ${response.status}`,\n          details: 'Token signature verification failed',\n          suggestion: 'Try enabling fallback mode or clearing your authentication token'\n        });\n        setConnectionStatus('auth_error');\n      } else {\n        setTestResults({ error: `Failed with status: ${response.status}` });\n        setConnectionStatus('disconnected');\n      }\n    } catch (error) {\n      setTestResults({ error: error.message });\n      setConnectionStatus('disconnected');\n      \n      // Enable fallback mode on connection failure if not already enabled\n      if (!apiStatus?.fallbackEnabled) {\n        const confirm = window.confirm(\n          'Connection to the API server failed. Would you like to enable fallback mode?'\n        );\n        if (confirm) {\n          onFallbackToggle();\n        }\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Test pending orders endpoint\n  const testPendingOrders = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch('/api/orders/pending');\n      if (response.ok) {\n        const data = await response.json();\n        setTestResults({ pendingOrders: data });\n      } else if (response.status === 422) {\n        // Likely a JWT signature verification failure\n        setTestResults({ \n          error: `Failed with status: ${response.status}`,\n          details: 'Token signature verification failed',\n          suggestion: 'Try enabling fallback mode or clearing your authentication token'\n        });\n      } else {\n        setTestResults({ error: `Failed with status: ${response.status}` });\n      }\n    } catch (error) {\n      setTestResults({ \n        error: error.message,\n        suggestion: 'Try enabling fallback mode to use sample data'\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">API Test Page</h1>\n      \n      <div className=\"bg-white rounded shadow-md p-4 mb-6\">\n        <h2 className=\"text-lg font-semibold mb-3\">Connection Status</h2>\n        <div className=\"flex items-center mb-4\">\n          <div \n            className={`w-3 h-3 rounded-full mr-2 ${\n              connectionStatus === 'connected' ? 'bg-green-500' : \n              connectionStatus === 'fallback' ? 'bg-amber-500' :\n              connectionStatus === 'auth_error' ? 'bg-yellow-500' :\n              connectionStatus === 'disconnected' ? 'bg-red-500' : \n              'bg-gray-500'\n            }`}\n          ></div>\n          <span>\n            {connectionStatus === 'connected' ? 'Connected to API' : \n             connectionStatus === 'fallback' ? 'Using fallback data' :\n             connectionStatus === 'auth_error' ? 'Authentication error' :\n             connectionStatus === 'disconnected' ? 'Disconnected from API' : \n             'Status unknown'}\n          </span>\n          \n          {apiStatus && (\n            <span className=\"ml-3 text-sm text-gray-600\">\n              {apiStatus.fallbackEnabled ? '(Fallback mode active)' : ''}\n            </span>\n          )}\n        </div>\n        \n        <div className=\"flex space-x-3\">\n          <button \n            onClick={testApiConnection}\n            disabled={isLoading}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {isLoading ? 'Testing...' : 'Test API Connection'}\n          </button>\n          \n          <button \n            onClick={testPendingOrders}\n            disabled={isLoading}\n            className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50\"\n          >\n            Test Pending Orders\n          </button>\n          \n          <button \n            onClick={onFallbackToggle}\n            className={`px-4 py-2 ${apiStatus?.fallbackEnabled ? 'bg-green-600 hover:bg-green-700' : 'bg-amber-600 hover:bg-amber-700'} text-white rounded`}\n          >\n            {apiStatus?.fallbackEnabled ? 'Disable Fallback Mode' : 'Enable Fallback Mode'}\n          </button>\n        </div>\n      </div>\n      \n      {testResults && (\n        <div className=\"bg-white rounded shadow-md p-4\">\n          <h2 className=\"text-lg font-semibold mb-3\">Test Results</h2>\n          {testResults.suggestion && (\n            <div className=\"bg-amber-100 text-amber-800 p-3 rounded mb-3\">\n              <p className=\"font-bold\">Suggestion:</p>\n              <p>{testResults.suggestion}</p>\n            </div>\n          )}\n          <pre className=\"bg-gray-100 p-4 rounded overflow-x-auto\">\n            {JSON.stringify(testResults, null, 2)}\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nfunction App() {\n  const [initialized, setInitialized] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isCheckingAuth, setIsCheckingAuth] = useState(true);\n  const [apiStatus, setApiStatus] = useState({\n    isConnected: true,\n    message: null,\n    fallbackEnabled: false\n  });\n\n  // Handle fallback mode enabled event\n  const handleFallbackEnabled = useCallback(() => {\n    // Prepare fallback data when switching to fallback mode\n    OfflineDataHelper.prepareOfflineData();\n    setApiStatus(prev => ({\n      ...prev,\n      isConnected: false,\n      fallbackEnabled: true,\n      message: 'Operating in offline mode with fallback data'\n    }));\n  }, []);\n  \n  // Handle fallback mode disabled event\n  const handleOffline = useCallback(() => {\n    console.log('Browser reports offline status');\n    setApiStatus(prev => ({\n      ...prev,\n      isConnected: false,\n      message: 'Network connection lost'\n    }));\n    \n    // If not already in fallback mode, ask user if they want to enable it\n    if (!OfflineDataHelper.isFallbackModeEnabled()) {\n      const confirm = window.confirm(\n        'Network connection has been lost. Would you like to enable fallback mode?'\n      );\n      if (confirm) {\n        OfflineDataHelper.enableFallbackMode();\n      }\n    }\n  }, []);\n  \n  // Handle browser going online\n  const handleOnline = useCallback(async () => {\n    console.log('Browser reports online status');\n    // Check if we can actually reach the API\n    try {\n      const response = await fetch('/api/heartbeat', { \n        method: 'GET',\n        headers: { 'Accept': 'application/json' },\n        signal: AbortSignal.timeout(5000) // Timeout after 5 seconds\n      });\n      \n      if (response.ok) {\n        setApiStatus(prev => ({\n          ...prev,\n          isConnected: true,\n          message: 'Connection to API restored'\n        }));\n      }\n    } catch (error) {\n      console.error('API check failed despite browser being online:', error);\n      // We're \"online\" according to the browser but can't reach the API\n      setApiStatus(prev => ({\n        ...prev,\n        isConnected: false,\n        message: 'Browser is online but API is unreachable'\n      }));\n    }\n  }, []);\n  \n  // Handle fallback mode disabled event\n  const handleFallbackDisabled = useCallback(() => {\n    // Any cleanup needed when leaving fallback mode\n    console.log('Fallback mode disabled, returning to online mode');\n    setApiStatus(prev => ({\n      ...prev,\n      isConnected: true,\n      fallbackEnabled: false,\n      message: 'Reconnected to online services'\n    }));\n  }, []);\n  \n  // Initialize app with fallback data if needed\n  useEffect(() => {\n    // Check for fallback mode\n    const useFallback = localStorage.getItem('use_fallback_data') === 'true';\n    \n    // Initialize app\n    if (useFallback || !AuthService.isLoggedIn()) {\n      // Prepare fallback data if needed\n      OfflineDataHelper.prepareOfflineData();\n      \n      // Update API status if in fallback mode\n      if (useFallback) {\n        setApiStatus({\n          isConnected: false,\n          fallbackEnabled: true,\n          message: 'Operating in offline mode with fallback data'\n        });\n      }\n    }\n    \n    // Check for JWT token signature issues in localStorage\n    try {\n      const token = localStorage.getItem('coffee_system_token');\n      if (token) {\n        // Simple validation of token format\n        const tokenParts = token.split('.');\n        if (tokenParts.length !== 3) {\n          console.warn('Invalid token format detected during initialization');\n          \n          // Only offer fallback if not already enabled\n          if (!useFallback) {\n            const confirm = window.confirm(\n              'Invalid authentication token detected. Would you like to enable fallback mode?'\n            );\n            \n            if (confirm) {\n              OfflineDataHelper.enableFallbackMode();\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.error('Error checking token during initialization:', e);\n    }\n    \n    // Set initialized flag\n    setInitialized(true);\n    \n    // Listen for fallback mode toggle\n    window.addEventListener('fallback_mode_enabled', handleFallbackEnabled);\n    window.addEventListener('fallback_mode_disabled', handleFallbackDisabled);\n    \n    // Listen for online/offline events\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n    \n    // FORCE PURGE HARDCODED SCHEDULE DATA ON APP START\n    // Function to purge any hardcoded schedule data\n    const purgeHardcodedData = () => {\n      console.log('Purging hardcoded schedule data on app start');\n      \n      // Clear any schedule-related data in localStorage\n      localStorage.removeItem('coffee_cue_schedule');\n      \n      // Remove any demo data that might contain hardcoded names\n      Object.keys(localStorage).forEach(key => {\n        if (key.includes('schedule') || key.includes('demo_')) {\n          localStorage.removeItem(key);\n        }\n      });\n      \n      // Set empty schedule data\n      const emptySchedule = {\n        shifts: [],\n        breaks: [],\n        rushPeriods: []\n      };\n      \n      localStorage.setItem('coffee_cue_schedule', JSON.stringify(emptySchedule));\n      \n      console.log('All schedule data reset to empty state');\n    };\n    \n    // Execute immediately\n    purgeHardcodedData();\n    \n    return () => {\n      window.removeEventListener('fallback_mode_enabled', handleFallbackEnabled);\n      window.removeEventListener('fallback_mode_disabled', handleFallbackDisabled);\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, [handleFallbackEnabled, handleFallbackDisabled, handleOnline, handleOffline]);\n\n  // Test API connection specifically for authentication\n  const testApiForAuth = useCallback(async () => {\n    if (apiStatus.fallbackEnabled) {\n      console.log('In fallback mode, skipping API test');\n      return false;\n    }\n    \n    try {\n      const response = await fetch('http://localhost:5001/api/auth/status', { \n        method: 'GET',\n        headers: { \n          'Accept': 'application/json',\n          'Authorization': `Bearer ${AuthService.getToken()}`\n        },\n        signal: AbortSignal.timeout(5000) // Timeout after 5 seconds\n      });\n      \n      // Check if we got a response to parse\n      let responseData = null;\n      try {\n        responseData = await response.json();\n      } catch (e) {\n        // Unable to parse JSON, continue with normal flow\n      }\n      \n      if (response.ok) {\n        setApiStatus(prev => ({\n          ...prev,\n          isConnected: true,\n          message: null // Clear any error messages\n        }));\n        return true;\n      } else if (response.status === 422) {\n        // Signature verification failed - token is invalid\n        console.warn('Token signature verification failed');\n        \n        // Check message from response if available\n        const errorMsg = responseData?.message || 'Invalid token signature';\n        const containsSignatureError = errorMsg.toLowerCase().includes('signature') || \n                                      errorMsg.toLowerCase().includes('invalid token');\n        \n        // If this is definitely a signature error, offer to switch to fallback mode\n        if (containsSignatureError) {\n          setApiStatus(prev => ({\n            ...prev,\n            isConnected: false,\n            message: `Authentication error: ${errorMsg}`\n          }));\n          \n          // Ask user to switch to fallback mode\n          const shouldEnableFallback = window.confirm(\n            `Authentication error: ${errorMsg}. Would you like to enable fallback mode?`\n          );\n          \n          if (shouldEnableFallback) {\n            OfflineDataHelper.enableFallbackMode();\n          }\n        } else {\n          setApiStatus(prev => ({\n            ...prev,\n            isConnected: false,\n            message: `Authentication error: ${errorMsg}`\n          }));\n        }\n        return false;\n      } else {\n        // API is reachable but returned an error\n        console.warn('API auth check failed with status:', response.status);\n        const errorMsg = responseData?.message || \n                        (response.status === 401 ? 'Authentication required' : 'API error');\n        \n        setApiStatus(prev => ({\n          ...prev,\n          isConnected: true, // We can connect, but there may be auth issues\n          message: errorMsg\n        }));\n        return false;\n      }\n    } catch (error) {\n      console.error('API auth check failed:', error);\n      setApiStatus(prev => ({\n        ...prev,\n        isConnected: false,\n        message: 'Cannot connect to API server'\n      }));\n      return false;\n    }\n  }, [apiStatus.fallbackEnabled]);\n\n  useEffect(() => {\n    // Check authentication status on app load\n    const checkAuth = async () => {\n      try {\n        // If we already have a token, check if it's still valid by testing the API\n        if (AuthService.getToken()) {\n          try {\n            // Try to validate the token format before even checking with API\n            const token = AuthService.getToken();\n            const tokenParts = token.split('.');\n            \n            // JWT tokens should have 3 parts: header, payload, signature\n            if (tokenParts.length !== 3) {\n              throw new Error('Invalid token format');\n            }\n            \n            // Verify the token payload can be decoded\n            try {\n              const payload = JSON.parse(atob(tokenParts[1]));\n              // Check for token expiration\n              if (payload.exp && payload.exp * 1000 < Date.now()) {\n                console.warn('Token is expired');\n              }\n            } catch (e) {\n              console.error('Invalid token payload', e);\n              throw new Error('Invalid token payload');\n            }\n            \n            // Token format looks good, now test API connection\n            const apiReachable = await testApiForAuth();\n            \n            // If API is unreachable and not in fallback mode, offer to enable fallback\n            if (!apiReachable && !OfflineDataHelper.isFallbackModeEnabled()) {\n              // API unreachable and not in fallback mode, offer to enable fallback\n              // Note: We may have already offered in testApiForAuth, but offer again as a fallback\n              const confirm = window.confirm(\n                'Cannot connect to the API server. Would you like to enable fallback mode?'\n              );\n              \n              if (confirm) {\n                OfflineDataHelper.enableFallbackMode();\n              }\n            }\n          } catch (tokenError) {\n            // Token format is invalid, offer fallback immediately\n            console.error('Token validation error:', tokenError);\n            \n            // Update API status to show token error\n            setApiStatus(prev => ({\n              ...prev,\n              isConnected: false,\n              message: `Authentication error: ${tokenError.message}`\n            }));\n            \n            if (!OfflineDataHelper.isFallbackModeEnabled()) {\n              const confirm = window.confirm(\n                `Authentication error: ${tokenError.message}. Would you like to enable fallback mode?`\n              );\n              \n              if (confirm) {\n                OfflineDataHelper.enableFallbackMode();\n              }\n            }\n          }\n        }\n        \n        // Continue with auth check regardless of API status\n        const authenticated = await AuthService.handleAuthentication();\n        setIsAuthenticated(authenticated);\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setIsAuthenticated(false);\n        \n        // Offer fallback mode if not already enabled\n        if (!OfflineDataHelper.isFallbackModeEnabled()) {\n          const confirm = window.confirm(\n            'Authentication failed. Would you like to enable fallback mode?'\n          );\n          \n          if (confirm) {\n            OfflineDataHelper.enableFallbackMode();\n          }\n        }\n      } finally {\n        setIsCheckingAuth(false);\n      }\n    };\n    \n    checkAuth();\n    \n    // Register event listener for storage changes (for multi-tab support)\n    const handleStorageChange = (e) => {\n      // Handle authentication token changes\n      if (e.key === 'coffee_system_token') {\n        if (!e.newValue) {\n          // Token was removed in another tab, log out here too\n          setIsAuthenticated(false);\n        } else if (!localStorage.getItem('coffee_system_token') && e.newValue) {\n          // Token was added in another tab, log in here too\n          setIsAuthenticated(true);\n        }\n      }\n      \n      // Handle fallback mode changes\n      if (e.key === 'use_fallback_data') {\n        if (e.newValue === 'true') {\n          // Fallback mode was enabled in another tab\n          setApiStatus(prev => ({\n            ...prev,\n            isConnected: false,\n            fallbackEnabled: true,\n            message: 'Fallback mode enabled in another tab'\n          }));\n        } else if (e.newValue === 'false') {\n          // Fallback mode was disabled in another tab\n          setApiStatus(prev => ({\n            ...prev,\n            isConnected: true,\n            fallbackEnabled: false,\n            message: 'Fallback mode disabled in another tab'\n          }));\n          \n          // Check API connection after brief delay\n          setTimeout(() => testApiForAuth(), 1000);\n        }\n      }\n    };\n    \n    window.addEventListener('storage', handleStorageChange);\n    \n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, [testApiForAuth]);\n\n  // Check if the current path needs redirection to login\n  useEffect(() => {\n    if (initialized && !isCheckingAuth) {\n      const currentPath = window.location.pathname;\n      // List of paths that require authentication\n      const protectedPaths = [\n        '/barista',\n        '/organiser',\n        '/admin',\n        '/support'\n      ];\n      \n      // If on a protected path and not authenticated, redirect to login\n      if (protectedPaths.includes(currentPath) && !isAuthenticated) {\n        console.log('Not authenticated, redirecting to login page');\n        window.location.href = `/login?redirect=${encodeURIComponent(currentPath)}`;\n      }\n    }\n  }, [initialized, isCheckingAuth, isAuthenticated]);\n  \n  // Show loading state while initializing or checking authentication\n  if (!initialized || isCheckingAuth) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-600\"></div>\n        <p className=\"ml-3 text-lg text-amber-800\">Loading Expresso...</p>\n      </div>\n    );\n  }\n\n  return (\n    <AppProvider>\n      <Router>\n        {/* API Status Notification Banner - Now self-detecting authentication and connection issues */}\n        <ApiNotificationBanner />\n        \n        <Routes>\n          {/* Public routes */}\n          <Route path=\"/\" element={<LandingPage />} />\n          \n          {/* Direct login route for clear access */}\n          <Route path=\"/direct-login\" element={<Navigate to=\"/login\" replace />} />\n          \n          {/* Login routes - handle both paths */}\n          <Route path=\"/login\" element={<LoginPage onLoginSuccess={() => setIsAuthenticated(true)} />} />\n          <Route path=\"/auth/login\" element={<LoginPage onLoginSuccess={() => setIsAuthenticated(true)} />} />\n          \n          {/* Display routes - publicly accessible */}\n          <Route path=\"/display\" element={<DisplayScreen />} />\n          <Route path=\"/displays\" element={<DisplaySelector />} />\n          \n          {/* Protected routes with role-based access control */}\n          <Route \n            path=\"/barista\" \n            element={\n              <AuthGuard requiredRoles={['barista', 'admin', 'staff']}>\n                <ErrorBoundary \n                  componentName=\"Barista Interface\"\n                  fallbackComponent={BasicBaristaInterface}\n                  showErrorDetails={true}\n                >\n                  <BaristaInterface />\n                </ErrorBoundary>\n              </AuthGuard>\n            } \n          />\n\n          <Route \n            path=\"/organiser\" \n            element={\n              <AuthGuard requiredRoles={['staff', 'admin', 'event_organizer']}>\n                <ErrorBoundary \n                  componentName=\"Organiser Interface\"\n                  showErrorDetails={true}\n                >\n                  <Organiser />\n                </ErrorBoundary>\n              </AuthGuard>\n            } \n          />\n\n          <Route \n            path=\"/support\" \n            element={\n              <AuthGuard requiredRoles={['support', 'admin']}>\n                <ErrorBoundary \n                  componentName=\"Support Interface\"\n                  showErrorDetails={true}\n                >\n                  <SupportInterface />\n                </ErrorBoundary>\n              </AuthGuard>\n            } \n          />\n          \n          {/* Unauthorized access page */}\n          <Route path=\"/unauthorized\" element={<UnauthorizedPage />} />\n          \n          {/* API test route */}\n          <Route path=\"/api-test\" element={\n            <ApiTestComponent \n              apiStatus={apiStatus}\n              onFallbackToggle={apiStatus.fallbackEnabled \n                ? () => OfflineDataHelper.disableFallbackMode()\n                : () => OfflineDataHelper.enableFallbackMode()\n              }\n            />} \n          />\n          \n          {/* Fallback - catch all unmatched routes */}\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </Router>\n    </AppProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);"],"names":["module","exports","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","r","t","u","v","w","x","y","z","iterator","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","assign","D","E","this","context","refs","updater","F","G","isReactComponent","setState","Error","forceUpdate","H","constructor","isPureReactComponent","I","Array","isArray","J","K","L","M","arguments","length","children","O","P","Q","replace","escape","toString","R","N","push","A","next","done","value","String","keys","join","S","T","_status","_result","then","default","U","V","transition","W","ReactCurrentDispatcher","ReactCurrentBatchConfig","X","Children","map","forEach","apply","count","toArray","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useContext","useDebugValue","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","version","pop","sortIndex","id","performance","now","unstable_now","Date","setTimeout","clearTimeout","setImmediate","callback","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","console","error","Math","floor","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","unstable_shouldYield","unstable_wrapCallback","cookieNameRegExp","cookieValueRegExp","domainValueRegExp","pathValueRegExp","__toString","NullObject","create","startIndex","str","index","max","code","charCodeAt","endIndex","min","decode","indexOf","decodeURIComponent","createRoot","hydrateRoot","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","uuid","REGEX","test","byteToHex","i","substr","arr","offset","undefined","toLowerCase","validate","TypeError","options","buf","rnds","random","stringify","storage","localStorage","storagePrefix","latency","debugMode","_initializeData","setLatency","ms","setDebugMode","enabled","resetDemoData","_clearStorage","log","get","endpoint","_simulateLatency","parts","startsWith","substring","split","_handleInventoryGet","_handleOrdersGet","_handleSettingsGet","_handleChatGet","_handleScheduleGet","post","data","_handleInventoryPost","_handleOrdersPost","_handleSettingsPost","_handleChatPost","_handleSchedulePost","success","uuidv4","put","_handleInventoryPut","_handleOrdersPut","_handleSettingsPut","patch","itemId","parseInt","_updateInventoryQuantity","amount","reason","delete","_deleteInventoryItem","getItem","inventoryItems","milk","name","unit","capacity","status","category","lastUpdated","toISOString","coffee","cups","ordersData","pending","orderNumber","customerName","coffeeType","milkType","sugar","priority","createdAt","waitTime","promisedTime","batchGroup","stationId","inProgress","phoneNumber","extraHot","startedAt","completed","completedAt","chatMessages","sender","content","isUrgent","setItem","JSON","system","displayMode","soundEnabled","autoPrintLabels","stationName","baristaName","waitTimeWarning","displayTimeout","autoSendSmsOnComplete","remindAfterDelay","reminderDelay","showNameOnDisplay","notification","orderReadyTemplate","reminderTemplate","delayTemplate","today","start","end","barista","isDemoData","breaks","rushPeriods","removeItem","Promise","resolve","_calculateStockStatus","percentage","inventoryData","parse","foundItem","item","find","categoryParam","URLSearchParams","values","flat","newItem","reduce","notes","alert_id","message","restock_id","items","updated","itemIndex","findIndex","item_id","newAmount","history","previousAmount","timestamp","changeAmount","createdBy","slice","updated_at","deleted","splice","queryString","params","filterByStation","orders","filter","order","station_id","assignedStation","assigned_station","assigned_to_station","station","barista_station","orderId","orderIndex","o","pickedUpAt","orderIds","order_ids","action","processed","updatedPending","newInProgress","includes","updatedInProgress","newCompleted","total","newOrder","settingsData","settings","newMessage","scheduleData","hiddenDemoItems","filterHiddenDemoItems","newShift","s","shift","newBreak","break","categoryMapping","syrups","sweeteners","extras","syncTimeoutId","syncInventoryToStations","eventInventory","getEventInventory","stationConfigs","getStationConfigs","getStations","syncInventoryToStation","stationConfig","stockData","stationInventoryQuantities","getStationInventoryQuantities","inventoryCategory","_eventInventory$inven","stockCategory","_stationConfig$invent","isAvailableAtStation","stockItem","convertInventoryItemToStock","saveStationStock","inventoryItem","_stationInventoryQuan","_stationInventoryQuan2","_stationInventoryQuan3","defaults","getStockDefaults","stationQuantity","quantity","actualAmount","actualCapacity","criticalThreshold","lowThreshold","description","itemName","nameUpper","toUpperCase","inventory","configs","quantities","stockKey","window","dispatchEvent","CustomEvent","detail","getStationStock","throttledSyncInventoryToStations","initializeStockServiceIntegration","addEventListener","getAvailableItemsForStation","availableItems","_eventInventory$categ","_stationConfig$catego","notifyInventoryUpdated","notifyStationConfigUpdated","forceSyncAllStations","forceSyncStation","stationQuantities","warn","clearAllStockAndResync","oldKey1","oldKey2","currentKey","AppContext","APP_MODES","PRODUCTION","DEMO","AppProvider","_ref","appMode","setAppMode","_jsx","toggleAppMode","newMode","customStations","selectedStation","location","reload","isDemoMode","isProductionMode","useAppMode","orderDataService","apiService","ApiService","cacheTimeout","cache","Map","setupWebSocketHandlers","setToken","token","updateSocketAuth","clear","event","invalidateCache","getOrders","cacheKey","cached","getFromCache","append","response","groupedOrders","pendingOrders","inProgressOrders","completedOrders","setCache","updateLocalStorageBackup","getOrdersFromLocalStorage","createOrder","orderData","sendMessage","createOrderLocally","updateOrderStatus","additionalData","order_id","updateOrderLocally","claimOrder","baristaId","barista_id","started_at","completeOrder","completed_at","getWalkInSettings","milkTypes","DEFAULT_MILK_TYPES","coffeeTypes","sizes","createWalkInOrder","source","set","prefix","stored","syncPending","queueForSync","updates","operation","queue","processSyncQueue","checkConnection","getPendingOrders","getInProgressOrders","getCompletedOrders","updateWaitTime","waitTimeData","startOrder","markOrderPickedUp","processBatch","processBatchSelection","addWalkInOrder","sendMessageToCustomer","delayOrder","minutes","getYesterdayOrders","date","getThisWeekOrders","searchOrders","searchTerm","getOrderHistory","filters","available","properties","dairyFree","lactoseFree","vegan","lowFat","getMilkTypeById","getMilkTypeByName","baseUrl","enableFallback","initialized","listeners","milkTypeMap","defaultStockItems","other","initialize","_loadLocalStockData","_normalizeMilkId","milkId","results","Set","add","from","_getStationStockKey","stationStock","InventoryIntegrationService","_saveLocalStockData","savedStock","_notifyListeners","fallbackStock","addListener","listener","removeListener","getLocalStock","getLocalCategoryStock","updateLocalStockAmount","parsedAmount","parseFloat","isNaN","getAvailableMilkTypes","availableMilkItems","zeroMilkItems","getAvailableCoffeeTypes","availableCoffeeItems","zeroCoffeeItems","getAvailableCupSizes","small","regular","large","result","availableCups","zeroCups","nameLower","entries","_","_ref2","size","addLocalStockItem","itemData","deleteLocalStockItem","resetStationStock","depleteStockForOrder","stockUpdated","shots","coffeeUsage","coffeeItem","milkTypeId","milkUsage","_getMilkUsageForSize","milkItem","cupUsage","cupSize","_getCupSizeFromOrder","cupItem","super","getInventoryItems","encodeURIComponent","_getFallbackInventory","getInventoryItem","getLowStockItems","getCategories","categories","updateItemQuantity","new_amount","change_reason","addInventoryItem","updateItemProperties","deleteInventoryItem","reportLowStock","urgency","requestRestock","requestId","aa","ca","da","ea","fa","ha","ia","document","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","ra","sa","ta","pa","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","stack","trim","match","Na","Oa","prepareStackTrace","defineProperty","Reflect","construct","displayName","Pa","tag","Qa","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","setProperty","charAt","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","Yb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","oc","clz32","pc","qc","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","isDehydrated","containerInfo","Xc","Yc","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","fromCharCode","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","selectionStart","selectionEnd","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","concat","nf","Ub","instance","of","has","pf","qf","rf","sf","capture","passive","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Jf","queueMicrotask","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","_stringRef","Mg","Ng","Og","Pg","Qg","Rg","implementation","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","effects","lh","mh","eventTime","lane","payload","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","Uh","Vh","Wh","lastRenderedReducer","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","di","lastEffect","stores","ei","fi","gi","hi","ii","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","readContext","useMutableSource","unstable_isNewReconciler","identifierPrefix","Ci","Di","Ei","_reactInternals","Fi","shouldComponentUpdate","Gi","contextType","state","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","digest","Ki","Li","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","createElementNS","autoFocus","createTextNode","Gj","Hj","Ij","Jj","Kj","WeakSet","Lj","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","pendingChildren","al","mutableSourceEagerHydrationData","bl","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","querySelectorAll","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","unstable_strictMode","findDOMNode","flushSync","hydrate","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","savedMode","currentMode","services","mockServices","realServices","newValue","registerService","realService","mockService","_updateService","getService","setMode","_updateAllServices","getMode","addModeChangeListener","removeModeChangeListener","webSocketService","socket","isConnected","eventHandlers","wsUrl","initPromise","reconnectAttempts","maxReconnectAttempts","newToken","authenticate","disconnect","_doInitialize","io","validToken","expiresAt","atob","exp","transports","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","timeout","autoConnect","forceNew","auth","extraHeaders","hasToken","setupEventHandlers","connected","waitForConnection","timer","off","onConnect","on","removeAllListeners","emit","attemptNumber","handler","send","joinRoom","room","leaveRoom","opts","connect","webSocketInitialized","trace","connectionTimeout","serviceFactory","_handleModeChange","initializeWebSocket","isTokenExpiringSoon","fiveMinutesInMs","refreshTokenIfNeeded","tokenKey","storedToken","lastRefreshAttempt","refreshToken","refreshUrl","fetch","method","headers","json","expiresIn","lastRefreshError","request","fetchWithAuth","MockDataService","tempMethod","tempBody","normalizedEndpoint","baseUrlNoTrailingSlash","endsWith","cleanEndpoint","controller","AbortController","timeoutId","abort","signal","errorDetails","e2","statusText","directFetch","apiPath","URL","pathname","directUrl","authService","addAuthorizationHeader","getToken","updatedHeaders","retryResponse","refreshError","currentToken","joinStationRoom","setupCommonEventHandlers","currentStation","disconnectSocket","loadConfig","config","apiBaseUrl","process","defaultWaitTime","notificationTimeout","savedConfig","err","saveConfig","getApiUrl","tokenRefreshService","refreshTimer","refreshThreshold","startAutoRefresh","stopAutoRefresh","expiresInMs","refreshIn","async","handleTokenExpired","userKey","refreshKey","expiryKey","authErrors","maxAuthErrors","accessToken","tokenExpiry","useFallbackData","login","username","ConfigService","errorData","expiry","setSeconds","getSeconds","userData","user","role","OrderDataService","redirectBasedOnRole","logout","currentPath","redirectParam","Event","redirectPath","getCurrentUser","userStr","isLoggedIn","isTokenExpired","bufferSeconds","currentTime","validateToken","isValid","header","alg","typ","sub","expired","incrementAuthError","handleAuthentication","currentCount","createValidDummyToken","stations","iat","permissions","btoa","enableDemoMode","disableDemoMode","refreshAccessToken","checkDCE","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","chunkId","all","promises","miniCssF","obj","prop","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","nc","onScriptComplete","prev","onerror","onload","doneFns","fn","head","toStringTag","installedChunks","j","installedChunkData","promise","reject","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","PopStateEventType","createBrowserHistory","getUrlBasedHistory","window2","globalHistory","hash","createLocation","usr","to","createPath","invariant","warning","cond","getHistoryState","idx","parsePath","path","parsedPath","hashIndex","searchIndex","getLocation","createHref2","validateLocation","v5Compat","getIndex","handlePop","nextIndex","delta","createURL","origin","href2","replaceState","listen","createHref","encodeLocation","historyState","pushState","DOMException","go","matchRoutes","routes","locationArg","matchRoutesImpl","basename","allowPartial","stripBasename","branches","flattenRoutes","sort","score","siblings","every","compareIndexes","routesMeta","childrenIndex","rankRouteBranches","matches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","caseSensitive","joinPaths","computeScore","exploded","explodeOptionalSegments","segments","first","rest","isOptional","required","restExploded","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","segment","branch","matchedParams","matchedPathname","remainingPathname","matchPath","pathnameBase","normalizePathname","pattern","matcher","compiledParams","regexpSource","paramName","RegExp","compilePath","captureGroups","memo2","splatValue","nextChar","getInvalidPathError","field","dest","getPathContributingMatches","getResolveToMatches","pathMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","toPathname","routePathnameIndex","toSegments","fromPathname","resolvePathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","internal","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","React","DataRouterStateContext","ViewTransitionContext","isTransitioning","FetchersContext","AwaitContext","NavigationContext","LocationContext","RouteContext","outlet","isDataRoute","RouteErrorContext","useInRouterContext","React2","useLocation","navigateEffectWarning","useIsomorphicLayoutEffect","static","useNavigate","router","useDataRouterContext","useCurrentRouteId","activeRef","navigate","fromRouteId","useNavigateStable","dataRouterContext","navigator2","routePathnamesJson","relative","useNavigateUnstable","useResolvedPath","useRoutesImpl","dataRouterState","future","isStatic","parentMatches","routeMatch","parentParams","parentPathname","parentPathnameBase","parentRoute","warningOnce","locationFromContext","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","navigationType","DefaultErrorComponent","useRouteError","lightgrey","preStyles","padding","backgroundColor","codeStyles","devInfo","fontStyle","defaultErrorElement","RenderErrorBoundary","revalidation","errorInfo","routeContext","component","RenderedRoute","_ref8","staticContext","errorElement","ErrorBoundary","_deepestRenderedBoundaryId","errors","errorIndex","renderFallback","fallbackIndex","HydrateFallback","hydrateFallbackElement","loaderData","errors2","needsToRunLoader","loader","reduceRight","shouldRenderHydrateFallback","matches2","getChildren","getDataRouterConsoleError","hookName","ctx","useDataRouterState","useRouteContext","thisRoute","routeId","alreadyWarned","React3","_ref11","Navigate","_ref13","replace2","jsonPath","Route","_props","Router","_ref14","basenameProp","locationProp","staticProp","navigationContext","locationContext","trailingPathname","Routes","_ref15","createRoutesFromChildren","treePath","hasErrorBoundary","shouldRevalidate","handle","defaultMethod","defaultEncType","isHtmlElement","object","createSearchParams","init","_formDataSupportsSubmitter","supportedFormEncTypes","getFormEncType","encType","getFormSubmissionInfo","formData","attr","FormData","isButtonElement","isInputElement","isFormDataSubmitterSupported","invariant2","loadRouteModule","routeModulesCache","routeModule","import","__reactRouterContext","isSpaMode","isPageLinkDescriptor","page","isHtmlLinkDescriptor","rel","imageSrcSet","imageSizes","getNewMatchesForLinks","nextMatches","currentMatches","manifest","isNew","matchPathChanged","manifestRoute","hasLoader","routeChoice","currentUrl","currentParams","nextUrl","nextParams","defaultShouldRevalidate","getModuleLinkHrefs","includeHydrateFallback","hrefs","clientActionModule","clientLoaderModule","hydrateFallbackModule","imports","dedupeLinkDescriptors","descriptors","preloads","preloadsSet","deduped","descriptor","as","sorted","sortKeys","createHtml","html","singleFetchUrl","reqUrl","React5","RemixRootDefaultErrorBoundary","_ref19","isOutsideRemixApp","errorInstance","heyDeveloper","BoundaryShell","title","fontSize","errorString","background","_ref20","renderScripts","routeModules","useFrameworkContext","root","Layout","lang","charSet","fontFamily","Scripts","isFogOfWarEnabled","ssr","useDataRouterContext2","React9","useDataRouterStateContext","FrameworkContext","composeEventHandlers","theirHandler","ourHandler","getActiveMatches","isHydrated","errorIdx","PrefetchPageLinks","_ref25","dataLinkProps","PrefetchPageLinksImpl","useKeyedPrefetchLinks","keyedPrefetchLinks","setKeyedPrefetchLinks","interrupted","mod","links","getKeyedPrefetchLinks","_ref26","linkProps","newMatchesForData","newMatchesForAssets","dataHrefs","routesParams","foundOptOutRoute","m2","hasClientLoader","searchParams","moduleHrefs","_ref27","serverHandoffString","renderMeta","routerMatches","enableFogOfWar","didRenderScripts","initialScripts","contextScript","routeModulesScript","hmr","routeIndex","routeVarName","manifestEntry","chunks","varName","chunk","routeIds","Boolean","initialRoutes","acc","getPartialManifest","entry","crossOrigin","array","mergeRefs","_len3","_key3","isBrowser","__reactRouterVersion","BrowserRouter","_ref28","historyRef","React10","setStateImpl","newState","ABSOLUTE_URL_REGEX2","Link","_ref31","forwardedRef","absoluteHref","discover","prefetch","reloadDocument","preventScrollReset","viewTransition","isAbsolute","isExternal","targetUrl","protocol","joinedPathname","useHref","shouldPrefetch","prefetchRef","prefetchHandlers","theirElementProps","frameworkContext","maybePrefetch","setMaybePrefetch","setShouldPrefetch","onFocus","onBlur","onMouseEnter","onMouseLeave","onTouchStart","observer","IntersectionObserver","isIntersecting","threshold","observe","setIntent","cancelIntent","usePrefetchBehavior","internalOnClick","replaceProp","isModifiedEvent","shouldProcessLinkClick","useLinkClickHandler","_ref32","ariaCurrentProp","className","classNameProp","styleProp","routerState","vtContext","useDataRouterContext3","currentLocation","nextPath","nextLocation","useViewTransitionState","nextLocationPathname","navigation","endSlashPosition","isActive","isPending","renderProps","ariaCurrent","Form","_ref33","fetcherKey","onSubmit","submit","useSubmit","formAction","indexValues","getAll","qs","useFormAction","formMethod","submitter","submitMethod","getDataRouterConsoleError2","useSearchParams","defaultInit","defaultSearchParamsRef","hasSetSearchParamsRef","locationSearch","defaultSearchParams","getSearchParamsForLocation","setSearchParams","nextInit","navigateOptions","newSearchParams","fetcherId","getUniqueFetcherId","currentRouteId","formEncType","TextEncoder","defaultAttributes","xmlns","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","createLucideIcon$1","createLucideIcon","iconName","iconNode","absoluteStrokeWidth","Number","string","attrs","LogIn","points","x1","x2","y1","y2","User","cx","cy","Coffee","Settings","Monitor","rx","LogOut","showIcon","showText","confirmLogout","_jsxs","handleLogout","confirm","AuthService","defaultBranding","companyName","systemName","shortName","tagline","landingTitle","landingSubtitle","adminPanelTitle","baristaPanelTitle","footerText","primaryColor","primaryColorHover","accentColor","logo","favicon","showPoweredBy","poweredByText","supportEmail","supportPhone","customCSS","storedBranding","getStoredBranding","brandingConfig","LandingPage","_AuthService$getCurre","_AuthService$getCurre2","isAuthenticated","setIsAuthenticated","isAuth","checkAuth","LogoutButton","goToLogin","goToOrganiser","goToBarista","goToSupportInterface","goToDisplayScreen","CheckCircle","PenSquare","MessageCircle","Printer","ArrowLeft","ChevronDown","RefreshCw","Package","Calendar","ry","Check","Brain","Scale","Users","XCircle","Clock","Plus","getTimeRatioColor","ratio","calculateWaitTime","queueCount","baseWaitTime","stationStats","stationCapabilities","avgPrepTime","high_volume","getOrderBackgroundColor","milk_type","milkTypeName","milkTypeObj","milkColor","getMilkColor","milkColors","milkTypeKeys","alternativeMilk","allergyWarning","calculateMinutesDiff","date1","date2","useOrders","setPendingOrders","setInProgressOrders","setCompletedOrders","previousOrders","setPreviousOrders","historyOrders","setHistoryOrders","yesterdayOrders","setYesterdayOrders","thisWeekOrders","setThisWeekOrders","searchResults","setSearchResults","currentStationId","setCurrentStationId","ordersCache","serializedCache","sessionStorage","newStationCacheKey","cachedData","_parsedCache$pendingO","_parsedCache$inProgre","_parsedCache$complete","parsedCache","loading","setLoading","setError","online","setOnline","setQueueCount","setLastUpdated","isRefreshing","setIsRefreshing","autoRefreshEnabled","setAutoRefreshEnabled","autoRefreshInterval","setAutoRefreshInterval","savedInterval","defaultInterval","setStationStats","prepTimes","totalCompleted","lastCalculated","fetchOrdersData","showLoading","fallbackPendingOrders","fallbackInProgressOrders","fallbackCompletedOrders","fallbackError","connectionCheckKey","timeSinceLastCheck","newOnlineStatus","_tempOnlineStatus","cachedOrdersKey","cachedOrders","cachedOrdersStr","normalizedCurrentStationId","orderStationIds","hasStationMatch","orderCreatedAtThisStation","isWalkIn","filteredPending","filteredInProgress","filteredCompleted","currentPendingIds","newOrders","localPendingOrders","localOrdersKey","localOrders","existingIds","uniqueLocalOrders","_tempPendingOrders","_tempInProgressOrders","readyOrders","pickedUpOrders","_tempCompletedOrders","_tempPreviousOrders","newQueueCount","queueCountChanged","_tempQueueCount","dynamicWaitTime","newLastUpdated","_tempLastUpdated","_tempError","batchedUpdates","onlineStatus","cleanupTempVars","updateStates","requestAnimationFrame","updateStationId","newStationId","prevStats","toFixed","initialLoadRef","ordersKey","backupKey","backupData","parseError","sessionData","loadCachedData","interval","safeInterval","setInterval","handleRefreshEvent","handleVisibilityChange","visibilityState","clearInterval","waitTimeIntervalRef","updateWaitTimes","prevOrders","refreshData","lastRefreshTime","timeSinceLastRefresh","savedStationId","toggleAutoRefresh","updateAutoRefreshInterval","seconds","prevInterval","fetchYesterdayOrders","fetchThisWeekOrders","isLocalOrder","updatedLocalOrders","updatedOrder","cacheData","errorMessage","orderToComplete","prepTimeMinutes","completionTime","newPrepTimes","recentPrepTimes","newAvgPrepTime","sum","_orderToComplete$coff","_orderToComplete$milk","_orderToComplete$suga","StockService","milkAmount","coffeeSize","coffeeAmount","coffeeId","cupId","sugarText","sugarAmount","sugarItem","stockError","completedOrder","prepTime","_ordersCache$inProgre","soundError","_ordersCache$inProgre2","orderToPickUp","pickedUpOrder","batchOrders","updatedBatchOrders","selectedOrderIds","ordersToProcess","updatedOrders","orderDetails","orderWithStation","persistentId","clientOrder","customer_name","phone_number","coffee_type","milk_type_id","extra_hot","is_walk_in","collectionStation","collection_station","alternative_milk","dairy_free","existingOrders","serverErr","calculateDynamicWaitTime","getBatchGroups","groups","clearError","batchGroups","vipOrders","regularOrders","StationsService","requestOptions","textResponse","pingResponse","pingError","stackTrace","lastFetchTime","MIN_FETCH_INTERVAL","pendingRequest","fetchInProgress","checkInterval","savedStations","parsedStations","_fetchStationsData","finally","directError","customName","equipment_notes","barista_name","currentLoad","current_load","last_updated","cacheError","defaultStations","getStation","updateStationStatus","createStation","stationData","apiData","equipment_status","updateStation","apiUpdates","updatedStations","transformedStation","fetchError","_localOnly","localStorageError","updateStationCapabilities","capabilities","updateStationSession","delay_minutes","session_mode","session_delay_minutes","deleteStation","apiError","getStationStats","useStations","setStations","setSelectedStation","initialRender","loadStations","forceRefresh","savedSelectedStation","fetchedStations","enhancedStations","lastUsedStationId","stationToSelect","lastUsedId","parsedId","savedSelectedId","activeStation","updatedStation","newStations","newStation","ordersToday","avgWaitTime","peakHour","prevStations","changeSelectedStation","getCurrentStation","pollInterval","currentStations","useStock","stockItems","setStockItems","setInitialized","loadStockData","updatedStock","getCategoryStock","updateStockItem","addStockItem","deleteStockItem","resetStock","getLowStockCount","lowCount","criticalCount","stockCategories","_purgeHardcodedData","oldFormatKey","scheduleKey","existingData","parsed","validatedData","staff_name","staff_contact","staff_training_level","getTodaySchedule","savedSchedules","allSchedules","todaySchedules","schedule","schedules","shift_date","localSchedule","shiftDate","matchesDate","processedSchedules","day_name","toLocaleDateString","weekday","day_of_week","getDay","current_time","toLocaleTimeString","getScheduleByDate","dateSchedules","dayDate","dayName","getBaristaSchedule","shifts","addShift","shiftData","enhancedResponse","storageError","updateShift","shiftId","shiftIndex","updatedShift","removeShift","filteredSchedule","addBreak","breakData","updateBreak","breakId","removeBreak","addRushPeriod","rushData","milkName","getDefaultMilkColor","defaultColor","generateColorFromName","getMilkColorStyle","borderLeftColor","borderLeftWidth","borderLeftStyle","getMilkDotStyle","borderRadius","marginRight","border","createOrderTrackingSMS","messageTemplate","smsText","qrCodeUrl","trackingLink","trackingParams","generateOrderTrackingLink","errorCorrection","margin","orderTrackingUrl","generateOrderQRCode","messageHistory","maxHistoryLength","displayDuration","includeQrCode","includeTrackingLink","useShortUrls","loadSettings","loadHistory","savedSettings","saveSettings","updateSettings","newSettings","messageText","usedDirectFetch","cleanId","requestBody","_result2","addToHistory","messageId","message_sid","sentVia","persistHistory","savedHistory","getHistory","getAllHistory","clearHistory","clearAllHistory","sendReadyNotification","_result3","_result4","isSuccess","sendReminderNotification","waitMinutes","showOnDisplay","displayEvent","getSMSTemplates","templates","broadcastToStations","messageData","broadcastEvent","broadcasts","wsError","messages","pollingInterval","pollingDelay","_setupLocalMessageSharing","sharedMessages","newMessages","processedNewMessages","original_station_id","original_station_name","station_name","notifyListeners","savedMessages","originalStationId","startPolling","loadMessages","stopPolling","parsedMessages","referenceMessage","is_urgent","created_at","deleteMessage","stationsJson","getStationMessages","filteredMessages","cleanup","resetMessages","AlertCircle","Send","onClose","setMessage","setMessageHistory","sending","setSending","MessageService","quickMessages","label","formatTime","hour","minute","getStatusIcon","msg","updatedHistory","onChange","rows","placeholder","template","currentWaitTime","setWaitTime","AlertTriangle","Search","Star","settingsCache","cacheTime","cacheLifetime","lastJwtError","jwtErrorDebounce","_setDefaultSettings","getBrandingSettings","customBranding","clientName","secondaryColor","textColor","defaultLanguage","availableLanguages","updateBrandingSettings","credentials","batchSuggestions","displaySettings","eventName","organizationName","headerColor","customMessage","smsNumber","showSponsor","sponsorName","sponsorMessage","stationSettings","baristaSettings","getSettings","timeSinceLastJwtError","round","localStorageSettings","loadSettingsFromLocalStorage","mergedSettings","deepMergeSettings","updateSetting","saveSettingToLocalStorage","existingSettings","apiSettings","merged","localValue","apiValue","updatedSettings","resetSettings","getSetting","availableMilks","setAvailableMilks","availableCoffeeTypes","setAvailableCoffeeTypes","availableSizes","setAvailableSizes","stationInventory","setStationInventory","loadingInventory","setLoadingInventory","inventoryError","setInventoryError","coffeeInventoryWarning","setCoffeeInventoryWarning","setOrderDetails","groupCodeInput","setGroupCodeInput","groupOrder","setGroupOrder","isLookingUp","setIsLookingUp","targetStation","SettingsService","stationMilkTypes","inStockMilkItems","allMilkItems","baseId","prefixedId","matchingMilk","inventoryAmount","inventoryUnit","isAlternative","newMilkType","filteredMilkTypes","excludedMilkTypes","defaultMilk","savedMenu","globalMenuEnabled","menuItems","drink","stationAvailability","decafName","hasCoffeeBeans","cup","availableCupSizes","loadStationInventory","updatedDetails","hasChanges","handleChange","notesLower","keyword","lookupGroupCode","savedGroupsData","savedGroups","foundGroup","group","groupCode","groupNotesLower","hasVipKeyword","groupName","alert","_Fragment","handleSubmitGroup","_selectedMilk$propert","selectedMilk","isPriority","shotsText","Save","onMessageRead","currentStationName","onBaristaNameChange","selectedStationId","setSelectedStationId","showStationSelector","setShowStationSelector","setMessages","setNewMessage","messageType","setMessageType","messagesEndRef","isEditingName","setIsEditingName","editedBaristaName","setEditedBaristaName","getCurrentStationName","stationObj","numericStationId","ChatService","updatedMessages","scrollIntoView","behavior","getTimeSince","handleSaveBaristaName","handleRefresh","onKeyDown","Edit","_stations$find","onSendMessage","onUpdateSettings","setSettings","showSettings","setShowSettings","NotificationSettings","htmlFor","step","renderSettingsButton","completeWithNotification","useSettings","fetchedSettings","apiErr","defaultsFromService","resetResult","onStartOrder","onDelayOrder","onEditOrder","milkColorStyle","onProcessBatch","formatBatchName","batchName","word","classApplied","onFilterChange","vip","VipOrdersList","BatchGroupsList","RegularOrdersList","getFilteredOrders","Zap","BarChart3","ArrowRight","QueueIntelligence","stationsLoading","routingRules","setRoutingRules","loadRoutingRules","saved","prioritizeEfficiency","balanceWorkload","considerCapabilities","emergencyMode","routingMetrics","setRoutingMetrics","routingEfficiency","workloadBalance","totalOrdersRouted","_station$capabilities","_station$capabilities2","_station$capabilities3","stationInProgress","milkOptions","specialFeatures","special","capabilityScore","maxCapacity","workloadPercentage","avgOrderTime","ordersPerHour","estimatedWaitTime","efficiency","calculateStationStats","findBestStation","_scores$","scores","canMakeCoffee","_order$coffeeType","canProvideMilk","_order$milkType","reasoning","canMake","workload","routingSuggestions","suggestion","suggested","generateRoutingSuggestions","totalOrders","avgWait","workloadVariance","sqrt","pow","getStatusColor","ArrowRightLeft","StationLoadBalancer","_workloadData$station2","initialSettings","loadBalancingSettings","balancingActive","balancingRules","autoBalance","balanceThreshold","maxTransfers","setBalancingActive","setBalancingRules","transferSuggestions","setTransferSuggestions","balancingMetrics","setBalancingMetrics","transfersToday","efficiencyGain","workloadData","variance","needsBalancing","stationWorkloads","stationOrders","avgWorkload","calculateWorkloadBalance","transferSuggestionsData","overloadedStations","availableStations","suggestions","overloadedStation","bestDestination","waitTimeReduction","fromStation","toStation","generateTransferSuggestions","executeTransfer","_workloadData$station","DynamicStaffAllocation","_ordersData$pending","_ordersData$inProgres","_ordersData$completed","loadSavedSettings","timeframe","showAdvanced","performanceMetrics","setPerformanceMetrics","allocationSuggestions","setAllocationSuggestions","setTimeframe","setShowAdvanced","settingsToSave","calculatePerformanceMetrics","metrics","hoursBack","cutoffTime","_ordersData$cancelled","totalRevenue","completionTimes","avgCompletionTime","efficiencyScore","complexity","special_instructions","errorOrders","cancelled","errorRate","currentWorkload","current_barista","lastOrderTime","getTime","generateAllocationSuggestions","stationMetrics","underutilizedStations","overloaded","bestTarget","under","overloadedCaps","underCaps","cap","impact","timeSinceLastOrder","totalCurrentWorkload","activeStations","topPerformers","getPriorityColor","performer","newStatus","handleStationStatusChange","TrendingDown","Truck","MultiLevelInventory","_inventoryData$predic","_inventoryData$predic2","_selectedStation$inve","_selectedStation$inve2","_selectedStation$inve3","_selectedStation$inve4","_inventoryData$predic3","_inventoryData$predic4","_inventoryData$predic5","_inventoryData$predic6","_inventoryData$predic7","_inventoryData$predic8","selectedView","setSelectedView","setInventoryData","eventLevel","stationLevel","predictions","alerts","isLoading","setIsLoading","autoRestockSettings","setAutoRestockSettings","orderLeadTime","loadInventoryData","eventResponse","eventData","stationPromises","res","stationInventories","generatePredictions","generateAlerts","milkConsumption","coffeeConsumption","stockoutRisk","reorderSuggestions","totalStock","_station$inventory","_station$inventory$mi","currentStock","predictedConsumption","avgConsumptionRate","remainingStock","riskLevel","hoursUntilStockout","_station$inventory2","_station$inventory2$c","risk","suggestedAmount","_station$inventory3","_station$inventory3$m","itemType","milkDistribution","_station$inventory4","_station$inventory4$m","distribution","amounts","richStation","poorStation","suggestedTransfer","totals","_station$inventory5","_station$inventory5$m","_station$inventory6","_station$inventory6$c","_station$inventory7","_station$inventory7$c","getAlertIcon","handleRedistribute","handleEmergencyRestock","_ref3","ChevronUp","Award","EnhancedStationCapabilities","baristaProfiles","skillRoutingEnabled","setBaristaProfiles","expandedStation","setExpandedStation","setSkillRoutingEnabled","skillLevels","novice","borderColor","allowedDrinks","maxConcurrentOrders","complexityLimit","supportMode","experienced","expert","customSkills","specialist","specializations","loadBaristaProfiles","profiles","savedProfiles","defaultProfiles","skillLevel","statistics","customerRating","updateBaristaProfile","updatedProfiles","calculateStationEfficiency","level","_barista$statistics","_barista$statistics2","_barista$statistics3","_barista$statistics4","_skillLevels$barista$","_skillLevels$barista$2","skillConfig","recommendedOrders","skill","_barista$specializati","_barista$specializati2","customizations","specialInstructions","drinkType","getRecommendedOrders","isExpanded","toggleStationExpanded","_baristaProfiles$bari","barista_skill_level","assignBaristaToStation","standard_coffee","spec","auto_accept_orders","training_mode","BaristaInterface","_stations$find8","refreshStations","scheduleLoading","scheduleError","setStation","setScheduleStation","refreshScheduleData","emptyScheduleData","setScheduleData","setStationId","loadSchedule","scheduleResponse","ScheduleService","formattedScheduleData","updateShiftStatus","updatedShifts","shiftToRemove","breakToRemove","breakItem","newRushPeriod","rushPeriodData","getCurrentBarista","useSchedule","activeTab","setActiveTabState","loadActiveTab","setActiveTab","tab","dismissedPanels","setDismissedPanels","stockInfoPanel","scheduleInfoPanel","historyInfoPanel","displayInfoPanel","dismissPanel","panelId","restoreAllPanels","resetState","setSuccessMessage","historyTab","setHistoryTab","selectedOrderId","setSelectedOrderId","setSearchTerm","batchModeActive","setBatchModeActive","selectedOrders","setSelectedOrders","chatOpen","setChatOpen","unreadMessages","setUnreadMessages","setFilter","lastSyncedStation","stationBaristaName","getStationBaristaName","stationLocation","showWaitTimeDialog","setShowWaitTimeDialog","showWalkInDialog","setShowWalkInDialog","showMessageDialog","setShowMessageDialog","currentMessageOrder","setCurrentMessageOrder","showHelpDialog","setShowHelpDialog","messageStatus","setMessageStatus","successMessage","showDisplayScreen","setShowDisplayScreen","stockLoading","selectedStockCategory","setSelectedStockCategory","setSettingsState","_stations$find4","_stations$find5","_stations$find2","_stations$find3","soundNewOrder","soundOrderComplete","soundOrderPickedUp","soundLowStock","soundVolume","demoMode","notificationHandler","OrderNotificationHandler","handleSendMessage","urlParams","newUrl","handleOpenMessageDialog","openDisplayScreen","open","renderInProgressOrder","_messageStatus$order$","hasSentMessage","stationInfo","notificationSuccess","notificationError","error1","smsResult","orderServiceResult","error2","directResult","error3","_notificationError","handleCompleteOrder","renderCompletedOrder","_messageStatus$order$2","minutesWaiting","handleSendReminder","renderPreviousOrder","StockItem","isEditingCapacity","setIsEditingCapacity","tempCapacity","setTempCapacity","showNumericInput","setShowNumericInput","numericAmount","setNumericAmount","itemObj","itemCategory","getChangeAmount","applyNumericInput","handleCapacityChange","lowThresholdPercent","criticalThresholdPercent","updatedItem","transform","renderScheduleItem","getStatusClass","DismissibleInfoPanel","extraContent","bgColor","isDismissed","onDismiss","localSettings","setLocalSettings","back","_stations$find6","customStationName","PendingOrdersSection","newNotes","prompt","selection","formattedItem","start_time","end_time","newBaristaName","newSoundEnabled","coffeeSounds","play","audio","Audio","volume","testSounds","sound","_stations$find7","toLocaleString","WaitTimeDialog","newWaitTime","waitTimeValue","WalkInOrderDialog","orderType","submitGroupOrder","targetStationId","orderedAtStation","collectionMsg","MessageDialog","StationChat","TrendingUp","Download","Activity","Target","DollarSign","AnalyticsDashboard","timeRange","setTimeRange","selectedMetric","setSelectedMetric","refreshing","setRefreshing","setMetrics","completionRate","customerSatisfaction","revenue","popularItems","peakTimes","stationPerformance","filteredOrders","orderDate","toDateString","hoursSpan","getHours","waitTimes","itemCounts","hourCounts","_ref4","_ref5","_ref6","completedStationOrders","avgProcessTime","average_wait_time","Palette","Eye","Globe","Upload","RotateCcw","BrandingSettings","clientLogo","translations","en","welcomeMessage","orderConfirmation","readyNotification","stationChat","es","previewMode","setPreviewMode","saving","setSaving","setSuccess","brandingSettings","prevSettings","updateTranslation","coffeeCue","corporate","warm","modern","theme","applyTheme","addLanguage","langCode","_settings$translation","exportSettings","dataStr","dataUri","exportFileDefaultName","linkElement","click","accept","file","files","reader","FileReader","imported","readAsText","newBranding","updateBranding","Copy","PlusCircle","Trash2","FileText","onSubmitGroupOrders","setGroupName","setGroupCode","setNotes","individualOrders","setIndividualOrders","setNewOrder","setSavedGroups","showSavedGroups","setShowSavedGroups","codeCopied","setCodeCopied","namePrefix","randomDigits","copyGroupCode","clipboard","writeText","handleSubmitGroupToBarista","groupId","updatedGroups","handleDeleteGroup","_DEFAULT_MILK_TYPES$f2","readOnly","handleAddIndividualOrder","_DEFAULT_MILK_TYPES$f","handleRemoveOrder","handleCreateGroup","LineChart","Radio","Shield","MessageSquare","Bell","Filter","AllOrdersTab","setOrders","previous","stationFilter","setStationFilter","stats","setStats","pendingCount","inProgressCount","completedCount","busiestStation","loadAllOrders","allOrders","calculateStats","_Object$entries$sort$","completedWithTime","stationCounts","filterOrders","ordersList","_order$customerName","_order$phoneNumber","_order$id","searchLower","renderOrderCard","statusIcons","filteredData","UserPlus","EyeOff","Pen","UserManagementTab","users","setUsers","showAddUser","setShowAddUser","editingUser","setEditingUser","filterRole","setFilterRole","expandedUser","setExpandedUser","showPassword","setShowPassword","userForm","setUserForm","confirmPassword","fullName","phone","experience","skills","espresso","latte_art","customer_service","inventory_management","speed","training_others","availability","monday","tuesday","wednesday","thursday","friday","saturday","sunday","preferredStation","certifications","active","loadUsers","savedUsers","defaultUsers","rating","saveUsers","updatedUsers","resetForm","filteredUsers","matchesSearch","matchesRole","getExperienceColor","getRoleBadgeColor","new","handleUpdateUser","updatedAt","handleAddUser","newUser","startEdit","Edit2","handleDeleteUser","userId","day","Wifi","WifiOff","BarChart2","Play","Pause","ChevronRight","EnhancedLiveOperationsDashboard","ordersOnline","refreshOrders","criticalAlerts","setCriticalAlerts","isPaused","setIsPaused","showEmergencyDialog","setShowEmergencyDialog","emergencyMessage","setEmergencyMessage","recentActivities","setRecentActivities","displayView","setDisplayView","systemMetrics","loadPercentage","peakTime","totalCapacity","max_concurrent_orders","recentCompleted","queuedOrders","preferred_station","totalLoad","severity","longWaitOrders","criticalWaitOrders","_s$low_stock_items","low_stock_items","_station$critical_sto","_station$low_stock_it","critical_stock_items","severityOrder","critical","info","addActivity","getStationCardStyle","loadRatio","overload","wait","stock","actionHandler","_station$capabilities4","activity","QueuePsychologyIntelligence","selectedCustomer","setSelectedCustomer","showAlternativeDialog","setShowAlternativeDialog","communicationMode","setCommunicationMode","batchOptimization","setBatchOptimization","selectedAlternative","setSelectedAlternative","findBatchOpportunities","opportunities","milkGroups","timeSaved","coffeeGroups","queueInsights","averageWait","longestWait","queueVelocity","predictedClearTime","customerTypes","batchOpportunities","first_time","firstTime","returning","returning_customer","satisfactionMetrics","overall","waitTimeScore","accuracyScore","communicationScore","actual_wait_time","batch","alternative","alternatives","estimatedWait","currentWait","newWait","incentive","findAlternativeRouting","precise","alternativePrompt","friendly","gamified","position","generateWaitMessage","Sun","Moon","EventLifecycleManagement","_phaseConfigurations$","_phaseConfigurations$2","_phaseConfigurations$3","_phaseConfigurations$4","_phaseConfigurations$5","_phaseConfigurations$6","EVENT_PHASES","currentPhase","setCurrentPhase","phaseHistory","setPhaseHistory","automatedPhaseTransition","setAutomatedPhaseTransition","phaseOverrides","setPhaseOverrides","selectedPhaseConfig","setSelectedPhaseConfig","phaseConfigurations","icon","characteristics","orderVolume","staffRequired","menuAvailability","automations","preHeatMachines","stockCheck","systemTest","staffBriefing","recommendations","menuRestrictions","availableDrinks","preparationMode","maxComplexity","optimizations","batchProcessing","priorityRouting","dynamicStaffing","stockPreloading","waitTimeThreshold","queueLengthThreshold","stockLevelThreshold","stockReplenishment","staffRotation","equipmentCleaning","customerEngagement","strategies","consolidateStations","reducedMenu","staffLunch","prepForAfternoon","specialConsiderations","icedDrinkDemand","decafRequests","socialOrders","endOfDayTasks","lastCallAnnouncement","stockDepletion","equipmentWindDown","orderCutoff","calculatePhaseEfficiency","phase","_config$alerts","_config$alerts2","expectedStations","abs","calculateStaffUtilization","eventMetrics","eventStart","setHours","hoursElapsed","currentConfig","phaseEfficiency","staffUtilization","recommendedActions","detectPhase","getMinutes","detectedPhase","handlePhaseTransition","newPhase","automatic","applyPhaseConfigurations","_config$optimizations","batchProcessingEnabled","high_performance_mode","getPhaseProgress","startHour","startMin","endHour","endMin","endTime","elapsed","isPast","_phaseConfigurations$7","_phaseConfigurations$8","Smartphone","Mail","Phone","EnhancedCommunicationHub","ordersLoading","ordersError","ordersType","ordersIsArray","ordersKeys","activeChannel","setActiveChannel","setTemplates","setBroadcasts","filterStatus","setFilterStatus","selectedConversation","setSelectedConversation","showBroadcastModal","setShowBroadcastModal","messageEndRef","channels","loadTemplates","loadBroadcasts","allMessages","ordersArray","_ordersArray","msgs","_o$id","channel","recipient","order_number","variables","usage","audience","scheduled","recipients","customerType","sentAt","_messageEndRef$curren","matchesStatus","matchesChannel","finalMessage","getChannelColor","channelId","conversations","grouped","lastMessage","lastTimestamp","unreadCount","conv","onKeyPress","_order$items","_order$items$","applyTemplate","broadcast","PredictiveIntelligence","setPredictions","demandForecast","bottlenecks","stockAlerts","staffingNeeds","customerSurge","resilience","setResilience","activeProtocols","healthScore","selectedTimeframe","setSelectedTimeframe","autoAdjust","setAutoAdjust","runPredictions","predictDemand","detectBottlenecks","predictStockDepletion","predictStaffingNeeds","detectCustomerSurge","updateResilienceStatus","hourlyOrders","currentHour","forecast","historicalAvg","predicted","dayOfWeek","confidence","trend","utilization","metric","recommendation","automatable","milkTypeCounts","current_stock","min_stock","burnRate","calculateBurnRate","hoursUntilDepletion","timeToDepletion","needs","period","requiredStaff","currentStaff","is_active","gap","orderVelocity","averageVelocity","detected","velocity","increase","duration","criticalIssues","getSeverityColor","bottleneck","need","automation","DEFAULT_MILK_COLORS","MilkColorSettings","setMilkColors","inventoryMilks","setInventoryMilks","isSaving","setIsSaving","loadData","milkItems","savedColors","colorMapping","generateColor","handleInventoryUpdate","handleColorChange","newColor","getMilkCategory","renderMilkColorsList","standardMilks","alternativeMilks","renderPreview","cssClass","lowercaseMilk","getMilkProperties","handleReset","resetColors","EventSettings","Droplet","Square","Beaker","Candy","PenLine","EditItemForm","_categories$category2","onSave","onCancel","setFormData","additionalFields","handleSave","_categories$category","updatedData","InventoryManagement","_categories$activeCat","defaultItems","setInventory","activeCategory","setActiveCategory","editingItem","setEditingItem","setNewItem","showAddForm","setShowAddForm","baseItem","savedInventory","validated","initializeDefaultInventory","defaultInventory","categoryKey","saveInventory","getFilteredItems","getCategoryStats","addItem","updatedInventory","saveEdit","toggleItem","Edit3","deleteItem","Package2","Minus","EventStockManagement","eventStock","setEventStock","setHasChanges","saveMessage","setSaveMessage","categoryUnits","defaultQuantity","loadInventory","loadEventStock","initializeDefaultStock","defaultStock","_categoryUnits$catego","_categoryUnits$catego2","_categoryUnits$catego3","allocated","updateStockQuantity","newQuantity","_eventStock$category","_eventStock$category2","_eventStock$category3","getCategoryIcon","getCategoryColor","saveEventStock","_categoryUnits$catego4","summary","totalQuantity","totalAllocated","itemCount","totalAvailable","getCategorySummary","_categoryUnits$catego5","_categoryUnits$catego6","enabledItems","_eventStock$category4","MapPin","onStationUpdate","onAddStation","onDeleteStation","setStationData","isEditing","setIsEditing","setNewStation","saveStatus","setSaveStatus","handleDeleteStation","Circle","setStationConfigs","filterCategory","setFilterCategory","filterAvailability","setFilterAvailability","loadStationConfigs","savedConfigs","saveStationConfigs","configString","saveStationInventory","inventoryString","updateStationItemQuantity","stationIdStr","getStationConfig","setAllItemsInCategory","_inventory$category3","categoryItems","updatedConfig","updatedConfigs","getAllItems","allItems","_inventory$category4","categoryName","_stationConfig$item$c","isAvailable","totalItems","_inventory$category5","_config$category","copyConfigFromStation","fromStationId","toStationId","fromConfig","_inventory$categoryKe","availableCount","_config$categoryKey","_stationConfig$item$c2","currentQuantity","getStationItemQuantity","_stationInventory$sta","_stationInventory$sta2","_stationInventory$sta3","_stationInventory$sta4","_stationInventory$sta5","_stationInventory$sta6","fullInventory","categoryData","toggleItemForStation","_currentConfig$catego","isCurrentlyAvailable","_inventory$category2","removeItemFromStation","_updatedInventory$sta","_updatedInventory$sta2","ChevronLeft","PauseCircle","Lock","Unlock","PlayCircle","EnhancedScheduleManagement","_selectedSession$assi2","sessions","setSessions","baristas","setBaristas","setCurrentTime","selectedDate","setSelectedDate","showAddSession","setShowAddSession","showAssignBarista","setShowAssignBarista","selectedSession","setSelectedSession","sessionStatuses","setSessionStatuses","stationLocks","setStationLocks","preOrderWindows","setPreOrderWindows","emergencyOverride","setEmergencyOverride","timelineRef","loadBaristas","loadSessions","loadSessionStatuses","scrollPosition","savedLocks","baristasAndOrganizers","savedSessions","dateSessions","session","localeCompare","savedStatuses","saveSessions","newSessions","updatedSessions","updateSession","sessionId","deleteSession","updateSessionStatus","newStatuses","extendSessionTime","hours","mins","endDate","newEndTime","padStart","extended","extensionMinutes","sessionName","getCurrentAndUpcomingSessions","currentTimeStr","timelineHours","getTimelinePosition","timeStr","getSessionWidth","getSkillIcon","setDate","getDate","unlockedStations","activateEmergencyOverride","sessionStatus","isRunningLate","right","preOrderWindow","baristaPrep","isLocked","hasActiveBarista","_s$assignedBaristas","assignedBaristas","newLocks","locked","toggleStationLock","unlocked","_session$assignedBari","newWindows","_session$assignedBari2","assignment","updatedAssignments","newSession","createSession","assignedAt","specialization","_selectedSession$assi","isAssigned","Info","MENU_VERSION","defaultCoffeeMenu","requiresMilk","milkRatio","waterRatio","price","instructions","customizable","extraShot","decaf","strength","foamThickness","chocolate","temperature","syrup","requiresExtra","chocolateRatio","whippedCream","iceCreamScoops","liqueur","marshmallows","turmericRatio","honey","ginger","cinnamon","chaiRatio","dirtyOption","matchaGrams","sweetener","coffeeRatio","coldBrewRatio","ice","iceRatio","lessIce","foamRatio","categoryConfig","MenuManagement","_menuItems$showAddSiz","_menuItems$showAddSiz2","_menuItems$showAddSiz3","setMenuItems","expandedItems","setExpandedItems","showAddDrink","setShowAddDrink","setAvailableCups","showAddSize","setShowAddSize","setGlobalMenuEnabled","loadMenu","loadAvailableCups","savedGlobalMenu","savedVersion","parsedMenu","drinkId","initializeDefaultMenu","menuWithStations","defaultCups","saveMenu","menu","updateDrinkDetails","updatedMenu","updateSizeDetails","sizeKey","restoreDefaultMenu","toggleGlobalMenu","getDrinksByCategory","filtered","matchesCategory","_categoryConfig$categ","_categoryConfig$categ2","drinks","toggleDrinkEnabled","deleteDrink","toggleSizeEnabled","deleteSizeFromDrink","fromEntries","_drink$stationAvailab","toggleStationAvailability","_menuItems$drinkId$st","option","addSizeToDrink","sizeData","newSize","drinkData","newDrink","defaultShots","addCustomDrink","OrganiserInterface","activeSection","setActiveSection","stationTab","setStationTab","sidebarOpen","setSidebarOpen","StationSettings","StationInventoryConfig","GroupOrdersTab","Organiser","ApiNotificationBanner","visible","setVisible","setStatus","authErrorRefreshNeeded","connectionStatus","checkStatus","handleAuthRecovered","handleRefreshOrders","buttonText","colorScheme","container","handleRefreshOrReconnect","fillRule","clipRule","DisplayScreen","setCurrentStation","setConfig","system_name","event_name","sms_number","sponsor","wait_time","header_color","custom_message","ready","setConnected","stationsResponse","loadOrdersForStation","formattedOrders","displayPhone","refreshInterval","handleBackClick","handleStationChange","Loader","DisplaySelector","goToDisplayForStation","goBack","Terminal","Crown","SMSTestSimulator","testConfig","setTestConfig","customerPhone","isVIP","isGroupOrder","groupSize","language","testDateTime","getFullYear","getMonth","simulateDelay","delaySeconds","testStockLevels","selectedStations","queueLength","testResults","setTestResults","stages","currentStage","isRunning","availableMilk","setAvailableMilk","smsSettings","setSmsSettings","loadTestData","stationsData","_inv$milk","inv","addTestStage","stage","details","buildSMSContent","parseSMSOrder","smsContent","isGroup","parsedAt","checkStockAvailability","stockLevel","hasStock","warnings","assignStation","isMaintenance","assigned","estimatedPrepTime","createTestOrder","parsedOrder","estimatedCompletionTime","buildConfirmationSMS","fr","calculateQueueInfo","baseWait","adjustedWait","opening","normal","peak","closing","rushStatus","loyaltyPoints","stockStatus","stationAssignment","confirmationSMS","notificationType","queueInfo","localDate","MetricCard","trendUp","QuickActionButton","red","blue","yellow","green","DashboardTab","activeOrders","systemUptime","setAlerts","Server","Database","HardDrive","Cpu","OverviewCard","healthy","ComponentCard","onRestart","ResourceMeter","purple","HealthEvent","typeIcons","SystemHealthTab","components","setComponents","autoRefresh","setAutoRefresh","lastUpdate","setLastUpdate","checkSystemHealth","handleRestart","componentId","TestTube","StatCard","ConfigField","sensitive","editable","SmsRow","sms","direction","TemplateCard","CommunicationsTab","twilioConfig","setTwilioConfig","accountSid","authToken","messagingServiceSid","balance","monthlyMessages","testSmsForm","setTestSmsForm","messageTemplates","setMessageTemplates","recentSms","setRecentSms","handleTestSms","handleUpdateTwilioConfig","Card","CardHeader","CardTitle","CardContent","variants","destructive","outline","secondary","ghost","sm","Button","variant","Badge","Switch","onCheckedChange","Input","Textarea","RotateCw","StationMenuAssignment","stationMenus","setStationMenus","expandedStations","setExpandedStations","savedAssignments","initialAssignments","_menuItems$itemId","toggleAllItems","_menuItems$itemId3","getStationCapabilities","getEnabledCount","stationMenu","cupSizeLabels","toggleStation","getCategoryDrinks","_stationMenus$station","_stationMenus$station2","_stationMenus$station3","_stationMenus$station4","isEnabled","toggleMenuItem","_menuItems$itemId2","sizeConfig","isSelected","toggleSize","_updated$stationId","currentSizes","ApiServiceClass","OperationsTab","orderQueue","setOrderQueue","systemMode","setSystemMode","eventSettings","setEventSettings","vipEnabled","groupOrdersEnabled","walkInEnabled","maxOrderSize","announcement","setAnnouncement","loadOperationalData","orderError","settingsError","handleStationAction","updateEventSetting","setting","queue_count","current_order","is_vip","order_type","Key","UserX","UserCheck","UsersAccessTab","setFilteredUsers","roles","setRoles","setNewUser","filterUsers","_user$email","exportUsers","csv","last_login","row","blob","Blob","createObjectURL","download","newPassword","handleResetPassword","currentStatus","toggleUserStatus","ConfigurationTab","logoUrl","orderConfirmationMessage","orderReadyMessage","autoLogoutMinutes","maxOrdersPerCustomer","orderTimeout","enableSounds","enableNotifications","defaultCoffeeType","defaultMilkType","twilioPhoneNumber","smsEnabled","smsPrefix","maxSmsLength","unsavedChanges","setUnsavedChanges","loadConfiguration","handleConfigChange","section","handleArrayChange","addArrayItem","removeArrayItem","exportConfiguration","resetConfiguration","Bug","DiagnosticsTab","diagnostics","setDiagnostics","api","database","websocket","network","logs","setLogs","apiResponseTime","dbQueryTime","memoryUsage","cpuUsage","runningTest","setRunningTest","selectedTest","setSelectedTest","runDiagnostics","loadSystemLogs","updatePerformanceMetrics","responseTime","dbCheck","WebSocket","smsCheck","storageUsed","storageStatus","onLine","getStatusBadge","checking","passed","failed","service","testType","runSystemTest","downloadLogs","logContent","revokeObjectURL","StopCircle","Power","EmergencyTab","setEmergencyMode","systemLocked","setSystemLocked","confirmations","setConfirmations","actionLog","setActionLog","backupStatus","setBackupStatus","requireConfirmation","confirmKey","logAction","resumeOperations","stopAllOperations","unlockSystem","lockSystem","clearAllQueues","resetAllStations","purgeOldData","olderThan","resetDatabase","filename","backup","confirmation","executeAction","cancelConfirmation","SupportInterface","systemHealth","setSystemHealth","appVersion","tabs","activeTabInfo","ActiveComponent","Icon","OfflineDataHelper","prepareOfflineData","isFallbackModeEnabled","enableFallbackMode","disableFallbackMode","getFallbackOrders","saveFallbackOrders","hasValidTokenSubject","fixTokenSubjectIfNeeded","onLoginSuccess","setUsername","setPassword","showFallbackOption","setShowFallbackOption","tokenError","setTokenError","getRedirectPath","_location$state","validationResult","checkTokenValidity","handleEnableFallback","autoComplete","requiredRoles","authState","setAuthState","isChecking","hasRequiredRole","currentUser","UnauthorizedPage","getLandingPage","handleGoBack","logError","componentName","userAgent","retryCount","existingErrors","errorTrackingService","handleDismiss","handleRetry","hasError","handleReload","_this$state$error","fallbackComponent","FallbackComponent","showErrorDetails","onRetry","customer","addOrder","ApiTestComponent","apiStatus","onFallbackToggle","setConnectionStatus","fallbackEnabled","isCheckingAuth","setIsCheckingAuth","setApiStatus","handleFallbackEnabled","handleOffline","handleOnline","AbortSignal","handleFallbackDisabled","useFallback","purgeHardcodedData","testApiForAuth","responseData","_responseData","errorMsg","_responseData2","tokenParts","authenticated","handleStorageChange","LoginPage","AuthGuard","BasicBaristaInterface","ReactDOM","getElementById","App"],"sourceRoot":""}